"use strict";
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["common"], {
    9022: (C, c, n) => {
        n.d(c, {A: () => a});
        var t = n(4650), h = n(4006);
        let a = (() => {
            class s {
                onChange(e) {
                    this._onChange(e.checked ? this.appendValue() : this.removeValue())
                }

                constructor(e, u, l) {
                    this._controlContainer = e, this._renderer = u, this._elementRef = l, this._onChange = f => {
                    }, this._onTouched = () => {
                    }
                }

                previousValue() {
                    var e, u, l;
                    return null !== (l = null === (u = null === (e = this._controlContainer.control) || void 0 === e ? void 0 : e.get(this.formControlName)) || void 0 === u ? void 0 : u.value) && void 0 !== l ? l : []
                }

                removeValue() {
                    return [...this.previousValue().filter(e => e !== this.value)]
                }

                appendValue() {
                    return [...this.previousValue(), this.value]
                }

                registerOnChange(e) {
                    this._onChange = e
                }

                registerOnTouched(e) {
                    this._onTouched = e
                }

                writeValue(e) {
                    null != e && this._renderer.setProperty(this._elementRef.nativeElement, "checked", e.includes(this.value))
                }
            }

            return s.\u0275fac = function (e) {
                return new (e || s)(t.Y36(h.gN), t.Y36(t.Qsj), t.Y36(t.SBq))
            }, s.\u0275dir = t.lG2({
                type: s,
                selectors: [["input", "type", "checkbox", "value", "", "formControlName", "", "appCheckboxArray", ""]],
                hostBindings: function (e, u) {
                    1 & e && t.NdJ("change", function (f) {
                        return u.onChange(f.target)
                    })
                },
                inputs: {value: "value", formControlName: "formControlName"},
                features: [t._Bn([{provide: h.JU, useExisting: (0, t.Gpc)(() => s), multi: !0}])]
            }), s
        })()
    }, 5527: (C, c, n) => {
        n.d(c, {g: () => V});
        var t = n(4049), h = n(7272), a = n(5698), s = n(4482), v = n(5403), e = n(5032), l = n(9718), f = n(5577),
            y = n(8421);

        function p(o, r) {
            return r ? i => (0, h.z)(r.pipe((0, a.q)(1), function u() {
                return (0, s.e)((o, r) => {
                    o.subscribe((0, v.x)(r, e.Z))
                })
            }()), i.pipe(p(o))) : (0, f.z)((i, d) => (0, y.Xf)(o(i, d)).pipe((0, a.q)(1), (0, l.h)(i)))
        }

        var A = n(9751), x = n(3532);

        function V(o, r = t.z) {
            const i = function E(o = 0, r, i = t.P) {
                let d = -1;
                return null != r && ((0, x.K)(r) ? i = r : d = r), new A.y(m => {
                    let g = function D(o) {
                        return o instanceof Date && !isNaN(o)
                    }(o) ? +o - i.now() : o;
                    g < 0 && (g = 0);
                    let N = 0;
                    return i.schedule(function () {
                        m.closed || (m.next(N++), 0 <= d ? this.schedule(void 0, d) : m.complete())
                    }, g)
                })
            }(o, r);
            return p(() => i)
        }
    }, 5797: (C, c, n) => {
        n.d(c, {k: () => h});
        const {isArray: t} = Array;

        function h(a) {
            return 1 === a.length && t(a[0]) ? a[0] : a
        }
    }
}]);
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["default-projects_client-application_src_features_core_components_collapse_collapse_component_-1d978e"], {
    4394: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {W: () => Ht});
        var st = Ke(7340), Wt = Ke(1135), le = Ke(4004), h = Ke(4650), ft = Ke(6895);
        const yt = ["control", ""], Dt = ["*"];
        let Ht = (() => {
            class Ze {
                constructor() {
                    this._state$ = new Wt.X("collapsed"), this.state$ = this._state$.asObservable(), this.isCollapsed$ = this.state$.pipe((0, le.U)(ot => "collapsed" === ot)), this.isExpanded$ = this.state$.pipe((0, le.U)(ot => "expanded" === ot))
                }

                set state(ot) {
                    this._state$.next(ot)
                }

                toggle() {
                    this._state$.next("expanded" === this._state$.value ? "collapsed" : "expanded")
                }
            }

            return Ze.\u0275fac = function (ot) {
                return new (ot || Ze)
            }, Ze.\u0275cmp = h.Xpm({
                type: Ze,
                selectors: [["app-collapse", "control", ""]],
                inputs: {state: "state", control: "control"},
                attrs: yt,
                ngContentSelectors: Dt,
                decls: 3,
                vars: 4,
                consts: [[3, "id"]],
                template: function (ot, Kt) {
                    1 & ot && (h.F$t(), h.TgZ(0, "div", 0), h.ALo(1, "async"), h.Hsn(2), h.qZA()), 2 & ot && h.Q6J("@collapse", h.lcZ(1, 2, Kt.state$))("id", Kt.control.getAttribute("aria-controls"))
                },
                dependencies: [ft.Ov],
                encapsulation: 2,
                data: {
                    animation: [(0, st.X$)("collapse", [(0, st.SB)("collapsed", (0, st.oB)({
                        height: "0px",
                        overflow: "hidden",
                        visibility: "hidden"
                    })), (0, st.SB)("expanded", (0, st.oB)({height: "*"})), (0, st.eR)("collapsed <=> expanded", (0, st.jt)(".2s ease-in"))])]
                },
                changeDetection: 0
            }), Ze
        })()
    }, 5102: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {b: () => le});
        var st = Ke(6895), Wt = Ke(4650);
        let le = (() => {
            class h {
            }

            return h.\u0275fac = function (yt) {
                return new (yt || h)
            }, h.\u0275mod = Wt.oAB({type: h}), h.\u0275inj = Wt.cJS({imports: [st.ez]}), h
        })()
    }, 6114: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {S: () => Wt});
        var st = Ke(4650);
        let Wt = (() => {
            class le {
            }

            return le.\u0275fac = function (ft) {
                return new (ft || le)
            }, le.\u0275mod = st.oAB({type: le}), le.\u0275inj = st.cJS({}), le
        })()
    }, 1978: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {w: () => Wt});
        var st = Ke(4650);
        let Wt = (() => {
            class le {
                transform(ft) {
                    return ft > 1e3 ? (ft / 1e3).toFixed(1).toString() + " km" : ft.toFixed(0) + " m"
                }
            }

            return le.\u0275fac = function (ft) {
                return new (ft || le)
            }, le.\u0275pipe = st.Yjl({name: "distance", type: le, pure: !0}), le
        })()
    }, 5070: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {Z: () => Wt});
        var st = Ke(4650);
        let Wt = (() => {
            class le {
            }

            return le.\u0275fac = function (ft) {
                return new (ft || le)
            }, le.\u0275mod = st.oAB({type: le}), le.\u0275inj = st.cJS({}), le
        })()
    }, 8842: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {E: () => ft});
        var st = Ke(4650);
        const Wt = yt => {
            var Dt;
            return null !== (Dt = yt.match(/..?/g)) && void 0 !== Dt ? Dt : []
        }, le = yt => yt.slice(0, -9), h = yt => {
            const Dt = yt.slice(0, -8);
            return Dt[Dt.length - 1]
        };
        let ft = (() => {
            class yt {
                transform(Ht) {
                    const [Ze, ie] = Ht.split(/^\+(?:33|59\d|26\d)\d/);
                    return ie ? [le(Ht), h(Ht), ...Wt(ie)].join(" ") : Ht
                }
            }

            return yt.\u0275fac = function (Ht) {
                return new (Ht || yt)
            }, yt.\u0275pipe = st.Yjl({name: "phone", type: yt, pure: !0}), yt
        })()
    }, 8976: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {a: () => Ht});
        var st = Ke(4650), Wt = Ke(4931), le = Ke(7116);
        const h = ["content"], ft = ["fragment", ""];

        function yt(Ze, ie) {
            1 & Ze && st.Hsn(0)
        }

        const Dt = ["*"];
        let Ht = (() => {
            class Ze {
                constructor(ot, Kt) {
                    this._route = ot, this._skipLinkPresenter = Kt
                }

                ngAfterViewInit() {
                    this._skipLinkPresenter.set(this, {
                        fragment: this.fragment,
                        content: this.content,
                        route: this._route
                    })
                }

                ngOnDestroy() {
                    this._skipLinkPresenter.delete(this)
                }
            }

            return Ze.\u0275fac = function (ot) {
                return new (ot || Ze)(st.Y36(Wt.gz), st.Y36(le.L))
            }, Ze.\u0275cmp = st.Xpm({
                type: Ze,
                selectors: [["app-skip-link", "fragment", ""]],
                viewQuery: function (ot, Kt) {
                    if (1 & ot && st.Gf(h, 5), 2 & ot) {
                        let hi;
                        st.iGM(hi = st.CRH()) && (Kt.content = hi.first)
                    }
                },
                inputs: {fragment: "fragment"},
                attrs: ft,
                ngContentSelectors: Dt,
                decls: 2,
                vars: 0,
                consts: [["content", ""]],
                template: function (ot, Kt) {
                    1 & ot && (st.F$t(), st.YNc(0, yt, 1, 0, "ng-template", null, 0, st.W1O))
                },
                encapsulation: 2,
                changeDetection: 0
            }), Ze
        })()
    }, 1943: function (Lr) {
        Lr.exports = function () {
            "use strict";
            var Gt, Ke, st;

            function Wt(h, ft) {
                if (Gt) if (Ke) {
                    var yt = "var sharedChunk = {}; (" + Gt + ")(sharedChunk); (" + Ke + ")(sharedChunk);", Dt = {};
                    Gt(Dt), st = ft(Dt), typeof window < "u" && (st.workerUrl = window.URL.createObjectURL(new Blob([yt], {type: "text/javascript"})))
                } else Ke = ft; else Gt = ft
            }

            return Wt(0, function (h) {
                var ft = yt;

                function yt(i, e, r, s) {
                    this.cx = 3 * i, this.bx = 3 * (r - i) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * e, this.by = 3 * (s - e) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = i, this.p1y = e, this.p2x = r, this.p2y = s
                }

                function Dt(i, e, r, s) {
                    const c = new ft(i, e, r, s);
                    return function (u) {
                        return c.solve(u)
                    }
                }

                yt.prototype = {
                    sampleCurveX: function (i) {
                        return ((this.ax * i + this.bx) * i + this.cx) * i
                    }, sampleCurveY: function (i) {
                        return ((this.ay * i + this.by) * i + this.cy) * i
                    }, sampleCurveDerivativeX: function (i) {
                        return (3 * this.ax * i + 2 * this.bx) * i + this.cx
                    }, solveCurveX: function (i, e) {
                        if (void 0 === e && (e = 1e-6), i < 0) return 0;
                        if (i > 1) return 1;
                        for (var r = i, s = 0; s < 8; s++) {
                            var c = this.sampleCurveX(r) - i;
                            if (Math.abs(c) < e) return r;
                            var u = this.sampleCurveDerivativeX(r);
                            if (Math.abs(u) < 1e-6) break;
                            r -= c / u
                        }
                        var d = 0, f = 1;
                        for (r = i, s = 0; s < 20 && (c = this.sampleCurveX(r), !(Math.abs(c - i) < e)); s++) i > c ? d = r : f = r, r = .5 * (f - d) + d;
                        return r
                    }, solve: function (i, e) {
                        return this.sampleCurveY(this.solveCurveX(i, e))
                    }
                };
                const Ht = Dt(.25, .1, .25, 1);

                function Ze(i, e, r) {
                    return Math.min(r, Math.max(e, i))
                }

                function ie(i, e, r) {
                    const s = r - e, c = ((i - e) % s + s) % s + e;
                    return c === e ? r : c
                }

                function ot(i, ...e) {
                    for (const r of e) for (const s in r) i[s] = r[s];
                    return i
                }

                let Kt = 1;

                function hi(i, e) {
                    i.forEach(r => {
                        e[r] && (e[r] = e[r].bind(e))
                    })
                }

                function ar(i, e, r) {
                    const s = {};
                    for (const c in i) s[c] = e.call(r || this, i[c], c, i);
                    return s
                }

                function _r(i, e, r) {
                    const s = {};
                    for (const c in i) e.call(r || this, i[c], c, i) && (s[c] = i[c]);
                    return s
                }

                function ui(i) {
                    return Array.isArray(i) ? i.map(ui) : "object" == typeof i && i ? ar(i, ui) : i
                }

                const yr = {};

                function at(i) {
                    yr[i] || (typeof console < "u" && console.warn(i), yr[i] = !0)
                }

                function Et(i, e, r) {
                    return (r.y - i.y) * (e.x - i.x) > (e.y - i.y) * (r.x - i.x)
                }

                function zn(i) {
                    let e = 0;
                    for (let r, s, c = 0, u = i.length, d = u - 1; c < u; d = c++) r = i[c], s = i[d], e += (s.x - r.x) * (r.y + s.y);
                    return e
                }

                function pi() {
                    return typeof WorkerGlobalScope < "u" && typeof self < "u" && self instanceof WorkerGlobalScope
                }

                let Rr = null;

                function Qi(i) {
                    if (null == Rr) {
                        const e = i.navigator ? i.navigator.userAgent : null;
                        Rr = !!i.safari || !(!e || !(/\b(iPad|iPhone|iPod)\b/.test(e) || e.match("Safari") && !e.match("Chrome")))
                    }
                    return Rr
                }

                function er(i) {
                    return typeof ImageBitmap < "u" && i instanceof ImageBitmap
                }

                const nn = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";
                let Gi, St;
                const kn = {
                    now: typeof performance < "u" && performance && performance.now ? performance.now.bind(performance) : Date.now.bind(Date),
                    frame(i) {
                        const e = requestAnimationFrame(i);
                        return {cancel: () => cancelAnimationFrame(e)}
                    },
                    getImageData(i, e = 0) {
                        return this.getImageCanvasContext(i).getImageData(-e, -e, i.width + 2 * e, i.height + 2 * e)
                    },
                    getImageCanvasContext(i) {
                        const e = window.document.createElement("canvas"),
                            r = e.getContext("2d", {willReadFrequently: !0});
                        if (!r) throw new Error("failed to create canvas 2d context");
                        return e.width = i.width, e.height = i.height, r.drawImage(i, 0, 0, i.width, i.height), r
                    },
                    resolveURL: i => (Gi || (Gi = document.createElement("a")), Gi.href = i, Gi.href),
                    hardwareConcurrency: typeof navigator < "u" && navigator.hardwareConcurrency || 4,
                    get prefersReducedMotion() {
                        return !!matchMedia && (null == St && (St = matchMedia("(prefers-reduced-motion: reduce)")), St.matches)
                    }
                };
                var Xe = Ii;

                function Ii(i, e) {
                    this.x = i, this.y = e
                }

                Ii.prototype = {
                    clone: function () {
                        return new Ii(this.x, this.y)
                    }, add: function (i) {
                        return this.clone()._add(i)
                    }, sub: function (i) {
                        return this.clone()._sub(i)
                    }, multByPoint: function (i) {
                        return this.clone()._multByPoint(i)
                    }, divByPoint: function (i) {
                        return this.clone()._divByPoint(i)
                    }, mult: function (i) {
                        return this.clone()._mult(i)
                    }, div: function (i) {
                        return this.clone()._div(i)
                    }, rotate: function (i) {
                        return this.clone()._rotate(i)
                    }, rotateAround: function (i, e) {
                        return this.clone()._rotateAround(i, e)
                    }, matMult: function (i) {
                        return this.clone()._matMult(i)
                    }, unit: function () {
                        return this.clone()._unit()
                    }, perp: function () {
                        return this.clone()._perp()
                    }, round: function () {
                        return this.clone()._round()
                    }, mag: function () {
                        return Math.sqrt(this.x * this.x + this.y * this.y)
                    }, equals: function (i) {
                        return this.x === i.x && this.y === i.y
                    }, dist: function (i) {
                        return Math.sqrt(this.distSqr(i))
                    }, distSqr: function (i) {
                        var e = i.x - this.x, r = i.y - this.y;
                        return e * e + r * r
                    }, angle: function () {
                        return Math.atan2(this.y, this.x)
                    }, angleTo: function (i) {
                        return Math.atan2(this.y - i.y, this.x - i.x)
                    }, angleWith: function (i) {
                        return this.angleWithSep(i.x, i.y)
                    }, angleWithSep: function (i, e) {
                        return Math.atan2(this.x * e - this.y * i, this.x * i + this.y * e)
                    }, _matMult: function (i) {
                        var e = i[2] * this.x + i[3] * this.y;
                        return this.x = i[0] * this.x + i[1] * this.y, this.y = e, this
                    }, _add: function (i) {
                        return this.x += i.x, this.y += i.y, this
                    }, _sub: function (i) {
                        return this.x -= i.x, this.y -= i.y, this
                    }, _mult: function (i) {
                        return this.x *= i, this.y *= i, this
                    }, _div: function (i) {
                        return this.x /= i, this.y /= i, this
                    }, _multByPoint: function (i) {
                        return this.x *= i.x, this.y *= i.y, this
                    }, _divByPoint: function (i) {
                        return this.x /= i.x, this.y /= i.y, this
                    }, _unit: function () {
                        return this._div(this.mag()), this
                    }, _perp: function () {
                        var i = this.y;
                        return this.y = this.x, this.x = -i, this
                    }, _rotate: function (i) {
                        var e = Math.cos(i), r = Math.sin(i), s = r * this.x + e * this.y;
                        return this.x = e * this.x - r * this.y, this.y = s, this
                    }, _rotateAround: function (i, e) {
                        var r = Math.cos(i), s = Math.sin(i), c = e.y + s * (this.x - e.x) + r * (this.y - e.y);
                        return this.x = e.x + r * (this.x - e.x) - s * (this.y - e.y), this.y = c, this
                    }, _round: function () {
                        return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                    }
                }, Ii.convert = function (i) {
                    return i instanceof Ii ? i : Array.isArray(i) ? new Ii(i[0], i[1]) : i
                };
                const xr = {
                    MAX_PARALLEL_IMAGE_REQUESTS: 16,
                    MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME: 8,
                    REGISTERED_PROTOCOLS: {}
                };

                class tr extends Error {
                    constructor(e, r, s, c) {
                        super(`AJAXError: ${r} (${e}): ${s}`), this.status = e, this.statusText = r, this.url = s, this.body = c
                    }
                }

                const Ri = pi() ? () => self.worker && self.worker.referrer : () => ("blob:" === window.location.protocol ? window.parent : window).location.href;

                function Pn(i, e) {
                    const r = new AbortController, s = new Request(i.url, {
                        method: i.method || "GET",
                        body: i.body,
                        credentials: i.credentials,
                        headers: i.headers,
                        referrer: Ri(),
                        signal: r.signal
                    });
                    let c = !1, u = !1;
                    return "json" === i.type && s.headers.set("Accept", "application/json"), u || fetch(s).then(d => {
                        return d.ok ? (f = d, void ("arrayBuffer" === i.type ? f.arrayBuffer() : "json" === i.type ? f.json() : f.text()).then(_ => {
                            u || (c = !0, e(null, _, f.headers.get("Cache-Control"), f.headers.get("Expires")))
                        }).catch(_ => {
                            u || e(new Error(_.message))
                        })) : d.blob().then(f => e(new tr(d.status, d.statusText, i.url, f)));
                        var f
                    }).catch(d => {
                        20 !== d.code && e(new Error(d.message))
                    }), {
                        cancel: () => {
                            u = !0, c || r.abort()
                        }
                    }
                }

                const Br = function (i, e) {
                    if (/:\/\//.test(i.url) && !/^https?:|^file:/.test(i.url)) {
                        if (pi() && self.worker && self.worker.actor) return self.worker.actor.send("getResource", i, e);
                        if (!pi()) {
                            const s = i.url.substring(0, i.url.indexOf("://"));
                            return (xr.REGISTERED_PROTOCOLS[s] || Pn)(i, e)
                        }
                    }
                    if (!(/^file:/.test(r = i.url) || /^file:/.test(Ri()) && !/^\w+:/.test(r))) {
                        if (fetch && Request && AbortController && Object.prototype.hasOwnProperty.call(Request.prototype, "signal")) return Pn(i, e);
                        if (pi() && self.worker && self.worker.actor) return self.worker.actor.send("getResource", i, e, void 0, !0)
                    }
                    var r;
                    return function (s, c) {
                        const u = new XMLHttpRequest;
                        u.open(s.method || "GET", s.url, !0), "arrayBuffer" === s.type && (u.responseType = "arraybuffer");
                        for (const d in s.headers) u.setRequestHeader(d, s.headers[d]);
                        return "json" === s.type && (u.responseType = "text", u.setRequestHeader("Accept", "application/json")), u.withCredentials = "include" === s.credentials, u.onerror = () => {
                            c(new Error(u.statusText))
                        }, u.onload = () => {
                            if ((u.status >= 200 && u.status < 300 || 0 === u.status) && null !== u.response) {
                                let d = u.response;
                                if ("json" === s.type) try {
                                    d = JSON.parse(u.response)
                                } catch (f) {
                                    return c(f)
                                }
                                c(null, d, u.getResponseHeader("Cache-Control"), u.getResponseHeader("Expires"))
                            } else {
                                const d = new Blob([u.response], {type: u.getResponseHeader("Content-Type")});
                                c(new tr(u.status, u.statusText, s.url, d))
                            }
                        }, u.send(s.body), {cancel: () => u.abort()}
                    }(i, e)
                }, vr = function (i, e) {
                    return Br(ot(i, {type: "arrayBuffer"}), e)
                };

                function sn(i) {
                    const e = window.document.createElement("a");
                    return e.href = i, e.protocol === window.document.location.protocol && e.host === window.document.location.host
                }

                function lr(i, e, r) {
                    r[i] && -1 !== r[i].indexOf(e) || (r[i] = r[i] || [], r[i].push(e))
                }

                function Fr(i, e, r) {
                    if (r && r[i]) {
                        const s = r[i].indexOf(e);
                        -1 !== s && r[i].splice(s, 1)
                    }
                }

                class br {
                    constructor(e, r = {}) {
                        ot(this, r), this.type = e
                    }
                }

                class wr extends br {
                    constructor(e, r = {}) {
                        super("error", ot({error: e}, r))
                    }
                }

                class cr {
                    on(e, r) {
                        return this._listeners = this._listeners || {}, lr(e, r, this._listeners), this
                    }

                    off(e, r) {
                        return Fr(e, r, this._listeners), Fr(e, r, this._oneTimeListeners), this
                    }

                    once(e, r) {
                        return r ? (this._oneTimeListeners = this._oneTimeListeners || {}, lr(e, r, this._oneTimeListeners), this) : new Promise(s => this.once(e, s))
                    }

                    fire(e, r) {
                        "string" == typeof e && (e = new br(e, r || {}));
                        const s = e.type;
                        if (this.listens(s)) {
                            e.target = this;
                            const c = this._listeners && this._listeners[s] ? this._listeners[s].slice() : [];
                            for (const f of c) f.call(this, e);
                            const u = this._oneTimeListeners && this._oneTimeListeners[s] ? this._oneTimeListeners[s].slice() : [];
                            for (const f of u) Fr(s, f, this._oneTimeListeners), f.call(this, e);
                            const d = this._eventedParent;
                            d && (ot(e, "function" == typeof this._eventedParentData ? this._eventedParentData() : this._eventedParentData), d.fire(e))
                        } else e instanceof wr && console.error(e.error);
                        return this
                    }

                    listens(e) {
                        return this._listeners && this._listeners[e] && this._listeners[e].length > 0 || this._oneTimeListeners && this._oneTimeListeners[e] && this._oneTimeListeners[e].length > 0 || this._eventedParent && this._eventedParent.listens(e)
                    }

                    setEventedParent(e, r) {
                        return this._eventedParent = e, this._eventedParentData = r, this
                    }
                }

                var se = {
                    $version: 8,
                    $root: {
                        version: {required: !0, type: "enum", values: [8]},
                        name: {type: "string"},
                        metadata: {type: "*"},
                        center: {type: "array", value: "number"},
                        zoom: {type: "number"},
                        bearing: {type: "number", default: 0, period: 360, units: "degrees"},
                        pitch: {type: "number", default: 0, units: "degrees"},
                        light: {type: "light"},
                        terrain: {type: "terrain"},
                        sources: {required: !0, type: "sources"},
                        sprite: {type: "sprite"},
                        glyphs: {type: "string"},
                        transition: {type: "transition"},
                        layers: {required: !0, type: "array", value: "layer"}
                    },
                    sources: {"*": {type: "source"}},
                    source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"],
                    source_vector: {
                        type: {required: !0, type: "enum", values: {vector: {}}},
                        url: {type: "string"},
                        tiles: {type: "array", value: "string"},
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        scheme: {type: "enum", values: {xyz: {}, tms: {}}, default: "xyz"},
                        minzoom: {type: "number", default: 0},
                        maxzoom: {type: "number", default: 22},
                        attribution: {type: "string"},
                        promoteId: {type: "promoteId"},
                        volatile: {type: "boolean", default: !1},
                        "*": {type: "*"}
                    },
                    source_raster: {
                        type: {required: !0, type: "enum", values: {raster: {}}},
                        url: {type: "string"},
                        tiles: {type: "array", value: "string"},
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        minzoom: {type: "number", default: 0},
                        maxzoom: {type: "number", default: 22},
                        tileSize: {type: "number", default: 512, units: "pixels"},
                        scheme: {type: "enum", values: {xyz: {}, tms: {}}, default: "xyz"},
                        attribution: {type: "string"},
                        volatile: {type: "boolean", default: !1},
                        "*": {type: "*"}
                    },
                    source_raster_dem: {
                        type: {required: !0, type: "enum", values: {"raster-dem": {}}},
                        url: {type: "string"},
                        tiles: {type: "array", value: "string"},
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        minzoom: {type: "number", default: 0},
                        maxzoom: {type: "number", default: 22},
                        tileSize: {type: "number", default: 512, units: "pixels"},
                        attribution: {type: "string"},
                        encoding: {type: "enum", values: {terrarium: {}, mapbox: {}}, default: "mapbox"},
                        volatile: {type: "boolean", default: !1},
                        "*": {type: "*"}
                    },
                    source_geojson: {
                        type: {required: !0, type: "enum", values: {geojson: {}}},
                        data: {required: !0, type: "*"},
                        maxzoom: {type: "number", default: 18},
                        attribution: {type: "string"},
                        buffer: {type: "number", default: 128, maximum: 512, minimum: 0},
                        filter: {type: "*"},
                        tolerance: {type: "number", default: .375},
                        cluster: {type: "boolean", default: !1},
                        clusterRadius: {type: "number", default: 50, minimum: 0},
                        clusterMaxZoom: {type: "number"},
                        clusterMinPoints: {type: "number"},
                        clusterProperties: {type: "*"},
                        lineMetrics: {type: "boolean", default: !1},
                        generateId: {type: "boolean", default: !1},
                        promoteId: {type: "promoteId"}
                    },
                    source_video: {
                        type: {required: !0, type: "enum", values: {video: {}}},
                        urls: {required: !0, type: "array", value: "string"},
                        coordinates: {
                            required: !0,
                            type: "array",
                            length: 4,
                            value: {type: "array", length: 2, value: "number"}
                        }
                    },
                    source_image: {
                        type: {required: !0, type: "enum", values: {image: {}}},
                        url: {required: !0, type: "string"},
                        coordinates: {
                            required: !0,
                            type: "array",
                            length: 4,
                            value: {type: "array", length: 2, value: "number"}
                        }
                    },
                    layer: {
                        id: {type: "string", required: !0},
                        type: {
                            type: "enum",
                            values: {
                                fill: {},
                                line: {},
                                symbol: {},
                                circle: {},
                                heatmap: {},
                                "fill-extrusion": {},
                                raster: {},
                                hillshade: {},
                                background: {}
                            },
                            required: !0
                        },
                        metadata: {type: "*"},
                        source: {type: "string"},
                        "source-layer": {type: "string"},
                        minzoom: {type: "number", minimum: 0, maximum: 24},
                        maxzoom: {type: "number", minimum: 0, maximum: 24},
                        filter: {type: "filter"},
                        layout: {type: "layout"},
                        paint: {type: "paint"}
                    },
                    layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background"],
                    layout_background: {
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_fill: {
                        "fill-sort-key": {
                            type: "number",
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_circle: {
                        "circle-sort-key": {
                            type: "number",
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_heatmap: {
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    "layout_fill-extrusion": {
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_line: {
                        "line-cap": {
                            type: "enum",
                            values: {butt: {}, round: {}, square: {}},
                            default: "butt",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "line-join": {
                            type: "enum",
                            values: {bevel: {}, round: {}, miter: {}},
                            default: "miter",
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "line-miter-limit": {
                            type: "number",
                            default: 2,
                            requires: [{"line-join": "miter"}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "line-round-limit": {
                            type: "number",
                            default: 1.05,
                            requires: [{"line-join": "round"}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "line-sort-key": {
                            type: "number",
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_symbol: {
                        "symbol-placement": {
                            type: "enum",
                            values: {point: {}, line: {}, "line-center": {}},
                            default: "point",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "symbol-spacing": {
                            type: "number",
                            default: 250,
                            minimum: 1,
                            units: "pixels",
                            requires: [{"symbol-placement": "line"}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "symbol-avoid-edges": {
                            type: "boolean",
                            default: !1,
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "symbol-sort-key": {
                            type: "number",
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "symbol-z-order": {
                            type: "enum",
                            values: {auto: {}, "viewport-y": {}, source: {}},
                            default: "auto",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-allow-overlap": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image", {"!": "icon-overlap"}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-overlap": {
                            type: "enum",
                            values: {never: {}, always: {}, cooperative: {}},
                            requires: ["icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-ignore-placement": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-optional": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image", "text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-rotation-alignment": {
                            type: "enum",
                            values: {map: {}, viewport: {}, auto: {}},
                            default: "auto",
                            requires: ["icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-size": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            units: "factor of the original icon size",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-text-fit": {
                            type: "enum",
                            values: {none: {}, width: {}, height: {}, both: {}},
                            default: "none",
                            requires: ["icon-image", "text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-text-fit-padding": {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [0, 0, 0, 0],
                            units: "pixels",
                            requires: ["icon-image", "text-field", {"icon-text-fit": ["both", "width", "height"]}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-image": {
                            type: "resolvedImage",
                            tokens: !0,
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            units: "degrees",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-padding": {
                            type: "padding",
                            default: [2],
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-keep-upright": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image", {"icon-rotation-alignment": "map"}, {"symbol-placement": ["line", "line-center"]}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-offset": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-anchor": {
                            type: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            default: "center",
                            requires: ["icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "icon-pitch-alignment": {
                            type: "enum",
                            values: {map: {}, viewport: {}, auto: {}},
                            default: "auto",
                            requires: ["icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-pitch-alignment": {
                            type: "enum",
                            values: {map: {}, viewport: {}, auto: {}},
                            default: "auto",
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-rotation-alignment": {
                            type: "enum",
                            values: {map: {}, viewport: {}, "viewport-glyph": {}, auto: {}},
                            default: "auto",
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-field": {
                            type: "formatted",
                            default: "",
                            tokens: !0,
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-font": {
                            type: "array",
                            value: "string",
                            default: ["Open Sans Regular", "Arial Unicode MS Regular"],
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-size": {
                            type: "number",
                            default: 16,
                            minimum: 0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-max-width": {
                            type: "number",
                            default: 10,
                            minimum: 0,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-line-height": {
                            type: "number",
                            default: 1.2,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-letter-spacing": {
                            type: "number",
                            default: 0,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-justify": {
                            type: "enum",
                            values: {auto: {}, left: {}, center: {}, right: {}},
                            default: "center",
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-radial-offset": {
                            type: "number",
                            units: "ems",
                            default: 0,
                            requires: ["text-field"],
                            "property-type": "data-driven",
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]}
                        },
                        "text-variable-anchor": {
                            type: "array",
                            value: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            requires: ["text-field", {"symbol-placement": ["point"]}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-anchor": {
                            type: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            default: "center",
                            requires: ["text-field", {"!": "text-variable-anchor"}],
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-max-angle": {
                            type: "number",
                            default: 45,
                            units: "degrees",
                            requires: ["text-field", {"symbol-placement": ["line", "line-center"]}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-writing-mode": {
                            type: "array",
                            value: "enum",
                            values: {horizontal: {}, vertical: {}},
                            requires: ["text-field", {"symbol-placement": ["point"]}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            units: "degrees",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-padding": {
                            type: "number",
                            default: 2,
                            minimum: 0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-keep-upright": {
                            type: "boolean",
                            default: !0,
                            requires: ["text-field", {"text-rotation-alignment": "map"}, {"symbol-placement": ["line", "line-center"]}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-transform": {
                            type: "enum",
                            values: {none: {}, uppercase: {}, lowercase: {}},
                            default: "none",
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-offset": {
                            type: "array",
                            value: "number",
                            units: "ems",
                            length: 2,
                            default: [0, 0],
                            requires: ["text-field", {"!": "text-radial-offset"}],
                            expression: {interpolated: !0, parameters: ["zoom", "feature"]},
                            "property-type": "data-driven"
                        },
                        "text-allow-overlap": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field", {"!": "text-overlap"}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-overlap": {
                            type: "enum",
                            values: {never: {}, always: {}, cooperative: {}},
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-ignore-placement": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-optional": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field", "icon-image"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_raster: {
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_hillshade: {
                        visibility: {
                            type: "enum",
                            values: {visible: {}, none: {}},
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    filter: {type: "array", value: "*"},
                    filter_operator: {
                        type: "enum",
                        values: {
                            "==": {},
                            "!=": {},
                            ">": {},
                            ">=": {},
                            "<": {},
                            "<=": {},
                            in: {},
                            "!in": {},
                            all: {},
                            any: {},
                            none: {},
                            has: {},
                            "!has": {},
                            within: {}
                        }
                    },
                    geometry_type: {type: "enum", values: {Point: {}, LineString: {}, Polygon: {}}},
                    function: {
                        expression: {type: "expression"},
                        stops: {type: "array", value: "function_stop"},
                        base: {type: "number", default: 1, minimum: 0},
                        property: {type: "string", default: "$zoom"},
                        type: {
                            type: "enum",
                            values: {identity: {}, exponential: {}, interval: {}, categorical: {}},
                            default: "exponential"
                        },
                        colorSpace: {type: "enum", values: {rgb: {}, lab: {}, hcl: {}}, default: "rgb"},
                        default: {type: "*", required: !1}
                    },
                    function_stop: {type: "array", minimum: 0, maximum: 24, value: ["number", "color"], length: 2},
                    expression: {type: "array", value: "*", minimum: 1},
                    light: {
                        anchor: {
                            type: "enum",
                            default: "viewport",
                            values: {map: {}, viewport: {}},
                            "property-type": "data-constant",
                            transition: !1,
                            expression: {interpolated: !1, parameters: ["zoom"]}
                        },
                        position: {
                            type: "array",
                            default: [1.15, 210, 30],
                            length: 3,
                            value: "number",
                            "property-type": "data-constant",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]}
                        },
                        color: {
                            type: "color",
                            "property-type": "data-constant",
                            default: "#ffffff",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            transition: !0
                        },
                        intensity: {
                            type: "number",
                            "property-type": "data-constant",
                            default: .5,
                            minimum: 0,
                            maximum: 1,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            transition: !0
                        }
                    },
                    terrain: {
                        source: {type: "string", required: !0},
                        exaggeration: {type: "number", minimum: 0, default: 1}
                    },
                    paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background"],
                    paint_fill: {
                        "fill-antialias": {
                            type: "boolean",
                            default: !0,
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{"!": "fill-pattern"}],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-outline-color": {
                            type: "color",
                            transition: !0,
                            requires: [{"!": "fill-pattern"}, {"fill-antialias": !0}],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["fill-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "cross-faded-data-driven"
                        }
                    },
                    "paint_fill-extrusion": {
                        "fill-extrusion-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{"!": "fill-extrusion-pattern"}],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["fill-extrusion-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "cross-faded-data-driven"
                        },
                        "fill-extrusion-height": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            units: "meters",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-base": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            units: "meters",
                            transition: !0,
                            requires: ["fill-extrusion-height"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-vertical-gradient": {
                            type: "boolean",
                            default: !0,
                            transition: !1,
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    paint_line: {
                        "line-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{"!": "line-pattern"}],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "line-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["line-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "line-width": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-gap-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-offset": {
                            type: "number",
                            default: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "line-dasharray": {
                            type: "array",
                            value: "number",
                            minimum: 0,
                            transition: !0,
                            units: "line widths",
                            requires: [{"!": "line-pattern"}],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "cross-faded"
                        },
                        "line-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {interpolated: !1, parameters: ["zoom", "feature"]},
                            "property-type": "cross-faded-data-driven"
                        },
                        "line-gradient": {
                            type: "color",
                            transition: !1,
                            requires: [{"!": "line-dasharray"}, {"!": "line-pattern"}, {
                                source: "geojson",
                                has: {lineMetrics: !0}
                            }],
                            expression: {interpolated: !0, parameters: ["line-progress"]},
                            "property-type": "color-ramp"
                        }
                    },
                    paint_circle: {
                        "circle-radius": {
                            type: "number",
                            default: 5,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-blur": {
                            type: "number",
                            default: 0,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "circle-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["circle-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "circle-pitch-scale": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "circle-pitch-alignment": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "viewport",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "circle-stroke-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-stroke-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "circle-stroke-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        }
                    },
                    paint_heatmap: {
                        "heatmap-radius": {
                            type: "number",
                            default: 30,
                            minimum: 1,
                            transition: !0,
                            units: "pixels",
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "heatmap-weight": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !1,
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "heatmap-intensity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "heatmap-color": {
                            type: "color",
                            default: ["interpolate", ["linear"], ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", .1, "royalblue", .3, "cyan", .5, "lime", .7, "yellow", 1, "red"],
                            transition: !1,
                            expression: {interpolated: !0, parameters: ["heatmap-density"]},
                            "property-type": "color-ramp"
                        },
                        "heatmap-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    paint_symbol: {
                        "icon-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "icon-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "icon-halo-color": {
                            type: "color",
                            default: "rgba(0, 0, 0, 0)",
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "icon-halo-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "icon-halo-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "icon-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "icon-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["icon-image", "icon-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "text-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            overridable: !0,
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "text-halo-color": {
                            type: "color",
                            default: "rgba(0, 0, 0, 0)",
                            transition: !0,
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "text-halo-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "text-halo-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom", "feature", "feature-state"]},
                            "property-type": "data-driven"
                        },
                        "text-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "text-translate-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "map",
                            requires: ["text-field", "text-translate"],
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    paint_raster: {
                        "raster-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-hue-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            transition: !0,
                            units: "degrees",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-brightness-min": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-brightness-max": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-saturation": {
                            type: "number",
                            default: 0,
                            minimum: -1,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-contrast": {
                            type: "number",
                            default: 0,
                            minimum: -1,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-resampling": {
                            type: "enum",
                            values: {linear: {}, nearest: {}},
                            default: "linear",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "raster-fade-duration": {
                            type: "number",
                            default: 300,
                            minimum: 0,
                            transition: !1,
                            units: "milliseconds",
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    paint_hillshade: {
                        "hillshade-illumination-direction": {
                            type: "number",
                            default: 335,
                            minimum: 0,
                            maximum: 359,
                            transition: !1,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "hillshade-illumination-anchor": {
                            type: "enum",
                            values: {map: {}, viewport: {}},
                            default: "viewport",
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "hillshade-exaggeration": {
                            type: "number",
                            default: .5,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "hillshade-shadow-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "hillshade-highlight-color": {
                            type: "color",
                            default: "#FFFFFF",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "hillshade-accent-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    paint_background: {
                        "background-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{"!": "background-pattern"}],
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        },
                        "background-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {interpolated: !1, parameters: ["zoom"]},
                            "property-type": "cross-faded"
                        },
                        "background-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {interpolated: !0, parameters: ["zoom"]},
                            "property-type": "data-constant"
                        }
                    },
                    transition: {
                        duration: {type: "number", default: 300, minimum: 0, units: "milliseconds"},
                        delay: {type: "number", default: 0, minimum: 0, units: "milliseconds"}
                    },
                    "property-type": {
                        "data-driven": {type: "property-type"},
                        "cross-faded": {type: "property-type"},
                        "cross-faded-data-driven": {type: "property-type"},
                        "color-ramp": {type: "property-type"},
                        "data-constant": {type: "property-type"},
                        constant: {type: "property-type"}
                    },
                    promoteId: {"*": {type: "string"}}
                };

                class be {
                    constructor(e, r, s, c) {
                        this.message = (e ? `${e}: ` : "") + s, c && (this.identifier = c), null != r && r.__line__ && (this.line = r.__line__)
                    }
                }

                function Or(i) {
                    const e = i.value;
                    return e ? [new be(i.key, e, "constants have been deprecated as of v8")] : []
                }

                function xe(i, ...e) {
                    for (const r of e) for (const s in r) i[s] = r[s];
                    return i
                }

                function pe(i) {
                    return i instanceof Number || i instanceof String || i instanceof Boolean ? i.valueOf() : i
                }

                function b(i) {
                    if (Array.isArray(i)) return i.map(b);
                    if (i instanceof Object && !(i instanceof Number || i instanceof String || i instanceof Boolean)) {
                        const e = {};
                        for (const r in i) e[r] = b(i[r]);
                        return e
                    }
                    return pe(i)
                }

                class F extends Error {
                    constructor(e, r) {
                        super(r), this.message = r, this.key = e
                    }
                }

                class Ee {
                    constructor(e, r = []) {
                        this.parent = e, this.bindings = {};
                        for (const [s, c] of r) this.bindings[s] = c
                    }

                    concat(e) {
                        return new Ee(this, e)
                    }

                    get(e) {
                        if (this.bindings[e]) return this.bindings[e];
                        if (this.parent) return this.parent.get(e);
                        throw new Error(`${e} not found in scope.`)
                    }

                    has(e) {
                        return !!this.bindings[e] || !!this.parent && this.parent.has(e)
                    }
                }

                const Be = {kind: "null"}, fe = {kind: "number"}, Oe = {kind: "string"}, je = {kind: "boolean"},
                    Yt = {kind: "color"}, Bi = {kind: "object"}, $e = {kind: "value"}, Sr = {kind: "collator"},
                    ri = {kind: "formatted"}, Ur = {kind: "padding"}, Ei = {kind: "resolvedImage"};

                function di(i, e) {
                    return {kind: "array", itemType: i, N: e}
                }

                function mt(i) {
                    if ("array" === i.kind) {
                        const e = mt(i.itemType);
                        return "number" == typeof i.N ? `array<${e}, ${i.N}>` : "value" === i.itemType.kind ? "array" : `array<${e}>`
                    }
                    return i.kind
                }

                const on = [Be, fe, Oe, je, Yt, ri, Bi, di($e), Ur, Ei];

                function Vr(i, e) {
                    if ("error" === e.kind) return null;
                    if ("array" === i.kind) {
                        if ("array" === e.kind && (0 === e.N && "value" === e.itemType.kind || !Vr(i.itemType, e.itemType)) && ("number" != typeof i.N || i.N === e.N)) return null
                    } else {
                        if (i.kind === e.kind) return null;
                        if ("value" === i.kind) for (const r of on) if (!Vr(r, e)) return null
                    }
                    return `Expected ${mt(i)} but found ${mt(e)} instead.`
                }

                function an(i, e) {
                    return e.some(r => r.kind === i.kind)
                }

                function it(i, e) {
                    return e.some(r => "null" === r ? null === i : "array" === r ? Array.isArray(i) : "object" === r ? i && !Array.isArray(i) && "object" == typeof i : r === typeof i)
                }

                var Cr, ln = {
                    transparent: [0, 0, 0, 0],
                    aliceblue: [240, 248, 255, 1],
                    antiquewhite: [250, 235, 215, 1],
                    aqua: [0, 255, 255, 1],
                    aquamarine: [127, 255, 212, 1],
                    azure: [240, 255, 255, 1],
                    beige: [245, 245, 220, 1],
                    bisque: [255, 228, 196, 1],
                    black: [0, 0, 0, 1],
                    blanchedalmond: [255, 235, 205, 1],
                    blue: [0, 0, 255, 1],
                    blueviolet: [138, 43, 226, 1],
                    brown: [165, 42, 42, 1],
                    burlywood: [222, 184, 135, 1],
                    cadetblue: [95, 158, 160, 1],
                    chartreuse: [127, 255, 0, 1],
                    chocolate: [210, 105, 30, 1],
                    coral: [255, 127, 80, 1],
                    cornflowerblue: [100, 149, 237, 1],
                    cornsilk: [255, 248, 220, 1],
                    crimson: [220, 20, 60, 1],
                    cyan: [0, 255, 255, 1],
                    darkblue: [0, 0, 139, 1],
                    darkcyan: [0, 139, 139, 1],
                    darkgoldenrod: [184, 134, 11, 1],
                    darkgray: [169, 169, 169, 1],
                    darkgreen: [0, 100, 0, 1],
                    darkgrey: [169, 169, 169, 1],
                    darkkhaki: [189, 183, 107, 1],
                    darkmagenta: [139, 0, 139, 1],
                    darkolivegreen: [85, 107, 47, 1],
                    darkorange: [255, 140, 0, 1],
                    darkorchid: [153, 50, 204, 1],
                    darkred: [139, 0, 0, 1],
                    darksalmon: [233, 150, 122, 1],
                    darkseagreen: [143, 188, 143, 1],
                    darkslateblue: [72, 61, 139, 1],
                    darkslategray: [47, 79, 79, 1],
                    darkslategrey: [47, 79, 79, 1],
                    darkturquoise: [0, 206, 209, 1],
                    darkviolet: [148, 0, 211, 1],
                    deeppink: [255, 20, 147, 1],
                    deepskyblue: [0, 191, 255, 1],
                    dimgray: [105, 105, 105, 1],
                    dimgrey: [105, 105, 105, 1],
                    dodgerblue: [30, 144, 255, 1],
                    firebrick: [178, 34, 34, 1],
                    floralwhite: [255, 250, 240, 1],
                    forestgreen: [34, 139, 34, 1],
                    fuchsia: [255, 0, 255, 1],
                    gainsboro: [220, 220, 220, 1],
                    ghostwhite: [248, 248, 255, 1],
                    gold: [255, 215, 0, 1],
                    goldenrod: [218, 165, 32, 1],
                    gray: [128, 128, 128, 1],
                    green: [0, 128, 0, 1],
                    greenyellow: [173, 255, 47, 1],
                    grey: [128, 128, 128, 1],
                    honeydew: [240, 255, 240, 1],
                    hotpink: [255, 105, 180, 1],
                    indianred: [205, 92, 92, 1],
                    indigo: [75, 0, 130, 1],
                    ivory: [255, 255, 240, 1],
                    khaki: [240, 230, 140, 1],
                    lavender: [230, 230, 250, 1],
                    lavenderblush: [255, 240, 245, 1],
                    lawngreen: [124, 252, 0, 1],
                    lemonchiffon: [255, 250, 205, 1],
                    lightblue: [173, 216, 230, 1],
                    lightcoral: [240, 128, 128, 1],
                    lightcyan: [224, 255, 255, 1],
                    lightgoldenrodyellow: [250, 250, 210, 1],
                    lightgray: [211, 211, 211, 1],
                    lightgreen: [144, 238, 144, 1],
                    lightgrey: [211, 211, 211, 1],
                    lightpink: [255, 182, 193, 1],
                    lightsalmon: [255, 160, 122, 1],
                    lightseagreen: [32, 178, 170, 1],
                    lightskyblue: [135, 206, 250, 1],
                    lightslategray: [119, 136, 153, 1],
                    lightslategrey: [119, 136, 153, 1],
                    lightsteelblue: [176, 196, 222, 1],
                    lightyellow: [255, 255, 224, 1],
                    lime: [0, 255, 0, 1],
                    limegreen: [50, 205, 50, 1],
                    linen: [250, 240, 230, 1],
                    magenta: [255, 0, 255, 1],
                    maroon: [128, 0, 0, 1],
                    mediumaquamarine: [102, 205, 170, 1],
                    mediumblue: [0, 0, 205, 1],
                    mediumorchid: [186, 85, 211, 1],
                    mediumpurple: [147, 112, 219, 1],
                    mediumseagreen: [60, 179, 113, 1],
                    mediumslateblue: [123, 104, 238, 1],
                    mediumspringgreen: [0, 250, 154, 1],
                    mediumturquoise: [72, 209, 204, 1],
                    mediumvioletred: [199, 21, 133, 1],
                    midnightblue: [25, 25, 112, 1],
                    mintcream: [245, 255, 250, 1],
                    mistyrose: [255, 228, 225, 1],
                    moccasin: [255, 228, 181, 1],
                    navajowhite: [255, 222, 173, 1],
                    navy: [0, 0, 128, 1],
                    oldlace: [253, 245, 230, 1],
                    olive: [128, 128, 0, 1],
                    olivedrab: [107, 142, 35, 1],
                    orange: [255, 165, 0, 1],
                    orangered: [255, 69, 0, 1],
                    orchid: [218, 112, 214, 1],
                    palegoldenrod: [238, 232, 170, 1],
                    palegreen: [152, 251, 152, 1],
                    paleturquoise: [175, 238, 238, 1],
                    palevioletred: [219, 112, 147, 1],
                    papayawhip: [255, 239, 213, 1],
                    peachpuff: [255, 218, 185, 1],
                    peru: [205, 133, 63, 1],
                    pink: [255, 192, 203, 1],
                    plum: [221, 160, 221, 1],
                    powderblue: [176, 224, 230, 1],
                    purple: [128, 0, 128, 1],
                    rebeccapurple: [102, 51, 153, 1],
                    red: [255, 0, 0, 1],
                    rosybrown: [188, 143, 143, 1],
                    royalblue: [65, 105, 225, 1],
                    saddlebrown: [139, 69, 19, 1],
                    salmon: [250, 128, 114, 1],
                    sandybrown: [244, 164, 96, 1],
                    seagreen: [46, 139, 87, 1],
                    seashell: [255, 245, 238, 1],
                    sienna: [160, 82, 45, 1],
                    silver: [192, 192, 192, 1],
                    skyblue: [135, 206, 235, 1],
                    slateblue: [106, 90, 205, 1],
                    slategray: [112, 128, 144, 1],
                    slategrey: [112, 128, 144, 1],
                    snow: [255, 250, 250, 1],
                    springgreen: [0, 255, 127, 1],
                    steelblue: [70, 130, 180, 1],
                    tan: [210, 180, 140, 1],
                    teal: [0, 128, 128, 1],
                    thistle: [216, 191, 216, 1],
                    tomato: [255, 99, 71, 1],
                    turquoise: [64, 224, 208, 1],
                    violet: [238, 130, 238, 1],
                    wheat: [245, 222, 179, 1],
                    white: [255, 255, 255, 1],
                    whitesmoke: [245, 245, 245, 1],
                    yellow: [255, 255, 0, 1],
                    yellowgreen: [154, 205, 50, 1]
                };

                function Nr(i) {
                    return (i = Math.round(i)) < 0 ? 0 : i > 255 ? 255 : i
                }

                function Dn(i) {
                    return Nr("%" === i[i.length - 1] ? parseFloat(i) / 100 * 255 : parseInt(i))
                }

                function hr(i) {
                    return (e = "%" === i[i.length - 1] ? parseFloat(i) / 100 : parseFloat(i)) < 0 ? 0 : e > 1 ? 1 : e;
                    var e
                }

                function Tr(i, e, r) {
                    return r < 0 ? r += 1 : r > 1 && (r -= 1), 6 * r < 1 ? i + (e - i) * r * 6 : 2 * r < 1 ? e : 3 * r < 2 ? i + (e - i) * (2 / 3 - r) * 6 : i
                }

                try {
                    Cr = {}.parseCSSColor = function (i) {
                        var e, r = i.replace(/ /g, "").toLowerCase();
                        if (r in ln) return ln[r].slice();
                        if ("#" === r[0]) return 4 === r.length ? (e = parseInt(r.substr(1), 16)) >= 0 && e <= 4095 ? [(3840 & e) >> 4 | (3840 & e) >> 8, 240 & e | (240 & e) >> 4, 15 & e | (15 & e) << 4, 1] : null : 7 === r.length && (e = parseInt(r.substr(1), 16)) >= 0 && e <= 16777215 ? [(16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 1] : null;
                        var s = r.indexOf("("), c = r.indexOf(")");
                        if (-1 !== s && c + 1 === r.length) {
                            var u = r.substr(0, s), d = r.substr(s + 1, c - (s + 1)).split(","), f = 1;
                            switch (u) {
                                case"rgba":
                                    if (4 !== d.length) return null;
                                    f = hr(d.pop());
                                case"rgb":
                                    return 3 !== d.length ? null : [Dn(d[0]), Dn(d[1]), Dn(d[2]), f];
                                case"hsla":
                                    if (4 !== d.length) return null;
                                    f = hr(d.pop());
                                case"hsl":
                                    if (3 !== d.length) return null;
                                    var _ = (parseFloat(d[0]) % 360 + 360) % 360 / 360, v = hr(d[1]), w = hr(d[2]),
                                        T = w <= .5 ? w * (v + 1) : w + v - w * v, A = 2 * w - T;
                                    return [Nr(255 * Tr(A, T, _ + 1 / 3)), Nr(255 * Tr(A, T, _)), Nr(255 * Tr(A, T, _ - 1 / 3)), f];
                                default:
                                    return null
                            }
                        }
                        return null
                    }
                } catch {
                }

                class lt {
                    constructor(e, r, s, c = 1) {
                        this.r = e, this.g = r, this.b = s, this.a = c
                    }

                    static parse(e) {
                        if (!e) return;
                        if (e instanceof lt) return e;
                        if ("string" != typeof e) return;
                        const r = Cr(e);
                        return r ? new lt(r[0] / 255 * r[3], r[1] / 255 * r[3], r[2] / 255 * r[3], r[3]) : void 0
                    }

                    toString() {
                        const [e, r, s, c] = this.toArray();
                        return `rgba(${Math.round(e)},${Math.round(r)},${Math.round(s)},${c})`
                    }

                    toArray() {
                        const {r: e, g: r, b: s, a: c} = this;
                        return 0 === c ? [0, 0, 0, 0] : [255 * e / c, 255 * r / c, 255 * s / c, c]
                    }
                }

                lt.black = new lt(0, 0, 0, 1), lt.white = new lt(1, 1, 1, 1), lt.transparent = new lt(0, 0, 0, 0), lt.red = new lt(1, 0, 0, 1);

                class $r {
                    constructor(e, r, s) {
                        this.sensitivity = e ? r ? "variant" : "case" : r ? "accent" : "base", this.locale = s, this.collator = new Intl.Collator(this.locale ? this.locale : [], {
                            sensitivity: this.sensitivity,
                            usage: "search"
                        })
                    }

                    compare(e, r) {
                        return this.collator.compare(e, r)
                    }

                    resolvedLocale() {
                        return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale
                    }
                }

                class Fi {
                    constructor(e, r, s, c, u) {
                        this.text = e, this.image = r, this.scale = s, this.fontStack = c, this.textColor = u
                    }
                }

                class ei {
                    constructor(e) {
                        this.sections = e
                    }

                    static fromString(e) {
                        return new ei([new Fi(e, null, null, null, null)])
                    }

                    isEmpty() {
                        return 0 === this.sections.length || !this.sections.some(e => 0 !== e.text.length || e.image && 0 !== e.image.name.length)
                    }

                    static factory(e) {
                        return e instanceof ei ? e : ei.fromString(e)
                    }

                    toString() {
                        return 0 === this.sections.length ? "" : this.sections.map(e => e.text).join("")
                    }
                }

                class Jt {
                    constructor(e) {
                        this.values = e.slice()
                    }

                    static parse(e) {
                        if (e instanceof Jt) return e;
                        if ("number" == typeof e) return new Jt([e, e, e, e]);
                        if (Array.isArray(e) && !(e.length < 1 || e.length > 4)) {
                            for (const r of e) if ("number" != typeof r) return;
                            switch (e.length) {
                                case 1:
                                    e = [e[0], e[0], e[0], e[0]];
                                    break;
                                case 2:
                                    e = [e[0], e[1], e[0], e[1]];
                                    break;
                                case 3:
                                    e = [e[0], e[1], e[2], e[1]]
                            }
                            return new Jt(e)
                        }
                    }

                    toString() {
                        return JSON.stringify(this.values)
                    }
                }

                class mi {
                    constructor(e) {
                        this.name = e.name, this.available = e.available
                    }

                    toString() {
                        return this.name
                    }

                    static fromString(e) {
                        return e ? new mi({name: e, available: !1}) : null
                    }
                }

                function fi(i, e, r, s) {
                    return "number" == typeof i && i >= 0 && i <= 255 && "number" == typeof e && e >= 0 && e <= 255 && "number" == typeof r && r >= 0 && r <= 255 ? void 0 === s || "number" == typeof s && s >= 0 && s <= 1 ? null : `Invalid rgba value [${[i, e, r, s].join(", ")}]: 'a' must be between 0 and 1.` : `Invalid rgba value [${("number" == typeof s ? [i, e, r, s] : [i, e, r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`
                }

                function ur(i) {
                    if (null === i || "string" == typeof i || "boolean" == typeof i || "number" == typeof i || i instanceof lt || i instanceof $r || i instanceof ei || i instanceof Jt || i instanceof mi) return !0;
                    if (Array.isArray(i)) {
                        for (const e of i) if (!ur(e)) return !1;
                        return !0
                    }
                    if ("object" == typeof i) {
                        for (const e in i) if (!ur(i[e])) return !1;
                        return !0
                    }
                    return !1
                }

                function L(i) {
                    if (null === i) return Be;
                    if ("string" == typeof i) return Oe;
                    if ("boolean" == typeof i) return je;
                    if ("number" == typeof i) return fe;
                    if (i instanceof lt) return Yt;
                    if (i instanceof $r) return Sr;
                    if (i instanceof ei) return ri;
                    if (i instanceof Jt) return Ur;
                    if (i instanceof mi) return Ei;
                    if (Array.isArray(i)) {
                        const e = i.length;
                        let r;
                        for (const s of i) {
                            const c = L(s);
                            if (r) {
                                if (r === c) continue;
                                r = $e;
                                break
                            }
                            r = c
                        }
                        return di(r || $e, e)
                    }
                    return Bi
                }

                function I(i) {
                    const e = typeof i;
                    return null === i ? "" : "string" === e || "number" === e || "boolean" === e ? String(i) : i instanceof lt || i instanceof ei || i instanceof Jt || i instanceof mi ? i.toString() : JSON.stringify(i)
                }

                class E {
                    constructor(e, r) {
                        this.type = e, this.value = r
                    }

                    static parse(e, r) {
                        if (2 !== e.length) return r.error(`'literal' expression requires exactly one argument, but found ${e.length - 1} instead.`);
                        if (!ur(e[1])) return r.error("invalid value");
                        const s = e[1];
                        let c = L(s);
                        const u = r.expectedType;
                        return "array" !== c.kind || 0 !== c.N || !u || "array" !== u.kind || "number" == typeof u.N && 0 !== u.N || (c = u), new E(c, s)
                    }

                    evaluate() {
                        return this.value
                    }

                    eachChild() {
                    }

                    outputDefined() {
                        return !0
                    }
                }

                class D {
                    constructor(e) {
                        this.name = "ExpressionEvaluationError", this.message = e
                    }

                    toJSON() {
                        return this.message
                    }
                }

                const O = {string: Oe, number: fe, boolean: je, object: Bi};

                class Z {
                    constructor(e, r) {
                        this.type = e, this.args = r
                    }

                    static parse(e, r) {
                        if (e.length < 2) return r.error("Expected at least one argument.");
                        let s, c = 1;
                        const u = e[0];
                        if ("array" === u) {
                            let f, _;
                            if (e.length > 2) {
                                const v = e[1];
                                if ("string" != typeof v || !(v in O) || "object" === v) return r.error('The item type argument of "array" must be one of string, number, boolean', 1);
                                f = O[v], c++
                            } else f = $e;
                            if (e.length > 3) {
                                if (null !== e[2] && ("number" != typeof e[2] || e[2] < 0 || e[2] !== Math.floor(e[2]))) return r.error('The length argument to "array" must be a positive integer literal', 2);
                                _ = e[2], c++
                            }
                            s = di(f, _)
                        } else {
                            if (!O[u]) throw new Error(`Types doesn't contain name = ${u}`);
                            s = O[u]
                        }
                        const d = [];
                        for (; c < e.length; c++) {
                            const f = r.parse(e[c], c, $e);
                            if (!f) return null;
                            d.push(f)
                        }
                        return new Z(s, d)
                    }

                    evaluate(e) {
                        for (let r = 0; r < this.args.length; r++) {
                            const s = this.args[r].evaluate(e);
                            if (!Vr(this.type, L(s))) return s;
                            if (r === this.args.length - 1) throw new D(`Expected value to be of type ${mt(this.type)}, but found ${mt(L(s))} instead.`)
                        }
                        throw new Error
                    }

                    eachChild(e) {
                        this.args.forEach(e)
                    }

                    outputDefined() {
                        return this.args.every(e => e.outputDefined())
                    }
                }

                const q = {"to-boolean": je, "to-color": Yt, "to-number": fe, "to-string": Oe};

                class j {
                    constructor(e, r) {
                        this.type = e, this.args = r
                    }

                    static parse(e, r) {
                        if (e.length < 2) return r.error("Expected at least one argument.");
                        const s = e[0];
                        if (!q[s]) throw new Error(`Can't parse ${s} as it is not part of the known types`);
                        if (("to-boolean" === s || "to-string" === s) && 2 !== e.length) return r.error("Expected one argument.");
                        const c = q[s], u = [];
                        for (let d = 1; d < e.length; d++) {
                            const f = r.parse(e[d], d, $e);
                            if (!f) return null;
                            u.push(f)
                        }
                        return new j(c, u)
                    }

                    evaluate(e) {
                        if ("boolean" === this.type.kind) return Boolean(this.args[0].evaluate(e));
                        if ("color" === this.type.kind) {
                            let r, s;
                            for (const c of this.args) {
                                if (r = c.evaluate(e), s = null, r instanceof lt) return r;
                                if ("string" == typeof r) {
                                    const u = e.parseColor(r);
                                    if (u) return u
                                } else if (Array.isArray(r) && (s = r.length < 3 || r.length > 4 ? `Invalid rbga value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.` : fi(r[0], r[1], r[2], r[3]), !s)) return new lt(r[0] / 255, r[1] / 255, r[2] / 255, r[3])
                            }
                            throw new D(s || `Could not parse color from value '${"string" == typeof r ? r : JSON.stringify(r)}'`)
                        }
                        if ("padding" === this.type.kind) {
                            let r;
                            for (const s of this.args) {
                                r = s.evaluate(e);
                                const c = Jt.parse(r);
                                if (c) return c
                            }
                            throw new D(`Could not parse padding from value '${"string" == typeof r ? r : JSON.stringify(r)}'`)
                        }
                        if ("number" === this.type.kind) {
                            let r = null;
                            for (const s of this.args) {
                                if (r = s.evaluate(e), null === r) return 0;
                                const c = Number(r);
                                if (!isNaN(c)) return c
                            }
                            throw new D(`Could not convert ${JSON.stringify(r)} to number.`)
                        }
                        return "formatted" === this.type.kind ? ei.fromString(I(this.args[0].evaluate(e))) : "resolvedImage" === this.type.kind ? mi.fromString(I(this.args[0].evaluate(e))) : I(this.args[0].evaluate(e))
                    }

                    eachChild(e) {
                        this.args.forEach(e)
                    }

                    outputDefined() {
                        return this.args.every(e => e.outputDefined())
                    }
                }

                const G = ["Unknown", "Point", "LineString", "Polygon"];

                class Y {
                    constructor() {
                        this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null
                    }

                    id() {
                        return this.feature && "id" in this.feature ? this.feature.id : null
                    }

                    geometryType() {
                        return this.feature ? "number" == typeof this.feature.type ? G[this.feature.type] : this.feature.type : null
                    }

                    geometry() {
                        return this.feature && "geometry" in this.feature ? this.feature.geometry : null
                    }

                    canonicalID() {
                        return this.canonical
                    }

                    properties() {
                        return this.feature && this.feature.properties || {}
                    }

                    parseColor(e) {
                        let r = this._parseColorCache[e];
                        return r || (r = this._parseColorCache[e] = lt.parse(e)), r
                    }
                }

                class ne {
                    constructor(e, r, s, c) {
                        this.name = e, this.type = r, this._evaluate = s, this.args = c
                    }

                    evaluate(e) {
                        return this._evaluate(e, this.args)
                    }

                    eachChild(e) {
                        this.args.forEach(e)
                    }

                    outputDefined() {
                        return !1
                    }

                    static parse(e, r) {
                        const s = e[0], c = ne.definitions[s];
                        if (!c) return r.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`, 0);
                        const u = Array.isArray(c) ? c[0] : c.type, d = Array.isArray(c) ? [[c[1], c[2]]] : c.overloads,
                            f = d.filter(([v]) => !Array.isArray(v) || v.length === e.length - 1);
                        let _ = null;
                        for (const [v, w] of f) {
                            _ = new un(r.registry, r.path, null, r.scope);
                            const T = [];
                            let A = !1;
                            for (let z = 1; z < e.length; z++) {
                                const k = e[z], N = Array.isArray(v) ? v[z - 1] : v.type,
                                    V = _.parse(k, 1 + T.length, N);
                                if (!V) {
                                    A = !0;
                                    break
                                }
                                T.push(V)
                            }
                            if (!A) if (Array.isArray(v) && v.length !== T.length) _.error(`Expected ${v.length} arguments, but found ${T.length} instead.`); else {
                                for (let z = 0; z < T.length; z++) {
                                    const k = Array.isArray(v) ? v[z] : v.type, N = T[z];
                                    _.concat(z + 1).checkSubtype(k, N.type)
                                }
                                if (0 === _.errors.length) return new ne(s, u, w, T)
                            }
                        }
                        if (1 === f.length) r.errors.push(..._.errors); else {
                            const v = (f.length ? f : d).map(([T]) => {
                                return A = T, Array.isArray(A) ? `(${A.map(mt).join(", ")})` : `(${mt(A.type)}...)`;
                                var A
                            }).join(" | "), w = [];
                            for (let T = 1; T < e.length; T++) {
                                const A = r.parse(e[T], 1 + w.length);
                                if (!A) return null;
                                w.push(mt(A.type))
                            }
                            r.error(`Expected arguments of type ${v}, but found (${w.join(", ")}) instead.`)
                        }
                        return null
                    }

                    static register(e, r) {
                        ne.definitions = r;
                        for (const s in r) e[s] = ne
                    }
                }

                class me {
                    constructor(e, r, s) {
                        this.type = Sr, this.locale = s, this.caseSensitive = e, this.diacriticSensitive = r
                    }

                    static parse(e, r) {
                        if (2 !== e.length) return r.error("Expected one argument.");
                        const s = e[1];
                        if ("object" != typeof s || Array.isArray(s)) return r.error("Collator options argument must be an object.");
                        const c = r.parse(void 0 !== s["case-sensitive"] && s["case-sensitive"], 1, je);
                        if (!c) return null;
                        const u = r.parse(void 0 !== s["diacritic-sensitive"] && s["diacritic-sensitive"], 1, je);
                        if (!u) return null;
                        let d = null;
                        return s.locale && (d = r.parse(s.locale, 1, Oe), !d) ? null : new me(c, u, d)
                    }

                    evaluate(e) {
                        return new $r(this.caseSensitive.evaluate(e), this.diacriticSensitive.evaluate(e), this.locale ? this.locale.evaluate(e) : null)
                    }

                    eachChild(e) {
                        e(this.caseSensitive), e(this.diacriticSensitive), this.locale && e(this.locale)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                const oe = 8192;

                function Fe(i, e) {
                    i[0] = Math.min(i[0], e[0]), i[1] = Math.min(i[1], e[1]), i[2] = Math.max(i[2], e[0]), i[3] = Math.max(i[3], e[1])
                }

                function Ve(i, e) {
                    return !(i[0] <= e[0] || i[2] >= e[2] || i[1] <= e[1] || i[3] >= e[3])
                }

                function Pe(i, e) {
                    const r = (180 + i[0]) / 360,
                        s = (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + i[1] * Math.PI / 360))) / 360,
                        c = Math.pow(2, e.z);
                    return [Math.round(r * c * oe), Math.round(s * c * oe)]
                }

                function Ne(i, e, r) {
                    const s = i[0] - e[0], c = i[1] - e[1], u = i[0] - r[0], d = i[1] - r[1];
                    return s * d - u * c == 0 && s * u <= 0 && c * d <= 0
                }

                function et(i, e) {
                    let r = !1;
                    for (let d = 0, f = e.length; d < f; d++) {
                        const _ = e[d];
                        for (let v = 0, w = _.length; v < w - 1; v++) {
                            if (Ne(i, _[v], _[v + 1])) return !1;
                            (c = _[v])[1] > (s = i)[1] != (u = _[v + 1])[1] > s[1] && s[0] < (u[0] - c[0]) * (s[1] - c[1]) / (u[1] - c[1]) + c[0] && (r = !r)
                        }
                    }
                    var s, c, u;
                    return r
                }

                function bt(i, e) {
                    for (let r = 0; r < e.length; r++) if (et(i, e[r])) return !0;
                    return !1
                }

                function tt(i, e, r, s) {
                    const c = s[0] - r[0], u = s[1] - r[1], d = (i[0] - r[0]) * u - c * (i[1] - r[1]),
                        f = (e[0] - r[0]) * u - c * (e[1] - r[1]);
                    return d > 0 && f < 0 || d < 0 && f > 0
                }

                function rt(i, e, r) {
                    for (const v of r) for (let w = 0; w < v.length - 1; ++w) if ((f = [(d = v[w + 1])[0] - (u = v[w])[0], d[1] - u[1]])[0] * (_ = [(c = e)[0] - (s = i)[0], c[1] - s[1]])[1] - f[1] * _[0] != 0 && tt(s, c, u, d) && tt(u, d, s, c)) return !0;
                    var s, c, u, d, f, _;
                    return !1
                }

                function Ct(i, e) {
                    for (let r = 0; r < i.length; ++r) if (!et(i[r], e)) return !1;
                    for (let r = 0; r < i.length - 1; ++r) if (rt(i[r], i[r + 1], e)) return !1;
                    return !0
                }

                function Ot(i, e) {
                    for (let r = 0; r < e.length; r++) if (Ct(i, e[r])) return !0;
                    return !1
                }

                function ti(i, e, r) {
                    const s = [];
                    for (let c = 0; c < i.length; c++) {
                        const u = [];
                        for (let d = 0; d < i[c].length; d++) {
                            const f = Pe(i[c][d], r);
                            Fe(e, f), u.push(f)
                        }
                        s.push(u)
                    }
                    return s
                }

                function jt(i, e, r) {
                    const s = [];
                    for (let c = 0; c < i.length; c++) {
                        const u = ti(i[c], e, r);
                        s.push(u)
                    }
                    return s
                }

                function cn(i, e, r, s) {
                    if (i[0] < r[0] || i[0] > r[2]) {
                        const c = .5 * s;
                        let u = i[0] - r[0] > c ? -s : r[0] - i[0] > c ? s : 0;
                        0 === u && (u = i[0] - r[2] > c ? -s : r[2] - i[0] > c ? s : 0), i[0] += u
                    }
                    Fe(e, i)
                }

                function na(i, e, r, s) {
                    const c = Math.pow(2, s.z) * oe, u = [s.x * oe, s.y * oe], d = [];
                    for (const f of i) for (const _ of f) {
                        const v = [_.x + u[0], _.y + u[1]];
                        cn(v, e, r, c), d.push(v)
                    }
                    return d
                }

                function sa(i, e, r, s) {
                    const c = Math.pow(2, s.z) * oe, u = [s.x * oe, s.y * oe], d = [];
                    for (const _ of i) {
                        const v = [];
                        for (const w of _) {
                            const T = [w.x + u[0], w.y + u[1]];
                            Fe(e, T), v.push(T)
                        }
                        d.push(v)
                    }
                    if (e[2] - e[0] <= c / 2) {
                        (f = e)[0] = f[1] = 1 / 0, f[2] = f[3] = -1 / 0;
                        for (const _ of d) for (const v of _) cn(v, e, r, c)
                    }
                    var f;
                    return d
                }

                class Zr {
                    constructor(e, r) {
                        this.type = je, this.geojson = e, this.geometries = r
                    }

                    static parse(e, r) {
                        if (2 !== e.length) return r.error(`'within' expression requires exactly one argument, but found ${e.length - 1} instead.`);
                        if (ur(e[1])) {
                            const s = e[1];
                            if ("FeatureCollection" === s.type) for (let c = 0; c < s.features.length; ++c) {
                                const u = s.features[c].geometry.type;
                                if ("Polygon" === u || "MultiPolygon" === u) return new Zr(s, s.features[c].geometry)
                            } else if ("Feature" === s.type) {
                                const c = s.geometry.type;
                                if ("Polygon" === c || "MultiPolygon" === c) return new Zr(s, s.geometry)
                            } else if ("Polygon" === s.type || "MultiPolygon" === s.type) return new Zr(s, s)
                        }
                        return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")
                    }

                    evaluate(e) {
                        if (null != e.geometry() && null != e.canonicalID()) {
                            if ("Point" === e.geometryType()) return function (r, s) {
                                const c = [1 / 0, 1 / 0, -1 / 0, -1 / 0], u = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                                    d = r.canonicalID();
                                if ("Polygon" === s.type) {
                                    const f = ti(s.coordinates, u, d), _ = na(r.geometry(), c, u, d);
                                    if (!Ve(c, u)) return !1;
                                    for (const v of _) if (!et(v, f)) return !1
                                }
                                if ("MultiPolygon" === s.type) {
                                    const f = jt(s.coordinates, u, d), _ = na(r.geometry(), c, u, d);
                                    if (!Ve(c, u)) return !1;
                                    for (const v of _) if (!bt(v, f)) return !1
                                }
                                return !0
                            }(e, this.geometries);
                            if ("LineString" === e.geometryType()) return function (r, s) {
                                const c = [1 / 0, 1 / 0, -1 / 0, -1 / 0], u = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                                    d = r.canonicalID();
                                if ("Polygon" === s.type) {
                                    const f = ti(s.coordinates, u, d), _ = sa(r.geometry(), c, u, d);
                                    if (!Ve(c, u)) return !1;
                                    for (const v of _) if (!Ct(v, f)) return !1
                                }
                                if ("MultiPolygon" === s.type) {
                                    const f = jt(s.coordinates, u, d), _ = sa(r.geometry(), c, u, d);
                                    if (!Ve(c, u)) return !1;
                                    for (const v of _) if (!Ot(v, f)) return !1
                                }
                                return !0
                            }(e, this.geometries)
                        }
                        return !1
                    }

                    eachChild() {
                    }

                    outputDefined() {
                        return !0
                    }
                }

                function Jn(i) {
                    if (i instanceof ne && ("get" === i.name && 1 === i.args.length || "feature-state" === i.name || "has" === i.name && 1 === i.args.length || "properties" === i.name || "geometry-type" === i.name || "id" === i.name || /^filter-/.test(i.name)) || i instanceof Zr) return !1;
                    let e = !0;
                    return i.eachChild(r => {
                        e && !Jn(r) && (e = !1)
                    }), e
                }

                function hn(i) {
                    if (i instanceof ne && "feature-state" === i.name) return !1;
                    let e = !0;
                    return i.eachChild(r => {
                        e && !hn(r) && (e = !1)
                    }), e
                }

                function Ir(i, e) {
                    if (i instanceof ne && e.indexOf(i.name) >= 0) return !1;
                    let r = !0;
                    return i.eachChild(s => {
                        r && !Ir(s, e) && (r = !1)
                    }), r
                }

                class Qn {
                    constructor(e, r) {
                        this.type = r.type, this.name = e, this.boundExpression = r
                    }

                    static parse(e, r) {
                        if (2 !== e.length || "string" != typeof e[1]) return r.error("'var' expression requires exactly one string literal argument.");
                        const s = e[1];
                        return r.scope.has(s) ? new Qn(s, r.scope.get(s)) : r.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`, 1)
                    }

                    evaluate(e) {
                        return this.boundExpression.evaluate(e)
                    }

                    eachChild() {
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class Gs {
                    constructor(e, r = [], s, c = new Ee, u = []) {
                        this.registry = e, this.path = r, this.key = r.map(d => `[${d}]`).join(""), this.scope = c, this.errors = u, this.expectedType = s
                    }

                    parse(e, r, s, c, u = {}) {
                        return r ? this.concat(r, s, c)._parse(e, u) : this._parse(e, u)
                    }

                    _parse(e, r) {
                        function s(c, u, d) {
                            return "assert" === d ? new Z(u, [c]) : "coerce" === d ? new j(u, [c]) : c
                        }

                        if (null !== e && "string" != typeof e && "boolean" != typeof e && "number" != typeof e || (e = ["literal", e]), Array.isArray(e)) {
                            if (0 === e.length) return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
                            const c = e[0];
                            if ("string" != typeof c) return this.error(`Expression name must be a string, but found ${typeof c} instead. If you wanted a literal array, use ["literal", [...]].`, 0), null;
                            const u = this.registry[c];
                            if (u) {
                                let d = u.parse(e, this);
                                if (!d) return null;
                                if (this.expectedType) {
                                    const f = this.expectedType, _ = d.type;
                                    if ("string" !== f.kind && "number" !== f.kind && "boolean" !== f.kind && "object" !== f.kind && "array" !== f.kind || "value" !== _.kind) if ("color" !== f.kind && "formatted" !== f.kind && "resolvedImage" !== f.kind || "value" !== _.kind && "string" !== _.kind) if ("padding" !== f.kind || "value" !== _.kind && "number" !== _.kind && "array" !== _.kind) {
                                        if (this.checkSubtype(f, _)) return null
                                    } else d = s(d, f, r.typeAnnotation || "coerce"); else d = s(d, f, r.typeAnnotation || "coerce"); else d = s(d, f, r.typeAnnotation || "assert")
                                }
                                if (!(d instanceof E) && "resolvedImage" !== d.type.kind && js(d)) {
                                    const f = new Y;
                                    try {
                                        d = new E(d.type, d.evaluate(f))
                                    } catch (_) {
                                        return this.error(_.message), null
                                    }
                                }
                                return d
                            }
                            return this.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`, 0)
                        }
                        return this.error(void 0 === e ? "'undefined' value invalid. Use null instead." : "object" == typeof e ? 'Bare objects invalid. Use ["literal", {...}] instead.' : `Expected an array, but found ${typeof e} instead.`)
                    }

                    concat(e, r, s) {
                        const c = "number" == typeof e ? this.path.concat(e) : this.path,
                            u = s ? this.scope.concat(s) : this.scope;
                        return new Gs(this.registry, c, r || null, u, this.errors)
                    }

                    error(e, ...r) {
                        const s = `${this.key}${r.map(c => `[${c}]`).join("")}`;
                        this.errors.push(new F(s, e))
                    }

                    checkSubtype(e, r) {
                        const s = Vr(e, r);
                        return s && this.error(s), s
                    }
                }

                var un = Gs;

                function js(i) {
                    if (i instanceof Qn) return js(i.boundExpression);
                    if (i instanceof ne && "error" === i.name || i instanceof me || i instanceof Zr) return !1;
                    const e = i instanceof j || i instanceof Z;
                    let r = !0;
                    return i.eachChild(s => {
                        r = e ? r && js(s) : r && s instanceof E
                    }), !!r && Jn(i) && Ir(i, ["zoom", "heatmap-density", "line-progress", "accumulated", "is-supported-script"])
                }

                function es(i, e) {
                    const r = i.length - 1;
                    let s, c, u = 0, d = r, f = 0;
                    for (; u <= d;) if (f = Math.floor((u + d) / 2), s = i[f], c = i[f + 1], s <= e) {
                        if (f === r || e < c) return f;
                        u = f + 1
                    } else {
                        if (!(s > e)) throw new D("Input is not a number.");
                        d = f - 1
                    }
                    return 0
                }

                class Ln {
                    constructor(e, r, s) {
                        this.type = e, this.input = r, this.labels = [], this.outputs = [];
                        for (const [c, u] of s) this.labels.push(c), this.outputs.push(u)
                    }

                    static parse(e, r) {
                        if (e.length - 1 < 4) return r.error(`Expected at least 4 arguments, but found only ${e.length - 1}.`);
                        if ((e.length - 1) % 2 != 0) return r.error("Expected an even number of arguments.");
                        const s = r.parse(e[1], 1, fe);
                        if (!s) return null;
                        const c = [];
                        let u = null;
                        r.expectedType && "value" !== r.expectedType.kind && (u = r.expectedType);
                        for (let d = 1; d < e.length; d += 2) {
                            const f = 1 === d ? -1 / 0 : e[d], _ = e[d + 1], v = d, w = d + 1;
                            if ("number" != typeof f) return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', v);
                            if (c.length && c[c.length - 1][0] >= f) return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', v);
                            const T = r.parse(_, w, u);
                            if (!T) return null;
                            u = u || T.type, c.push([f, T])
                        }
                        return new Ln(u, s, c)
                    }

                    evaluate(e) {
                        const r = this.labels, s = this.outputs;
                        if (1 === r.length) return s[0].evaluate(e);
                        const c = this.input.evaluate(e);
                        if (c <= r[0]) return s[0].evaluate(e);
                        const u = r.length;
                        return c >= r[u - 1] ? s[u - 1].evaluate(e) : s[es(r, c)].evaluate(e)
                    }

                    eachChild(e) {
                        e(this.input);
                        for (const r of this.outputs) e(r)
                    }

                    outputDefined() {
                        return this.outputs.every(e => e.outputDefined())
                    }
                }

                function Mt(i, e, r) {
                    return i * (1 - r) + e * r
                }

                var Gr = Object.freeze({
                    __proto__: null, array: function (i, e, r) {
                        return i.map((s, c) => Mt(s, e[c], r))
                    }, color: function (i, e, r) {
                        return new lt(Mt(i.r, e.r, r), Mt(i.g, e.g, r), Mt(i.b, e.b, r), Mt(i.a, e.a, r))
                    }, number: Mt, padding: function (i, e, r) {
                        const s = i.values, c = e.values;
                        return new Jt([Mt(s[0], c[0], r), Mt(s[1], c[1], r), Mt(s[2], c[2], r), Mt(s[3], c[3], r)])
                    }
                });
                const la = 4 / 29, Oi = 6 / 29, ts = 3 * Oi * Oi, qs = Math.PI / 180, Rn = 180 / Math.PI;

                function gt(i) {
                    return i > .008856451679035631 ? Math.pow(i, 1 / 3) : i / ts + la
                }

                function Xs(i) {
                    return i > Oi ? i * i * i : ts * (i - la)
                }

                function Bn(i) {
                    return 255 * (i <= .0031308 ? 12.92 * i : 1.055 * Math.pow(i, 1 / 2.4) - .055)
                }

                function Ws(i) {
                    return (i /= 255) <= .04045 ? i / 12.92 : Math.pow((i + .055) / 1.055, 2.4)
                }

                function Hs(i) {
                    const e = Ws(i.r), r = Ws(i.g), s = Ws(i.b),
                        c = gt((.4124564 * e + .3575761 * r + .1804375 * s) / .95047),
                        u = gt((.2126729 * e + .7151522 * r + .072175 * s) / 1);
                    return {
                        l: 116 * u - 16,
                        a: 500 * (c - u),
                        b: 200 * (u - gt((.0193339 * e + .119192 * r + .9503041 * s) / 1.08883)),
                        alpha: i.a
                    }
                }

                function Ks(i) {
                    let e = (i.l + 16) / 116, r = isNaN(i.a) ? e : e + i.a / 500, s = isNaN(i.b) ? e : e - i.b / 200;
                    return e = 1 * Xs(e), r = .95047 * Xs(r), s = 1.08883 * Xs(s), new lt(Bn(3.2404542 * r - 1.5371385 * e - .4985314 * s), Bn(-.969266 * r + 1.8760108 * e + .041556 * s), Bn(.0556434 * r - .2040259 * e + 1.0572252 * s), i.alpha)
                }

                function nl(i, e, r) {
                    const s = e - i;
                    return i + r * (s > 180 || s < -180 ? s - 360 * Math.round(s / 360) : s)
                }

                const pn = {
                    forward: Hs, reverse: Ks, interpolate: function (i, e, r) {
                        return {
                            l: Mt(i.l, e.l, r),
                            a: Mt(i.a, e.a, r),
                            b: Mt(i.b, e.b, r),
                            alpha: Mt(i.alpha, e.alpha, r)
                        }
                    }
                }, dn = {
                    forward: function (i) {
                        const {l: e, a: r, b: s} = Hs(i), c = Math.atan2(s, r) * Rn;
                        return {h: c < 0 ? c + 360 : c, c: Math.sqrt(r * r + s * s), l: e, alpha: i.a}
                    }, reverse: function (i) {
                        const e = i.h * qs, r = i.c;
                        return Ks({l: i.l, a: Math.cos(e) * r, b: Math.sin(e) * r, alpha: i.alpha})
                    }, interpolate: function (i, e, r) {
                        return {
                            h: nl(i.h, e.h, r),
                            c: Mt(i.c, e.c, r),
                            l: Mt(i.l, e.l, r),
                            alpha: Mt(i.alpha, e.alpha, r)
                        }
                    }
                };
                var ca = Object.freeze({__proto__: null, hcl: dn, lab: pn});

                class Mi {
                    constructor(e, r, s, c, u) {
                        this.type = e, this.operator = r, this.interpolation = s, this.input = c, this.labels = [], this.outputs = [];
                        for (const [d, f] of u) this.labels.push(d), this.outputs.push(f)
                    }

                    static interpolationFactor(e, r, s, c) {
                        let u = 0;
                        if ("exponential" === e.name) u = Ys(r, e.base, s, c); else if ("linear" === e.name) u = Ys(r, 1, s, c); else if ("cubic-bezier" === e.name) {
                            const d = e.controlPoints;
                            u = new ft(d[0], d[1], d[2], d[3]).solve(Ys(r, 1, s, c))
                        }
                        return u
                    }

                    static parse(e, r) {
                        let [s, c, u, ...d] = e;
                        if (!Array.isArray(c) || 0 === c.length) return r.error("Expected an interpolation type expression.", 1);
                        if ("linear" === c[0]) c = {name: "linear"}; else if ("exponential" === c[0]) {
                            const v = c[1];
                            if ("number" != typeof v) return r.error("Exponential interpolation requires a numeric base.", 1, 1);
                            c = {name: "exponential", base: v}
                        } else {
                            if ("cubic-bezier" !== c[0]) return r.error(`Unknown interpolation type ${String(c[0])}`, 1, 0);
                            {
                                const v = c.slice(1);
                                if (4 !== v.length || v.some(w => "number" != typeof w || w < 0 || w > 1)) return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
                                c = {name: "cubic-bezier", controlPoints: v}
                            }
                        }
                        if (e.length - 1 < 4) return r.error(`Expected at least 4 arguments, but found only ${e.length - 1}.`);
                        if ((e.length - 1) % 2 != 0) return r.error("Expected an even number of arguments.");
                        if (u = r.parse(u, 2, fe), !u) return null;
                        const f = [];
                        let _ = null;
                        "interpolate-hcl" === s || "interpolate-lab" === s ? _ = Yt : r.expectedType && "value" !== r.expectedType.kind && (_ = r.expectedType);
                        for (let v = 0; v < d.length; v += 2) {
                            const w = d[v], T = d[v + 1], A = v + 3, z = v + 4;
                            if ("number" != typeof w) return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', A);
                            if (f.length && f[f.length - 1][0] >= w) return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', A);
                            const k = r.parse(T, z, _);
                            if (!k) return null;
                            _ = _ || k.type, f.push([w, k])
                        }
                        return "number" === _.kind || "color" === _.kind || "padding" === _.kind || "array" === _.kind && "number" === _.itemType.kind && "number" == typeof _.N ? new Mi(_, s, c, u, f) : r.error(`Type ${mt(_)} is not interpolatable.`)
                    }

                    evaluate(e) {
                        const r = this.labels, s = this.outputs;
                        if (1 === r.length) return s[0].evaluate(e);
                        const c = this.input.evaluate(e);
                        if (c <= r[0]) return s[0].evaluate(e);
                        const u = r.length;
                        if (c >= r[u - 1]) return s[u - 1].evaluate(e);
                        const d = es(r, c), f = Mi.interpolationFactor(this.interpolation, c, r[d], r[d + 1]),
                            _ = s[d].evaluate(e), v = s[d + 1].evaluate(e);
                        return "interpolate" === this.operator ? Gr[this.type.kind.toLowerCase()](_, v, f) : "interpolate-hcl" === this.operator ? dn.reverse(dn.interpolate(dn.forward(_), dn.forward(v), f)) : pn.reverse(pn.interpolate(pn.forward(_), pn.forward(v), f))
                    }

                    eachChild(e) {
                        e(this.input);
                        for (const r of this.outputs) e(r)
                    }

                    outputDefined() {
                        return this.outputs.every(e => e.outputDefined())
                    }
                }

                function Ys(i, e, r, s) {
                    const c = s - r, u = i - r;
                    return 0 === c ? 0 : 1 === e ? u / c : (Math.pow(e, u) - 1) / (Math.pow(e, c) - 1)
                }

                class is {
                    constructor(e, r) {
                        this.type = e, this.args = r
                    }

                    static parse(e, r) {
                        if (e.length < 2) return r.error("Expectected at least one argument.");
                        let s = null;
                        const c = r.expectedType;
                        c && "value" !== c.kind && (s = c);
                        const u = [];
                        for (const f of e.slice(1)) {
                            const _ = r.parse(f, 1 + u.length, s, void 0, {typeAnnotation: "omit"});
                            if (!_) return null;
                            s = s || _.type, u.push(_)
                        }
                        if (!s) throw new Error("No output type");
                        const d = c && u.some(f => Vr(c, f.type));
                        return new is(d ? $e : s, u)
                    }

                    evaluate(e) {
                        let r, s = null, c = 0;
                        for (const u of this.args) if (c++, s = u.evaluate(e), s && s instanceof mi && !s.available && (r || (r = s.name), s = null, c === this.args.length && (s = r)), null !== s) break;
                        return s
                    }

                    eachChild(e) {
                        this.args.forEach(e)
                    }

                    outputDefined() {
                        return this.args.every(e => e.outputDefined())
                    }
                }

                class Fn {
                    constructor(e, r) {
                        this.type = r.type, this.bindings = [].concat(e), this.result = r
                    }

                    evaluate(e) {
                        return this.result.evaluate(e)
                    }

                    eachChild(e) {
                        for (const r of this.bindings) e(r[1]);
                        e(this.result)
                    }

                    static parse(e, r) {
                        if (e.length < 4) return r.error(`Expected at least 3 arguments, but found ${e.length - 1} instead.`);
                        const s = [];
                        for (let u = 1; u < e.length - 1; u += 2) {
                            const d = e[u];
                            if ("string" != typeof d) return r.error(`Expected string, but found ${typeof d} instead.`, u);
                            if (/[^a-zA-Z0-9_]/.test(d)) return r.error("Variable names must contain only alphanumeric characters or '_'.", u);
                            const f = r.parse(e[u + 1], u + 1);
                            if (!f) return null;
                            s.push([d, f])
                        }
                        const c = r.parse(e[e.length - 1], e.length - 1, r.expectedType, s);
                        return c ? new Fn(s, c) : null
                    }

                    outputDefined() {
                        return this.result.outputDefined()
                    }
                }

                class rs {
                    constructor(e, r, s) {
                        this.type = e, this.index = r, this.input = s
                    }

                    static parse(e, r) {
                        if (3 !== e.length) return r.error(`Expected 2 arguments, but found ${e.length - 1} instead.`);
                        const s = r.parse(e[1], 1, fe), c = r.parse(e[2], 2, di(r.expectedType || $e));
                        return s && c ? new rs(c.type.itemType, s, c) : null
                    }

                    evaluate(e) {
                        const r = this.index.evaluate(e), s = this.input.evaluate(e);
                        if (r < 0) throw new D(`Array index out of bounds: ${r} < 0.`);
                        if (r >= s.length) throw new D(`Array index out of bounds: ${r} > ${s.length - 1}.`);
                        if (r !== Math.floor(r)) throw new D(`Array index must be an integer, but found ${r} instead.`);
                        return s[r]
                    }

                    eachChild(e) {
                        e(this.index), e(this.input)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class Js {
                    constructor(e, r) {
                        this.type = je, this.needle = e, this.haystack = r
                    }

                    static parse(e, r) {
                        if (3 !== e.length) return r.error(`Expected 2 arguments, but found ${e.length - 1} instead.`);
                        const s = r.parse(e[1], 1, $e), c = r.parse(e[2], 2, $e);
                        return s && c ? an(s.type, [je, Oe, fe, Be, $e]) ? new Js(s, c) : r.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(s.type)} instead`) : null
                    }

                    evaluate(e) {
                        const r = this.needle.evaluate(e), s = this.haystack.evaluate(e);
                        if (!s) return !1;
                        if (!it(r, ["boolean", "string", "number", "null"])) throw new D(`Expected first argument to be of type boolean, string, number or null, but found ${mt(L(r))} instead.`);
                        if (!it(s, ["string", "array"])) throw new D(`Expected second argument to be of type array or string, but found ${mt(L(s))} instead.`);
                        return s.indexOf(r) >= 0
                    }

                    eachChild(e) {
                        e(this.needle), e(this.haystack)
                    }

                    outputDefined() {
                        return !0
                    }
                }

                class ns {
                    constructor(e, r, s) {
                        this.type = fe, this.needle = e, this.haystack = r, this.fromIndex = s
                    }

                    static parse(e, r) {
                        if (e.length <= 2 || e.length >= 5) return r.error(`Expected 3 or 4 arguments, but found ${e.length - 1} instead.`);
                        const s = r.parse(e[1], 1, $e), c = r.parse(e[2], 2, $e);
                        if (!s || !c) return null;
                        if (!an(s.type, [je, Oe, fe, Be, $e])) return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(s.type)} instead`);
                        if (4 === e.length) {
                            const u = r.parse(e[3], 3, fe);
                            return u ? new ns(s, c, u) : null
                        }
                        return new ns(s, c)
                    }

                    evaluate(e) {
                        const r = this.needle.evaluate(e), s = this.haystack.evaluate(e);
                        if (!it(r, ["boolean", "string", "number", "null"])) throw new D(`Expected first argument to be of type boolean, string, number or null, but found ${mt(L(r))} instead.`);
                        if (!it(s, ["string", "array"])) throw new D(`Expected second argument to be of type array or string, but found ${mt(L(s))} instead.`);
                        if (this.fromIndex) {
                            const c = this.fromIndex.evaluate(e);
                            return s.indexOf(r, c)
                        }
                        return s.indexOf(r)
                    }

                    eachChild(e) {
                        e(this.needle), e(this.haystack), this.fromIndex && e(this.fromIndex)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class On {
                    constructor(e, r, s, c, u, d) {
                        this.inputType = e, this.type = r, this.input = s, this.cases = c, this.outputs = u, this.otherwise = d
                    }

                    static parse(e, r) {
                        if (e.length < 5) return r.error(`Expected at least 4 arguments, but found only ${e.length - 1}.`);
                        if (e.length % 2 != 1) return r.error("Expected an even number of arguments.");
                        let s, c;
                        r.expectedType && "value" !== r.expectedType.kind && (c = r.expectedType);
                        const u = {}, d = [];
                        for (let v = 2; v < e.length - 1; v += 2) {
                            let w = e[v];
                            const T = e[v + 1];
                            Array.isArray(w) || (w = [w]);
                            const A = r.concat(v);
                            if (0 === w.length) return A.error("Expected at least one branch label.");
                            for (const k of w) {
                                if ("number" != typeof k && "string" != typeof k) return A.error("Branch labels must be numbers or strings.");
                                if ("number" == typeof k && Math.abs(k) > Number.MAX_SAFE_INTEGER) return A.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);
                                if ("number" == typeof k && Math.floor(k) !== k) return A.error("Numeric branch labels must be integer values.");
                                if (s) {
                                    if (A.checkSubtype(s, L(k))) return null
                                } else s = L(k);
                                if (void 0 !== u[String(k)]) return A.error("Branch labels must be unique.");
                                u[String(k)] = d.length
                            }
                            const z = r.parse(T, v, c);
                            if (!z) return null;
                            c = c || z.type, d.push(z)
                        }
                        const f = r.parse(e[1], 1, $e);
                        if (!f) return null;
                        const _ = r.parse(e[e.length - 1], e.length - 1, c);
                        return _ ? "value" !== f.type.kind && r.concat(1).checkSubtype(s, f.type) ? null : new On(s, c, f, u, d, _) : null
                    }

                    evaluate(e) {
                        const r = this.input.evaluate(e);
                        return (L(r) === this.inputType && this.outputs[this.cases[r]] || this.otherwise).evaluate(e)
                    }

                    eachChild(e) {
                        e(this.input), this.outputs.forEach(e), e(this.otherwise)
                    }

                    outputDefined() {
                        return this.outputs.every(e => e.outputDefined()) && this.otherwise.outputDefined()
                    }
                }

                class Qs {
                    constructor(e, r, s) {
                        this.type = e, this.branches = r, this.otherwise = s
                    }

                    static parse(e, r) {
                        if (e.length < 4) return r.error(`Expected at least 3 arguments, but found only ${e.length - 1}.`);
                        if (e.length % 2 != 0) return r.error("Expected an odd number of arguments.");
                        let s;
                        r.expectedType && "value" !== r.expectedType.kind && (s = r.expectedType);
                        const c = [];
                        for (let d = 1; d < e.length - 1; d += 2) {
                            const f = r.parse(e[d], d, je);
                            if (!f) return null;
                            const _ = r.parse(e[d + 1], d + 1, s);
                            if (!_) return null;
                            c.push([f, _]), s = s || _.type
                        }
                        const u = r.parse(e[e.length - 1], e.length - 1, s);
                        if (!u) return null;
                        if (!s) throw new Error("Can't infer output type");
                        return new Qs(s, c, u)
                    }

                    evaluate(e) {
                        for (const [r, s] of this.branches) if (r.evaluate(e)) return s.evaluate(e);
                        return this.otherwise.evaluate(e)
                    }

                    eachChild(e) {
                        for (const [r, s] of this.branches) e(r), e(s);
                        e(this.otherwise)
                    }

                    outputDefined() {
                        return this.branches.every(([e, r]) => r.outputDefined()) && this.otherwise.outputDefined()
                    }
                }

                class ss {
                    constructor(e, r, s, c) {
                        this.type = e, this.input = r, this.beginIndex = s, this.endIndex = c
                    }

                    static parse(e, r) {
                        if (e.length <= 2 || e.length >= 5) return r.error(`Expected 3 or 4 arguments, but found ${e.length - 1} instead.`);
                        const s = r.parse(e[1], 1, $e), c = r.parse(e[2], 2, fe);
                        if (!s || !c) return null;
                        if (!an(s.type, [di($e), Oe, $e])) return r.error(`Expected first argument to be of type array or string, but found ${mt(s.type)} instead`);
                        if (4 === e.length) {
                            const u = r.parse(e[3], 3, fe);
                            return u ? new ss(s.type, s, c, u) : null
                        }
                        return new ss(s.type, s, c)
                    }

                    evaluate(e) {
                        const r = this.input.evaluate(e), s = this.beginIndex.evaluate(e);
                        if (!it(r, ["string", "array"])) throw new D(`Expected first argument to be of type array or string, but found ${mt(L(r))} instead.`);
                        if (this.endIndex) {
                            const c = this.endIndex.evaluate(e);
                            return r.slice(s, c)
                        }
                        return r.slice(s)
                    }

                    eachChild(e) {
                        e(this.input), e(this.beginIndex), this.endIndex && e(this.endIndex)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                function ha(i, e) {
                    return "==" === i || "!=" === i ? "boolean" === e.kind || "string" === e.kind || "number" === e.kind || "null" === e.kind || "value" === e.kind : "string" === e.kind || "number" === e.kind || "value" === e.kind
                }

                function eo(i, e, r, s) {
                    return 0 === s.compare(e, r)
                }

                function jr(i, e, r) {
                    const s = "==" !== i && "!=" !== i;
                    return class _h {
                        constructor(u, d, f) {
                            this.type = je, this.lhs = u, this.rhs = d, this.collator = f, this.hasUntypedArgument = "value" === u.type.kind || "value" === d.type.kind
                        }

                        static parse(u, d) {
                            if (3 !== u.length && 4 !== u.length) return d.error("Expected two or three arguments.");
                            const f = u[0];
                            let _ = d.parse(u[1], 1, $e);
                            if (!_) return null;
                            if (!ha(f, _.type)) return d.concat(1).error(`"${f}" comparisons are not supported for type '${mt(_.type)}'.`);
                            let v = d.parse(u[2], 2, $e);
                            if (!v) return null;
                            if (!ha(f, v.type)) return d.concat(2).error(`"${f}" comparisons are not supported for type '${mt(v.type)}'.`);
                            if (_.type.kind !== v.type.kind && "value" !== _.type.kind && "value" !== v.type.kind) return d.error(`Cannot compare types '${mt(_.type)}' and '${mt(v.type)}'.`);
                            s && ("value" === _.type.kind && "value" !== v.type.kind ? _ = new Z(v.type, [_]) : "value" !== _.type.kind && "value" === v.type.kind && (v = new Z(_.type, [v])));
                            let w = null;
                            if (4 === u.length) {
                                if ("string" !== _.type.kind && "string" !== v.type.kind && "value" !== _.type.kind && "value" !== v.type.kind) return d.error("Cannot use collator to compare non-string types.");
                                if (w = d.parse(u[3], 3, Sr), !w) return null
                            }
                            return new _h(_, v, w)
                        }

                        evaluate(u) {
                            const d = this.lhs.evaluate(u), f = this.rhs.evaluate(u);
                            if (s && this.hasUntypedArgument) {
                                const _ = L(d), v = L(f);
                                if (_.kind !== v.kind || "string" !== _.kind && "number" !== _.kind) throw new D(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${_.kind}, ${v.kind}) instead.`)
                            }
                            if (this.collator && !s && this.hasUntypedArgument) {
                                const _ = L(d), v = L(f);
                                if ("string" !== _.kind || "string" !== v.kind) return e(u, d, f)
                            }
                            return this.collator ? r(u, d, f, this.collator.evaluate(u)) : e(u, d, f)
                        }

                        eachChild(u) {
                            u(this.lhs), u(this.rhs), this.collator && u(this.collator)
                        }

                        outputDefined() {
                            return !0
                        }
                    }
                }

                const sl = jr("==", function (i, e, r) {
                    return e === r
                }, eo), ol = jr("!=", function (i, e, r) {
                    return e !== r
                }, function (i, e, r, s) {
                    return !eo(0, e, r, s)
                }), ua = jr("<", function (i, e, r) {
                    return e < r
                }, function (i, e, r, s) {
                    return s.compare(e, r) < 0
                }), pa = jr(">", function (i, e, r) {
                    return e > r
                }, function (i, e, r, s) {
                    return s.compare(e, r) > 0
                }), al = jr("<=", function (i, e, r) {
                    return e <= r
                }, function (i, e, r, s) {
                    return s.compare(e, r) <= 0
                }), ll = jr(">=", function (i, e, r) {
                    return e >= r
                }, function (i, e, r, s) {
                    return s.compare(e, r) >= 0
                });

                class to {
                    constructor(e, r, s, c, u) {
                        this.type = Oe, this.number = e, this.locale = r, this.currency = s, this.minFractionDigits = c, this.maxFractionDigits = u
                    }

                    static parse(e, r) {
                        if (3 !== e.length) return r.error("Expected two arguments.");
                        const s = r.parse(e[1], 1, fe);
                        if (!s) return null;
                        const c = e[2];
                        if ("object" != typeof c || Array.isArray(c)) return r.error("NumberFormat options argument must be an object.");
                        let u = null;
                        if (c.locale && (u = r.parse(c.locale, 1, Oe), !u)) return null;
                        let d = null;
                        if (c.currency && (d = r.parse(c.currency, 1, Oe), !d)) return null;
                        let f = null;
                        if (c["min-fraction-digits"] && (f = r.parse(c["min-fraction-digits"], 1, fe), !f)) return null;
                        let _ = null;
                        return c["max-fraction-digits"] && (_ = r.parse(c["max-fraction-digits"], 1, fe), !_) ? null : new to(s, u, d, f, _)
                    }

                    evaluate(e) {
                        return new Intl.NumberFormat(this.locale ? this.locale.evaluate(e) : [], {
                            style: this.currency ? "currency" : "decimal",
                            currency: this.currency ? this.currency.evaluate(e) : void 0,
                            minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(e) : void 0,
                            maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(e) : void 0
                        }).format(this.number.evaluate(e))
                    }

                    eachChild(e) {
                        e(this.number), this.locale && e(this.locale), this.currency && e(this.currency), this.minFractionDigits && e(this.minFractionDigits), this.maxFractionDigits && e(this.maxFractionDigits)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class os {
                    constructor(e) {
                        this.type = ri, this.sections = e
                    }

                    static parse(e, r) {
                        if (e.length < 2) return r.error("Expected at least one argument.");
                        const s = e[1];
                        if (!Array.isArray(s) && "object" == typeof s) return r.error("First argument must be an image or text section.");
                        const c = [];
                        let u = !1;
                        for (let d = 1; d <= e.length - 1; ++d) {
                            const f = e[d];
                            if (u && "object" == typeof f && !Array.isArray(f)) {
                                u = !1;
                                let _ = null;
                                if (f["font-scale"] && (_ = r.parse(f["font-scale"], 1, fe), !_)) return null;
                                let v = null;
                                if (f["text-font"] && (v = r.parse(f["text-font"], 1, di(Oe)), !v)) return null;
                                let w = null;
                                if (f["text-color"] && (w = r.parse(f["text-color"], 1, Yt), !w)) return null;
                                const T = c[c.length - 1];
                                T.scale = _, T.font = v, T.textColor = w
                            } else {
                                const _ = r.parse(e[d], 1, $e);
                                if (!_) return null;
                                const v = _.type.kind;
                                if ("string" !== v && "value" !== v && "null" !== v && "resolvedImage" !== v) return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
                                u = !0, c.push({content: _, scale: null, font: null, textColor: null})
                            }
                        }
                        return new os(c)
                    }

                    evaluate(e) {
                        return new ei(this.sections.map(r => {
                            const s = r.content.evaluate(e);
                            return L(s) === Ei ? new Fi("", s, null, null, null) : new Fi(I(s), null, r.scale ? r.scale.evaluate(e) : null, r.font ? r.font.evaluate(e).join(",") : null, r.textColor ? r.textColor.evaluate(e) : null)
                        }))
                    }

                    eachChild(e) {
                        for (const r of this.sections) e(r.content), r.scale && e(r.scale), r.font && e(r.font), r.textColor && e(r.textColor)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class io {
                    constructor(e) {
                        this.type = Ei, this.input = e
                    }

                    static parse(e, r) {
                        if (2 !== e.length) return r.error("Expected two arguments.");
                        const s = r.parse(e[1], 1, Oe);
                        return s ? new io(s) : r.error("No image name provided.")
                    }

                    evaluate(e) {
                        const r = this.input.evaluate(e), s = mi.fromString(r);
                        return s && e.availableImages && (s.available = e.availableImages.indexOf(r) > -1), s
                    }

                    eachChild(e) {
                        e(this.input)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                class ro {
                    constructor(e) {
                        this.type = fe, this.input = e
                    }

                    static parse(e, r) {
                        if (2 !== e.length) return r.error(`Expected 1 argument, but found ${e.length - 1} instead.`);
                        const s = r.parse(e[1], 1);
                        return s ? "array" !== s.type.kind && "string" !== s.type.kind && "value" !== s.type.kind ? r.error(`Expected argument of type string or array, but found ${mt(s.type)} instead.`) : new ro(s) : null
                    }

                    evaluate(e) {
                        const r = this.input.evaluate(e);
                        if ("string" == typeof r || Array.isArray(r)) return r.length;
                        throw new D(`Expected value to be of type string or array, but found ${mt(L(r))} instead.`)
                    }

                    eachChild(e) {
                        e(this.input)
                    }

                    outputDefined() {
                        return !1
                    }
                }

                const mn = {
                    "==": sl,
                    "!=": ol,
                    ">": pa,
                    "<": ua,
                    ">=": ll,
                    "<=": al,
                    array: Z,
                    at: rs,
                    boolean: Z,
                    case: Qs,
                    coalesce: is,
                    collator: me,
                    format: os,
                    image: io,
                    in: Js,
                    "index-of": ns,
                    interpolate: Mi,
                    "interpolate-hcl": Mi,
                    "interpolate-lab": Mi,
                    length: ro,
                    let: Fn,
                    literal: E,
                    match: On,
                    number: Z,
                    "number-format": to,
                    object: Z,
                    slice: ss,
                    step: Ln,
                    string: Z,
                    "to-boolean": j,
                    "to-color": j,
                    "to-number": j,
                    "to-string": j,
                    var: Qn,
                    within: Zr
                };

                function ct(i, [e, r, s, c]) {
                    e = e.evaluate(i), r = r.evaluate(i), s = s.evaluate(i);
                    const u = c ? c.evaluate(i) : 1, d = fi(e, r, s, u);
                    if (d) throw new D(d);
                    return new lt(e / 255 * u, r / 255 * u, s / 255 * u, u)
                }

                function da(i, e) {
                    return i in e
                }

                function no(i, e) {
                    const r = e[i];
                    return void 0 === r ? null : r
                }

                function qr(i) {
                    return {type: i}
                }

                function ma(i) {
                    return {result: "success", value: i}
                }

                function fn(i) {
                    return {result: "error", value: i}
                }

                function gn(i) {
                    return "data-driven" === i["property-type"] || "cross-faded-data-driven" === i["property-type"]
                }

                function fa(i) {
                    return !!i.expression && i.expression.parameters.indexOf("zoom") > -1
                }

                function so(i) {
                    return !!i.expression && i.expression.interpolated
                }

                function _t(i) {
                    return i instanceof Number ? "number" : i instanceof String ? "string" : i instanceof Boolean ? "boolean" : Array.isArray(i) ? "array" : null === i ? "null" : typeof i
                }

                function as(i) {
                    return "object" == typeof i && null !== i && !Array.isArray(i)
                }

                function cl(i) {
                    return i
                }

                function ga(i, e) {
                    const r = "color" === e.type, s = i.stops && "object" == typeof i.stops[0][0],
                        c = s || !(s || void 0 !== i.property), u = i.type || (so(e) ? "exponential" : "interval");
                    if (r || "padding" === e.type) {
                        const v = r ? lt.parse : Jt.parse;
                        (i = xe({}, i)).stops && (i.stops = i.stops.map(w => [w[0], v(w[1])])), i.default = v(i.default ? i.default : e.default)
                    }
                    if (i.colorSpace && "rgb" !== i.colorSpace && !ca[i.colorSpace]) throw new Error(`Unknown color space: ${i.colorSpace}`);
                    let d, f, _;
                    if ("exponential" === u) d = _a; else if ("interval" === u) d = ul; else if ("categorical" === u) {
                        d = hl, f = Object.create(null);
                        for (const v of i.stops) f[v[0]] = v[1];
                        _ = typeof i.stops[0][0]
                    } else {
                        if ("identity" !== u) throw new Error(`Unknown function type "${u}"`);
                        d = pl
                    }
                    if (s) {
                        const v = {}, w = [];
                        for (let z = 0; z < i.stops.length; z++) {
                            const k = i.stops[z], N = k[0].zoom;
                            void 0 === v[N] && (v[N] = {
                                zoom: N,
                                type: i.type,
                                property: i.property,
                                default: i.default,
                                stops: []
                            }, w.push(N)), v[N].stops.push([k[0].value, k[1]])
                        }
                        const T = [];
                        for (const z of w) T.push([v[z].zoom, ga(v[z], e)]);
                        const A = {name: "linear"};
                        return {
                            kind: "composite",
                            interpolationType: A,
                            interpolationFactor: Mi.interpolationFactor.bind(void 0, A),
                            zoomStops: T.map(z => z[0]),
                            evaluate: ({zoom: z}, k) => _a({stops: T, base: i.base}, e, z).evaluate(z, k)
                        }
                    }
                    if (c) {
                        const v = "exponential" === u ? {
                            name: "exponential",
                            base: void 0 !== i.base ? i.base : 1
                        } : null;
                        return {
                            kind: "camera",
                            interpolationType: v,
                            interpolationFactor: Mi.interpolationFactor.bind(void 0, v),
                            zoomStops: i.stops.map(w => w[0]),
                            evaluate: ({zoom: w}) => d(i, e, w, f, _)
                        }
                    }
                    return {
                        kind: "source", evaluate(v, w) {
                            const T = w && w.properties ? w.properties[i.property] : void 0;
                            return void 0 === T ? Un(i.default, e.default) : d(i, e, T, f, _)
                        }
                    }
                }

                function Un(i, e, r) {
                    return void 0 !== i ? i : void 0 !== e ? e : void 0 !== r ? r : void 0
                }

                function hl(i, e, r, s, c) {
                    return Un(typeof r === c ? s[r] : void 0, i.default, e.default)
                }

                function ul(i, e, r) {
                    if ("number" !== _t(r)) return Un(i.default, e.default);
                    const s = i.stops.length;
                    if (1 === s || r <= i.stops[0][0]) return i.stops[0][1];
                    if (r >= i.stops[s - 1][0]) return i.stops[s - 1][1];
                    const c = es(i.stops.map(u => u[0]), r);
                    return i.stops[c][1]
                }

                function _a(i, e, r) {
                    const s = void 0 !== i.base ? i.base : 1;
                    if ("number" !== _t(r)) return Un(i.default, e.default);
                    const c = i.stops.length;
                    if (1 === c || r <= i.stops[0][0]) return i.stops[0][1];
                    if (r >= i.stops[c - 1][0]) return i.stops[c - 1][1];
                    const u = es(i.stops.map(w => w[0]), r), d = function (w, T, A, z) {
                        const k = z - A, N = w - A;
                        return 0 === k ? 0 : 1 === T ? N / k : (Math.pow(T, N) - 1) / (Math.pow(T, k) - 1)
                    }(r, s, i.stops[u][0], i.stops[u + 1][0]), f = i.stops[u][1], _ = i.stops[u + 1][1];
                    let v = Gr[e.type] || cl;
                    if (i.colorSpace && "rgb" !== i.colorSpace) {
                        const w = ca[i.colorSpace];
                        v = (T, A) => w.reverse(w.interpolate(w.forward(T), w.forward(A), d))
                    }
                    return "function" == typeof f.evaluate ? {
                        evaluate(...w) {
                            const T = f.evaluate.apply(void 0, w), A = _.evaluate.apply(void 0, w);
                            if (void 0 !== T && void 0 !== A) return v(T, A, d)
                        }
                    } : v(f, _, d)
                }

                function pl(i, e, r) {
                    switch (e.type) {
                        case"color":
                            r = lt.parse(r);
                            break;
                        case"formatted":
                            r = ei.fromString(r.toString());
                            break;
                        case"resolvedImage":
                            r = mi.fromString(r.toString());
                            break;
                        case"padding":
                            r = Jt.parse(r);
                            break;
                        default:
                            _t(r) === e.type || "enum" === e.type && e.values[r] || (r = void 0)
                    }
                    return Un(r, i.default, e.default)
                }

                ne.register(mn, {
                    error: [{kind: "error"}, [Oe], (i, [e]) => {
                        throw new D(e.evaluate(i))
                    }],
                    typeof: [Oe, [$e], (i, [e]) => mt(L(e.evaluate(i)))],
                    "to-rgba": [di(fe, 4), [Yt], (i, [e]) => e.evaluate(i).toArray()],
                    rgb: [Yt, [fe, fe, fe], ct],
                    rgba: [Yt, [fe, fe, fe, fe], ct],
                    has: {
                        type: je,
                        overloads: [[[Oe], (i, [e]) => da(e.evaluate(i), i.properties())], [[Oe, Bi], (i, [e, r]) => da(e.evaluate(i), r.evaluate(i))]]
                    },
                    get: {
                        type: $e,
                        overloads: [[[Oe], (i, [e]) => no(e.evaluate(i), i.properties())], [[Oe, Bi], (i, [e, r]) => no(e.evaluate(i), r.evaluate(i))]]
                    },
                    "feature-state": [$e, [Oe], (i, [e]) => no(e.evaluate(i), i.featureState || {})],
                    properties: [Bi, [], i => i.properties()],
                    "geometry-type": [Oe, [], i => i.geometryType()],
                    id: [$e, [], i => i.id()],
                    zoom: [fe, [], i => i.globals.zoom],
                    "heatmap-density": [fe, [], i => i.globals.heatmapDensity || 0],
                    "line-progress": [fe, [], i => i.globals.lineProgress || 0],
                    accumulated: [$e, [], i => void 0 === i.globals.accumulated ? null : i.globals.accumulated],
                    "+": [fe, qr(fe), (i, e) => {
                        let r = 0;
                        for (const s of e) r += s.evaluate(i);
                        return r
                    }],
                    "*": [fe, qr(fe), (i, e) => {
                        let r = 1;
                        for (const s of e) r *= s.evaluate(i);
                        return r
                    }],
                    "-": {
                        type: fe,
                        overloads: [[[fe, fe], (i, [e, r]) => e.evaluate(i) - r.evaluate(i)], [[fe], (i, [e]) => -e.evaluate(i)]]
                    },
                    "/": [fe, [fe, fe], (i, [e, r]) => e.evaluate(i) / r.evaluate(i)],
                    "%": [fe, [fe, fe], (i, [e, r]) => e.evaluate(i) % r.evaluate(i)],
                    ln2: [fe, [], () => Math.LN2],
                    pi: [fe, [], () => Math.PI],
                    e: [fe, [], () => Math.E],
                    "^": [fe, [fe, fe], (i, [e, r]) => Math.pow(e.evaluate(i), r.evaluate(i))],
                    sqrt: [fe, [fe], (i, [e]) => Math.sqrt(e.evaluate(i))],
                    log10: [fe, [fe], (i, [e]) => Math.log(e.evaluate(i)) / Math.LN10],
                    ln: [fe, [fe], (i, [e]) => Math.log(e.evaluate(i))],
                    log2: [fe, [fe], (i, [e]) => Math.log(e.evaluate(i)) / Math.LN2],
                    sin: [fe, [fe], (i, [e]) => Math.sin(e.evaluate(i))],
                    cos: [fe, [fe], (i, [e]) => Math.cos(e.evaluate(i))],
                    tan: [fe, [fe], (i, [e]) => Math.tan(e.evaluate(i))],
                    asin: [fe, [fe], (i, [e]) => Math.asin(e.evaluate(i))],
                    acos: [fe, [fe], (i, [e]) => Math.acos(e.evaluate(i))],
                    atan: [fe, [fe], (i, [e]) => Math.atan(e.evaluate(i))],
                    min: [fe, qr(fe), (i, e) => Math.min(...e.map(r => r.evaluate(i)))],
                    max: [fe, qr(fe), (i, e) => Math.max(...e.map(r => r.evaluate(i)))],
                    abs: [fe, [fe], (i, [e]) => Math.abs(e.evaluate(i))],
                    round: [fe, [fe], (i, [e]) => {
                        const r = e.evaluate(i);
                        return r < 0 ? -Math.round(-r) : Math.round(r)
                    }],
                    floor: [fe, [fe], (i, [e]) => Math.floor(e.evaluate(i))],
                    ceil: [fe, [fe], (i, [e]) => Math.ceil(e.evaluate(i))],
                    "filter-==": [je, [Oe, $e], (i, [e, r]) => i.properties()[e.value] === r.value],
                    "filter-id-==": [je, [$e], (i, [e]) => i.id() === e.value],
                    "filter-type-==": [je, [Oe], (i, [e]) => i.geometryType() === e.value],
                    "filter-<": [je, [Oe, $e], (i, [e, r]) => {
                        const s = i.properties()[e.value], c = r.value;
                        return typeof s == typeof c && s < c
                    }],
                    "filter-id-<": [je, [$e], (i, [e]) => {
                        const r = i.id(), s = e.value;
                        return typeof r == typeof s && r < s
                    }],
                    "filter->": [je, [Oe, $e], (i, [e, r]) => {
                        const s = i.properties()[e.value], c = r.value;
                        return typeof s == typeof c && s > c
                    }],
                    "filter-id->": [je, [$e], (i, [e]) => {
                        const r = i.id(), s = e.value;
                        return typeof r == typeof s && r > s
                    }],
                    "filter-<=": [je, [Oe, $e], (i, [e, r]) => {
                        const s = i.properties()[e.value], c = r.value;
                        return typeof s == typeof c && s <= c
                    }],
                    "filter-id-<=": [je, [$e], (i, [e]) => {
                        const r = i.id(), s = e.value;
                        return typeof r == typeof s && r <= s
                    }],
                    "filter->=": [je, [Oe, $e], (i, [e, r]) => {
                        const s = i.properties()[e.value], c = r.value;
                        return typeof s == typeof c && s >= c
                    }],
                    "filter-id->=": [je, [$e], (i, [e]) => {
                        const r = i.id(), s = e.value;
                        return typeof r == typeof s && r >= s
                    }],
                    "filter-has": [je, [$e], (i, [e]) => e.value in i.properties()],
                    "filter-has-id": [je, [], i => null !== i.id() && void 0 !== i.id()],
                    "filter-type-in": [je, [di(Oe)], (i, [e]) => e.value.indexOf(i.geometryType()) >= 0],
                    "filter-id-in": [je, [di($e)], (i, [e]) => e.value.indexOf(i.id()) >= 0],
                    "filter-in-small": [je, [Oe, di($e)], (i, [e, r]) => r.value.indexOf(i.properties()[e.value]) >= 0],
                    "filter-in-large": [je, [Oe, di($e)], (i, [e, r]) => function (s, c, u, d) {
                        for (; u <= d;) {
                            const f = u + d >> 1;
                            if (c[f] === s) return !0;
                            c[f] > s ? d = f - 1 : u = f + 1
                        }
                        return !1
                    }(i.properties()[e.value], r.value, 0, r.value.length - 1)],
                    all: {
                        type: je,
                        overloads: [[[je, je], (i, [e, r]) => e.evaluate(i) && r.evaluate(i)], [qr(je), (i, e) => {
                            for (const r of e) if (!r.evaluate(i)) return !1;
                            return !0
                        }]]
                    },
                    any: {
                        type: je,
                        overloads: [[[je, je], (i, [e, r]) => e.evaluate(i) || r.evaluate(i)], [qr(je), (i, e) => {
                            for (const r of e) if (r.evaluate(i)) return !0;
                            return !1
                        }]]
                    },
                    "!": [je, [je], (i, [e]) => !e.evaluate(i)],
                    "is-supported-script": [je, [Oe], (i, [e]) => {
                        const r = i.globals && i.globals.isSupportedScript;
                        return !r || r(e.evaluate(i))
                    }],
                    upcase: [Oe, [Oe], (i, [e]) => e.evaluate(i).toUpperCase()],
                    downcase: [Oe, [Oe], (i, [e]) => e.evaluate(i).toLowerCase()],
                    concat: [Oe, qr($e), (i, e) => e.map(r => I(r.evaluate(i))).join("")],
                    "resolved-locale": [Oe, [Sr], (i, [e]) => e.evaluate(i).resolvedLocale()]
                });

                class oo {
                    constructor(e, r) {
                        var s;
                        this.expression = e, this._warningHistory = {}, this._evaluator = new Y, this._defaultValue = r ? "color" === (s = r).type && as(s.default) ? new lt(0, 0, 0, 0) : "color" === s.type ? lt.parse(s.default) || null : "padding" === s.type ? Jt.parse(s.default) || null : void 0 === s.default ? null : s.default : null, this._enumValues = r && "enum" === r.type ? r.values : null
                    }

                    evaluateWithoutErrorHandling(e, r, s, c, u, d) {
                        return this._evaluator.globals = e, this._evaluator.feature = r, this._evaluator.featureState = s, this._evaluator.canonical = c, this._evaluator.availableImages = u || null, this._evaluator.formattedSection = d, this.expression.evaluate(this._evaluator)
                    }

                    evaluate(e, r, s, c, u, d) {
                        this._evaluator.globals = e, this._evaluator.feature = r || null, this._evaluator.featureState = s || null, this._evaluator.canonical = c, this._evaluator.availableImages = u || null, this._evaluator.formattedSection = d || null;
                        try {
                            const f = this.expression.evaluate(this._evaluator);
                            if (null == f || "number" == typeof f && f != f) return this._defaultValue;
                            if (this._enumValues && !(f in this._enumValues)) throw new D(`Expected value to be one of ${Object.keys(this._enumValues).map(_ => JSON.stringify(_)).join(", ")}, but found ${JSON.stringify(f)} instead.`);
                            return f
                        } catch (f) {
                            return this._warningHistory[f.message] || (this._warningHistory[f.message] = !0, typeof console < "u" && console.warn(f.message)), this._defaultValue
                        }
                    }
                }

                function ls(i) {
                    return Array.isArray(i) && i.length > 0 && "string" == typeof i[0] && i[0] in mn
                }

                function cs(i, e) {
                    const r = new un(mn, [], e ? function (c) {
                            const u = {
                                color: Yt,
                                string: Oe,
                                number: fe,
                                enum: Oe,
                                boolean: je,
                                formatted: ri,
                                padding: Ur,
                                resolvedImage: Ei
                            };
                            return "array" === c.type ? di(u[c.value] || $e, c.length) : u[c.type]
                        }(e) : void 0),
                        s = r.parse(i, void 0, void 0, void 0, e && "string" === e.type ? {typeAnnotation: "coerce"} : void 0);
                    return s ? ma(new oo(s, e)) : fn(r.errors)
                }

                class ao {
                    constructor(e, r) {
                        this.kind = e, this._styleExpression = r, this.isStateDependent = "constant" !== e && !hn(r.expression)
                    }

                    evaluateWithoutErrorHandling(e, r, s, c, u, d) {
                        return this._styleExpression.evaluateWithoutErrorHandling(e, r, s, c, u, d)
                    }

                    evaluate(e, r, s, c, u, d) {
                        return this._styleExpression.evaluate(e, r, s, c, u, d)
                    }
                }

                class lo {
                    constructor(e, r, s, c) {
                        this.kind = e, this.zoomStops = s, this._styleExpression = r, this.isStateDependent = "camera" !== e && !hn(r.expression), this.interpolationType = c
                    }

                    evaluateWithoutErrorHandling(e, r, s, c, u, d) {
                        return this._styleExpression.evaluateWithoutErrorHandling(e, r, s, c, u, d)
                    }

                    evaluate(e, r, s, c, u, d) {
                        return this._styleExpression.evaluate(e, r, s, c, u, d)
                    }

                    interpolationFactor(e, r, s) {
                        return this.interpolationType ? Mi.interpolationFactor(this.interpolationType, e, r, s) : 0
                    }
                }

                function ya(i, e) {
                    const r = cs(i, e);
                    if ("error" === r.result) return r;
                    const s = r.value.expression, c = Jn(s);
                    if (!c && !gn(e)) return fn([new F("", "data expressions not supported")]);
                    const u = Ir(s, ["zoom"]);
                    if (!u && !fa(e)) return fn([new F("", "zoom expressions not supported")]);
                    const d = us(s);
                    return d || u ? d instanceof F ? fn([d]) : d instanceof Mi && !so(e) ? fn([new F("", '"interpolate" expressions cannot be used with this property')]) : ma(d ? new lo(c ? "camera" : "composite", r.value, d.labels, d instanceof Mi ? d.interpolation : void 0) : new ao(c ? "constant" : "source", r.value)) : fn([new F("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])
                }

                class hs {
                    constructor(e, r) {
                        this._parameters = e, this._specification = r, xe(this, ga(this._parameters, this._specification))
                    }

                    static deserialize(e) {
                        return new hs(e._parameters, e._specification)
                    }

                    static serialize(e) {
                        return {_parameters: e._parameters, _specification: e._specification}
                    }
                }

                function us(i) {
                    let e = null;
                    if (i instanceof Fn) e = us(i.result); else if (i instanceof is) {
                        for (const r of i.args) if (e = us(r), e) break
                    } else (i instanceof Ln || i instanceof Mi) && i.input instanceof ne && "zoom" === i.input.name && (e = i);
                    return e instanceof F || i.eachChild(r => {
                        const s = us(r);
                        s instanceof F ? e = s : !e && s ? e = new F("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : e && s && e !== s && (e = new F("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))
                    }), e
                }

                function Ui(i) {
                    const e = i.key, r = i.value, s = i.valueSpec || {}, c = i.objectElementValidators || {},
                        u = i.style, d = i.styleSpec, f = i.validateSpec;
                    let _ = [];
                    const v = _t(r);
                    if ("object" !== v) return [new be(e, r, `object expected, ${v} found`)];
                    for (const w in r) {
                        const T = w.split(".")[0], A = s[T] || s["*"];
                        let z;
                        if (c[T]) z = c[T]; else if (s[T]) z = f; else if (c["*"]) z = c["*"]; else {
                            if (!s["*"]) {
                                _.push(new be(e, r[w], `unknown property "${w}"`));
                                continue
                            }
                            z = f
                        }
                        _ = _.concat(z({
                            key: (e && `${e}.`) + w,
                            value: r[w],
                            valueSpec: A,
                            style: u,
                            styleSpec: d,
                            object: r,
                            objectKey: w,
                            validateSpec: f
                        }, r))
                    }
                    for (const w in s) c[w] || s[w].required && void 0 === s[w].default && void 0 === r[w] && _.push(new be(e, r, `missing required property "${w}"`));
                    return _
                }

                function xa(i) {
                    const e = i.value, r = i.valueSpec, s = i.style, c = i.styleSpec, u = i.key,
                        d = i.arrayElementValidator || i.validateSpec;
                    if ("array" !== _t(e)) return [new be(u, e, `array expected, ${_t(e)} found`)];
                    if (r.length && e.length !== r.length) return [new be(u, e, `array length ${r.length} expected, length ${e.length} found`)];
                    if (r["min-length"] && e.length < r["min-length"]) return [new be(u, e, `array length at least ${r["min-length"]} expected, length ${e.length} found`)];
                    let f = {type: r.value, values: r.values};
                    c.$version < 7 && (f.function = r.function), "object" === _t(r.value) && (f = r.value);
                    let _ = [];
                    for (let v = 0; v < e.length; v++) _ = _.concat(d({
                        array: e,
                        arrayIndex: v,
                        value: e[v],
                        valueSpec: f,
                        validateSpec: i.validateSpec,
                        style: s,
                        styleSpec: c,
                        key: `${u}[${v}]`
                    }));
                    return _
                }

                function co(i) {
                    const e = i.key, r = i.value, s = i.valueSpec;
                    let c = _t(r);
                    return "number" === c && r != r && (c = "NaN"), "number" !== c ? [new be(e, r, `number expected, ${c} found`)] : "minimum" in s && r < s.minimum ? [new be(e, r, `${r} is less than the minimum value ${s.minimum}`)] : "maximum" in s && r > s.maximum ? [new be(e, r, `${r} is greater than the maximum value ${s.maximum}`)] : []
                }

                function va(i) {
                    const e = i.valueSpec, r = pe(i.value.type);
                    let s, c, u, d = {};
                    const f = "categorical" !== r && void 0 === i.value.property, _ = !f,
                        v = "array" === _t(i.value.stops) && "array" === _t(i.value.stops[0]) && "object" === _t(i.value.stops[0][0]),
                        w = Ui({
                            key: i.key,
                            value: i.value,
                            valueSpec: i.styleSpec.function,
                            validateSpec: i.validateSpec,
                            style: i.style,
                            styleSpec: i.styleSpec,
                            objectElementValidators: {
                                stops: function (z) {
                                    if ("identity" === r) return [new be(z.key, z.value, 'identity function may not have a "stops" property')];
                                    let k = [];
                                    const N = z.value;
                                    return k = k.concat(xa({
                                        key: z.key,
                                        value: N,
                                        valueSpec: z.valueSpec,
                                        validateSpec: z.validateSpec,
                                        style: z.style,
                                        styleSpec: z.styleSpec,
                                        arrayElementValidator: T
                                    })), "array" === _t(N) && 0 === N.length && k.push(new be(z.key, N, "array must have at least one stop")), k
                                }, default: function (z) {
                                    return z.validateSpec({
                                        key: z.key,
                                        value: z.value,
                                        valueSpec: e,
                                        validateSpec: z.validateSpec,
                                        style: z.style,
                                        styleSpec: z.styleSpec
                                    })
                                }
                            }
                        });
                    return "identity" === r && f && w.push(new be(i.key, i.value, 'missing required property "property"')), "identity" === r || i.value.stops || w.push(new be(i.key, i.value, 'missing required property "stops"')), "exponential" === r && i.valueSpec.expression && !so(i.valueSpec) && w.push(new be(i.key, i.value, "exponential functions not supported")), i.styleSpec.$version >= 8 && (_ && !gn(i.valueSpec) ? w.push(new be(i.key, i.value, "property functions not supported")) : f && !fa(i.valueSpec) && w.push(new be(i.key, i.value, "zoom functions not supported"))), "categorical" !== r && !v || void 0 !== i.value.property || w.push(new be(i.key, i.value, '"property" property is required')), w;

                    function T(z) {
                        let k = [];
                        const N = z.value, V = z.key;
                        if ("array" !== _t(N)) return [new be(V, N, `array expected, ${_t(N)} found`)];
                        if (2 !== N.length) return [new be(V, N, `array length 2 expected, length ${N.length} found`)];
                        if (v) {
                            if ("object" !== _t(N[0])) return [new be(V, N, `object expected, ${_t(N[0])} found`)];
                            if (void 0 === N[0].zoom) return [new be(V, N, "object stop key must have zoom")];
                            if (void 0 === N[0].value) return [new be(V, N, "object stop key must have value")];
                            if (u && u > pe(N[0].zoom)) return [new be(V, N[0].zoom, "stop zoom values must appear in ascending order")];
                            pe(N[0].zoom) !== u && (u = pe(N[0].zoom), c = void 0, d = {}), k = k.concat(Ui({
                                key: `${V}[0]`,
                                value: N[0],
                                valueSpec: {zoom: {}},
                                validateSpec: z.validateSpec,
                                style: z.style,
                                styleSpec: z.styleSpec,
                                objectElementValidators: {zoom: co, value: A}
                            }))
                        } else k = k.concat(A({
                            key: `${V}[0]`,
                            value: N[0],
                            valueSpec: {},
                            validateSpec: z.validateSpec,
                            style: z.style,
                            styleSpec: z.styleSpec
                        }, N));
                        return ls(b(N[1])) ? k.concat([new be(`${V}[1]`, N[1], "expressions are not allowed in function stops.")]) : k.concat(z.validateSpec({
                            key: `${V}[1]`,
                            value: N[1],
                            valueSpec: e,
                            validateSpec: z.validateSpec,
                            style: z.style,
                            styleSpec: z.styleSpec
                        }))
                    }

                    function A(z, k) {
                        const N = _t(z.value), V = pe(z.value), K = null !== z.value ? z.value : k;
                        if (s) {
                            if (N !== s) return [new be(z.key, K, `${N} stop domain type must match previous stop domain type ${s}`)]
                        } else s = N;
                        if ("number" !== N && "string" !== N && "boolean" !== N) return [new be(z.key, K, "stop domain value must be a number, string, or boolean")];
                        if ("number" !== N && "categorical" !== r) {
                            let ee = `number expected, ${N} found`;
                            return gn(e) && void 0 === r && (ee += '\nIf you intended to use a categorical function, specify `"type": "categorical"`.'), [new be(z.key, K, ee)]
                        }
                        return "categorical" !== r || "number" !== N || isFinite(V) && Math.floor(V) === V ? "categorical" !== r && "number" === N && void 0 !== c && V < c ? [new be(z.key, K, "stop domain values must appear in ascending order")] : (c = V, "categorical" === r && V in d ? [new be(z.key, K, "stop domain values must be unique")] : (d[V] = !0, [])) : [new be(z.key, K, `integer expected, found ${V}`)]
                    }
                }

                function _n(i) {
                    const e = ("property" === i.expressionContext ? ya : cs)(b(i.value), i.valueSpec);
                    if ("error" === e.result) return e.value.map(s => new be(`${i.key}${s.key}`, i.value, s.message));
                    const r = e.value.expression || e.value._styleExpression.expression;
                    if ("property" === i.expressionContext && "text-font" === i.propertyKey && !r.outputDefined()) return [new be(i.key, i.value, `Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];
                    if ("property" === i.expressionContext && "layout" === i.propertyType && !hn(r)) return [new be(i.key, i.value, '"feature-state" data expressions are not supported with layout properties.')];
                    if ("filter" === i.expressionContext && !hn(r)) return [new be(i.key, i.value, '"feature-state" data expressions are not supported with filters.')];
                    if (i.expressionContext && 0 === i.expressionContext.indexOf("cluster")) {
                        if (!Ir(r, ["zoom", "feature-state"])) return [new be(i.key, i.value, '"zoom" and "feature-state" expressions are not supported with cluster properties.')];
                        if ("cluster-initial" === i.expressionContext && !Jn(r)) return [new be(i.key, i.value, "Feature data expressions are not supported with initial expression part of cluster properties.")]
                    }
                    return []
                }

                function ps(i) {
                    const e = i.key, r = i.value, s = i.valueSpec, c = [];
                    return Array.isArray(s.values) ? -1 === s.values.indexOf(pe(r)) && c.push(new be(e, r, `expected one of [${s.values.join(", ")}], ${JSON.stringify(r)} found`)) : -1 === Object.keys(s.values).indexOf(pe(r)) && c.push(new be(e, r, `expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(r)} found`)), c
                }

                function ds(i) {
                    if (!0 === i || !1 === i) return !0;
                    if (!Array.isArray(i) || 0 === i.length) return !1;
                    switch (i[0]) {
                        case"has":
                            return i.length >= 2 && "$id" !== i[1] && "$type" !== i[1];
                        case"in":
                            return i.length >= 3 && ("string" != typeof i[1] || Array.isArray(i[2]));
                        case"!in":
                        case"!has":
                        case"none":
                            return !1;
                        case"==":
                        case"!=":
                        case">":
                        case">=":
                        case"<":
                        case"<=":
                            return 3 !== i.length || Array.isArray(i[1]) || Array.isArray(i[2]);
                        case"any":
                        case"all":
                            for (const e of i.slice(1)) if (!ds(e) && "boolean" != typeof e) return !1;
                            return !0;
                        default:
                            return !0
                    }
                }

                const dl = {
                    type: "boolean",
                    default: !1,
                    transition: !1,
                    "property-type": "data-driven",
                    expression: {interpolated: !1, parameters: ["zoom", "feature"]}
                };

                function ho(i) {
                    if (null == i) return {filter: () => !0, needGeometry: !1};
                    ds(i) || (i = ms(i));
                    const e = cs(i, dl);
                    if ("error" === e.result) throw new Error(e.value.map(r => `${r.key}: ${r.message}`).join(", "));
                    return {filter: (r, s, c) => e.value.evaluate(r, s, {}, c), needGeometry: Lt(i)}
                }

                function ml(i, e) {
                    return i < e ? -1 : i > e ? 1 : 0
                }

                function Lt(i) {
                    if (!Array.isArray(i)) return !1;
                    if ("within" === i[0]) return !0;
                    for (let e = 1; e < i.length; e++) if (Lt(i[e])) return !0;
                    return !1
                }

                function ms(i) {
                    if (!i) return !0;
                    const e = i[0];
                    return i.length <= 1 ? "any" !== e : "==" === e ? Qe(i[1], i[2], "==") : "!=" === e ? wt(Qe(i[1], i[2], "==")) : "<" === e || ">" === e || "<=" === e || ">=" === e ? Qe(i[1], i[2], e) : "any" === e ? (r = i.slice(1), ["any"].concat(r.map(ms))) : "all" === e ? ["all"].concat(i.slice(1).map(ms)) : "none" === e ? ["all"].concat(i.slice(1).map(ms).map(wt)) : "in" === e ? fs(i[1], i.slice(2)) : "!in" === e ? wt(fs(i[1], i.slice(2))) : "has" === e ? At(i[1]) : "!has" === e ? wt(At(i[1])) : "within" !== e || i;
                    var r
                }

                function Qe(i, e, r) {
                    switch (i) {
                        case"$type":
                            return [`filter-type-${r}`, e];
                        case"$id":
                            return [`filter-id-${r}`, e];
                        default:
                            return [`filter-${r}`, i, e]
                    }
                }

                function fs(i, e) {
                    if (0 === e.length) return !1;
                    switch (i) {
                        case"$type":
                            return ["filter-type-in", ["literal", e]];
                        case"$id":
                            return ["filter-id-in", ["literal", e]];
                        default:
                            return e.length > 200 && !e.some(r => typeof r != typeof e[0]) ? ["filter-in-large", i, ["literal", e.sort(ml)]] : ["filter-in-small", i, ["literal", e]]
                    }
                }

                function At(i) {
                    switch (i) {
                        case"$type":
                            return !0;
                        case"$id":
                            return ["filter-has-id"];
                        default:
                            return ["filter-has", i]
                    }
                }

                function wt(i) {
                    return ["!", i]
                }

                function yn(i) {
                    return ds(b(i.value)) ? _n(xe({}, i, {
                        expressionContext: "filter",
                        valueSpec: {value: "boolean"}
                    })) : uo(i)
                }

                function uo(i) {
                    const e = i.value, r = i.key;
                    if ("array" !== _t(e)) return [new be(r, e, `array expected, ${_t(e)} found`)];
                    const s = i.styleSpec;
                    let c, u = [];
                    if (e.length < 1) return [new be(r, e, "filter array must have at least 1 element")];
                    switch (u = u.concat(ps({
                        key: `${r}[0]`,
                        value: e[0],
                        valueSpec: s.filter_operator,
                        style: i.style,
                        styleSpec: i.styleSpec
                    })), pe(e[0])) {
                        case"<":
                        case"<=":
                        case">":
                        case">=":
                            e.length >= 2 && "$type" === pe(e[1]) && u.push(new be(r, e, `"$type" cannot be use with operator "${e[0]}"`));
                        case"==":
                        case"!=":
                            3 !== e.length && u.push(new be(r, e, `filter array for operator "${e[0]}" must have 3 elements`));
                        case"in":
                        case"!in":
                            e.length >= 2 && (c = _t(e[1]), "string" !== c && u.push(new be(`${r}[1]`, e[1], `string expected, ${c} found`)));
                            for (let d = 2; d < e.length; d++) c = _t(e[d]), "$type" === pe(e[1]) ? u = u.concat(ps({
                                key: `${r}[${d}]`,
                                value: e[d],
                                valueSpec: s.geometry_type,
                                style: i.style,
                                styleSpec: i.styleSpec
                            })) : "string" !== c && "number" !== c && "boolean" !== c && u.push(new be(`${r}[${d}]`, e[d], `string, number, or boolean expected, ${c} found`));
                            break;
                        case"any":
                        case"all":
                        case"none":
                            for (let d = 1; d < e.length; d++) u = u.concat(uo({
                                key: `${r}[${d}]`,
                                value: e[d],
                                style: i.style,
                                styleSpec: i.styleSpec
                            }));
                            break;
                        case"has":
                        case"!has":
                            c = _t(e[1]), 2 !== e.length ? u.push(new be(r, e, `filter array for "${e[0]}" operator must have 2 elements`)) : "string" !== c && u.push(new be(`${r}[1]`, e[1], `string expected, ${c} found`));
                            break;
                        case"within":
                            c = _t(e[1]), 2 !== e.length ? u.push(new be(r, e, `filter array for "${e[0]}" operator must have 2 elements`)) : "object" !== c && u.push(new be(`${r}[1]`, e[1], `object expected, ${c} found`))
                    }
                    return u
                }

                function ba(i, e) {
                    const r = i.key, s = i.validateSpec, c = i.style, u = i.styleSpec, d = i.value, f = i.objectKey,
                        _ = u[`${e}_${i.layerType}`];
                    if (!_) return [];
                    const v = f.match(/^(.*)-transition$/);
                    if ("paint" === e && v && _[v[1]] && _[v[1]].transition) return s({
                        key: r,
                        value: d,
                        valueSpec: u.transition,
                        style: c,
                        styleSpec: u
                    });
                    const w = i.valueSpec || _[f];
                    if (!w) return [new be(r, d, `unknown property "${f}"`)];
                    let T;
                    if ("string" === _t(d) && gn(w) && !w.tokens && (T = /^{([^}]+)}$/.exec(d))) return [new be(r, d, `"${f}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(T[1])} }\`.`)];
                    const A = [];
                    return "symbol" === i.layerType && ("text-field" === f && c && !c.glyphs && A.push(new be(r, d, 'use of "text-field" requires a style "glyphs" property')), "text-font" === f && as(b(d)) && "identity" === pe(d.type) && A.push(new be(r, d, '"text-font" does not support identity functions'))), A.concat(s({
                        key: i.key,
                        value: d,
                        valueSpec: w,
                        style: c,
                        styleSpec: u,
                        expressionContext: "property",
                        propertyType: e,
                        propertyKey: f
                    }))
                }

                function wa(i) {
                    return ba(i, "paint")
                }

                function Sa(i) {
                    return ba(i, "layout")
                }

                function Ca(i) {
                    let e = [];
                    const r = i.value, s = i.key, c = i.style, u = i.styleSpec;
                    r.type || r.ref || e.push(new be(s, r, 'either "type" or "ref" is required'));
                    let d = pe(r.type);
                    const f = pe(r.ref);
                    if (r.id) {
                        const _ = pe(r.id);
                        for (let v = 0; v < i.arrayIndex; v++) {
                            const w = c.layers[v];
                            pe(w.id) === _ && e.push(new be(s, r.id, `duplicate layer id "${r.id}", previously used at line ${w.id.__line__}`))
                        }
                    }
                    if ("ref" in r) {
                        let _;
                        ["type", "source", "source-layer", "filter", "layout"].forEach(v => {
                            v in r && e.push(new be(s, r[v], `"${v}" is prohibited for ref layers`))
                        }), c.layers.forEach(v => {
                            pe(v.id) === f && (_ = v)
                        }), _ ? _.ref ? e.push(new be(s, r.ref, "ref cannot reference another ref layer")) : d = pe(_.type) : e.push(new be(s, r.ref, `ref layer "${f}" not found`))
                    } else if ("background" !== d) if (r.source) {
                        const _ = c.sources && c.sources[r.source], v = _ && pe(_.type);
                        _ ? "vector" === v && "raster" === d ? e.push(new be(s, r.source, `layer "${r.id}" requires a raster source`)) : "raster" === v && "raster" !== d ? e.push(new be(s, r.source, `layer "${r.id}" requires a vector source`)) : "vector" !== v || r["source-layer"] ? "raster-dem" === v && "hillshade" !== d ? e.push(new be(s, r.source, "raster-dem source can only be used with layer type 'hillshade'.")) : "line" !== d || !r.paint || !r.paint["line-gradient"] || "geojson" === v && _.lineMetrics || e.push(new be(s, r, `layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)) : e.push(new be(s, r, `layer "${r.id}" must specify a "source-layer"`)) : e.push(new be(s, r.source, `source "${r.source}" not found`))
                    } else e.push(new be(s, r, 'missing required property "source"'));
                    return e = e.concat(Ui({
                        key: s,
                        value: r,
                        valueSpec: u.layer,
                        style: i.style,
                        styleSpec: i.styleSpec,
                        validateSpec: i.validateSpec,
                        objectElementValidators: {
                            "*": () => [],
                            type: () => i.validateSpec({
                                key: `${s}.type`,
                                value: r.type,
                                valueSpec: u.layer.type,
                                style: i.style,
                                styleSpec: i.styleSpec,
                                validateSpec: i.validateSpec,
                                object: r,
                                objectKey: "type"
                            }),
                            filter: yn,
                            layout: _ => Ui({
                                layer: r,
                                key: _.key,
                                value: _.value,
                                style: _.style,
                                styleSpec: _.styleSpec,
                                validateSpec: _.validateSpec,
                                objectElementValidators: {"*": v => Sa(xe({layerType: d}, v))}
                            }),
                            paint: _ => Ui({
                                layer: r,
                                key: _.key,
                                value: _.value,
                                style: _.style,
                                styleSpec: _.styleSpec,
                                validateSpec: _.validateSpec,
                                objectElementValidators: {"*": v => wa(xe({layerType: d}, v))}
                            })
                        }
                    })), e
                }

                function Er(i) {
                    const e = i.value, r = i.key, s = _t(e);
                    return "string" !== s ? [new be(r, e, `string expected, ${s} found`)] : []
                }

                const po = {
                    promoteId: function ({key: i, value: e}) {
                        if ("string" === _t(e)) return Er({key: i, value: e});
                        {
                            const r = [];
                            for (const s in e) r.push(...Er({key: `${i}.${s}`, value: e[s]}));
                            return r
                        }
                    }
                };

                function mo(i) {
                    const e = i.value, r = i.key, s = i.styleSpec, c = i.style, u = i.validateSpec;
                    if (!e.type) return [new be(r, e, '"type" is required')];
                    const d = pe(e.type);
                    let f;
                    switch (d) {
                        case"vector":
                        case"raster":
                        case"raster-dem":
                            return f = Ui({
                                key: r,
                                value: e,
                                valueSpec: s[`source_${d.replace("-", "_")}`],
                                style: i.style,
                                styleSpec: s,
                                objectElementValidators: po,
                                validateSpec: u
                            }), f;
                        case"geojson":
                            if (f = Ui({
                                key: r,
                                value: e,
                                valueSpec: s.source_geojson,
                                style: c,
                                styleSpec: s,
                                validateSpec: u,
                                objectElementValidators: po
                            }), e.cluster) for (const _ in e.clusterProperties) {
                                const [v, w] = e.clusterProperties[_],
                                    T = "string" == typeof v ? [v, ["accumulated"], ["get", _]] : v;
                                f.push(..._n({
                                    key: `${r}.${_}.map`,
                                    value: w,
                                    validateSpec: u,
                                    expressionContext: "cluster-map"
                                })), f.push(..._n({
                                    key: `${r}.${_}.reduce`,
                                    value: T,
                                    validateSpec: u,
                                    expressionContext: "cluster-reduce"
                                }))
                            }
                            return f;
                        case"video":
                            return Ui({
                                key: r,
                                value: e,
                                valueSpec: s.source_video,
                                style: c,
                                validateSpec: u,
                                styleSpec: s
                            });
                        case"image":
                            return Ui({
                                key: r,
                                value: e,
                                valueSpec: s.source_image,
                                style: c,
                                validateSpec: u,
                                styleSpec: s
                            });
                        case"canvas":
                            return [new be(r, null, "Please use runtime APIs to add canvas sources, rather than including them in stylesheets.", "source.canvas")];
                        default:
                            return ps({
                                key: `${r}.type`,
                                value: e.type,
                                valueSpec: {values: ["vector", "raster", "raster-dem", "geojson", "video", "image"]},
                                style: c,
                                validateSpec: u,
                                styleSpec: s
                            })
                    }
                }

                function fo(i) {
                    const e = i.value, r = i.styleSpec, s = r.light, c = i.style;
                    let u = [];
                    const d = _t(e);
                    if (void 0 === e) return u;
                    if ("object" !== d) return u = u.concat([new be("light", e, `object expected, ${d} found`)]), u;
                    for (const f in e) {
                        const _ = f.match(/^(.*)-transition$/);
                        u = u.concat(_ && s[_[1]] && s[_[1]].transition ? i.validateSpec({
                            key: f,
                            value: e[f],
                            valueSpec: r.transition,
                            validateSpec: i.validateSpec,
                            style: c,
                            styleSpec: r
                        }) : s[f] ? i.validateSpec({
                            key: f,
                            value: e[f],
                            valueSpec: s[f],
                            validateSpec: i.validateSpec,
                            style: c,
                            styleSpec: r
                        }) : [new be(f, e[f], `unknown property "${f}"`)])
                    }
                    return u
                }

                function gs(i) {
                    const e = i.value, r = i.styleSpec, s = r.terrain, c = i.style;
                    let u = [];
                    const d = _t(e);
                    if (void 0 === e) return u;
                    if ("object" !== d) return u = u.concat([new be("terrain", e, `object expected, ${d} found`)]), u;
                    for (const f in e) u = u.concat(s[f] ? i.validateSpec({
                        key: f,
                        value: e[f],
                        valueSpec: s[f],
                        validateSpec: i.validateSpec,
                        style: c,
                        styleSpec: r
                    }) : [new be(f, e[f], `unknown property "${f}"`)]);
                    return u
                }

                function Ta(i) {
                    let e = [];
                    const r = i.value, s = i.key;
                    if (Array.isArray(r)) {
                        const c = [], u = [];
                        for (const d in r) r[d].id && c.includes(r[d].id) && e.push(new be(s, r, `all the sprites' ids must be unique, but ${r[d].id} is duplicated`)), c.push(r[d].id), r[d].url && u.includes(r[d].url) && e.push(new be(s, r, `all the sprites' URLs must be unique, but ${r[d].url} is duplicated`)), u.push(r[d].url), e = e.concat(Ui({
                            key: `${s}[${d}]`,
                            value: r[d],
                            valueSpec: {id: {type: "string", required: !0}, url: {type: "string", required: !0}},
                            validateSpec: i.validateSpec
                        }));
                        return e
                    }
                    return Er({key: s, value: r})
                }

                const Ia = {
                    "*": () => [],
                    array: xa,
                    boolean: function (i) {
                        const e = i.value, r = i.key, s = _t(e);
                        return "boolean" !== s ? [new be(r, e, `boolean expected, ${s} found`)] : []
                    },
                    number: co,
                    color: function (i) {
                        const e = i.key, r = i.value, s = _t(r);
                        return "string" !== s ? [new be(e, r, `color expected, ${s} found`)] : null === Cr(r) ? [new be(e, r, `color expected, "${r}" found`)] : []
                    },
                    constants: Or,
                    enum: ps,
                    filter: yn,
                    function: va,
                    layer: Ca,
                    object: Ui,
                    source: mo,
                    light: fo,
                    terrain: gs,
                    string: Er,
                    formatted: function (i) {
                        return 0 === Er(i).length ? [] : _n(i)
                    },
                    resolvedImage: function (i) {
                        return 0 === Er(i).length ? [] : _n(i)
                    },
                    padding: function (i) {
                        const e = i.key, r = i.value;
                        if ("array" === _t(r)) {
                            if (r.length < 1 || r.length > 4) return [new be(e, r, `padding requires 1 to 4 values; ${r.length} values found`)];
                            const s = {type: "number"};
                            let c = [];
                            for (let u = 0; u < r.length; u++) c = c.concat(i.validateSpec({
                                key: `${e}[${u}]`,
                                value: r[u],
                                validateSpec: i.validateSpec,
                                valueSpec: s
                            }));
                            return c
                        }
                        return co({key: e, value: r, valueSpec: {}})
                    },
                    sprite: Ta
                };

                function Vn(i) {
                    const e = i.value, r = i.valueSpec, s = i.styleSpec;
                    return i.validateSpec = Vn, r.expression && as(pe(e)) ? va(i) : r.expression && ls(b(e)) ? _n(i) : r.type && Ia[r.type] ? Ia[r.type](i) : Ui(xe({}, i, {valueSpec: r.type ? s[r.type] : r}))
                }

                function Ea(i) {
                    const e = i.value, r = i.key, s = Er(i);
                    return s.length || (-1 === e.indexOf("{fontstack}") && s.push(new be(r, e, '"glyphs" url must include a "{fontstack}" token')), -1 === e.indexOf("{range}") && s.push(new be(r, e, '"glyphs" url must include a "{range}" token'))), s
                }

                function ir(i, e = se) {
                    let r = [];
                    return r = r.concat(Vn({
                        key: "",
                        value: i,
                        valueSpec: e.$root,
                        styleSpec: e,
                        style: i,
                        validateSpec: Vn,
                        objectElementValidators: {glyphs: Ea, "*": () => []}
                    })), i.constants && (r = r.concat(Or({
                        key: "constants",
                        value: i.constants,
                        style: i,
                        styleSpec: e,
                        validateSpec: Vn
                    }))), Ma(r)
                }

                function pr(i) {
                    return function (e) {
                        return i({...e, validateSpec: Vn})
                    }
                }

                function Ma(i) {
                    return [].concat(i).sort((e, r) => e.line - r.line)
                }

                function dr(i) {
                    return function (...e) {
                        return Ma(i.apply(this, e))
                    }
                }

                ir.source = dr(pr(mo)), ir.sprite = dr(pr(Ta)), ir.glyphs = dr(pr(Ea)), ir.light = dr(pr(fo)), ir.terrain = dr(pr(gs)), ir.layer = dr(pr(Ca)), ir.filter = dr(pr(yn)), ir.paintProperty = dr(pr(wa)), ir.layoutProperty = dr(pr(Sa));
                const xn = ir, Aa = xn.light, _s = xn.paintProperty, fl = xn.layoutProperty;

                function go(i, e) {
                    let r = !1;
                    if (e && e.length) for (const s of e) i.fire(new wr(new Error(s.message))), r = !0;
                    return r
                }

                class vn {
                    constructor(e, r, s) {
                        const c = this.cells = [];
                        if (e instanceof ArrayBuffer) {
                            this.arrayBuffer = e;
                            const d = new Int32Array(this.arrayBuffer);
                            e = d[0], this.d = (r = d[1]) + 2 * (s = d[2]);
                            for (let _ = 0; _ < this.d * this.d; _++) {
                                const v = d[3 + _], w = d[3 + _ + 1];
                                c.push(v === w ? null : d.subarray(v, w))
                            }
                            const f = d[3 + c.length + 1];
                            this.keys = d.subarray(d[3 + c.length], f), this.bboxes = d.subarray(f), this.insert = this._insertReadonly
                        } else {
                            this.d = r + 2 * s;
                            for (let d = 0; d < this.d * this.d; d++) c.push([]);
                            this.keys = [], this.bboxes = []
                        }
                        this.n = r, this.extent = e, this.padding = s, this.scale = r / e, this.uid = 0;
                        const u = s / r * e;
                        this.min = -u, this.max = e + u
                    }

                    insert(e, r, s, c, u) {
                        this._forEachCell(r, s, c, u, this._insertCell, this.uid++, void 0, void 0), this.keys.push(e), this.bboxes.push(r), this.bboxes.push(s), this.bboxes.push(c), this.bboxes.push(u)
                    }

                    _insertReadonly() {
                        throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")
                    }

                    _insertCell(e, r, s, c, u, d) {
                        this.cells[u].push(d)
                    }

                    query(e, r, s, c, u) {
                        const d = this.min, f = this.max;
                        if (e <= d && r <= d && f <= s && f <= c && !u) return Array.prototype.slice.call(this.keys);
                        {
                            const _ = [];
                            return this._forEachCell(e, r, s, c, this._queryCell, _, {}, u), _
                        }
                    }

                    _queryCell(e, r, s, c, u, d, f, _) {
                        const v = this.cells[u];
                        if (null !== v) {
                            const w = this.keys, T = this.bboxes;
                            for (let A = 0; A < v.length; A++) {
                                const z = v[A];
                                if (void 0 === f[z]) {
                                    const k = 4 * z;
                                    (_ ? _(T[k + 0], T[k + 1], T[k + 2], T[k + 3]) : e <= T[k + 2] && r <= T[k + 3] && s >= T[k + 0] && c >= T[k + 1]) ? (f[z] = !0, d.push(w[z])) : f[z] = !1
                                }
                            }
                        }
                    }

                    _forEachCell(e, r, s, c, u, d, f, _) {
                        const v = this._convertToCellCoord(e), w = this._convertToCellCoord(r),
                            T = this._convertToCellCoord(s), A = this._convertToCellCoord(c);
                        for (let z = v; z <= T; z++) for (let k = w; k <= A; k++) {
                            const N = this.d * k + z;
                            if ((!_ || _(this._convertFromCellCoord(z), this._convertFromCellCoord(k), this._convertFromCellCoord(z + 1), this._convertFromCellCoord(k + 1))) && u.call(this, e, r, s, c, N, d, f, _)) return
                        }
                    }

                    _convertFromCellCoord(e) {
                        return (e - this.padding) / this.scale
                    }

                    _convertToCellCoord(e) {
                        return Math.max(0, Math.min(this.d - 1, Math.floor(e * this.scale) + this.padding))
                    }

                    toArrayBuffer() {
                        if (this.arrayBuffer) return this.arrayBuffer;
                        const e = this.cells, r = 3 + this.cells.length + 1 + 1;
                        let s = 0;
                        for (let d = 0; d < this.cells.length; d++) s += this.cells[d].length;
                        const c = new Int32Array(r + s + this.keys.length + this.bboxes.length);
                        c[0] = this.extent, c[1] = this.n, c[2] = this.padding;
                        let u = r;
                        for (let d = 0; d < e.length; d++) {
                            const f = e[d];
                            c[3 + d] = u, c.set(f, u), u += f.length
                        }
                        return c[3 + e.length] = u, c.set(this.keys, u), u += this.keys.length, c[3 + e.length + 1] = u, c.set(this.bboxes, u), u += this.bboxes.length, c.buffer
                    }

                    static serialize(e, r) {
                        const s = e.toArrayBuffer();
                        return r && r.push(s), {buffer: s}
                    }

                    static deserialize(e) {
                        return new vn(e.buffer)
                    }
                }

                const Mr = {};

                function Me(i, e, r = {}) {
                    if (Mr[i]) throw new Error(`${i} is already registered.`);
                    Object.defineProperty(e, "_classRegistryKey", {value: i, writeable: !1}), Mr[i] = {
                        klass: e,
                        omit: r.omit || [],
                        shallow: r.shallow || []
                    }
                }

                Me("Object", Object), Me("TransferableGridIndex", vn), Me("Color", lt), Me("Error", Error), Me("AJAXError", tr), Me("ResolvedImage", mi), Me("StylePropertyFunction", hs), Me("StyleExpression", oo, {omit: ["_evaluator"]}), Me("ZoomDependentExpression", lo), Me("ZoomConstantExpression", ao), Me("CompoundExpression", ne, {omit: ["_evaluate"]});
                for (const i in mn) mn[i]._classRegistryKey || Me(`Expression_${i}`, mn[i]);

                function Nn(i) {
                    return i && typeof ArrayBuffer < "u" && (i instanceof ArrayBuffer || i.constructor && "ArrayBuffer" === i.constructor.name)
                }

                function Xr(i, e) {
                    if (null == i || "boolean" == typeof i || "number" == typeof i || "string" == typeof i || i instanceof Boolean || i instanceof Number || i instanceof String || i instanceof Date || i instanceof RegExp || i instanceof Blob) return i;
                    if (Nn(i) || er(i)) return e && e.push(i), i;
                    if (ArrayBuffer.isView(i)) {
                        const r = i;
                        return e && e.push(r.buffer), r
                    }
                    if (i instanceof ImageData) return e && e.push(i.data.buffer), i;
                    if (Array.isArray(i)) {
                        const r = [];
                        for (const s of i) r.push(Xr(s, e));
                        return r
                    }
                    if ("object" == typeof i) {
                        const r = i.constructor, s = r._classRegistryKey;
                        if (!s) throw new Error("can't serialize object of unregistered class");
                        if (!Mr[s]) throw new Error(`${s} is not registered.`);
                        const c = r.serialize ? r.serialize(i, e) : {};
                        if (r.serialize) {
                            if (e && c === e[e.length - 1]) throw new Error("statically serialized object won't survive transfer of $name property")
                        } else {
                            for (const u in i) {
                                if (!i.hasOwnProperty(u) || Mr[s].omit.indexOf(u) >= 0) continue;
                                const d = i[u];
                                c[u] = Mr[s].shallow.indexOf(u) >= 0 ? d : Xr(d, e)
                            }
                            i instanceof Error && (c.message = i.message)
                        }
                        if (c.$name) throw new Error("$name property is reserved for worker serialization logic.");
                        return "Object" !== s && (c.$name = s), c
                    }
                    throw new Error("can't serialize object of type " + typeof i)
                }

                function Wr(i) {
                    if (null == i || "boolean" == typeof i || "number" == typeof i || "string" == typeof i || i instanceof Boolean || i instanceof Number || i instanceof String || i instanceof Date || i instanceof RegExp || i instanceof Blob || Nn(i) || er(i) || ArrayBuffer.isView(i) || i instanceof ImageData) return i;
                    if (Array.isArray(i)) return i.map(Wr);
                    if ("object" == typeof i) {
                        const e = i.$name || "Object";
                        if (!Mr[e]) throw new Error(`can't deserialize unregistered class ${e}`);
                        const {klass: r} = Mr[e];
                        if (!r) throw new Error(`can't deserialize unregistered class ${e}`);
                        if (r.deserialize) return r.deserialize(i);
                        const s = Object.create(r.prototype);
                        for (const c of Object.keys(i)) {
                            if ("$name" === c) continue;
                            const u = i[c];
                            s[c] = Mr[e].shallow.indexOf(c) >= 0 ? u : Wr(u)
                        }
                        return s
                    }
                    throw new Error("can't deserialize object of type " + typeof i)
                }

                class za {
                    constructor() {
                        this.first = !0
                    }

                    update(e, r) {
                        const s = Math.floor(e);
                        return this.first ? (this.first = !1, this.lastIntegerZoom = s, this.lastIntegerZoomTime = 0, this.lastZoom = e, this.lastFloorZoom = s, !0) : (this.lastFloorZoom > s ? (this.lastIntegerZoom = s + 1, this.lastIntegerZoomTime = r) : this.lastFloorZoom < s && (this.lastIntegerZoom = s, this.lastIntegerZoomTime = r), e !== this.lastZoom && (this.lastZoom = e, this.lastFloorZoom = s, !0))
                    }
                }

                const Se = {
                    "Latin-1 Supplement": i => i >= 128 && i <= 255,
                    Arabic: i => i >= 1536 && i <= 1791,
                    "Arabic Supplement": i => i >= 1872 && i <= 1919,
                    "Arabic Extended-A": i => i >= 2208 && i <= 2303,
                    "Hangul Jamo": i => i >= 4352 && i <= 4607,
                    "Unified Canadian Aboriginal Syllabics": i => i >= 5120 && i <= 5759,
                    Khmer: i => i >= 6016 && i <= 6143,
                    "Unified Canadian Aboriginal Syllabics Extended": i => i >= 6320 && i <= 6399,
                    "General Punctuation": i => i >= 8192 && i <= 8303,
                    "Letterlike Symbols": i => i >= 8448 && i <= 8527,
                    "Number Forms": i => i >= 8528 && i <= 8591,
                    "Miscellaneous Technical": i => i >= 8960 && i <= 9215,
                    "Control Pictures": i => i >= 9216 && i <= 9279,
                    "Optical Character Recognition": i => i >= 9280 && i <= 9311,
                    "Enclosed Alphanumerics": i => i >= 9312 && i <= 9471,
                    "Geometric Shapes": i => i >= 9632 && i <= 9727,
                    "Miscellaneous Symbols": i => i >= 9728 && i <= 9983,
                    "Miscellaneous Symbols and Arrows": i => i >= 11008 && i <= 11263,
                    "CJK Radicals Supplement": i => i >= 11904 && i <= 12031,
                    "Kangxi Radicals": i => i >= 12032 && i <= 12255,
                    "Ideographic Description Characters": i => i >= 12272 && i <= 12287,
                    "CJK Symbols and Punctuation": i => i >= 12288 && i <= 12351,
                    Hiragana: i => i >= 12352 && i <= 12447,
                    Katakana: i => i >= 12448 && i <= 12543,
                    Bopomofo: i => i >= 12544 && i <= 12591,
                    "Hangul Compatibility Jamo": i => i >= 12592 && i <= 12687,
                    Kanbun: i => i >= 12688 && i <= 12703,
                    "Bopomofo Extended": i => i >= 12704 && i <= 12735,
                    "CJK Strokes": i => i >= 12736 && i <= 12783,
                    "Katakana Phonetic Extensions": i => i >= 12784 && i <= 12799,
                    "Enclosed CJK Letters and Months": i => i >= 12800 && i <= 13055,
                    "CJK Compatibility": i => i >= 13056 && i <= 13311,
                    "CJK Unified Ideographs Extension A": i => i >= 13312 && i <= 19903,
                    "Yijing Hexagram Symbols": i => i >= 19904 && i <= 19967,
                    "CJK Unified Ideographs": i => i >= 19968 && i <= 40959,
                    "Yi Syllables": i => i >= 40960 && i <= 42127,
                    "Yi Radicals": i => i >= 42128 && i <= 42191,
                    "Hangul Jamo Extended-A": i => i >= 43360 && i <= 43391,
                    "Hangul Syllables": i => i >= 44032 && i <= 55215,
                    "Hangul Jamo Extended-B": i => i >= 55216 && i <= 55295,
                    "Private Use Area": i => i >= 57344 && i <= 63743,
                    "CJK Compatibility Ideographs": i => i >= 63744 && i <= 64255,
                    "Arabic Presentation Forms-A": i => i >= 64336 && i <= 65023,
                    "Vertical Forms": i => i >= 65040 && i <= 65055,
                    "CJK Compatibility Forms": i => i >= 65072 && i <= 65103,
                    "Small Form Variants": i => i >= 65104 && i <= 65135,
                    "Arabic Presentation Forms-B": i => i >= 65136 && i <= 65279,
                    "Halfwidth and Fullwidth Forms": i => i >= 65280 && i <= 65519
                };

                function _o(i) {
                    for (const e of i) if (yo(e.charCodeAt(0))) return !0;
                    return !1
                }

                function gl(i) {
                    for (const e of i) if (!_l(e.charCodeAt(0))) return !1;
                    return !0
                }

                function _l(i) {
                    return !(Se.Arabic(i) || Se["Arabic Supplement"](i) || Se["Arabic Extended-A"](i) || Se["Arabic Presentation Forms-A"](i) || Se["Arabic Presentation Forms-B"](i))
                }

                function yo(i) {
                    return !(746 !== i && 747 !== i && (i < 4352 || !(Se["Bopomofo Extended"](i) || Se.Bopomofo(i) || Se["CJK Compatibility Forms"](i) && !(i >= 65097 && i <= 65103) || Se["CJK Compatibility Ideographs"](i) || Se["CJK Compatibility"](i) || Se["CJK Radicals Supplement"](i) || Se["CJK Strokes"](i) || !(!Se["CJK Symbols and Punctuation"](i) || i >= 12296 && i <= 12305 || i >= 12308 && i <= 12319 || 12336 === i) || Se["CJK Unified Ideographs Extension A"](i) || Se["CJK Unified Ideographs"](i) || Se["Enclosed CJK Letters and Months"](i) || Se["Hangul Compatibility Jamo"](i) || Se["Hangul Jamo Extended-A"](i) || Se["Hangul Jamo Extended-B"](i) || Se["Hangul Jamo"](i) || Se["Hangul Syllables"](i) || Se.Hiragana(i) || Se["Ideographic Description Characters"](i) || Se.Kanbun(i) || Se["Kangxi Radicals"](i) || Se["Katakana Phonetic Extensions"](i) || Se.Katakana(i) && 12540 !== i || !(!Se["Halfwidth and Fullwidth Forms"](i) || 65288 === i || 65289 === i || 65293 === i || i >= 65306 && i <= 65310 || 65339 === i || 65341 === i || 65343 === i || i >= 65371 && i <= 65503 || 65507 === i || i >= 65512 && i <= 65519) || !(!Se["Small Form Variants"](i) || i >= 65112 && i <= 65118 || i >= 65123 && i <= 65126) || Se["Unified Canadian Aboriginal Syllabics"](i) || Se["Unified Canadian Aboriginal Syllabics Extended"](i) || Se["Vertical Forms"](i) || Se["Yijing Hexagram Symbols"](i) || Se["Yi Syllables"](i) || Se["Yi Radicals"](i))))
                }

                function ka(i) {
                    return !(yo(i) || (e = i, Se["Latin-1 Supplement"](e) && (167 === e || 169 === e || 174 === e || 177 === e || 188 === e || 189 === e || 190 === e || 215 === e || 247 === e) || Se["General Punctuation"](e) && (8214 === e || 8224 === e || 8225 === e || 8240 === e || 8241 === e || 8251 === e || 8252 === e || 8258 === e || 8263 === e || 8264 === e || 8265 === e || 8273 === e) || Se["Letterlike Symbols"](e) || Se["Number Forms"](e) || Se["Miscellaneous Technical"](e) && (e >= 8960 && e <= 8967 || e >= 8972 && e <= 8991 || e >= 8996 && e <= 9e3 || 9003 === e || e >= 9085 && e <= 9114 || e >= 9150 && e <= 9165 || 9167 === e || e >= 9169 && e <= 9179 || e >= 9186 && e <= 9215) || Se["Control Pictures"](e) && 9251 !== e || Se["Optical Character Recognition"](e) || Se["Enclosed Alphanumerics"](e) || Se["Geometric Shapes"](e) || Se["Miscellaneous Symbols"](e) && !(e >= 9754 && e <= 9759) || Se["Miscellaneous Symbols and Arrows"](e) && (e >= 11026 && e <= 11055 || e >= 11088 && e <= 11097 || e >= 11192 && e <= 11243) || Se["CJK Symbols and Punctuation"](e) || Se.Katakana(e) || Se["Private Use Area"](e) || Se["CJK Compatibility Forms"](e) || Se["Small Form Variants"](e) || Se["Halfwidth and Fullwidth Forms"](e) || 8734 === e || 8756 === e || 8757 === e || e >= 9984 && e <= 10087 || e >= 10102 && e <= 10131 || 65532 === e || 65533 === e));
                    var e
                }

                function $n(i) {
                    return i >= 1424 && i <= 2303 || Se["Arabic Presentation Forms-A"](i) || Se["Arabic Presentation Forms-B"](i)
                }

                function ys(i, e) {
                    return !(!e && $n(i) || i >= 2304 && i <= 3583 || i >= 3840 && i <= 4255 || Se.Khmer(i))
                }

                function Vi(i) {
                    for (const e of i) if ($n(e.charCodeAt(0))) return !0;
                    return !1
                }

                const bn = "deferred", xo = "loading", vo = "loaded";
                let bo = null, wi = "unavailable", rr = null;
                const Pa = function (i) {
                    i && "string" == typeof i && i.indexOf("NetworkError") > -1 && (wi = "error"), bo && bo(i)
                };

                function Zn() {
                    wo.fire(new br("pluginStateChange", {pluginStatus: wi, pluginURL: rr}))
                }

                const wo = new cr, Hr = function () {
                    return wi
                }, Da = function () {
                    if (wi !== bn || !rr) throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");
                    wi = xo, Zn(), rr && vr({url: rr}, i => {
                        i ? Pa(i) : (wi = vo, Zn())
                    })
                }, Si = {
                    applyArabicShaping: null,
                    processBidirectionalText: null,
                    processStyledBidirectionalText: null,
                    isLoaded: () => wi === vo || null != Si.applyArabicShaping,
                    isLoading: () => wi === xo,
                    setState(i) {
                        if (!pi()) throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");
                        wi = i.pluginStatus, rr = i.pluginURL
                    },
                    isParsed() {
                        if (!pi()) throw new Error("rtl-text-plugin is only parsed on the worker-threads");
                        return null != Si.applyArabicShaping && null != Si.processBidirectionalText && null != Si.processStyledBidirectionalText
                    },
                    getPluginURL() {
                        if (!pi()) throw new Error("rtl-text-plugin url can only be queried from the worker threads");
                        return rr
                    }
                };

                class Tt {
                    constructor(e, r) {
                        this.zoom = e, r ? (this.now = r.now, this.fadeDuration = r.fadeDuration, this.zoomHistory = r.zoomHistory, this.transition = r.transition) : (this.now = 0, this.fadeDuration = 0, this.zoomHistory = new za, this.transition = {})
                    }

                    isSupportedScript(e) {
                        return function (r, s) {
                            for (const c of r) if (!ys(c.charCodeAt(0), s)) return !1;
                            return !0
                        }(e, Si.isLoaded())
                    }

                    crossFadingFactor() {
                        return 0 === this.fadeDuration ? 1 : Math.min((this.now - this.zoomHistory.lastIntegerZoomTime) / this.fadeDuration, 1)
                    }

                    getCrossfadeParameters() {
                        const e = this.zoom, r = e - Math.floor(e), s = this.crossFadingFactor();
                        return e > this.zoomHistory.lastIntegerZoom ? {
                            fromScale: 2,
                            toScale: 1,
                            t: r + (1 - r) * s
                        } : {fromScale: .5, toScale: 1, t: 1 - (1 - s) * r}
                    }
                }

                class wn {
                    constructor(e, r) {
                        this.property = e, this.value = r, this.expression = function (s, c) {
                            if (as(s)) return new hs(s, c);
                            if (ls(s)) {
                                const u = ya(s, c);
                                if ("error" === u.result) throw new Error(u.value.map(d => `${d.key}: ${d.message}`).join(", "));
                                return u.value
                            }
                            {
                                let u = s;
                                return "color" === c.type && "string" == typeof s ? u = lt.parse(s) : "padding" !== c.type || "number" != typeof s && !Array.isArray(s) || (u = Jt.parse(s)), {
                                    kind: "constant",
                                    evaluate: () => u
                                }
                            }
                        }(void 0 === r ? e.specification.default : r, e.specification)
                    }

                    isDataDriven() {
                        return "source" === this.expression.kind || "composite" === this.expression.kind
                    }

                    possiblyEvaluate(e, r, s) {
                        return this.property.possiblyEvaluate(this, e, r, s)
                    }
                }

                class xs {
                    constructor(e) {
                        this.property = e, this.value = new wn(e, void 0)
                    }

                    transitioned(e, r) {
                        return new La(this.property, this.value, r, ot({}, e.transition, this.transition), e.now)
                    }

                    untransitioned() {
                        return new La(this.property, this.value, null, {}, 0)
                    }
                }

                class So {
                    constructor(e) {
                        this._properties = e, this._values = Object.create(e.defaultTransitionablePropertyValues)
                    }

                    getValue(e) {
                        return ui(this._values[e].value.value)
                    }

                    setValue(e, r) {
                        Object.prototype.hasOwnProperty.call(this._values, e) || (this._values[e] = new xs(this._values[e].property)), this._values[e].value = new wn(this._values[e].property, null === r ? void 0 : ui(r))
                    }

                    getTransition(e) {
                        return ui(this._values[e].transition)
                    }

                    setTransition(e, r) {
                        Object.prototype.hasOwnProperty.call(this._values, e) || (this._values[e] = new xs(this._values[e].property)), this._values[e].transition = ui(r) || void 0
                    }

                    serialize() {
                        const e = {};
                        for (const r of Object.keys(this._values)) {
                            const s = this.getValue(r);
                            void 0 !== s && (e[r] = s);
                            const c = this.getTransition(r);
                            void 0 !== c && (e[`${r}-transition`] = c)
                        }
                        return e
                    }

                    transitioned(e, r) {
                        const s = new vs(this._properties);
                        for (const c of Object.keys(this._values)) s._values[c] = this._values[c].transitioned(e, r._values[c]);
                        return s
                    }

                    untransitioned() {
                        const e = new vs(this._properties);
                        for (const r of Object.keys(this._values)) e._values[r] = this._values[r].untransitioned();
                        return e
                    }
                }

                class La {
                    constructor(e, r, s, c, u) {
                        this.property = e, this.value = r, this.begin = u + c.delay || 0, this.end = this.begin + c.duration || 0, e.specification.transition && (c.delay || c.duration) && (this.prior = s)
                    }

                    possiblyEvaluate(e, r, s) {
                        const c = e.now || 0, u = this.value.possiblyEvaluate(e, r, s), d = this.prior;
                        if (d) {
                            if (c > this.end) return this.prior = null, u;
                            if (this.value.isDataDriven()) return this.prior = null, u;
                            if (c < this.begin) return d.possiblyEvaluate(e, r, s);
                            {
                                const f = (c - this.begin) / (this.end - this.begin);
                                return this.property.interpolate(d.possiblyEvaluate(e, r, s), u, function (_) {
                                    if (_ <= 0) return 0;
                                    if (_ >= 1) return 1;
                                    const v = _ * _, w = v * _;
                                    return 4 * (_ < .5 ? w : 3 * (_ - v) + w - .75)
                                }(f))
                            }
                        }
                        return u
                    }
                }

                class vs {
                    constructor(e) {
                        this._properties = e, this._values = Object.create(e.defaultTransitioningPropertyValues)
                    }

                    possiblyEvaluate(e, r, s) {
                        const c = new ws(this._properties);
                        for (const u of Object.keys(this._values)) c._values[u] = this._values[u].possiblyEvaluate(e, r, s);
                        return c
                    }

                    hasTransition() {
                        for (const e of Object.keys(this._values)) if (this._values[e].prior) return !0;
                        return !1
                    }
                }

                class bs {
                    constructor(e) {
                        this._properties = e, this._values = Object.create(e.defaultPropertyValues)
                    }

                    getValue(e) {
                        return ui(this._values[e].value)
                    }

                    setValue(e, r) {
                        this._values[e] = new wn(this._values[e].property, null === r ? void 0 : ui(r))
                    }

                    serialize() {
                        const e = {};
                        for (const r of Object.keys(this._values)) {
                            const s = this.getValue(r);
                            void 0 !== s && (e[r] = s)
                        }
                        return e
                    }

                    possiblyEvaluate(e, r, s) {
                        const c = new ws(this._properties);
                        for (const u of Object.keys(this._values)) c._values[u] = this._values[u].possiblyEvaluate(e, r, s);
                        return c
                    }
                }

                class ji {
                    constructor(e, r, s) {
                        this.property = e, this.value = r, this.parameters = s
                    }

                    isConstant() {
                        return "constant" === this.value.kind
                    }

                    constantOr(e) {
                        return "constant" === this.value.kind ? this.value.value : e
                    }

                    evaluate(e, r, s, c) {
                        return this.property.evaluate(this.value, this.parameters, e, r, s, c)
                    }
                }

                class ws {
                    constructor(e) {
                        this._properties = e, this._values = Object.create(e.defaultPossiblyEvaluatedValues)
                    }

                    get(e) {
                        return this._values[e]
                    }
                }

                class Le {
                    constructor(e) {
                        this.specification = e
                    }

                    possiblyEvaluate(e, r) {
                        if (e.isDataDriven()) throw new Error("Value should not be data driven");
                        return e.expression.evaluate(r)
                    }

                    interpolate(e, r, s) {
                        const c = Gr[this.specification.type];
                        return c ? c(e, r, s) : e
                    }
                }

                class Ge {
                    constructor(e, r) {
                        this.specification = e, this.overrides = r
                    }

                    possiblyEvaluate(e, r, s, c) {
                        return new ji(this, "constant" === e.expression.kind || "camera" === e.expression.kind ? {
                            kind: "constant",
                            value: e.expression.evaluate(r, null, {}, s, c)
                        } : e.expression, r)
                    }

                    interpolate(e, r, s) {
                        if ("constant" !== e.value.kind || "constant" !== r.value.kind) return e;
                        if (void 0 === e.value.value || void 0 === r.value.value) return new ji(this, {
                            kind: "constant",
                            value: void 0
                        }, e.parameters);
                        const c = Gr[this.specification.type];
                        return c ? new ji(this, {
                            kind: "constant",
                            value: c(e.value.value, r.value.value, s)
                        }, e.parameters) : e
                    }

                    evaluate(e, r, s, c, u, d) {
                        return "constant" === e.kind ? e.value : e.evaluate(r, s, c, u, d)
                    }
                }

                class Sn extends Ge {
                    possiblyEvaluate(e, r, s, c) {
                        if (void 0 === e.value) return new ji(this, {kind: "constant", value: void 0}, r);
                        if ("constant" === e.expression.kind) {
                            const u = e.expression.evaluate(r, null, {}, s, c),
                                d = "resolvedImage" === e.property.specification.type && "string" != typeof u ? u.name : u,
                                f = this._calculate(d, d, d, r);
                            return new ji(this, {kind: "constant", value: f}, r)
                        }
                        if ("camera" === e.expression.kind) {
                            const u = this._calculate(e.expression.evaluate({zoom: r.zoom - 1}), e.expression.evaluate({zoom: r.zoom}), e.expression.evaluate({zoom: r.zoom + 1}), r);
                            return new ji(this, {kind: "constant", value: u}, r)
                        }
                        return new ji(this, e.expression, r)
                    }

                    evaluate(e, r, s, c, u, d) {
                        if ("source" === e.kind) {
                            const f = e.evaluate(r, s, c, u, d);
                            return this._calculate(f, f, f, r)
                        }
                        return "composite" === e.kind ? this._calculate(e.evaluate({zoom: Math.floor(r.zoom) - 1}, s, c), e.evaluate({zoom: Math.floor(r.zoom)}, s, c), e.evaluate({zoom: Math.floor(r.zoom) + 1}, s, c), r) : e.value
                    }

                    _calculate(e, r, s, c) {
                        return c.zoom > c.zoomHistory.lastIntegerZoom ? {from: e, to: r} : {from: s, to: r}
                    }

                    interpolate(e) {
                        return e
                    }
                }

                class Co {
                    constructor(e) {
                        this.specification = e
                    }

                    possiblyEvaluate(e, r, s, c) {
                        if (void 0 !== e.value) {
                            if ("constant" === e.expression.kind) {
                                const u = e.expression.evaluate(r, null, {}, s, c);
                                return this._calculate(u, u, u, r)
                            }
                            return this._calculate(e.expression.evaluate(new Tt(Math.floor(r.zoom - 1), r)), e.expression.evaluate(new Tt(Math.floor(r.zoom), r)), e.expression.evaluate(new Tt(Math.floor(r.zoom + 1), r)), r)
                        }
                    }

                    _calculate(e, r, s, c) {
                        return c.zoom > c.zoomHistory.lastIntegerZoom ? {from: e, to: r} : {from: s, to: r}
                    }

                    interpolate(e) {
                        return e
                    }
                }

                class To {
                    constructor(e) {
                        this.specification = e
                    }

                    possiblyEvaluate(e, r, s, c) {
                        return !!e.expression.evaluate(r, null, {}, s, c)
                    }

                    interpolate() {
                        return !1
                    }
                }

                class Ci {
                    constructor(e) {
                        this.properties = e, this.defaultPropertyValues = {}, this.defaultTransitionablePropertyValues = {}, this.defaultTransitioningPropertyValues = {}, this.defaultPossiblyEvaluatedValues = {}, this.overridableProperties = [];
                        for (const r in e) {
                            const s = e[r];
                            s.specification.overridable && this.overridableProperties.push(r);
                            const c = this.defaultPropertyValues[r] = new wn(s, void 0),
                                u = this.defaultTransitionablePropertyValues[r] = new xs(s);
                            this.defaultTransitioningPropertyValues[r] = u.untransitioned(), this.defaultPossiblyEvaluatedValues[r] = c.possiblyEvaluate({})
                        }
                    }
                }

                Me("DataDrivenProperty", Ge), Me("DataConstantProperty", Le), Me("CrossFadedDataDrivenProperty", Sn), Me("CrossFadedProperty", Co), Me("ColorRampProperty", To);
                const Ss = "-transition";

                class qi extends cr {
                    constructor(e, r) {
                        if (super(), this.id = e.id, this.type = e.type, this._featureFilter = {
                            filter: () => !0,
                            needGeometry: !1
                        }, "custom" !== e.type && (this.metadata = e.metadata, this.minzoom = e.minzoom, this.maxzoom = e.maxzoom, "background" !== e.type && (this.source = e.source, this.sourceLayer = e["source-layer"], this.filter = e.filter), r.layout && (this._unevaluatedLayout = new bs(r.layout)), r.paint)) {
                            this._transitionablePaint = new So(r.paint);
                            for (const s in e.paint) this.setPaintProperty(s, e.paint[s], {validate: !1});
                            for (const s in e.layout) this.setLayoutProperty(s, e.layout[s], {validate: !1});
                            this._transitioningPaint = this._transitionablePaint.untransitioned(), this.paint = new ws(r.paint)
                        }
                    }

                    getCrossfadeParameters() {
                        return this._crossfadeParameters
                    }

                    getLayoutProperty(e) {
                        return "visibility" === e ? this.visibility : this._unevaluatedLayout.getValue(e)
                    }

                    setLayoutProperty(e, r, s = {}) {
                        null != r && this._validate(fl, `layers.${this.id}.layout.${e}`, e, r, s) || ("visibility" !== e ? this._unevaluatedLayout.setValue(e, r) : this.visibility = r)
                    }

                    getPaintProperty(e) {
                        return e.endsWith(Ss) ? this._transitionablePaint.getTransition(e.slice(0, -Ss.length)) : this._transitionablePaint.getValue(e)
                    }

                    setPaintProperty(e, r, s = {}) {
                        if (null != r && this._validate(_s, `layers.${this.id}.paint.${e}`, e, r, s)) return !1;
                        if (e.endsWith(Ss)) return this._transitionablePaint.setTransition(e.slice(0, -Ss.length), r || void 0), !1;
                        {
                            const c = this._transitionablePaint._values[e],
                                u = "cross-faded-data-driven" === c.property.specification["property-type"],
                                d = c.value.isDataDriven(), f = c.value;
                            this._transitionablePaint.setValue(e, r), this._handleSpecialPaintPropertyUpdate(e);
                            const _ = this._transitionablePaint._values[e].value;
                            return _.isDataDriven() || d || u || this._handleOverridablePaintPropertyUpdate(e, f, _)
                        }
                    }

                    _handleSpecialPaintPropertyUpdate(e) {
                    }

                    _handleOverridablePaintPropertyUpdate(e, r, s) {
                        return !1
                    }

                    isHidden(e) {
                        return !!(this.minzoom && e < this.minzoom) || !!(this.maxzoom && e >= this.maxzoom) || "none" === this.visibility
                    }

                    updateTransitions(e) {
                        this._transitioningPaint = this._transitionablePaint.transitioned(e, this._transitioningPaint)
                    }

                    hasTransition() {
                        return this._transitioningPaint.hasTransition()
                    }

                    recalculate(e, r) {
                        e.getCrossfadeParameters && (this._crossfadeParameters = e.getCrossfadeParameters()), this._unevaluatedLayout && (this.layout = this._unevaluatedLayout.possiblyEvaluate(e, void 0, r)), this.paint = this._transitioningPaint.possiblyEvaluate(e, void 0, r)
                    }

                    serialize() {
                        const e = {
                            id: this.id,
                            type: this.type,
                            source: this.source,
                            "source-layer": this.sourceLayer,
                            metadata: this.metadata,
                            minzoom: this.minzoom,
                            maxzoom: this.maxzoom,
                            filter: this.filter,
                            layout: this._unevaluatedLayout && this._unevaluatedLayout.serialize(),
                            paint: this._transitionablePaint && this._transitionablePaint.serialize()
                        };
                        return this.visibility && (e.layout = e.layout || {}, e.layout.visibility = this.visibility), _r(e, (r, s) => !(void 0 === r || "layout" === s && !Object.keys(r).length || "paint" === s && !Object.keys(r).length))
                    }

                    _validate(e, r, s, c, u = {}) {
                        return (!u || !1 !== u.validate) && go(this, e.call(xn, {
                            key: r,
                            layerType: this.type,
                            objectKey: s,
                            value: c,
                            styleSpec: se,
                            style: {glyphs: !0, sprite: !0}
                        }))
                    }

                    is3D() {
                        return !1
                    }

                    isTileClipped() {
                        return !1
                    }

                    hasOffscreenPass() {
                        return !1
                    }

                    resize() {
                    }

                    isStateDependent() {
                        for (const e in this.paint._values) {
                            const r = this.paint.get(e);
                            if (r instanceof ji && gn(r.property.specification) && ("source" === r.value.kind || "composite" === r.value.kind) && r.value.isStateDependent) return !0
                        }
                        return !1
                    }
                }

                const yl = {
                    Int8: Int8Array,
                    Uint8: Uint8Array,
                    Int16: Int16Array,
                    Uint16: Uint16Array,
                    Int32: Int32Array,
                    Uint32: Uint32Array,
                    Float32: Float32Array
                };

                class Cs {
                    constructor(e, r) {
                        this._structArray = e, this._pos1 = r * this.size, this._pos2 = this._pos1 / 2, this._pos4 = this._pos1 / 4, this._pos8 = this._pos1 / 8
                    }
                }

                class Rt {
                    constructor() {
                        this.isTransferred = !1, this.capacity = -1, this.resize(0)
                    }

                    static serialize(e, r) {
                        return e._trim(), r && (e.isTransferred = !0, r.push(e.arrayBuffer)), {
                            length: e.length,
                            arrayBuffer: e.arrayBuffer
                        }
                    }

                    static deserialize(e) {
                        const r = Object.create(this.prototype);
                        return r.arrayBuffer = e.arrayBuffer, r.length = e.length, r.capacity = e.arrayBuffer.byteLength / r.bytesPerElement, r._refreshViews(), r
                    }

                    _trim() {
                        this.length !== this.capacity && (this.capacity = this.length, this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.bytesPerElement), this._refreshViews())
                    }

                    clear() {
                        this.length = 0
                    }

                    resize(e) {
                        this.reserve(e), this.length = e
                    }

                    reserve(e) {
                        if (e > this.capacity) {
                            this.capacity = Math.max(e, Math.floor(5 * this.capacity), 128), this.arrayBuffer = new ArrayBuffer(this.capacity * this.bytesPerElement);
                            const r = this.uint8;
                            this._refreshViews(), r && this.uint8.set(r)
                        }
                    }

                    _refreshViews() {
                        throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")
                    }
                }

                function Vt(i, e = 1) {
                    let r = 0, s = 0;
                    return {
                        members: i.map(c => {
                            const u = yl[c.type].BYTES_PER_ELEMENT, d = r = Ra(r, Math.max(e, u)),
                                f = c.components || 1;
                            return s = Math.max(s, u), r += u * f, {
                                name: c.name,
                                type: c.type,
                                components: f,
                                offset: d
                            }
                        }), size: Ra(r, Math.max(s, e)), alignment: e
                    }
                }

                function Ra(i, e) {
                    return Math.ceil(i / e) * e
                }

                class Gn extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r) {
                        const s = this.length;
                        return this.resize(s + 1), this.emplace(s, e, r)
                    }

                    emplace(e, r, s) {
                        const c = 2 * e;
                        return this.int16[c + 0] = r, this.int16[c + 1] = s, e
                    }
                }

                Gn.prototype.bytesPerElement = 4, Me("StructArrayLayout2i4", Gn);

                class Ts extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s) {
                        const c = this.length;
                        return this.resize(c + 1), this.emplace(c, e, r, s)
                    }

                    emplace(e, r, s, c) {
                        const u = 3 * e;
                        return this.int16[u + 0] = r, this.int16[u + 1] = s, this.int16[u + 2] = c, e
                    }
                }

                Ts.prototype.bytesPerElement = 6, Me("StructArrayLayout3i6", Ts);

                class Cn extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c) {
                        const u = this.length;
                        return this.resize(u + 1), this.emplace(u, e, r, s, c)
                    }

                    emplace(e, r, s, c, u) {
                        const d = 4 * e;
                        return this.int16[d + 0] = r, this.int16[d + 1] = s, this.int16[d + 2] = c, this.int16[d + 3] = u, e
                    }
                }

                Cn.prototype.bytesPerElement = 8, Me("StructArrayLayout4i8", Cn);

                class Io extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d) {
                        const f = this.length;
                        return this.resize(f + 1), this.emplace(f, e, r, s, c, u, d)
                    }

                    emplace(e, r, s, c, u, d, f) {
                        const _ = 6 * e;
                        return this.int16[_ + 0] = r, this.int16[_ + 1] = s, this.int16[_ + 2] = c, this.int16[_ + 3] = u, this.int16[_ + 4] = d, this.int16[_ + 5] = f, e
                    }
                }

                Io.prototype.bytesPerElement = 12, Me("StructArrayLayout2i4i12", Io);

                class jn extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d) {
                        const f = this.length;
                        return this.resize(f + 1), this.emplace(f, e, r, s, c, u, d)
                    }

                    emplace(e, r, s, c, u, d, f) {
                        const _ = 4 * e, v = 8 * e;
                        return this.int16[_ + 0] = r, this.int16[_ + 1] = s, this.uint8[v + 4] = c, this.uint8[v + 5] = u, this.uint8[v + 6] = d, this.uint8[v + 7] = f, e
                    }
                }

                jn.prototype.bytesPerElement = 8, Me("StructArrayLayout2i4ub8", jn);

                class qn extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r) {
                        const s = this.length;
                        return this.resize(s + 1), this.emplace(s, e, r)
                    }

                    emplace(e, r, s) {
                        const c = 2 * e;
                        return this.float32[c + 0] = r, this.float32[c + 1] = s, e
                    }
                }

                qn.prototype.bytesPerElement = 8, Me("StructArrayLayout2f8", qn);

                class Eo extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d, f, _, v, w) {
                        const T = this.length;
                        return this.resize(T + 1), this.emplace(T, e, r, s, c, u, d, f, _, v, w)
                    }

                    emplace(e, r, s, c, u, d, f, _, v, w, T) {
                        const A = 10 * e;
                        return this.uint16[A + 0] = r, this.uint16[A + 1] = s, this.uint16[A + 2] = c, this.uint16[A + 3] = u, this.uint16[A + 4] = d, this.uint16[A + 5] = f, this.uint16[A + 6] = _, this.uint16[A + 7] = v, this.uint16[A + 8] = w, this.uint16[A + 9] = T, e
                    }
                }

                Eo.prototype.bytesPerElement = 20, Me("StructArrayLayout10ui20", Eo);

                class Mo extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d, f, _, v, w, T, A) {
                        const z = this.length;
                        return this.resize(z + 1), this.emplace(z, e, r, s, c, u, d, f, _, v, w, T, A)
                    }

                    emplace(e, r, s, c, u, d, f, _, v, w, T, A, z) {
                        const k = 12 * e;
                        return this.int16[k + 0] = r, this.int16[k + 1] = s, this.int16[k + 2] = c, this.int16[k + 3] = u, this.uint16[k + 4] = d, this.uint16[k + 5] = f, this.uint16[k + 6] = _, this.uint16[k + 7] = v, this.int16[k + 8] = w, this.int16[k + 9] = T, this.int16[k + 10] = A, this.int16[k + 11] = z, e
                    }
                }

                Mo.prototype.bytesPerElement = 24, Me("StructArrayLayout4i4ui4i24", Mo);

                class Is extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s) {
                        const c = this.length;
                        return this.resize(c + 1), this.emplace(c, e, r, s)
                    }

                    emplace(e, r, s, c) {
                        const u = 3 * e;
                        return this.float32[u + 0] = r, this.float32[u + 1] = s, this.float32[u + 2] = c, e
                    }
                }

                Is.prototype.bytesPerElement = 12, Me("StructArrayLayout3f12", Is);

                class Es extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer)
                    }

                    emplaceBack(e) {
                        const r = this.length;
                        return this.resize(r + 1), this.emplace(r, e)
                    }

                    emplace(e, r) {
                        return this.uint32[1 * e + 0] = r, e
                    }
                }

                Es.prototype.bytesPerElement = 4, Me("StructArrayLayout1ul4", Es);

                class Ao extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d, f, _, v) {
                        const w = this.length;
                        return this.resize(w + 1), this.emplace(w, e, r, s, c, u, d, f, _, v)
                    }

                    emplace(e, r, s, c, u, d, f, _, v, w) {
                        const T = 10 * e, A = 5 * e;
                        return this.int16[T + 0] = r, this.int16[T + 1] = s, this.int16[T + 2] = c, this.int16[T + 3] = u, this.int16[T + 4] = d, this.int16[T + 5] = f, this.uint32[A + 3] = _, this.uint16[T + 8] = v, this.uint16[T + 9] = w, e
                    }
                }

                Ao.prototype.bytesPerElement = 20, Me("StructArrayLayout6i1ul2ui20", Ao);

                class zo extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d) {
                        const f = this.length;
                        return this.resize(f + 1), this.emplace(f, e, r, s, c, u, d)
                    }

                    emplace(e, r, s, c, u, d, f) {
                        const _ = 6 * e;
                        return this.int16[_ + 0] = r, this.int16[_ + 1] = s, this.int16[_ + 2] = c, this.int16[_ + 3] = u, this.int16[_ + 4] = d, this.int16[_ + 5] = f, e
                    }
                }

                zo.prototype.bytesPerElement = 12, Me("StructArrayLayout2i2i2i12", zo);

                class ko extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u) {
                        const d = this.length;
                        return this.resize(d + 1), this.emplace(d, e, r, s, c, u)
                    }

                    emplace(e, r, s, c, u, d) {
                        const f = 4 * e, _ = 8 * e;
                        return this.float32[f + 0] = r, this.float32[f + 1] = s, this.float32[f + 2] = c, this.int16[_ + 6] = u, this.int16[_ + 7] = d, e
                    }
                }

                ko.prototype.bytesPerElement = 16, Me("StructArrayLayout2f1f2i16", ko);

                class Po extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c) {
                        const u = this.length;
                        return this.resize(u + 1), this.emplace(u, e, r, s, c)
                    }

                    emplace(e, r, s, c, u) {
                        const d = 12 * e, f = 3 * e;
                        return this.uint8[d + 0] = r, this.uint8[d + 1] = s, this.float32[f + 1] = c, this.float32[f + 2] = u, e
                    }
                }

                Po.prototype.bytesPerElement = 12, Me("StructArrayLayout2ub2f12", Po);

                class Ms extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s) {
                        const c = this.length;
                        return this.resize(c + 1), this.emplace(c, e, r, s)
                    }

                    emplace(e, r, s, c) {
                        const u = 3 * e;
                        return this.uint16[u + 0] = r, this.uint16[u + 1] = s, this.uint16[u + 2] = c, e
                    }
                }

                Ms.prototype.bytesPerElement = 6, Me("StructArrayLayout3ui6", Ms);

                class Do extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K) {
                        const ee = this.length;
                        return this.resize(ee + 1), this.emplace(ee, e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K)
                    }

                    emplace(e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K, ee) {
                        const W = 24 * e, Q = 12 * e, ue = 48 * e;
                        return this.int16[W + 0] = r, this.int16[W + 1] = s, this.uint16[W + 2] = c, this.uint16[W + 3] = u, this.uint32[Q + 2] = d, this.uint32[Q + 3] = f, this.uint32[Q + 4] = _, this.uint16[W + 10] = v, this.uint16[W + 11] = w, this.uint16[W + 12] = T, this.float32[Q + 7] = A, this.float32[Q + 8] = z, this.uint8[ue + 36] = k, this.uint8[ue + 37] = N, this.uint8[ue + 38] = V, this.uint32[Q + 10] = K, this.int16[W + 22] = ee, e
                    }
                }

                Do.prototype.bytesPerElement = 48, Me("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48", Do);

                class Ar extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K, ee, W, Q, ue, he, ke, De, Te, we, ve, Ie) {
                        const Ce = this.length;
                        return this.resize(Ce + 1), this.emplace(Ce, e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K, ee, W, Q, ue, he, ke, De, Te, we, ve, Ie)
                    }

                    emplace(e, r, s, c, u, d, f, _, v, w, T, A, z, k, N, V, K, ee, W, Q, ue, he, ke, De, Te, we, ve, Ie, Ce) {
                        const _e = 34 * e, Ue = 17 * e;
                        return this.int16[_e + 0] = r, this.int16[_e + 1] = s, this.int16[_e + 2] = c, this.int16[_e + 3] = u, this.int16[_e + 4] = d, this.int16[_e + 5] = f, this.int16[_e + 6] = _, this.int16[_e + 7] = v, this.uint16[_e + 8] = w, this.uint16[_e + 9] = T, this.uint16[_e + 10] = A, this.uint16[_e + 11] = z, this.uint16[_e + 12] = k, this.uint16[_e + 13] = N, this.uint16[_e + 14] = V, this.uint16[_e + 15] = K, this.uint16[_e + 16] = ee, this.uint16[_e + 17] = W, this.uint16[_e + 18] = Q, this.uint16[_e + 19] = ue, this.uint16[_e + 20] = he, this.uint16[_e + 21] = ke, this.uint16[_e + 22] = De, this.uint32[Ue + 12] = Te, this.float32[Ue + 13] = we, this.float32[Ue + 14] = ve, this.float32[Ue + 15] = Ie, this.float32[Ue + 16] = Ce, e
                    }
                }

                Ar.prototype.bytesPerElement = 68, Me("StructArrayLayout8i15ui1ul4f68", Ar);

                class As extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e) {
                        const r = this.length;
                        return this.resize(r + 1), this.emplace(r, e)
                    }

                    emplace(e, r) {
                        return this.float32[1 * e + 0] = r, e
                    }
                }

                As.prototype.bytesPerElement = 4, Me("StructArrayLayout1f4", As);

                class Lo extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s) {
                        const c = this.length;
                        return this.resize(c + 1), this.emplace(c, e, r, s)
                    }

                    emplace(e, r, s, c) {
                        const u = 4 * e;
                        return this.uint32[2 * e + 0] = r, this.uint16[u + 2] = s, this.uint16[u + 3] = c, e
                    }
                }

                Lo.prototype.bytesPerElement = 8, Me("StructArrayLayout1ul2ui8", Lo);

                class Ro extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r) {
                        const s = this.length;
                        return this.resize(s + 1), this.emplace(s, e, r)
                    }

                    emplace(e, r, s) {
                        const c = 2 * e;
                        return this.uint16[c + 0] = r, this.uint16[c + 1] = s, e
                    }
                }

                Ro.prototype.bytesPerElement = 4, Me("StructArrayLayout2ui4", Ro);

                class zs extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                    }

                    emplaceBack(e) {
                        const r = this.length;
                        return this.resize(r + 1), this.emplace(r, e)
                    }

                    emplace(e, r) {
                        return this.uint16[1 * e + 0] = r, e
                    }
                }

                zs.prototype.bytesPerElement = 2, Me("StructArrayLayout1ui2", zs);

                class Bo extends Rt {
                    _refreshViews() {
                        this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                    }

                    emplaceBack(e, r, s, c) {
                        const u = this.length;
                        return this.resize(u + 1), this.emplace(u, e, r, s, c)
                    }

                    emplace(e, r, s, c, u) {
                        const d = 4 * e;
                        return this.float32[d + 0] = r, this.float32[d + 1] = s, this.float32[d + 2] = c, this.float32[d + 3] = u, e
                    }
                }

                Bo.prototype.bytesPerElement = 16, Me("StructArrayLayout4f16", Bo);

                class Ba extends Cs {
                    get anchorPointX() {
                        return this._structArray.int16[this._pos2 + 0]
                    }

                    get anchorPointY() {
                        return this._structArray.int16[this._pos2 + 1]
                    }

                    get x1() {
                        return this._structArray.int16[this._pos2 + 2]
                    }

                    get y1() {
                        return this._structArray.int16[this._pos2 + 3]
                    }

                    get x2() {
                        return this._structArray.int16[this._pos2 + 4]
                    }

                    get y2() {
                        return this._structArray.int16[this._pos2 + 5]
                    }

                    get featureIndex() {
                        return this._structArray.uint32[this._pos4 + 3]
                    }

                    get sourceLayerIndex() {
                        return this._structArray.uint16[this._pos2 + 8]
                    }

                    get bucketIndex() {
                        return this._structArray.uint16[this._pos2 + 9]
                    }

                    get anchorPoint() {
                        return new Xe(this.anchorPointX, this.anchorPointY)
                    }
                }

                Ba.prototype.size = 20;

                class Fo extends Ao {
                    get(e) {
                        return new Ba(this, e)
                    }
                }

                Me("CollisionBoxArray", Fo);

                class ks extends Cs {
                    get anchorX() {
                        return this._structArray.int16[this._pos2 + 0]
                    }

                    get anchorY() {
                        return this._structArray.int16[this._pos2 + 1]
                    }

                    get glyphStartIndex() {
                        return this._structArray.uint16[this._pos2 + 2]
                    }

                    get numGlyphs() {
                        return this._structArray.uint16[this._pos2 + 3]
                    }

                    get vertexStartIndex() {
                        return this._structArray.uint32[this._pos4 + 2]
                    }

                    get lineStartIndex() {
                        return this._structArray.uint32[this._pos4 + 3]
                    }

                    get lineLength() {
                        return this._structArray.uint32[this._pos4 + 4]
                    }

                    get segment() {
                        return this._structArray.uint16[this._pos2 + 10]
                    }

                    get lowerSize() {
                        return this._structArray.uint16[this._pos2 + 11]
                    }

                    get upperSize() {
                        return this._structArray.uint16[this._pos2 + 12]
                    }

                    get lineOffsetX() {
                        return this._structArray.float32[this._pos4 + 7]
                    }

                    get lineOffsetY() {
                        return this._structArray.float32[this._pos4 + 8]
                    }

                    get writingMode() {
                        return this._structArray.uint8[this._pos1 + 36]
                    }

                    get placedOrientation() {
                        return this._structArray.uint8[this._pos1 + 37]
                    }

                    set placedOrientation(e) {
                        this._structArray.uint8[this._pos1 + 37] = e
                    }

                    get hidden() {
                        return this._structArray.uint8[this._pos1 + 38]
                    }

                    set hidden(e) {
                        this._structArray.uint8[this._pos1 + 38] = e
                    }

                    get crossTileID() {
                        return this._structArray.uint32[this._pos4 + 10]
                    }

                    set crossTileID(e) {
                        this._structArray.uint32[this._pos4 + 10] = e
                    }

                    get associatedIconIndex() {
                        return this._structArray.int16[this._pos2 + 22]
                    }
                }

                ks.prototype.size = 48;

                class Oo extends Do {
                    get(e) {
                        return new ks(this, e)
                    }
                }

                Me("PlacedSymbolArray", Oo);

                class Ps extends Cs {
                    get anchorX() {
                        return this._structArray.int16[this._pos2 + 0]
                    }

                    get anchorY() {
                        return this._structArray.int16[this._pos2 + 1]
                    }

                    get rightJustifiedTextSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 2]
                    }

                    get centerJustifiedTextSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 3]
                    }

                    get leftJustifiedTextSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 4]
                    }

                    get verticalPlacedTextSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 5]
                    }

                    get placedIconSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 6]
                    }

                    get verticalPlacedIconSymbolIndex() {
                        return this._structArray.int16[this._pos2 + 7]
                    }

                    get key() {
                        return this._structArray.uint16[this._pos2 + 8]
                    }

                    get textBoxStartIndex() {
                        return this._structArray.uint16[this._pos2 + 9]
                    }

                    get textBoxEndIndex() {
                        return this._structArray.uint16[this._pos2 + 10]
                    }

                    get verticalTextBoxStartIndex() {
                        return this._structArray.uint16[this._pos2 + 11]
                    }

                    get verticalTextBoxEndIndex() {
                        return this._structArray.uint16[this._pos2 + 12]
                    }

                    get iconBoxStartIndex() {
                        return this._structArray.uint16[this._pos2 + 13]
                    }

                    get iconBoxEndIndex() {
                        return this._structArray.uint16[this._pos2 + 14]
                    }

                    get verticalIconBoxStartIndex() {
                        return this._structArray.uint16[this._pos2 + 15]
                    }

                    get verticalIconBoxEndIndex() {
                        return this._structArray.uint16[this._pos2 + 16]
                    }

                    get featureIndex() {
                        return this._structArray.uint16[this._pos2 + 17]
                    }

                    get numHorizontalGlyphVertices() {
                        return this._structArray.uint16[this._pos2 + 18]
                    }

                    get numVerticalGlyphVertices() {
                        return this._structArray.uint16[this._pos2 + 19]
                    }

                    get numIconVertices() {
                        return this._structArray.uint16[this._pos2 + 20]
                    }

                    get numVerticalIconVertices() {
                        return this._structArray.uint16[this._pos2 + 21]
                    }

                    get useRuntimeCollisionCircles() {
                        return this._structArray.uint16[this._pos2 + 22]
                    }

                    get crossTileID() {
                        return this._structArray.uint32[this._pos4 + 12]
                    }

                    set crossTileID(e) {
                        this._structArray.uint32[this._pos4 + 12] = e
                    }

                    get textBoxScale() {
                        return this._structArray.float32[this._pos4 + 13]
                    }

                    get textOffset0() {
                        return this._structArray.float32[this._pos4 + 14]
                    }

                    get textOffset1() {
                        return this._structArray.float32[this._pos4 + 15]
                    }

                    get collisionCircleDiameter() {
                        return this._structArray.float32[this._pos4 + 16]
                    }
                }

                Ps.prototype.size = 68;

                class Fa extends Ar {
                    get(e) {
                        return new Ps(this, e)
                    }
                }

                Me("SymbolInstanceArray", Fa);

                class Kr extends As {
                    getoffsetX(e) {
                        return this.float32[1 * e + 0]
                    }
                }

                Me("GlyphOffsetArray", Kr);

                class Xn extends Ts {
                    getx(e) {
                        return this.int16[3 * e + 0]
                    }

                    gety(e) {
                        return this.int16[3 * e + 1]
                    }

                    gettileUnitDistanceFromAnchor(e) {
                        return this.int16[3 * e + 2]
                    }
                }

                Me("SymbolLineVertexArray", Xn);

                class Tn extends Cs {
                    get featureIndex() {
                        return this._structArray.uint32[this._pos4 + 0]
                    }

                    get sourceLayerIndex() {
                        return this._structArray.uint16[this._pos2 + 2]
                    }

                    get bucketIndex() {
                        return this._structArray.uint16[this._pos2 + 3]
                    }
                }

                Tn.prototype.size = 8;

                class Oa extends Lo {
                    get(e) {
                        return new Tn(this, e)
                    }
                }

                Me("FeatureIndexArray", Oa);

                class Uo extends Gn {
                }

                class Wn extends Gn {
                }

                class xl extends Gn {
                }

                class vl extends Io {
                }

                class Ua extends jn {
                }

                class bl extends qn {
                }

                class zr extends Eo {
                }

                class a extends Mo {
                }

                class t extends Is {
                }

                class n extends Es {
                }

                class o extends zo {
                }

                class l extends Po {
                }

                class p extends Ms {
                }

                class m extends Ro {
                }

                const g = Vt([{name: "a_pos", components: 2, type: "Int16"}], 4), {members: y} = g;

                class x {
                    constructor(e = []) {
                        this.segments = e
                    }

                    prepareSegment(e, r, s, c) {
                        let u = this.segments[this.segments.length - 1];
                        return e > x.MAX_VERTEX_ARRAY_LENGTH && at(`Max vertices per segment is ${x.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`), (!u || u.vertexLength + e > x.MAX_VERTEX_ARRAY_LENGTH || u.sortKey !== c) && (u = {
                            vertexOffset: r.length,
                            primitiveOffset: s.length,
                            vertexLength: 0,
                            primitiveLength: 0
                        }, void 0 !== c && (u.sortKey = c), this.segments.push(u)), u
                    }

                    get() {
                        return this.segments
                    }

                    destroy() {
                        for (const e of this.segments) for (const r in e.vaos) e.vaos[r].destroy()
                    }

                    static simpleSegment(e, r, s, c) {
                        return new x([{
                            vertexOffset: e,
                            primitiveOffset: r,
                            vertexLength: s,
                            primitiveLength: c,
                            vaos: {},
                            sortKey: 0
                        }])
                    }
                }

                function C(i, e) {
                    return 256 * (i = Ze(Math.floor(i), 0, 255)) + Ze(Math.floor(e), 0, 255)
                }

                x.MAX_VERTEX_ARRAY_LENGTH = Math.pow(2, 16) - 1, Me("SegmentVector", x);
                const S = Vt([{name: "a_pattern_from", components: 4, type: "Uint16"}, {
                    name: "a_pattern_to",
                    components: 4,
                    type: "Uint16"
                }, {name: "a_pixel_ratio_from", components: 1, type: "Uint16"}, {
                    name: "a_pixel_ratio_to",
                    components: 1,
                    type: "Uint16"
                }]);
                var M = {}, R = {
                    get exports() {
                        return M
                    }, set exports(i) {
                        M = i
                    }
                }, B = {};
                ({
                    get exports() {
                        return B
                    }, set exports(i) {
                        B = i
                    }
                }).exports = function (i, e) {
                    var r, s, c, u, d, f, _, v;
                    for (s = i.length - (r = 3 & i.length), c = e, d = 3432918353, f = 461845907, v = 0; v < s;) _ = 255 & i.charCodeAt(v) | (255 & i.charCodeAt(++v)) << 8 | (255 & i.charCodeAt(++v)) << 16 | (255 & i.charCodeAt(++v)) << 24, ++v, c = 27492 + (65535 & (u = 5 * (65535 & (c = (c ^= _ = (65535 & (_ = (_ = (65535 & _) * d + (((_ >>> 16) * d & 65535) << 16) & 4294967295) << 15 | _ >>> 17)) * f + (((_ >>> 16) * f & 65535) << 16) & 4294967295) << 13 | c >>> 19)) + ((5 * (c >>> 16) & 65535) << 16) & 4294967295)) + ((58964 + (u >>> 16) & 65535) << 16);
                    switch (_ = 0, r) {
                        case 3:
                            _ ^= (255 & i.charCodeAt(v + 2)) << 16;
                        case 2:
                            _ ^= (255 & i.charCodeAt(v + 1)) << 8;
                        case 1:
                            c ^= _ = (65535 & (_ = (_ = (65535 & (_ ^= 255 & i.charCodeAt(v))) * d + (((_ >>> 16) * d & 65535) << 16) & 4294967295) << 15 | _ >>> 17)) * f + (((_ >>> 16) * f & 65535) << 16) & 4294967295
                    }
                    return c ^= i.length, c = 2246822507 * (65535 & (c ^= c >>> 16)) + ((2246822507 * (c >>> 16) & 65535) << 16) & 4294967295, c = 3266489909 * (65535 & (c ^= c >>> 13)) + ((3266489909 * (c >>> 16) & 65535) << 16) & 4294967295, (c ^= c >>> 16) >>> 0
                };
                var P = {};
                ({
                    get exports() {
                        return P
                    }, set exports(i) {
                        P = i
                    }
                }).exports = function (i, e) {
                    for (var r, s = i.length, c = e ^ s, u = 0; s >= 4;) r = 1540483477 * (65535 & (r = 255 & i.charCodeAt(u) | (255 & i.charCodeAt(++u)) << 8 | (255 & i.charCodeAt(++u)) << 16 | (255 & i.charCodeAt(++u)) << 24)) + ((1540483477 * (r >>> 16) & 65535) << 16), c = 1540483477 * (65535 & c) + ((1540483477 * (c >>> 16) & 65535) << 16) ^ (r = 1540483477 * (65535 & (r ^= r >>> 24)) + ((1540483477 * (r >>> 16) & 65535) << 16)), s -= 4, ++u;
                    switch (s) {
                        case 3:
                            c ^= (255 & i.charCodeAt(u + 2)) << 16;
                        case 2:
                            c ^= (255 & i.charCodeAt(u + 1)) << 8;
                        case 1:
                            c = 1540483477 * (65535 & (c ^= 255 & i.charCodeAt(u))) + ((1540483477 * (c >>> 16) & 65535) << 16)
                    }
                    return c = 1540483477 * (65535 & (c ^= c >>> 13)) + ((1540483477 * (c >>> 16) & 65535) << 16), (c ^= c >>> 15) >>> 0
                };
                var $ = B, H = P;
                R.exports = $, M.murmur3 = $, M.murmur2 = H;

                class X {
                    constructor() {
                        this.ids = [], this.positions = [], this.indexed = !1
                    }

                    add(e, r, s, c) {
                        this.ids.push(U(e)), this.positions.push(r, s, c)
                    }

                    getPositions(e) {
                        if (!this.indexed) throw new Error("Trying to get index, but feature positions are not indexed");
                        const r = U(e);
                        let s = 0, c = this.ids.length - 1;
                        for (; s < c;) {
                            const d = s + c >> 1;
                            this.ids[d] >= r ? c = d : s = d + 1
                        }
                        const u = [];
                        for (; this.ids[s] === r;) u.push({
                            index: this.positions[3 * s],
                            start: this.positions[3 * s + 1],
                            end: this.positions[3 * s + 2]
                        }), s++;
                        return u
                    }

                    static serialize(e, r) {
                        const s = new Float64Array(e.ids), c = new Uint32Array(e.positions);
                        return J(s, c, 0, s.length - 1), r && r.push(s.buffer, c.buffer), {ids: s, positions: c}
                    }

                    static deserialize(e) {
                        const r = new X;
                        return r.ids = e.ids, r.positions = e.positions, r.indexed = !0, r
                    }
                }

                function U(i) {
                    const e = +i;
                    return !isNaN(e) && e <= Number.MAX_SAFE_INTEGER ? e : M(String(i))
                }

                function J(i, e, r, s) {
                    for (; r < s;) {
                        const c = i[r + s >> 1];
                        let u = r - 1, d = s + 1;
                        for (; ;) {
                            do {
                                u++
                            } while (i[u] < c);
                            do {
                                d--
                            } while (i[d] > c);
                            if (u >= d) break;
                            te(i, u, d), te(e, 3 * u, 3 * d), te(e, 3 * u + 1, 3 * d + 1), te(e, 3 * u + 2, 3 * d + 2)
                        }
                        d - r < s - d ? (J(i, e, r, d), r = d + 1) : (J(i, e, d + 1, s), s = d)
                    }
                }

                function te(i, e, r) {
                    const s = i[e];
                    i[e] = i[r], i[r] = s
                }

                Me("FeaturePositionMap", X);

                class re {
                    constructor(e, r) {
                        this.gl = e.gl, this.location = r
                    }
                }

                class ae extends re {
                    constructor(e, r) {
                        super(e, r), this.current = 0
                    }

                    set(e) {
                        this.current !== e && (this.current = e, this.gl.uniform1f(this.location, e))
                    }
                }

                class ce extends re {
                    constructor(e, r) {
                        super(e, r), this.current = [0, 0, 0, 0]
                    }

                    set(e) {
                        e[0] === this.current[0] && e[1] === this.current[1] && e[2] === this.current[2] && e[3] === this.current[3] || (this.current = e, this.gl.uniform4f(this.location, e[0], e[1], e[2], e[3]))
                    }
                }

                class ge extends re {
                    constructor(e, r) {
                        super(e, r), this.current = lt.transparent
                    }

                    set(e) {
                        e.r === this.current.r && e.g === this.current.g && e.b === this.current.b && e.a === this.current.a || (this.current = e, this.gl.uniform4f(this.location, e.r, e.g, e.b, e.a))
                    }
                }

                const de = new Float32Array(16);

                function ye(i) {
                    return [C(255 * i.r, 255 * i.g), C(255 * i.b, 255 * i.a)]
                }

                class Ae {
                    constructor(e, r, s) {
                        this.value = e, this.uniformNames = r.map(c => `u_${c}`), this.type = s
                    }

                    setUniform(e, r, s) {
                        e.set(s.constantOr(this.value))
                    }

                    getBinding(e, r, s) {
                        return "color" === this.type ? new ge(e, r) : new ae(e, r)
                    }
                }

                class qe {
                    constructor(e, r) {
                        this.uniformNames = r.map(s => `u_${s}`), this.patternFrom = null, this.patternTo = null, this.pixelRatioFrom = 1, this.pixelRatioTo = 1
                    }

                    setConstantPatternPositions(e, r) {
                        this.pixelRatioFrom = r.pixelRatio, this.pixelRatioTo = e.pixelRatio, this.patternFrom = r.tlbr, this.patternTo = e.tlbr
                    }

                    setUniform(e, r, s, c) {
                        const u = "u_pattern_to" === c ? this.patternTo : "u_pattern_from" === c ? this.patternFrom : "u_pixel_ratio_to" === c ? this.pixelRatioTo : "u_pixel_ratio_from" === c ? this.pixelRatioFrom : null;
                        u && e.set(u)
                    }

                    getBinding(e, r, s) {
                        return "u_pattern" === s.substr(0, 9) ? new ce(e, r) : new ae(e, r)
                    }
                }

                class We {
                    constructor(e, r, s, c) {
                        this.expression = e, this.type = s, this.maxValue = 0, this.paintVertexAttributes = r.map(u => ({
                            name: `a_${u}`,
                            type: "Float32",
                            components: "color" === s ? 2 : 1,
                            offset: 0
                        })), this.paintVertexArray = new c
                    }

                    populatePaintArray(e, r, s, c, u) {
                        const d = this.paintVertexArray.length,
                            f = this.expression.evaluate(new Tt(0), r, {}, c, [], u);
                        this.paintVertexArray.resize(e), this._setPaintValue(d, e, f)
                    }

                    updatePaintArray(e, r, s, c) {
                        const u = this.expression.evaluate({zoom: 0}, s, c);
                        this._setPaintValue(e, r, u)
                    }

                    _setPaintValue(e, r, s) {
                        if ("color" === this.type) {
                            const c = ye(s);
                            for (let u = e; u < r; u++) this.paintVertexArray.emplace(u, c[0], c[1])
                        } else {
                            for (let c = e; c < r; c++) this.paintVertexArray.emplace(c, s);
                            this.maxValue = Math.max(this.maxValue, Math.abs(s))
                        }
                    }

                    upload(e) {
                        this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = e.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent))
                    }

                    destroy() {
                        this.paintVertexBuffer && this.paintVertexBuffer.destroy()
                    }
                }

                class ze {
                    constructor(e, r, s, c, u, d) {
                        this.expression = e, this.uniformNames = r.map(f => `u_${f}_t`), this.type = s, this.useIntegerZoom = c, this.zoom = u, this.maxValue = 0, this.paintVertexAttributes = r.map(f => ({
                            name: `a_${f}`,
                            type: "Float32",
                            components: "color" === s ? 4 : 2,
                            offset: 0
                        })), this.paintVertexArray = new d
                    }

                    populatePaintArray(e, r, s, c, u) {
                        const d = this.expression.evaluate(new Tt(this.zoom), r, {}, c, [], u),
                            f = this.expression.evaluate(new Tt(this.zoom + 1), r, {}, c, [], u),
                            _ = this.paintVertexArray.length;
                        this.paintVertexArray.resize(e), this._setPaintValue(_, e, d, f)
                    }

                    updatePaintArray(e, r, s, c) {
                        const u = this.expression.evaluate({zoom: this.zoom}, s, c),
                            d = this.expression.evaluate({zoom: this.zoom + 1}, s, c);
                        this._setPaintValue(e, r, u, d)
                    }

                    _setPaintValue(e, r, s, c) {
                        if ("color" === this.type) {
                            const u = ye(s), d = ye(c);
                            for (let f = e; f < r; f++) this.paintVertexArray.emplace(f, u[0], u[1], d[0], d[1])
                        } else {
                            for (let u = e; u < r; u++) this.paintVertexArray.emplace(u, s, c);
                            this.maxValue = Math.max(this.maxValue, Math.abs(s), Math.abs(c))
                        }
                    }

                    upload(e) {
                        this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = e.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent))
                    }

                    destroy() {
                        this.paintVertexBuffer && this.paintVertexBuffer.destroy()
                    }

                    setUniform(e, r) {
                        const s = this.useIntegerZoom ? Math.floor(r.zoom) : r.zoom,
                            c = Ze(this.expression.interpolationFactor(s, this.zoom, this.zoom + 1), 0, 1);
                        e.set(c)
                    }

                    getBinding(e, r, s) {
                        return new ae(e, r)
                    }
                }

                class ht {
                    constructor(e, r, s, c, u, d) {
                        this.expression = e, this.type = r, this.useIntegerZoom = s, this.zoom = c, this.layerId = d, this.zoomInPaintVertexArray = new u, this.zoomOutPaintVertexArray = new u
                    }

                    populatePaintArray(e, r, s) {
                        const c = this.zoomInPaintVertexArray.length;
                        this.zoomInPaintVertexArray.resize(e), this.zoomOutPaintVertexArray.resize(e), this._setPaintValues(c, e, r.patterns && r.patterns[this.layerId], s)
                    }

                    updatePaintArray(e, r, s, c, u) {
                        this._setPaintValues(e, r, s.patterns && s.patterns[this.layerId], u)
                    }

                    _setPaintValues(e, r, s, c) {
                        if (!c || !s) return;
                        const {min: u, mid: d, max: f} = s, _ = c[u], v = c[d], w = c[f];
                        if (_ && v && w) for (let T = e; T < r; T++) this.zoomInPaintVertexArray.emplace(T, v.tl[0], v.tl[1], v.br[0], v.br[1], _.tl[0], _.tl[1], _.br[0], _.br[1], v.pixelRatio, _.pixelRatio), this.zoomOutPaintVertexArray.emplace(T, v.tl[0], v.tl[1], v.br[0], v.br[1], w.tl[0], w.tl[1], w.br[0], w.br[1], v.pixelRatio, w.pixelRatio)
                    }

                    upload(e) {
                        this.zoomInPaintVertexArray && this.zoomInPaintVertexArray.arrayBuffer && this.zoomOutPaintVertexArray && this.zoomOutPaintVertexArray.arrayBuffer && (this.zoomInPaintVertexBuffer = e.createVertexBuffer(this.zoomInPaintVertexArray, S.members, this.expression.isStateDependent), this.zoomOutPaintVertexBuffer = e.createVertexBuffer(this.zoomOutPaintVertexArray, S.members, this.expression.isStateDependent))
                    }

                    destroy() {
                        this.zoomOutPaintVertexBuffer && this.zoomOutPaintVertexBuffer.destroy(), this.zoomInPaintVertexBuffer && this.zoomInPaintVertexBuffer.destroy()
                    }
                }

                class ut {
                    constructor(e, r, s) {
                        this.binders = {}, this._buffers = [];
                        const c = [];
                        for (const u in e.paint._values) {
                            if (!s(u)) continue;
                            const d = e.paint.get(u);
                            if (!(d instanceof ji && gn(d.property.specification))) continue;
                            const f = nt(u, e.type), _ = d.value, v = d.property.specification.type,
                                w = d.property.useIntegerZoom, T = d.property.specification["property-type"],
                                A = "cross-faded" === T || "cross-faded-data-driven" === T;
                            if ("constant" === _.kind) this.binders[u] = A ? new qe(_.value, f) : new Ae(_.value, f, v), c.push(`/u_${u}`); else if ("source" === _.kind || A) {
                                const z = xt(u, v, "source");
                                this.binders[u] = A ? new ht(_, v, w, r, z, e.id) : new We(_, f, v, z), c.push(`/a_${u}`)
                            } else {
                                const z = xt(u, v, "composite");
                                this.binders[u] = new ze(_, f, v, w, r, z), c.push(`/z_${u}`)
                            }
                        }
                        this.cacheKey = c.sort().join("")
                    }

                    getMaxValue(e) {
                        const r = this.binders[e];
                        return r instanceof We || r instanceof ze ? r.maxValue : 0
                    }

                    populatePaintArrays(e, r, s, c, u) {
                        for (const d in this.binders) {
                            const f = this.binders[d];
                            (f instanceof We || f instanceof ze || f instanceof ht) && f.populatePaintArray(e, r, s, c, u)
                        }
                    }

                    setConstantPatternPositions(e, r) {
                        for (const s in this.binders) {
                            const c = this.binders[s];
                            c instanceof qe && c.setConstantPatternPositions(e, r)
                        }
                    }

                    updatePaintArrays(e, r, s, c, u) {
                        let d = !1;
                        for (const f in e) {
                            const _ = r.getPositions(f);
                            for (const v of _) {
                                const w = s.feature(v.index);
                                for (const T in this.binders) {
                                    const A = this.binders[T];
                                    if ((A instanceof We || A instanceof ze || A instanceof ht) && !0 === A.expression.isStateDependent) {
                                        const z = c.paint.get(T);
                                        A.expression = z.value, A.updatePaintArray(v.start, v.end, w, e[f], u), d = !0
                                    }
                                }
                            }
                        }
                        return d
                    }

                    defines() {
                        const e = [];
                        for (const r in this.binders) {
                            const s = this.binders[r];
                            (s instanceof Ae || s instanceof qe) && e.push(...s.uniformNames.map(c => `#define HAS_UNIFORM_${c}`))
                        }
                        return e
                    }

                    getBinderAttributes() {
                        const e = [];
                        for (const r in this.binders) {
                            const s = this.binders[r];
                            if (s instanceof We || s instanceof ze) for (let c = 0; c < s.paintVertexAttributes.length; c++) e.push(s.paintVertexAttributes[c].name); else if (s instanceof ht) for (let c = 0; c < S.members.length; c++) e.push(S.members[c].name)
                        }
                        return e
                    }

                    getBinderUniforms() {
                        const e = [];
                        for (const r in this.binders) {
                            const s = this.binders[r];
                            if (s instanceof Ae || s instanceof qe || s instanceof ze) for (const c of s.uniformNames) e.push(c)
                        }
                        return e
                    }

                    getPaintVertexBuffers() {
                        return this._buffers
                    }

                    getUniforms(e, r) {
                        const s = [];
                        for (const c in this.binders) {
                            const u = this.binders[c];
                            if (u instanceof Ae || u instanceof qe || u instanceof ze) for (const d of u.uniformNames) if (r[d]) {
                                const f = u.getBinding(e, r[d], d);
                                s.push({name: d, property: c, binding: f})
                            }
                        }
                        return s
                    }

                    setUniforms(e, r, s, c) {
                        for (const {
                            name: u,
                            property: d,
                            binding: f
                        } of r) this.binders[d].setUniform(f, c, s.get(d), u)
                    }

                    updatePaintBuffers(e) {
                        this._buffers = [];
                        for (const r in this.binders) {
                            const s = this.binders[r];
                            if (e && s instanceof ht) {
                                const c = 2 === e.fromScale ? s.zoomInPaintVertexBuffer : s.zoomOutPaintVertexBuffer;
                                c && this._buffers.push(c)
                            } else (s instanceof We || s instanceof ze) && s.paintVertexBuffer && this._buffers.push(s.paintVertexBuffer)
                        }
                    }

                    upload(e) {
                        for (const r in this.binders) {
                            const s = this.binders[r];
                            (s instanceof We || s instanceof ze || s instanceof ht) && s.upload(e)
                        }
                        this.updatePaintBuffers()
                    }

                    destroy() {
                        for (const e in this.binders) {
                            const r = this.binders[e];
                            (r instanceof We || r instanceof ze || r instanceof ht) && r.destroy()
                        }
                    }
                }

                class He {
                    constructor(e, r, s = (() => !0)) {
                        this.programConfigurations = {};
                        for (const c of e) this.programConfigurations[c.id] = new ut(c, r, s);
                        this.needsUpload = !1, this._featureMap = new X, this._bufferOffset = 0
                    }

                    populatePaintArrays(e, r, s, c, u, d) {
                        for (const f in this.programConfigurations) this.programConfigurations[f].populatePaintArrays(e, r, c, u, d);
                        void 0 !== r.id && this._featureMap.add(r.id, s, this._bufferOffset, e), this._bufferOffset = e, this.needsUpload = !0
                    }

                    updatePaintArrays(e, r, s, c) {
                        for (const u of s) this.needsUpload = this.programConfigurations[u.id].updatePaintArrays(e, this._featureMap, r, u, c) || this.needsUpload
                    }

                    get(e) {
                        return this.programConfigurations[e]
                    }

                    upload(e) {
                        if (this.needsUpload) {
                            for (const r in this.programConfigurations) this.programConfigurations[r].upload(e);
                            this.needsUpload = !1
                        }
                    }

                    destroy() {
                        for (const e in this.programConfigurations) this.programConfigurations[e].destroy()
                    }
                }

                function nt(i, e) {
                    return {
                        "text-opacity": ["opacity"],
                        "icon-opacity": ["opacity"],
                        "text-color": ["fill_color"],
                        "icon-color": ["fill_color"],
                        "text-halo-color": ["halo_color"],
                        "icon-halo-color": ["halo_color"],
                        "text-halo-blur": ["halo_blur"],
                        "icon-halo-blur": ["halo_blur"],
                        "text-halo-width": ["halo_width"],
                        "icon-halo-width": ["halo_width"],
                        "line-gap-width": ["gapwidth"],
                        "line-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                        "fill-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                        "fill-extrusion-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"]
                    }[i] || [i.replace(`${e}-`, "").replace(/-/g, "_")]
                }

                function xt(i, e, r) {
                    const c = {
                        "line-pattern": {source: zr, composite: zr},
                        "fill-pattern": {source: zr, composite: zr},
                        "fill-extrusion-pattern": {source: zr, composite: zr}
                    }[i];
                    return c && c[r] || {color: {source: qn, composite: Bo}, number: {source: As, composite: qn}}[e][r]
                }

                Me("ConstantBinder", Ae), Me("CrossFadedConstantBinder", qe), Me("SourceExpressionBinder", We), Me("CrossFadedCompositeBinder", ht), Me("CompositeExpressionBinder", ze), Me("ProgramConfiguration", ut, {omit: ["_buffers"]}), Me("ProgramConfigurationSet", He);
                var pt = 8192;
                const Ni = Math.pow(2, 14) - 1, $i = -Ni - 1;

                function ni(i) {
                    const e = pt / i.extent, r = i.loadGeometry();
                    for (let s = 0; s < r.length; s++) {
                        const c = r[s];
                        for (let u = 0; u < c.length; u++) {
                            const d = c[u], f = Math.round(d.x * e), _ = Math.round(d.y * e);
                            d.x = Ze(f, $i, Ni), d.y = Ze(_, $i, Ni), (f < d.x || f > d.x + 1 || _ < d.y || _ > d.y + 1) && at("Geometry exceeds allowed extent, reduce your vector tile buffer size")
                        }
                    }
                    return r
                }

                function Ai(i, e) {
                    return {type: i.type, id: i.id, properties: i.properties, geometry: e ? ni(i) : []}
                }

                function gi(i, e, r, s, c) {
                    i.emplaceBack(2 * e + (s + 1) / 2, 2 * r + (c + 1) / 2)
                }

                class Xi {
                    constructor(e) {
                        this.zoom = e.zoom, this.overscaling = e.overscaling, this.layers = e.layers, this.layerIds = this.layers.map(r => r.id), this.index = e.index, this.hasPattern = !1, this.layoutVertexArray = new Wn, this.indexArray = new p, this.segments = new x, this.programConfigurations = new He(e.layers, e.zoom), this.stateDependentLayerIds = this.layers.filter(r => r.isStateDependent()).map(r => r.id)
                    }

                    populate(e, r, s) {
                        const c = this.layers[0], u = [];
                        let d = null, f = !1;
                        "circle" === c.type && (d = c.layout.get("circle-sort-key"), f = !d.isConstant());
                        for (const {feature: _, id: v, index: w, sourceLayerIndex: T} of e) {
                            const A = this.layers[0]._featureFilter.needGeometry, z = Ai(_, A);
                            if (!this.layers[0]._featureFilter.filter(new Tt(this.zoom), z, s)) continue;
                            const k = f ? d.evaluate(z, {}, s) : void 0, N = {
                                id: v,
                                properties: _.properties,
                                type: _.type,
                                sourceLayerIndex: T,
                                index: w,
                                geometry: A ? z.geometry : ni(_),
                                patterns: {},
                                sortKey: k
                            };
                            u.push(N)
                        }
                        f && u.sort((_, v) => _.sortKey - v.sortKey);
                        for (const _ of u) {
                            const {geometry: v, index: w, sourceLayerIndex: T} = _, A = e[w].feature;
                            this.addFeature(_, v, w, s), r.featureIndex.insert(A, v, w, T, this.index)
                        }
                    }

                    update(e, r, s) {
                        this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(e, r, this.stateDependentLayers, s)
                    }

                    isEmpty() {
                        return 0 === this.layoutVertexArray.length
                    }

                    uploadPending() {
                        return !this.uploaded || this.programConfigurations.needsUpload
                    }

                    upload(e) {
                        this.uploaded || (this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, y), this.indexBuffer = e.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(e), this.uploaded = !0
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy())
                    }

                    addFeature(e, r, s, c) {
                        for (const u of r) for (const d of u) {
                            const f = d.x, _ = d.y;
                            if (f < 0 || f >= pt || _ < 0 || _ >= pt) continue;
                            const v = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray, e.sortKey),
                                w = v.vertexLength;
                            gi(this.layoutVertexArray, f, _, -1, -1), gi(this.layoutVertexArray, f, _, 1, -1), gi(this.layoutVertexArray, f, _, 1, 1), gi(this.layoutVertexArray, f, _, -1, 1), this.indexArray.emplaceBack(w, w + 1, w + 2), this.indexArray.emplaceBack(w, w + 3, w + 2), v.vertexLength += 4, v.primitiveLength += 2
                        }
                        this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, e, s, {}, c)
                    }
                }

                function kr(i, e) {
                    for (let r = 0; r < i.length; r++) if (Wi(e, i[r])) return !0;
                    for (let r = 0; r < e.length; r++) if (Wi(i, e[r])) return !0;
                    return !!dt(i, e)
                }

                function Ds(i, e, r) {
                    return !!Wi(i, e) || !!yi(e, i, r)
                }

                function Nt(i, e) {
                    if (1 === i.length) return nr(e, i[0]);
                    for (let r = 0; r < e.length; r++) {
                        const s = e[r];
                        for (let c = 0; c < s.length; c++) if (Wi(i, s[c])) return !0
                    }
                    for (let r = 0; r < i.length; r++) if (nr(e, i[r])) return !0;
                    for (let r = 0; r < e.length; r++) if (dt(i, e[r])) return !0;
                    return !1
                }

                function zt(i, e, r) {
                    if (i.length > 1) {
                        if (dt(i, e)) return !0;
                        for (let s = 0; s < e.length; s++) if (yi(e[s], i, r)) return !0
                    }
                    for (let s = 0; s < i.length; s++) if (yi(i[s], e, r)) return !0;
                    return !1
                }

                function dt(i, e) {
                    if (0 === i.length || 0 === e.length) return !1;
                    for (let r = 0; r < i.length - 1; r++) {
                        const s = i[r], c = i[r + 1];
                        for (let u = 0; u < e.length - 1; u++) if (_i(s, c, e[u], e[u + 1])) return !0
                    }
                    return !1
                }

                function _i(i, e, r, s) {
                    return Et(i, r, s) !== Et(e, r, s) && Et(i, e, r) !== Et(i, e, s)
                }

                function yi(i, e, r) {
                    const s = r * r;
                    if (1 === e.length) return i.distSqr(e[0]) < s;
                    for (let c = 1; c < e.length; c++) if (kt(i, e[c - 1], e[c]) < s) return !0;
                    return !1
                }

                function kt(i, e, r) {
                    const s = e.distSqr(r);
                    if (0 === s) return i.distSqr(e);
                    const c = ((i.x - e.x) * (r.x - e.x) + (i.y - e.y) * (r.y - e.y)) / s;
                    return i.distSqr(c < 0 ? e : c > 1 ? r : r.sub(e)._mult(c)._add(e))
                }

                function nr(i, e) {
                    let r, s, c, u = !1;
                    for (let d = 0; d < i.length; d++) {
                        r = i[d];
                        for (let f = 0, _ = r.length - 1; f < r.length; _ = f++) s = r[f], c = r[_], s.y > e.y != c.y > e.y && e.x < (c.x - s.x) * (e.y - s.y) / (c.y - s.y) + s.x && (u = !u)
                    }
                    return u
                }

                function Wi(i, e) {
                    let r = !1;
                    for (let s = 0, c = i.length - 1; s < i.length; c = s++) {
                        const u = i[s], d = i[c];
                        u.y > e.y != d.y > e.y && e.x < (d.x - u.x) * (e.y - u.y) / (d.y - u.y) + u.x && (r = !r)
                    }
                    return r
                }

                function Vo(i, e, r) {
                    const s = r[0], c = r[2];
                    if (i.x < s.x && e.x < s.x || i.x > c.x && e.x > c.x || i.y < s.y && e.y < s.y || i.y > c.y && e.y > c.y) return !1;
                    const u = Et(i, e, r[0]);
                    return u !== Et(i, e, r[1]) || u !== Et(i, e, r[2]) || u !== Et(i, e, r[3])
                }

                function Yr(i, e, r) {
                    const s = e.paint.get(i).value;
                    return "constant" === s.kind ? s.value : r.programConfigurations.get(e.id).getMaxValue(i)
                }

                function Ls(i) {
                    return Math.sqrt(i[0] * i[0] + i[1] * i[1])
                }

                function Rs(i, e, r, s, c) {
                    if (!e[0] && !e[1]) return i;
                    const u = Xe.convert(e)._mult(c);
                    "viewport" === r && u._rotate(-s);
                    const d = [];
                    for (let f = 0; f < i.length; f++) d.push(i[f].sub(u));
                    return d
                }

                Me("CircleBucket", Xi, {omit: ["layers"]});
                const Hn = new Ci({"circle-sort-key": new Ge(se.layout_circle["circle-sort-key"])});
                var wl = {
                    paint: new Ci({
                        "circle-radius": new Ge(se.paint_circle["circle-radius"]),
                        "circle-color": new Ge(se.paint_circle["circle-color"]),
                        "circle-blur": new Ge(se.paint_circle["circle-blur"]),
                        "circle-opacity": new Ge(se.paint_circle["circle-opacity"]),
                        "circle-translate": new Le(se.paint_circle["circle-translate"]),
                        "circle-translate-anchor": new Le(se.paint_circle["circle-translate-anchor"]),
                        "circle-pitch-scale": new Le(se.paint_circle["circle-pitch-scale"]),
                        "circle-pitch-alignment": new Le(se.paint_circle["circle-pitch-alignment"]),
                        "circle-stroke-width": new Ge(se.paint_circle["circle-stroke-width"]),
                        "circle-stroke-color": new Ge(se.paint_circle["circle-stroke-color"]),
                        "circle-stroke-opacity": new Ge(se.paint_circle["circle-stroke-opacity"])
                    }), layout: Hn
                }, qt = 1e-6, Pr = typeof Float32Array < "u" ? Float32Array : Array;

                function Sl(i) {
                    return i[0] = 1, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = 1, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = 1, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, i
                }

                function sc(i, e, r) {
                    var s = e[0], c = e[1], u = e[2], d = e[3], f = e[4], _ = e[5], v = e[6], w = e[7], T = e[8],
                        A = e[9], z = e[10], k = e[11], N = e[12], V = e[13], K = e[14], ee = e[15], W = r[0], Q = r[1],
                        ue = r[2], he = r[3];
                    return i[0] = W * s + Q * f + ue * T + he * N, i[1] = W * c + Q * _ + ue * A + he * V, i[2] = W * u + Q * v + ue * z + he * K, i[3] = W * d + Q * w + ue * k + he * ee, i[4] = (W = r[4]) * s + (Q = r[5]) * f + (ue = r[6]) * T + (he = r[7]) * N, i[5] = W * c + Q * _ + ue * A + he * V, i[6] = W * u + Q * v + ue * z + he * K, i[7] = W * d + Q * w + ue * k + he * ee, i[8] = (W = r[8]) * s + (Q = r[9]) * f + (ue = r[10]) * T + (he = r[11]) * N, i[9] = W * c + Q * _ + ue * A + he * V, i[10] = W * u + Q * v + ue * z + he * K, i[11] = W * d + Q * w + ue * k + he * ee, i[12] = (W = r[12]) * s + (Q = r[13]) * f + (ue = r[14]) * T + (he = r[15]) * N, i[13] = W * c + Q * _ + ue * A + he * V, i[14] = W * u + Q * v + ue * z + he * K, i[15] = W * d + Q * w + ue * k + he * ee, i
                }

                Math.hypot || (Math.hypot = function () {
                    for (var i = 0, e = arguments.length; e--;) i += arguments[e] * arguments[e];
                    return Math.sqrt(i)
                });
                var No, yh = sc;

                function Va(i, e, r) {
                    var s = e[0], c = e[1], u = e[2], d = e[3];
                    return i[0] = r[0] * s + r[4] * c + r[8] * u + r[12] * d, i[1] = r[1] * s + r[5] * c + r[9] * u + r[13] * d, i[2] = r[2] * s + r[6] * c + r[10] * u + r[14] * d, i[3] = r[3] * s + r[7] * c + r[11] * u + r[15] * d, i
                }

                function oc(i, e) {
                    const r = Va([], [i.x, i.y, 0, 1], e);
                    return new Xe(r[0] / r[3], r[1] / r[3])
                }

                No = new Pr(4), Pr != Float32Array && (No[0] = 0, No[1] = 0, No[2] = 0, No[3] = 0);

                class ac extends Xi {
                }

                Me("HeatmapBucket", ac, {omit: ["layers"]});
                var xh = {
                    paint: new Ci({
                        "heatmap-radius": new Ge(se.paint_heatmap["heatmap-radius"]),
                        "heatmap-weight": new Ge(se.paint_heatmap["heatmap-weight"]),
                        "heatmap-intensity": new Le(se.paint_heatmap["heatmap-intensity"]),
                        "heatmap-color": new To(se.paint_heatmap["heatmap-color"]),
                        "heatmap-opacity": new Le(se.paint_heatmap["heatmap-opacity"])
                    })
                };

                function Cl(i, {width: e, height: r}, s, c) {
                    if (c) {
                        if (c instanceof Uint8ClampedArray) c = new Uint8Array(c.buffer); else if (c.length !== e * r * s) throw new RangeError(`mismatched image size. expected: ${c.length} but got: ${e * r * s}`)
                    } else c = new Uint8Array(e * r * s);
                    return i.width = e, i.height = r, i.data = c, i
                }

                function lc(i, {width: e, height: r}, s) {
                    if (e === i.width && r === i.height) return;
                    const c = Cl({}, {width: e, height: r}, s);
                    Tl(i, c, {x: 0, y: 0}, {x: 0, y: 0}, {
                        width: Math.min(i.width, e),
                        height: Math.min(i.height, r)
                    }, s), i.width = e, i.height = r, i.data = c.data
                }

                function Tl(i, e, r, s, c, u) {
                    if (0 === c.width || 0 === c.height) return e;
                    if (c.width > i.width || c.height > i.height || r.x > i.width - c.width || r.y > i.height - c.height) throw new RangeError("out of range source coordinates for image copy");
                    if (c.width > e.width || c.height > e.height || s.x > e.width - c.width || s.y > e.height - c.height) throw new RangeError("out of range destination coordinates for image copy");
                    const d = i.data, f = e.data;
                    if (d === f) throw new Error("srcData equals dstData, so image is already copied");
                    for (let _ = 0; _ < c.height; _++) {
                        const v = ((r.y + _) * i.width + r.x) * u, w = ((s.y + _) * e.width + s.x) * u;
                        for (let T = 0; T < c.width * u; T++) f[w + T] = d[v + T]
                    }
                    return e
                }

                class $o {
                    constructor(e, r) {
                        Cl(this, e, 1, r)
                    }

                    resize(e) {
                        lc(this, e, 1)
                    }

                    clone() {
                        return new $o({width: this.width, height: this.height}, new Uint8Array(this.data))
                    }

                    static copy(e, r, s, c, u) {
                        Tl(e, r, s, c, u, 1)
                    }
                }

                class Hi {
                    constructor(e, r) {
                        Cl(this, e, 4, r)
                    }

                    resize(e) {
                        lc(this, e, 4)
                    }

                    replace(e, r) {
                        r ? this.data.set(e) : this.data = e instanceof Uint8ClampedArray ? new Uint8Array(e.buffer) : e
                    }

                    clone() {
                        return new Hi({width: this.width, height: this.height}, new Uint8Array(this.data))
                    }

                    static copy(e, r, s, c, u) {
                        Tl(e, r, s, c, u, 4)
                    }
                }

                function cc(i) {
                    const e = {}, r = i.resolution || 256, s = i.clips ? i.clips.length : 1,
                        c = i.image || new Hi({width: r, height: s});
                    if (Math.log(r) / Math.LN2 % 1 != 0) throw new Error(`width is not a power of 2 - ${r}`);
                    const u = (d, f, _) => {
                        e[i.evaluationKey] = _;
                        const v = i.expression.evaluate(e);
                        c.data[d + f + 0] = Math.floor(255 * v.r / v.a), c.data[d + f + 1] = Math.floor(255 * v.g / v.a), c.data[d + f + 2] = Math.floor(255 * v.b / v.a), c.data[d + f + 3] = Math.floor(255 * v.a)
                    };
                    if (i.clips) for (let d = 0, f = 0; d < s; ++d, f += 4 * r) for (let _ = 0, v = 0; _ < r; _++, v += 4) {
                        const w = _ / (r - 1), {start: T, end: A} = i.clips[d];
                        u(f, v, T * (1 - w) + A * w)
                    } else for (let d = 0, f = 0; d < r; d++, f += 4) u(0, f, d / (r - 1));
                    return c
                }

                Me("AlphaImage", $o), Me("RGBAImage", Hi);
                var vh = {
                    paint: new Ci({
                        "hillshade-illumination-direction": new Le(se.paint_hillshade["hillshade-illumination-direction"]),
                        "hillshade-illumination-anchor": new Le(se.paint_hillshade["hillshade-illumination-anchor"]),
                        "hillshade-exaggeration": new Le(se.paint_hillshade["hillshade-exaggeration"]),
                        "hillshade-shadow-color": new Le(se.paint_hillshade["hillshade-shadow-color"]),
                        "hillshade-highlight-color": new Le(se.paint_hillshade["hillshade-highlight-color"]),
                        "hillshade-accent-color": new Le(se.paint_hillshade["hillshade-accent-color"])
                    })
                };
                const bh = Vt([{name: "a_pos", components: 2, type: "Int16"}], 4), {members: wh} = bh;
                var Zo = {};

                function Na(i, e, r) {
                    r = r || 2;
                    var s, c, u, d, f, _, v, w = e && e.length, T = w ? e[0] * r : i.length, A = hc(i, 0, T, r, !0),
                        z = [];
                    if (!A || A.next === A.prev) return z;
                    if (w && (A = function (N, V, K, ee) {
                        var W, Q, ue, he = [];
                        for (W = 0, Q = V.length; W < Q; W++) (ue = hc(N, V[W] * ee, W < Q - 1 ? V[W + 1] * ee : N.length, ee, !1)) === ue.next && (ue.steiner = !0), he.push(zh(ue));
                        for (he.sort(Eh), W = 0; W < he.length; W++) K = Mh(he[W], K);
                        return K
                    }(i, e, A, r)), i.length > 80 * r) {
                        s = u = i[0], c = d = i[1];
                        for (var k = r; k < T; k += r) (f = i[k]) < s && (s = f), (_ = i[k + 1]) < c && (c = _), f > u && (u = f), _ > d && (d = _);
                        v = 0 !== (v = Math.max(u - s, d - c)) ? 32767 / v : 0
                    }
                    return Go(A, z, r, s, c, v, 0), z
                }

                function hc(i, e, r, s, c) {
                    var u, d;
                    if (c === Ml(i, e, r, s) > 0) for (u = e; u < r; u += s) d = dc(u, i[u], i[u + 1], d); else for (u = r - s; u >= e; u -= s) d = dc(u, i[u], i[u + 1], d);
                    return d && $a(d, d.next) && (qo(d), d = d.next), d
                }

                function Kn(i, e) {
                    if (!i) return i;
                    e || (e = i);
                    var r, s = i;
                    do {
                        if (r = !1, s.steiner || !$a(s, s.next) && 0 !== Ut(s.prev, s, s.next)) s = s.next; else {
                            if (qo(s), (s = e = s.prev) === s.next) break;
                            r = !0
                        }
                    } while (r || s !== e);
                    return e
                }

                function Go(i, e, r, s, c, u, d) {
                    if (i) {
                        !d && u && function (w, T, A, z) {
                            var k = w;
                            do {
                                0 === k.z && (k.z = Il(k.x, k.y, T, A, z)), k.prevZ = k.prev, k.nextZ = k.next, k = k.next
                            } while (k !== w);
                            k.prevZ.nextZ = null, k.prevZ = null, function (N) {
                                var V, K, ee, W, Q, ue, he, ke, De = 1;
                                do {
                                    for (K = N, N = null, Q = null, ue = 0; K;) {
                                        for (ue++, ee = K, he = 0, V = 0; V < De && (he++, ee = ee.nextZ); V++) ;
                                        for (ke = De; he > 0 || ke > 0 && ee;) 0 !== he && (0 === ke || !ee || K.z <= ee.z) ? (W = K, K = K.nextZ, he--) : (W = ee, ee = ee.nextZ, ke--), Q ? Q.nextZ = W : N = W, W.prevZ = Q, Q = W;
                                        K = ee
                                    }
                                    Q.nextZ = null, De *= 2
                                } while (ue > 1)
                            }(k)
                        }(i, s, c, u);
                        for (var f, _, v = i; i.prev !== i.next;) if (f = i.prev, _ = i.next, u ? Ch(i, s, c, u) : Sh(i)) e.push(f.i / r | 0), e.push(i.i / r | 0), e.push(_.i / r | 0), qo(i), i = _.next, v = _.next; else if ((i = _) === v) {
                            d ? 1 === d ? Go(i = Th(Kn(i), e, r), e, r, s, c, u, 2) : 2 === d && Ih(i, e, r, s, c, u) : Go(Kn(i), e, r, s, c, u, 1);
                            break
                        }
                    }
                }

                function Sh(i) {
                    var e = i.prev, r = i, s = i.next;
                    if (Ut(e, r, s) >= 0) return !1;
                    for (var c = e.x, u = r.x, d = s.x, f = e.y, _ = r.y, v = s.y, w = c < u ? c < d ? c : d : u < d ? u : d, T = f < _ ? f < v ? f : v : _ < v ? _ : v, A = c > u ? c > d ? c : d : u > d ? u : d, z = f > _ ? f > v ? f : v : _ > v ? _ : v, k = s.next; k !== e;) {
                        if (k.x >= w && k.x <= A && k.y >= T && k.y <= z && Bs(c, f, u, _, d, v, k.x, k.y) && Ut(k.prev, k, k.next) >= 0) return !1;
                        k = k.next
                    }
                    return !0
                }

                function Ch(i, e, r, s) {
                    var c = i.prev, u = i, d = i.next;
                    if (Ut(c, u, d) >= 0) return !1;
                    for (var f = c.x, _ = u.x, v = d.x, w = c.y, T = u.y, A = d.y, z = f < _ ? f < v ? f : v : _ < v ? _ : v, k = w < T ? w < A ? w : A : T < A ? T : A, N = f > _ ? f > v ? f : v : _ > v ? _ : v, V = w > T ? w > A ? w : A : T > A ? T : A, K = Il(z, k, e, r, s), ee = Il(N, V, e, r, s), W = i.prevZ, Q = i.nextZ; W && W.z >= K && Q && Q.z <= ee;) {
                        if (W.x >= z && W.x <= N && W.y >= k && W.y <= V && W !== c && W !== d && Bs(f, w, _, T, v, A, W.x, W.y) && Ut(W.prev, W, W.next) >= 0 || (W = W.prevZ, Q.x >= z && Q.x <= N && Q.y >= k && Q.y <= V && Q !== c && Q !== d && Bs(f, w, _, T, v, A, Q.x, Q.y) && Ut(Q.prev, Q, Q.next) >= 0)) return !1;
                        Q = Q.nextZ
                    }
                    for (; W && W.z >= K;) {
                        if (W.x >= z && W.x <= N && W.y >= k && W.y <= V && W !== c && W !== d && Bs(f, w, _, T, v, A, W.x, W.y) && Ut(W.prev, W, W.next) >= 0) return !1;
                        W = W.prevZ
                    }
                    for (; Q && Q.z <= ee;) {
                        if (Q.x >= z && Q.x <= N && Q.y >= k && Q.y <= V && Q !== c && Q !== d && Bs(f, w, _, T, v, A, Q.x, Q.y) && Ut(Q.prev, Q, Q.next) >= 0) return !1;
                        Q = Q.nextZ
                    }
                    return !0
                }

                function Th(i, e, r) {
                    var s = i;
                    do {
                        var c = s.prev, u = s.next.next;
                        !$a(c, u) && uc(c, s, s.next, u) && jo(c, u) && jo(u, c) && (e.push(c.i / r | 0), e.push(s.i / r | 0), e.push(u.i / r | 0), qo(s), qo(s.next), s = i = u), s = s.next
                    } while (s !== i);
                    return Kn(s)
                }

                function Ih(i, e, r, s, c, u) {
                    var d = i;
                    do {
                        for (var f = d.next.next; f !== d.prev;) {
                            if (d.i !== f.i && kh(d, f)) {
                                var _ = pc(d, f);
                                return d = Kn(d, d.next), _ = Kn(_, _.next), Go(d, e, r, s, c, u, 0), void Go(_, e, r, s, c, u, 0)
                            }
                            f = f.next
                        }
                        d = d.next
                    } while (d !== i)
                }

                function Eh(i, e) {
                    return i.x - e.x
                }

                function Mh(i, e) {
                    var r = function (c, u) {
                        var d, f = u, _ = c.x, v = c.y, w = -1 / 0;
                        do {
                            if (v <= f.y && v >= f.next.y && f.next.y !== f.y) {
                                var T = f.x + (v - f.y) * (f.next.x - f.x) / (f.next.y - f.y);
                                if (T <= _ && T > w && (w = T, d = f.x < f.next.x ? f : f.next, T === _)) return d
                            }
                            f = f.next
                        } while (f !== u);
                        if (!d) return null;
                        var A, z = d, k = d.x, N = d.y, V = 1 / 0;
                        f = d;
                        do {
                            _ >= f.x && f.x >= k && _ !== f.x && Bs(v < N ? _ : w, v, k, N, v < N ? w : _, v, f.x, f.y) && (A = Math.abs(v - f.y) / (_ - f.x), jo(f, c) && (A < V || A === V && (f.x > d.x || f.x === d.x && Ah(d, f))) && (d = f, V = A)), f = f.next
                        } while (f !== z);
                        return d
                    }(i, e);
                    if (!r) return e;
                    var s = pc(r, i);
                    return Kn(s, s.next), Kn(r, r.next)
                }

                function Ah(i, e) {
                    return Ut(i.prev, i, e.prev) < 0 && Ut(e.next, i, i.next) < 0
                }

                function Il(i, e, r, s, c) {
                    return (i = 1431655765 & ((i = 858993459 & ((i = 252645135 & ((i = 16711935 & ((i = (i - r) * c | 0) | i << 8)) | i << 4)) | i << 2)) | i << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = (e - s) * c | 0) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
                }

                function zh(i) {
                    var e = i, r = i;
                    do {
                        (e.x < r.x || e.x === r.x && e.y < r.y) && (r = e), e = e.next
                    } while (e !== i);
                    return r
                }

                function Bs(i, e, r, s, c, u, d, f) {
                    return (c - d) * (e - f) >= (i - d) * (u - f) && (i - d) * (s - f) >= (r - d) * (e - f) && (r - d) * (u - f) >= (c - d) * (s - f)
                }

                function kh(i, e) {
                    return i.next.i !== e.i && i.prev.i !== e.i && !function (r, s) {
                        var c = r;
                        do {
                            if (c.i !== r.i && c.next.i !== r.i && c.i !== s.i && c.next.i !== s.i && uc(c, c.next, r, s)) return !0;
                            c = c.next
                        } while (c !== r);
                        return !1
                    }(i, e) && (jo(i, e) && jo(e, i) && function (r, s) {
                        var c = r, u = !1, d = (r.x + s.x) / 2, f = (r.y + s.y) / 2;
                        do {
                            c.y > f != c.next.y > f && c.next.y !== c.y && d < (c.next.x - c.x) * (f - c.y) / (c.next.y - c.y) + c.x && (u = !u), c = c.next
                        } while (c !== r);
                        return u
                    }(i, e) && (Ut(i.prev, i, e.prev) || Ut(i, e.prev, e)) || $a(i, e) && Ut(i.prev, i, i.next) > 0 && Ut(e.prev, e, e.next) > 0)
                }

                function Ut(i, e, r) {
                    return (e.y - i.y) * (r.x - e.x) - (e.x - i.x) * (r.y - e.y)
                }

                function $a(i, e) {
                    return i.x === e.x && i.y === e.y
                }

                function uc(i, e, r, s) {
                    var c = Ga(Ut(i, e, r)), u = Ga(Ut(i, e, s)), d = Ga(Ut(r, s, i)), f = Ga(Ut(r, s, e));
                    return c !== u && d !== f || !(0 !== c || !Za(i, r, e)) || !(0 !== u || !Za(i, s, e)) || !(0 !== d || !Za(r, i, s)) || !(0 !== f || !Za(r, e, s))
                }

                function Za(i, e, r) {
                    return e.x <= Math.max(i.x, r.x) && e.x >= Math.min(i.x, r.x) && e.y <= Math.max(i.y, r.y) && e.y >= Math.min(i.y, r.y)
                }

                function Ga(i) {
                    return i > 0 ? 1 : i < 0 ? -1 : 0
                }

                function jo(i, e) {
                    return Ut(i.prev, i, i.next) < 0 ? Ut(i, e, i.next) >= 0 && Ut(i, i.prev, e) >= 0 : Ut(i, e, i.prev) < 0 || Ut(i, i.next, e) < 0
                }

                function pc(i, e) {
                    var r = new El(i.i, i.x, i.y), s = new El(e.i, e.x, e.y), c = i.next, u = e.prev;
                    return i.next = e, e.prev = i, r.next = c, c.prev = r, s.next = r, r.prev = s, u.next = s, s.prev = u, s
                }

                function dc(i, e, r, s) {
                    var c = new El(i, e, r);
                    return s ? (c.next = s.next, c.prev = s, s.next.prev = c, s.next = c) : (c.prev = c, c.next = c), c
                }

                function qo(i) {
                    i.next.prev = i.prev, i.prev.next = i.next, i.prevZ && (i.prevZ.nextZ = i.nextZ), i.nextZ && (i.nextZ.prevZ = i.prevZ)
                }

                function El(i, e, r) {
                    this.i = i, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1
                }

                function Ml(i, e, r, s) {
                    for (var c = 0, u = e, d = r - s; u < r; u += s) c += (i[d] - i[u]) * (i[u + 1] + i[d + 1]), d = u;
                    return c
                }

                function Ph(i, e, r, s, c) {
                    mc(i, e, r || 0, s || i.length - 1, c || Dh)
                }

                function mc(i, e, r, s, c) {
                    for (; s > r;) {
                        if (s - r > 600) {
                            var u = s - r + 1, d = e - r + 1, f = Math.log(u), _ = .5 * Math.exp(2 * f / 3),
                                v = .5 * Math.sqrt(f * _ * (u - _) / u) * (d - u / 2 < 0 ? -1 : 1);
                            mc(i, e, Math.max(r, Math.floor(e - d * _ / u + v)), Math.min(s, Math.floor(e + (u - d) * _ / u + v)), c)
                        }
                        var w = i[e], T = r, A = s;
                        for (Xo(i, r, e), c(i[s], w) > 0 && Xo(i, r, s); T < A;) {
                            for (Xo(i, T, A), T++, A--; c(i[T], w) < 0;) T++;
                            for (; c(i[A], w) > 0;) A--
                        }
                        0 === c(i[r], w) ? Xo(i, r, A) : Xo(i, ++A, s), A <= e && (r = A + 1), e <= A && (s = A - 1)
                    }
                }

                function Xo(i, e, r) {
                    var s = i[e];
                    i[e] = i[r], i[r] = s
                }

                function Dh(i, e) {
                    return i < e ? -1 : i > e ? 1 : 0
                }

                function Al(i, e) {
                    const r = i.length;
                    if (r <= 1) return [i];
                    const s = [];
                    let c, u;
                    for (let d = 0; d < r; d++) {
                        const f = zn(i[d]);
                        0 !== f && (i[d].area = Math.abs(f), void 0 === u && (u = f < 0), u === f < 0 ? (c && s.push(c), c = [i[d]]) : c.push(i[d]))
                    }
                    if (c && s.push(c), e > 1) for (let d = 0; d < s.length; d++) s[d].length <= e || (Ph(s[d], e, 1, s[d].length - 1, Lh), s[d] = s[d].slice(0, e));
                    return s
                }

                function Lh(i, e) {
                    return e.area - i.area
                }

                function zl(i, e, r) {
                    const s = r.patternDependencies;
                    let c = !1;
                    for (const u of e) {
                        const d = u.paint.get(`${i}-pattern`);
                        d.isConstant() || (c = !0);
                        const f = d.constantOr(null);
                        f && (c = !0, s[f.to] = !0, s[f.from] = !0)
                    }
                    return c
                }

                function kl(i, e, r, s, c) {
                    const u = c.patternDependencies;
                    for (const d of e) {
                        const f = d.paint.get(`${i}-pattern`).value;
                        if ("constant" !== f.kind) {
                            let _ = f.evaluate({zoom: s - 1}, r, {}, c.availableImages),
                                v = f.evaluate({zoom: s}, r, {}, c.availableImages),
                                w = f.evaluate({zoom: s + 1}, r, {}, c.availableImages);
                            _ = _ && _.name ? _.name : _, v = v && v.name ? v.name : v, w = w && w.name ? w.name : w, u[_] = !0, u[v] = !0, u[w] = !0, r.patterns[d.id] = {
                                min: _,
                                mid: v,
                                max: w
                            }
                        }
                    }
                    return r
                }

                ({
                    get exports() {
                        return Zo
                    }, set exports(i) {
                        Zo = i
                    }
                }).exports = Na, Zo.default = Na, Na.deviation = function (i, e, r, s) {
                    var c = e && e.length, u = Math.abs(Ml(i, 0, c ? e[0] * r : i.length, r));
                    if (c) for (var d = 0, f = e.length; d < f; d++) u -= Math.abs(Ml(i, e[d] * r, d < f - 1 ? e[d + 1] * r : i.length, r));
                    var _ = 0;
                    for (d = 0; d < s.length; d += 3) {
                        var v = s[d] * r, w = s[d + 1] * r, T = s[d + 2] * r;
                        _ += Math.abs((i[v] - i[T]) * (i[w + 1] - i[v + 1]) - (i[v] - i[w]) * (i[T + 1] - i[v + 1]))
                    }
                    return 0 === u && 0 === _ ? 0 : Math.abs((_ - u) / u)
                }, Na.flatten = function (i) {
                    for (var e = i[0][0].length, r = {
                        vertices: [],
                        holes: [],
                        dimensions: e
                    }, s = 0, c = 0; c < i.length; c++) {
                        for (var u = 0; u < i[c].length; u++) for (var d = 0; d < e; d++) r.vertices.push(i[c][u][d]);
                        c > 0 && r.holes.push(s += i[c - 1].length)
                    }
                    return r
                };

                class Pl {
                    constructor(e) {
                        this.zoom = e.zoom, this.overscaling = e.overscaling, this.layers = e.layers, this.layerIds = this.layers.map(r => r.id), this.index = e.index, this.hasPattern = !1, this.patternFeatures = [], this.layoutVertexArray = new xl, this.indexArray = new p, this.indexArray2 = new m, this.programConfigurations = new He(e.layers, e.zoom), this.segments = new x, this.segments2 = new x, this.stateDependentLayerIds = this.layers.filter(r => r.isStateDependent()).map(r => r.id)
                    }

                    populate(e, r, s) {
                        this.hasPattern = zl("fill", this.layers, r);
                        const c = this.layers[0].layout.get("fill-sort-key"), u = !c.isConstant(), d = [];
                        for (const {feature: f, id: _, index: v, sourceLayerIndex: w} of e) {
                            const T = this.layers[0]._featureFilter.needGeometry, A = Ai(f, T);
                            if (!this.layers[0]._featureFilter.filter(new Tt(this.zoom), A, s)) continue;
                            const z = u ? c.evaluate(A, {}, s, r.availableImages) : void 0, k = {
                                id: _,
                                properties: f.properties,
                                type: f.type,
                                sourceLayerIndex: w,
                                index: v,
                                geometry: T ? A.geometry : ni(f),
                                patterns: {},
                                sortKey: z
                            };
                            d.push(k)
                        }
                        u && d.sort((f, _) => f.sortKey - _.sortKey);
                        for (const f of d) {
                            const {geometry: _, index: v, sourceLayerIndex: w} = f;
                            if (this.hasPattern) {
                                const T = kl("fill", this.layers, f, this.zoom, r);
                                this.patternFeatures.push(T)
                            } else this.addFeature(f, _, v, s, {});
                            r.featureIndex.insert(e[v].feature, _, v, w, this.index)
                        }
                    }

                    update(e, r, s) {
                        this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(e, r, this.stateDependentLayers, s)
                    }

                    addFeatures(e, r, s) {
                        for (const c of this.patternFeatures) this.addFeature(c, c.geometry, c.index, r, s)
                    }

                    isEmpty() {
                        return 0 === this.layoutVertexArray.length
                    }

                    uploadPending() {
                        return !this.uploaded || this.programConfigurations.needsUpload
                    }

                    upload(e) {
                        this.uploaded || (this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, wh), this.indexBuffer = e.createIndexBuffer(this.indexArray), this.indexBuffer2 = e.createIndexBuffer(this.indexArray2)), this.programConfigurations.upload(e), this.uploaded = !0
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.indexBuffer2.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.segments2.destroy())
                    }

                    addFeature(e, r, s, c, u) {
                        for (const d of Al(r, 500)) {
                            let f = 0;
                            for (const z of d) f += z.length;
                            const _ = this.segments.prepareSegment(f, this.layoutVertexArray, this.indexArray),
                                v = _.vertexLength, w = [], T = [];
                            for (const z of d) {
                                if (0 === z.length) continue;
                                z !== d[0] && T.push(w.length / 2);
                                const k = this.segments2.prepareSegment(z.length, this.layoutVertexArray, this.indexArray2),
                                    N = k.vertexLength;
                                this.layoutVertexArray.emplaceBack(z[0].x, z[0].y), this.indexArray2.emplaceBack(N + z.length - 1, N), w.push(z[0].x), w.push(z[0].y);
                                for (let V = 1; V < z.length; V++) this.layoutVertexArray.emplaceBack(z[V].x, z[V].y), this.indexArray2.emplaceBack(N + V - 1, N + V), w.push(z[V].x), w.push(z[V].y);
                                k.vertexLength += z.length, k.primitiveLength += z.length
                            }
                            const A = Zo(w, T);
                            for (let z = 0; z < A.length; z += 3) this.indexArray.emplaceBack(v + A[z], v + A[z + 1], v + A[z + 2]);
                            _.vertexLength += f, _.primitiveLength += A.length / 3
                        }
                        this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, e, s, u, c)
                    }
                }

                Me("FillBucket", Pl, {omit: ["layers", "patternFeatures"]});
                const Rh = new Ci({"fill-sort-key": new Ge(se.layout_fill["fill-sort-key"])});
                var Bh = {
                    paint: new Ci({
                        "fill-antialias": new Le(se.paint_fill["fill-antialias"]),
                        "fill-opacity": new Ge(se.paint_fill["fill-opacity"]),
                        "fill-color": new Ge(se.paint_fill["fill-color"]),
                        "fill-outline-color": new Ge(se.paint_fill["fill-outline-color"]),
                        "fill-translate": new Le(se.paint_fill["fill-translate"]),
                        "fill-translate-anchor": new Le(se.paint_fill["fill-translate-anchor"]),
                        "fill-pattern": new Sn(se.paint_fill["fill-pattern"])
                    }), layout: Rh
                };
                const Fh = Vt([{name: "a_pos", components: 2, type: "Int16"}, {
                    name: "a_normal_ed",
                    components: 4,
                    type: "Int16"
                }], 4), Oh = Vt([{name: "a_centroid", components: 2, type: "Int16"}], 4), {members: Uh} = Fh;
                var In = {}, Vh = Xe, fc = Fs;

                function Fs(i, e, r, s, c) {
                    this.properties = {}, this.extent = r, this.type = 0, this._pbf = i, this._geometry = -1, this._keys = s, this._values = c, i.readFields(Nh, this, e)
                }

                function Nh(i, e, r) {
                    1 == i ? e.id = r.readVarint() : 2 == i ? function (s, c) {
                        for (var u = s.readVarint() + s.pos; s.pos < u;) {
                            var d = c._keys[s.readVarint()], f = c._values[s.readVarint()];
                            c.properties[d] = f
                        }
                    }(r, e) : 3 == i ? e.type = r.readVarint() : 4 == i && (e._geometry = r.pos)
                }

                function $h(i) {
                    for (var e, r, s = 0, c = 0, u = i.length, d = u - 1; c < u; d = c++) s += ((r = i[d]).x - (e = i[c]).x) * (e.y + r.y);
                    return s
                }

                Fs.types = ["Unknown", "Point", "LineString", "Polygon"], Fs.prototype.loadGeometry = function () {
                    var i = this._pbf;
                    i.pos = this._geometry;
                    for (var e, r = i.readVarint() + i.pos, s = 1, c = 0, u = 0, d = 0, f = []; i.pos < r;) {
                        if (c <= 0) {
                            var _ = i.readVarint();
                            s = 7 & _, c = _ >> 3
                        }
                        if (c--, 1 === s || 2 === s) u += i.readSVarint(), d += i.readSVarint(), 1 === s && (e && f.push(e), e = []), e.push(new Vh(u, d)); else {
                            if (7 !== s) throw new Error("unknown command " + s);
                            e && e.push(e[0].clone())
                        }
                    }
                    return e && f.push(e), f
                }, Fs.prototype.bbox = function () {
                    var i = this._pbf;
                    i.pos = this._geometry;
                    for (var e = i.readVarint() + i.pos, r = 1, s = 0, c = 0, u = 0, d = 1 / 0, f = -1 / 0, _ = 1 / 0, v = -1 / 0; i.pos < e;) {
                        if (s <= 0) {
                            var w = i.readVarint();
                            r = 7 & w, s = w >> 3
                        }
                        if (s--, 1 === r || 2 === r) (c += i.readSVarint()) < d && (d = c), c > f && (f = c), (u += i.readSVarint()) < _ && (_ = u), u > v && (v = u); else if (7 !== r) throw new Error("unknown command " + r)
                    }
                    return [d, _, f, v]
                }, Fs.prototype.toGeoJSON = function (i, e, r) {
                    var s, c, u = this.extent * Math.pow(2, r), d = this.extent * i, f = this.extent * e,
                        _ = this.loadGeometry(), v = Fs.types[this.type];

                    function w(z) {
                        for (var k = 0; k < z.length; k++) {
                            var N = z[k];
                            z[k] = [360 * (N.x + d) / u - 180, 360 / Math.PI * Math.atan(Math.exp((180 - 360 * (N.y + f) / u) * Math.PI / 180)) - 90]
                        }
                    }

                    switch (this.type) {
                        case 1:
                            var T = [];
                            for (s = 0; s < _.length; s++) T[s] = _[s][0];
                            w(_ = T);
                            break;
                        case 2:
                            for (s = 0; s < _.length; s++) w(_[s]);
                            break;
                        case 3:
                            for (_ = function (z) {
                                var k = z.length;
                                if (k <= 1) return [z];
                                for (var N, V, K = [], ee = 0; ee < k; ee++) {
                                    var W = $h(z[ee]);
                                    0 !== W && (void 0 === V && (V = W < 0), V === W < 0 ? (N && K.push(N), N = [z[ee]]) : N.push(z[ee]))
                                }
                                return N && K.push(N), K
                            }(_), s = 0; s < _.length; s++) for (c = 0; c < _[s].length; c++) w(_[s][c])
                    }
                    1 === _.length ? _ = _[0] : v = "Multi" + v;
                    var A = {type: "Feature", geometry: {type: v, coordinates: _}, properties: this.properties};
                    return "id" in this && (A.id = this.id), A
                };
                var Zh = fc, gc = _c;

                function _c(i, e) {
                    this.version = 1, this.name = null, this.extent = 4096, this.length = 0, this._pbf = i, this._keys = [], this._values = [], this._features = [], i.readFields(Gh, this, e), this.length = this._features.length
                }

                function Gh(i, e, r) {
                    15 === i ? e.version = r.readVarint() : 1 === i ? e.name = r.readString() : 5 === i ? e.extent = r.readVarint() : 2 === i ? e._features.push(r.pos) : 3 === i ? e._keys.push(r.readString()) : 4 === i && e._values.push(function (s) {
                        for (var c = null, u = s.readVarint() + s.pos; s.pos < u;) {
                            var d = s.readVarint() >> 3;
                            c = 1 === d ? s.readString() : 2 === d ? s.readFloat() : 3 === d ? s.readDouble() : 4 === d ? s.readVarint64() : 5 === d ? s.readVarint() : 6 === d ? s.readSVarint() : 7 === d ? s.readBoolean() : null
                        }
                        return c
                    }(r))
                }

                _c.prototype.feature = function (i) {
                    if (i < 0 || i >= this._features.length) throw new Error("feature index out of bounds");
                    this._pbf.pos = this._features[i];
                    var e = this._pbf.readVarint() + this._pbf.pos;
                    return new Zh(this._pbf, e, this.extent, this._keys, this._values)
                };
                var jh = gc;

                function qh(i, e, r) {
                    if (3 === i) {
                        var s = new jh(r, r.readVarint() + r.pos);
                        s.length && (e[s.name] = s)
                    }
                }

                In.VectorTile = function (i, e) {
                    this.layers = i.readFields(qh, {}, e)
                }, In.VectorTileFeature = fc, In.VectorTileLayer = gc;
                const Xh = In.VectorTileFeature.types, Dl = Math.pow(2, 13);

                function Wo(i, e, r, s, c, u, d, f) {
                    i.emplaceBack(e, r, 2 * Math.floor(s * Dl) + d, c * Dl * 2, u * Dl * 2, Math.round(f))
                }

                class Ll {
                    constructor(e) {
                        this.zoom = e.zoom, this.overscaling = e.overscaling, this.layers = e.layers, this.layerIds = this.layers.map(r => r.id), this.index = e.index, this.hasPattern = !1, this.layoutVertexArray = new vl, this.centroidVertexArray = new Uo, this.indexArray = new p, this.programConfigurations = new He(e.layers, e.zoom), this.segments = new x, this.stateDependentLayerIds = this.layers.filter(r => r.isStateDependent()).map(r => r.id)
                    }

                    populate(e, r, s) {
                        this.features = [], this.hasPattern = zl("fill-extrusion", this.layers, r);
                        for (const {feature: c, id: u, index: d, sourceLayerIndex: f} of e) {
                            const _ = this.layers[0]._featureFilter.needGeometry, v = Ai(c, _);
                            if (!this.layers[0]._featureFilter.filter(new Tt(this.zoom), v, s)) continue;
                            const w = {
                                id: u,
                                sourceLayerIndex: f,
                                index: d,
                                geometry: _ ? v.geometry : ni(c),
                                properties: c.properties,
                                type: c.type,
                                patterns: {}
                            };
                            this.hasPattern ? this.features.push(kl("fill-extrusion", this.layers, w, this.zoom, r)) : this.addFeature(w, w.geometry, d, s, {}), r.featureIndex.insert(c, w.geometry, d, f, this.index, !0)
                        }
                    }

                    addFeatures(e, r, s) {
                        for (const c of this.features) {
                            const {geometry: u} = c;
                            this.addFeature(c, u, c.index, r, s)
                        }
                    }

                    update(e, r, s) {
                        this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(e, r, this.stateDependentLayers, s)
                    }

                    isEmpty() {
                        return 0 === this.layoutVertexArray.length && 0 === this.centroidVertexArray.length
                    }

                    uploadPending() {
                        return !this.uploaded || this.programConfigurations.needsUpload
                    }

                    upload(e) {
                        this.uploaded || (this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, Uh), this.centroidVertexBuffer = e.createVertexBuffer(this.centroidVertexArray, Oh.members, !0), this.indexBuffer = e.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(e), this.uploaded = !0
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.centroidVertexBuffer.destroy())
                    }

                    addFeature(e, r, s, c, u) {
                        const d = {x: 0, y: 0, vertexCount: 0};
                        for (const f of Al(r, 500)) {
                            let _ = 0;
                            for (const k of f) _ += k.length;
                            let v = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray);
                            for (const k of f) {
                                if (0 === k.length || ((i = k).every(e => e.x < 0) || i.every(e => e.x > pt) || i.every(e => e.y < 0) || i.every(e => e.y > pt))) continue;
                                let N = 0;
                                for (let V = 0; V < k.length; V++) {
                                    const K = k[V];
                                    if (V >= 1) {
                                        const ee = k[V - 1];
                                        if (!Wh(K, ee)) {
                                            v.vertexLength + 4 > x.MAX_VERTEX_ARRAY_LENGTH && (v = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray));
                                            const W = K.sub(ee)._perp()._unit(), Q = ee.dist(K);
                                            N + Q > 32768 && (N = 0), Wo(this.layoutVertexArray, K.x, K.y, W.x, W.y, 0, 0, N), Wo(this.layoutVertexArray, K.x, K.y, W.x, W.y, 0, 1, N), d.x += 2 * K.x, d.y += 2 * K.y, d.vertexCount += 2, N += Q, Wo(this.layoutVertexArray, ee.x, ee.y, W.x, W.y, 0, 0, N), Wo(this.layoutVertexArray, ee.x, ee.y, W.x, W.y, 0, 1, N), d.x += 2 * ee.x, d.y += 2 * ee.y, d.vertexCount += 2;
                                            const ue = v.vertexLength;
                                            this.indexArray.emplaceBack(ue, ue + 2, ue + 1), this.indexArray.emplaceBack(ue + 1, ue + 2, ue + 3), v.vertexLength += 4, v.primitiveLength += 2
                                        }
                                    }
                                }
                            }
                            if (v.vertexLength + _ > x.MAX_VERTEX_ARRAY_LENGTH && (v = this.segments.prepareSegment(_, this.layoutVertexArray, this.indexArray)), "Polygon" !== Xh[e.type]) continue;
                            const w = [], T = [], A = v.vertexLength;
                            for (const k of f) if (0 !== k.length) {
                                k !== f[0] && T.push(w.length / 2);
                                for (let N = 0; N < k.length; N++) {
                                    const V = k[N];
                                    Wo(this.layoutVertexArray, V.x, V.y, 0, 0, 1, 1, 0), d.x += V.x, d.y += V.y, d.vertexCount += 1, w.push(V.x), w.push(V.y)
                                }
                            }
                            const z = Zo(w, T);
                            for (let k = 0; k < z.length; k += 3) this.indexArray.emplaceBack(A + z[k], A + z[k + 2], A + z[k + 1]);
                            v.primitiveLength += z.length / 3, v.vertexLength += _
                        }
                        var i;
                        for (let f = 0; f < d.vertexCount; f++) this.centroidVertexArray.emplaceBack(Math.floor(d.x / d.vertexCount), Math.floor(d.y / d.vertexCount));
                        this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, e, s, u, c)
                    }
                }

                function Wh(i, e) {
                    return i.x === e.x && (i.x < 0 || i.x > pt) || i.y === e.y && (i.y < 0 || i.y > pt)
                }

                Me("FillExtrusionBucket", Ll, {omit: ["layers", "features"]});
                var Kh = {
                    paint: new Ci({
                        "fill-extrusion-opacity": new Le(se["paint_fill-extrusion"]["fill-extrusion-opacity"]),
                        "fill-extrusion-color": new Ge(se["paint_fill-extrusion"]["fill-extrusion-color"]),
                        "fill-extrusion-translate": new Le(se["paint_fill-extrusion"]["fill-extrusion-translate"]),
                        "fill-extrusion-translate-anchor": new Le(se["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),
                        "fill-extrusion-pattern": new Sn(se["paint_fill-extrusion"]["fill-extrusion-pattern"]),
                        "fill-extrusion-height": new Ge(se["paint_fill-extrusion"]["fill-extrusion-height"]),
                        "fill-extrusion-base": new Ge(se["paint_fill-extrusion"]["fill-extrusion-base"]),
                        "fill-extrusion-vertical-gradient": new Le(se["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])
                    })
                };

                function Ho(i, e) {
                    return i.x * e.x + i.y * e.y
                }

                function yc(i, e) {
                    if (1 === i.length) {
                        let r = 0;
                        const s = e[r++];
                        let c;
                        for (; !c || s.equals(c);) if (c = e[r++], !c) return 1 / 0;
                        for (; r < e.length; r++) {
                            const u = e[r], d = i[0], f = c.sub(s), _ = u.sub(s), v = d.sub(s), w = Ho(f, f),
                                T = Ho(f, _), A = Ho(_, _), z = Ho(v, f), k = Ho(v, _), N = w * A - T * T,
                                V = (A * z - T * k) / N, K = (w * k - T * z) / N,
                                ee = s.z * (1 - V - K) + c.z * V + u.z * K;
                            if (isFinite(ee)) return ee
                        }
                        return 1 / 0
                    }
                    {
                        let r = 1 / 0;
                        for (const s of e) r = Math.min(r, s.z);
                        return r
                    }
                }

                const Yh = Vt([{name: "a_pos_normal", components: 2, type: "Int16"}, {
                        name: "a_data",
                        components: 4,
                        type: "Uint8"
                    }], 4), {members: Jh} = Yh, Qh = Vt([{name: "a_uv_x", components: 1, type: "Float32"}, {
                        name: "a_split_index",
                        components: 1,
                        type: "Float32"
                    }]), {members: eu} = Qh, tu = In.VectorTileFeature.types, iu = Math.cos(Math.PI / 180 * 37.5),
                    xc = Math.pow(2, 14) / .5;

                class Rl {
                    constructor(e) {
                        this.zoom = e.zoom, this.overscaling = e.overscaling, this.layers = e.layers, this.layerIds = this.layers.map(r => r.id), this.index = e.index, this.hasPattern = !1, this.patternFeatures = [], this.lineClipsArray = [], this.gradients = {}, this.layers.forEach(r => {
                            this.gradients[r.id] = {}
                        }), this.layoutVertexArray = new Ua, this.layoutVertexArray2 = new bl, this.indexArray = new p, this.programConfigurations = new He(e.layers, e.zoom), this.segments = new x, this.maxLineLength = 0, this.stateDependentLayerIds = this.layers.filter(r => r.isStateDependent()).map(r => r.id)
                    }

                    populate(e, r, s) {
                        this.hasPattern = zl("line", this.layers, r);
                        const c = this.layers[0].layout.get("line-sort-key"), u = !c.isConstant(), d = [];
                        for (const {feature: f, id: _, index: v, sourceLayerIndex: w} of e) {
                            const T = this.layers[0]._featureFilter.needGeometry, A = Ai(f, T);
                            if (!this.layers[0]._featureFilter.filter(new Tt(this.zoom), A, s)) continue;
                            const z = u ? c.evaluate(A, {}, s) : void 0, k = {
                                id: _,
                                properties: f.properties,
                                type: f.type,
                                sourceLayerIndex: w,
                                index: v,
                                geometry: T ? A.geometry : ni(f),
                                patterns: {},
                                sortKey: z
                            };
                            d.push(k)
                        }
                        u && d.sort((f, _) => f.sortKey - _.sortKey);
                        for (const f of d) {
                            const {geometry: _, index: v, sourceLayerIndex: w} = f;
                            if (this.hasPattern) {
                                const T = kl("line", this.layers, f, this.zoom, r);
                                this.patternFeatures.push(T)
                            } else this.addFeature(f, _, v, s, {});
                            r.featureIndex.insert(e[v].feature, _, v, w, this.index)
                        }
                    }

                    update(e, r, s) {
                        this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(e, r, this.stateDependentLayers, s)
                    }

                    addFeatures(e, r, s) {
                        for (const c of this.patternFeatures) this.addFeature(c, c.geometry, c.index, r, s)
                    }

                    isEmpty() {
                        return 0 === this.layoutVertexArray.length
                    }

                    uploadPending() {
                        return !this.uploaded || this.programConfigurations.needsUpload
                    }

                    upload(e) {
                        this.uploaded || (0 !== this.layoutVertexArray2.length && (this.layoutVertexBuffer2 = e.createVertexBuffer(this.layoutVertexArray2, eu)), this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, Jh), this.indexBuffer = e.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(e), this.uploaded = !0
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy())
                    }

                    lineFeatureClips(e) {
                        if (e.properties && Object.prototype.hasOwnProperty.call(e.properties, "mapbox_clip_start") && Object.prototype.hasOwnProperty.call(e.properties, "mapbox_clip_end")) return {
                            start: +e.properties.mapbox_clip_start,
                            end: +e.properties.mapbox_clip_end
                        }
                    }

                    addFeature(e, r, s, c, u) {
                        const d = this.layers[0].layout, f = d.get("line-join").evaluate(e, {}), _ = d.get("line-cap"),
                            v = d.get("line-miter-limit"), w = d.get("line-round-limit");
                        this.lineClips = this.lineFeatureClips(e);
                        for (const T of r) this.addLine(T, e, f, _, v, w);
                        this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, e, s, u, c)
                    }

                    addLine(e, r, s, c, u, d) {
                        if (this.distance = 0, this.scaledDistance = 0, this.totalDistance = 0, this.lineClips) {
                            this.lineClipsArray.push(this.lineClips);
                            for (let K = 0; K < e.length - 1; K++) this.totalDistance += e[K].dist(e[K + 1]);
                            this.updateScaledDistance(), this.maxLineLength = Math.max(this.maxLineLength, this.totalDistance)
                        }
                        const f = "Polygon" === tu[r.type];
                        let _ = e.length;
                        for (; _ >= 2 && e[_ - 1].equals(e[_ - 2]);) _--;
                        let v = 0;
                        for (; v < _ - 1 && e[v].equals(e[v + 1]);) v++;
                        if (_ < (f ? 3 : 2)) return;
                        "bevel" === s && (u = 1.05);
                        const w = this.overscaling <= 16 ? 122880 / (512 * this.overscaling) : 0,
                            T = this.segments.prepareSegment(10 * _, this.layoutVertexArray, this.indexArray);
                        let A, z, k, N, V;
                        this.e1 = this.e2 = -1, f && (A = e[_ - 2], V = e[v].sub(A)._unit()._perp());
                        for (let K = v; K < _; K++) {
                            if (k = K === _ - 1 ? f ? e[v + 1] : void 0 : e[K + 1], k && e[K].equals(k)) continue;
                            V && (N = V), A && (z = A), A = e[K], V = k ? k.sub(A)._unit()._perp() : N, N = N || V;
                            let ee = N.add(V);
                            0 === ee.x && 0 === ee.y || ee._unit();
                            const W = N.x * V.x + N.y * V.y, Q = ee.x * V.x + ee.y * V.y, ue = 0 !== Q ? 1 / Q : 1 / 0,
                                he = 2 * Math.sqrt(2 - 2 * Q), ke = Q < iu && z && k, De = N.x * V.y - N.y * V.x > 0;
                            if (ke && K > v) {
                                const ve = A.dist(z);
                                if (ve > 2 * w) {
                                    const Ie = A.sub(A.sub(z)._mult(w / ve)._round());
                                    this.updateDistance(z, Ie), this.addCurrentVertex(Ie, N, 0, 0, T), z = Ie
                                }
                            }
                            const Te = z && k;
                            let we = Te ? s : f ? "butt" : c;
                            if (Te && "round" === we && (ue < d ? we = "miter" : ue <= 2 && (we = "fakeround")), "miter" === we && ue > u && (we = "bevel"), "bevel" === we && (ue > 2 && (we = "flipbevel"), ue < u && (we = "miter")), z && this.updateDistance(z, A), "miter" === we) ee._mult(ue), this.addCurrentVertex(A, ee, 0, 0, T); else if ("flipbevel" === we) {
                                if (ue > 100) ee = V.mult(-1); else {
                                    const ve = ue * N.add(V).mag() / N.sub(V).mag();
                                    ee._perp()._mult(ve * (De ? -1 : 1))
                                }
                                this.addCurrentVertex(A, ee, 0, 0, T), this.addCurrentVertex(A, ee.mult(-1), 0, 0, T)
                            } else if ("bevel" === we || "fakeround" === we) {
                                const ve = -Math.sqrt(ue * ue - 1), Ie = De ? ve : 0, Ce = De ? 0 : ve;
                                if (z && this.addCurrentVertex(A, N, Ie, Ce, T), "fakeround" === we) {
                                    const _e = Math.round(180 * he / Math.PI / 20);
                                    for (let Ue = 1; Ue < _e; Ue++) {
                                        let Re = Ue / _e;
                                        if (.5 !== Re) {
                                            const It = Re - .5;
                                            Re += Re * It * (Re - 1) * ((1.0904 + W * (W * (3.55645 - 1.43519 * W) - 3.2452)) * It * It + (.848013 + W * (.215638 * W - 1.06021)))
                                        }
                                        const Ye = V.sub(N)._mult(Re)._add(N)._unit()._mult(De ? -1 : 1);
                                        this.addHalfVertex(A, Ye.x, Ye.y, !1, De, 0, T)
                                    }
                                }
                                k && this.addCurrentVertex(A, V, -Ie, -Ce, T)
                            } else if ("butt" === we) this.addCurrentVertex(A, ee, 0, 0, T); else if ("square" === we) {
                                const ve = z ? 1 : -1;
                                this.addCurrentVertex(A, ee, ve, ve, T)
                            } else "round" === we && (z && (this.addCurrentVertex(A, N, 0, 0, T), this.addCurrentVertex(A, N, 1, 1, T, !0)), k && (this.addCurrentVertex(A, V, -1, -1, T, !0), this.addCurrentVertex(A, V, 0, 0, T)));
                            if (ke && K < _ - 1) {
                                const ve = A.dist(k);
                                if (ve > 2 * w) {
                                    const Ie = A.add(k.sub(A)._mult(w / ve)._round());
                                    this.updateDistance(A, Ie), this.addCurrentVertex(Ie, V, 0, 0, T), A = Ie
                                }
                            }
                        }
                    }

                    addCurrentVertex(e, r, s, c, u, d = !1) {
                        const f = r.y * c - r.x, _ = -r.y - r.x * c;
                        this.addHalfVertex(e, r.x + r.y * s, r.y - r.x * s, d, !1, s, u), this.addHalfVertex(e, f, _, d, !0, -c, u), this.distance > xc / 2 && 0 === this.totalDistance && (this.distance = 0, this.addCurrentVertex(e, r, s, c, u, d))
                    }

                    addHalfVertex({x: e, y: r}, s, c, u, d, f, _) {
                        const v = .5 * (this.lineClips ? this.scaledDistance * (xc - 1) : this.scaledDistance);
                        this.layoutVertexArray.emplaceBack((e << 1) + (u ? 1 : 0), (r << 1) + (d ? 1 : 0), Math.round(63 * s) + 128, Math.round(63 * c) + 128, 1 + (0 === f ? 0 : f < 0 ? -1 : 1) | (63 & v) << 2, v >> 6), this.lineClips && this.layoutVertexArray2.emplaceBack((this.scaledDistance - this.lineClips.start) / (this.lineClips.end - this.lineClips.start), this.lineClipsArray.length);
                        const w = _.vertexLength++;
                        this.e1 >= 0 && this.e2 >= 0 && (this.indexArray.emplaceBack(this.e1, this.e2, w), _.primitiveLength++), d ? this.e2 = w : this.e1 = w
                    }

                    updateScaledDistance() {
                        this.scaledDistance = this.lineClips ? this.lineClips.start + (this.lineClips.end - this.lineClips.start) * this.distance / this.totalDistance : this.distance
                    }

                    updateDistance(e, r) {
                        this.distance += e.dist(r), this.updateScaledDistance()
                    }
                }

                Me("LineBucket", Rl, {omit: ["layers", "patternFeatures"]});
                const ru = new Ci({
                    "line-cap": new Le(se.layout_line["line-cap"]),
                    "line-join": new Ge(se.layout_line["line-join"]),
                    "line-miter-limit": new Le(se.layout_line["line-miter-limit"]),
                    "line-round-limit": new Le(se.layout_line["line-round-limit"]),
                    "line-sort-key": new Ge(se.layout_line["line-sort-key"])
                });
                var vc = {
                    paint: new Ci({
                        "line-opacity": new Ge(se.paint_line["line-opacity"]),
                        "line-color": new Ge(se.paint_line["line-color"]),
                        "line-translate": new Le(se.paint_line["line-translate"]),
                        "line-translate-anchor": new Le(se.paint_line["line-translate-anchor"]),
                        "line-width": new Ge(se.paint_line["line-width"]),
                        "line-gap-width": new Ge(se.paint_line["line-gap-width"]),
                        "line-offset": new Ge(se.paint_line["line-offset"]),
                        "line-blur": new Ge(se.paint_line["line-blur"]),
                        "line-dasharray": new Co(se.paint_line["line-dasharray"]),
                        "line-pattern": new Sn(se.paint_line["line-pattern"]),
                        "line-gradient": new To(se.paint_line["line-gradient"])
                    }), layout: ru
                };
                const bc = new class extends Ge {
                    possiblyEvaluate(i, e) {
                        return e = new Tt(Math.floor(e.zoom), {
                            now: e.now,
                            fadeDuration: e.fadeDuration,
                            zoomHistory: e.zoomHistory,
                            transition: e.transition
                        }), super.possiblyEvaluate(i, e)
                    }

                    evaluate(i, e, r, s) {
                        return e = ot({}, e, {zoom: Math.floor(e.zoom)}), super.evaluate(i, e, r, s)
                    }
                }(vc.paint.properties["line-width"].specification);

                function wc(i, e) {
                    return e > 0 ? e + 2 * i : i
                }

                bc.useIntegerZoom = !0;
                const nu = Vt([{name: "a_pos_offset", components: 4, type: "Int16"}, {
                        name: "a_data",
                        components: 4,
                        type: "Uint16"
                    }, {name: "a_pixeloffset", components: 4, type: "Int16"}], 4),
                    su = Vt([{name: "a_projected_pos", components: 3, type: "Float32"}], 4);
                Vt([{name: "a_fade_opacity", components: 1, type: "Uint32"}], 4);
                const ou = Vt([{name: "a_placed", components: 2, type: "Uint8"}, {
                    name: "a_shift",
                    components: 2,
                    type: "Float32"
                }]);
                Vt([{type: "Int16", name: "anchorPointX"}, {type: "Int16", name: "anchorPointY"}, {
                    type: "Int16",
                    name: "x1"
                }, {type: "Int16", name: "y1"}, {type: "Int16", name: "x2"}, {
                    type: "Int16",
                    name: "y2"
                }, {type: "Uint32", name: "featureIndex"}, {type: "Uint16", name: "sourceLayerIndex"}, {
                    type: "Uint16",
                    name: "bucketIndex"
                }]);
                const Sc = Vt([{name: "a_pos", components: 2, type: "Int16"}, {
                        name: "a_anchor_pos",
                        components: 2,
                        type: "Int16"
                    }, {name: "a_extrude", components: 2, type: "Int16"}], 4),
                    au = Vt([{name: "a_pos", components: 2, type: "Float32"}, {
                        name: "a_radius",
                        components: 1,
                        type: "Float32"
                    }, {name: "a_flags", components: 2, type: "Int16"}], 4);

                function lu(i, e, r) {
                    return i.sections.forEach(s => {
                        s.text = function (c, u, d) {
                            const f = u.layout.get("text-transform").evaluate(d, {});
                            return "uppercase" === f ? c = c.toLocaleUpperCase() : "lowercase" === f && (c = c.toLocaleLowerCase()), Si.applyArabicShaping && (c = Si.applyArabicShaping(c)), c
                        }(s.text, e, r)
                    }), i
                }

                Vt([{name: "triangle", components: 3, type: "Uint16"}]), Vt([{
                    type: "Int16",
                    name: "anchorX"
                }, {type: "Int16", name: "anchorY"}, {type: "Uint16", name: "glyphStartIndex"}, {
                    type: "Uint16",
                    name: "numGlyphs"
                }, {type: "Uint32", name: "vertexStartIndex"}, {
                    type: "Uint32",
                    name: "lineStartIndex"
                }, {type: "Uint32", name: "lineLength"}, {type: "Uint16", name: "segment"}, {
                    type: "Uint16",
                    name: "lowerSize"
                }, {type: "Uint16", name: "upperSize"}, {type: "Float32", name: "lineOffsetX"}, {
                    type: "Float32",
                    name: "lineOffsetY"
                }, {type: "Uint8", name: "writingMode"}, {type: "Uint8", name: "placedOrientation"}, {
                    type: "Uint8",
                    name: "hidden"
                }, {type: "Uint32", name: "crossTileID"}, {
                    type: "Int16",
                    name: "associatedIconIndex"
                }]), Vt([{type: "Int16", name: "anchorX"}, {type: "Int16", name: "anchorY"}, {
                    type: "Int16",
                    name: "rightJustifiedTextSymbolIndex"
                }, {type: "Int16", name: "centerJustifiedTextSymbolIndex"}, {
                    type: "Int16",
                    name: "leftJustifiedTextSymbolIndex"
                }, {type: "Int16", name: "verticalPlacedTextSymbolIndex"}, {
                    type: "Int16",
                    name: "placedIconSymbolIndex"
                }, {type: "Int16", name: "verticalPlacedIconSymbolIndex"}, {
                    type: "Uint16",
                    name: "key"
                }, {type: "Uint16", name: "textBoxStartIndex"}, {
                    type: "Uint16",
                    name: "textBoxEndIndex"
                }, {type: "Uint16", name: "verticalTextBoxStartIndex"}, {
                    type: "Uint16",
                    name: "verticalTextBoxEndIndex"
                }, {type: "Uint16", name: "iconBoxStartIndex"}, {
                    type: "Uint16",
                    name: "iconBoxEndIndex"
                }, {type: "Uint16", name: "verticalIconBoxStartIndex"}, {
                    type: "Uint16",
                    name: "verticalIconBoxEndIndex"
                }, {type: "Uint16", name: "featureIndex"}, {
                    type: "Uint16",
                    name: "numHorizontalGlyphVertices"
                }, {type: "Uint16", name: "numVerticalGlyphVertices"}, {
                    type: "Uint16",
                    name: "numIconVertices"
                }, {type: "Uint16", name: "numVerticalIconVertices"}, {
                    type: "Uint16",
                    name: "useRuntimeCollisionCircles"
                }, {type: "Uint32", name: "crossTileID"}, {type: "Float32", name: "textBoxScale"}, {
                    type: "Float32",
                    components: 2,
                    name: "textOffset"
                }, {type: "Float32", name: "collisionCircleDiameter"}]), Vt([{
                    type: "Float32",
                    name: "offsetX"
                }]), Vt([{type: "Int16", name: "x"}, {type: "Int16", name: "y"}, {
                    type: "Int16",
                    name: "tileUnitDistanceFromAnchor"
                }]);
                const Ko = {
                    "!": "\ufe15",
                    "#": "\uff03",
                    $: "\uff04",
                    "%": "\uff05",
                    "&": "\uff06",
                    "(": "\ufe35",
                    ")": "\ufe36",
                    "*": "\uff0a",
                    "+": "\uff0b",
                    ",": "\ufe10",
                    "-": "\ufe32",
                    ".": "\u30fb",
                    "/": "\uff0f",
                    ":": "\ufe13",
                    ";": "\ufe14",
                    "<": "\ufe3f",
                    "=": "\uff1d",
                    ">": "\ufe40",
                    "?": "\ufe16",
                    "@": "\uff20",
                    "[": "\ufe47",
                    "\\": "\uff3c",
                    "]": "\ufe48",
                    "^": "\uff3e",
                    _: "\ufe33",
                    "`": "\uff40",
                    "{": "\ufe37",
                    "|": "\u2015",
                    "}": "\ufe38",
                    "~": "\uff5e",
                    "\xa2": "\uffe0",
                    "\xa3": "\uffe1",
                    "\xa5": "\uffe5",
                    "\xa6": "\uffe4",
                    "\xac": "\uffe2",
                    "\xaf": "\uffe3",
                    "\u2013": "\ufe32",
                    "\u2014": "\ufe31",
                    "\u2018": "\ufe43",
                    "\u2019": "\ufe44",
                    "\u201c": "\ufe41",
                    "\u201d": "\ufe42",
                    "\u2026": "\ufe19",
                    "\u2027": "\u30fb",
                    "\u20a9": "\uffe6",
                    "\u3001": "\ufe11",
                    "\u3002": "\ufe12",
                    "\u3008": "\ufe3f",
                    "\u3009": "\ufe40",
                    "\u300a": "\ufe3d",
                    "\u300b": "\ufe3e",
                    "\u300c": "\ufe41",
                    "\u300d": "\ufe42",
                    "\u300e": "\ufe43",
                    "\u300f": "\ufe44",
                    "\u3010": "\ufe3b",
                    "\u3011": "\ufe3c",
                    "\u3014": "\ufe39",
                    "\u3015": "\ufe3a",
                    "\u3016": "\ufe17",
                    "\u3017": "\ufe18",
                    "\uff01": "\ufe15",
                    "\uff08": "\ufe35",
                    "\uff09": "\ufe36",
                    "\uff0c": "\ufe10",
                    "\uff0d": "\ufe32",
                    "\uff0e": "\u30fb",
                    "\uff1a": "\ufe13",
                    "\uff1b": "\ufe14",
                    "\uff1c": "\ufe3f",
                    "\uff1e": "\ufe40",
                    "\uff1f": "\ufe16",
                    "\uff3b": "\ufe47",
                    "\uff3d": "\ufe48",
                    "\uff3f": "\ufe33",
                    "\uff5b": "\ufe37",
                    "\uff5c": "\u2015",
                    "\uff5d": "\ufe38",
                    "\uff5f": "\ufe35",
                    "\uff60": "\ufe36",
                    "\uff61": "\ufe12",
                    "\uff62": "\ufe41",
                    "\uff63": "\ufe42"
                };
                var Bl = vt, Cc = function (i, e, r, s, c) {
                    var u, d, f = 8 * c - s - 1, _ = (1 << f) - 1, v = _ >> 1, w = -7, T = r ? c - 1 : 0,
                        A = r ? -1 : 1, z = i[e + T];
                    for (T += A, u = z & (1 << -w) - 1, z >>= -w, w += f; w > 0; u = 256 * u + i[e + T], T += A, w -= 8) ;
                    for (d = u & (1 << -w) - 1, u >>= -w, w += s; w > 0; d = 256 * d + i[e + T], T += A, w -= 8) ;
                    if (0 === u) u = 1 - v; else {
                        if (u === _) return d ? NaN : 1 / 0 * (z ? -1 : 1);
                        d += Math.pow(2, s), u -= v
                    }
                    return (z ? -1 : 1) * d * Math.pow(2, u - s)
                }, Tc = function (i, e, r, s, c, u) {
                    var d, f, _, v = 8 * u - c - 1, w = (1 << v) - 1, T = w >> 1,
                        A = 23 === c ? Math.pow(2, -24) - Math.pow(2, -77) : 0, z = s ? 0 : u - 1, k = s ? 1 : -1,
                        N = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (f = isNaN(e) ? 1 : 0, d = w) : (d = Math.floor(Math.log(e) / Math.LN2), e * (_ = Math.pow(2, -d)) < 1 && (d--, _ *= 2), (e += d + T >= 1 ? A / _ : A * Math.pow(2, 1 - T)) * _ >= 2 && (d++, _ /= 2), d + T >= w ? (f = 0, d = w) : d + T >= 1 ? (f = (e * _ - 1) * Math.pow(2, c), d += T) : (f = e * Math.pow(2, T - 1) * Math.pow(2, c), d = 0)); c >= 8; i[r + z] = 255 & f, z += k, f /= 256, c -= 8) ;
                    for (d = d << c | f, v += c; v > 0; i[r + z] = 255 & d, z += k, d /= 256, v -= 8) ;
                    i[r + z - k] |= 128 * N
                };

                function vt(i) {
                    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(i) ? i : new Uint8Array(i || 0), this.pos = 0, this.type = 0, this.length = this.buf.length
                }

                vt.Varint = 0, vt.Fixed64 = 1, vt.Bytes = 2, vt.Fixed32 = 5;
                var En, Fl = 4294967296, Ic = 1 / Fl, Ec = typeof TextDecoder > "u" ? null : new TextDecoder("utf8");

                function Jr(i) {
                    return i.type === vt.Bytes ? i.readVarint() + i.pos : i.pos + 1
                }

                function Mc(i, e, r) {
                    var s = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.floor(Math.log(e) / (7 * Math.LN2));
                    r.realloc(s);
                    for (var c = r.pos - 1; c >= i; c--) r.buf[c + s] = r.buf[c]
                }

                function cu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeVarint(i[r])
                }

                function hu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeSVarint(i[r])
                }

                function uu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeFloat(i[r])
                }

                function pu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeDouble(i[r])
                }

                function du(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeBoolean(i[r])
                }

                function mu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeFixed32(i[r])
                }

                function fu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeSFixed32(i[r])
                }

                function gu(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeFixed64(i[r])
                }

                function _u(i, e) {
                    for (var r = 0; r < i.length; r++) e.writeSFixed64(i[r])
                }

                function ja(i, e) {
                    return (i[e] | i[e + 1] << 8 | i[e + 2] << 16) + 16777216 * i[e + 3]
                }

                function Us(i, e, r) {
                    i[r] = e, i[r + 1] = e >>> 8, i[r + 2] = e >>> 16, i[r + 3] = e >>> 24
                }

                function Ac(i, e) {
                    return (i[e] | i[e + 1] << 8 | i[e + 2] << 16) + (i[e + 3] << 24)
                }

                function yu(i, e, r) {
                    1 === i && r.readMessage(xu, e)
                }

                function xu(i, e, r) {
                    if (3 === i) {
                        const {
                            id: s,
                            bitmap: c,
                            width: u,
                            height: d,
                            left: f,
                            top: _,
                            advance: v
                        } = r.readMessage(vu, {});
                        e.push({
                            id: s,
                            bitmap: new $o({width: u + 6, height: d + 6}, c),
                            metrics: {width: u, height: d, left: f, top: _, advance: v}
                        })
                    }
                }

                function vu(i, e, r) {
                    1 === i ? e.id = r.readVarint() : 2 === i ? e.bitmap = r.readBytes() : 3 === i ? e.width = r.readVarint() : 4 === i ? e.height = r.readVarint() : 5 === i ? e.left = r.readSVarint() : 6 === i ? e.top = r.readSVarint() : 7 === i && (e.advance = r.readVarint())
                }

                function zc(i) {
                    let e = 0, r = 0;
                    for (const d of i) e += d.w * d.h, r = Math.max(r, d.w);
                    i.sort((d, f) => f.h - d.h);
                    const s = [{x: 0, y: 0, w: Math.max(Math.ceil(Math.sqrt(e / .95)), r), h: 1 / 0}];
                    let c = 0, u = 0;
                    for (const d of i) for (let f = s.length - 1; f >= 0; f--) {
                        const _ = s[f];
                        if (!(d.w > _.w || d.h > _.h)) {
                            if (d.x = _.x, d.y = _.y, u = Math.max(u, d.y + d.h), c = Math.max(c, d.x + d.w), d.w === _.w && d.h === _.h) {
                                const v = s.pop();
                                f < s.length && (s[f] = v)
                            } else d.h === _.h ? (_.x += d.w, _.w -= d.w) : d.w === _.w ? (_.y += d.h, _.h -= d.h) : (s.push({
                                x: _.x + d.w,
                                y: _.y,
                                w: _.w - d.w,
                                h: d.h
                            }), _.y += d.h, _.h -= d.h);
                            break
                        }
                    }
                    return {w: c, h: u, fill: e / (c * u) || 0}
                }

                vt.prototype = {
                    destroy: function () {
                        this.buf = null
                    }, readFields: function (i, e, r) {
                        for (r = r || this.length; this.pos < r;) {
                            var s = this.readVarint(), c = s >> 3, u = this.pos;
                            this.type = 7 & s, i(c, e, this), this.pos === u && this.skip(s)
                        }
                        return e
                    }, readMessage: function (i, e) {
                        return this.readFields(i, e, this.readVarint() + this.pos)
                    }, readFixed32: function () {
                        var i = ja(this.buf, this.pos);
                        return this.pos += 4, i
                    }, readSFixed32: function () {
                        var i = Ac(this.buf, this.pos);
                        return this.pos += 4, i
                    }, readFixed64: function () {
                        var i = ja(this.buf, this.pos) + ja(this.buf, this.pos + 4) * Fl;
                        return this.pos += 8, i
                    }, readSFixed64: function () {
                        var i = ja(this.buf, this.pos) + Ac(this.buf, this.pos + 4) * Fl;
                        return this.pos += 8, i
                    }, readFloat: function () {
                        var i = Cc(this.buf, this.pos, !0, 23, 4);
                        return this.pos += 4, i
                    }, readDouble: function () {
                        var i = Cc(this.buf, this.pos, !0, 52, 8);
                        return this.pos += 8, i
                    }, readVarint: function (i) {
                        var e, r, s = this.buf;
                        return e = 127 & (r = s[this.pos++]), r < 128 ? e : (e |= (127 & (r = s[this.pos++])) << 7, r < 128 ? e : (e |= (127 & (r = s[this.pos++])) << 14, r < 128 ? e : (e |= (127 & (r = s[this.pos++])) << 21, r < 128 ? e : function (c, u, d) {
                            var f, _, v = d.buf;
                            if (f = (112 & (_ = v[d.pos++])) >> 4, _ < 128 || (f |= (127 & (_ = v[d.pos++])) << 3, _ < 128) || (f |= (127 & (_ = v[d.pos++])) << 10, _ < 128) || (f |= (127 & (_ = v[d.pos++])) << 17, _ < 128) || (f |= (127 & (_ = v[d.pos++])) << 24, _ < 128) || (f |= (1 & (_ = v[d.pos++])) << 31, _ < 128)) return function Os(i, e, r) {
                                return r ? 4294967296 * e + (i >>> 0) : 4294967296 * (e >>> 0) + (i >>> 0)
                            }(c, f, u);
                            throw new Error("Expected varint not more than 10 bytes")
                        }(e |= (15 & (r = s[this.pos])) << 28, i, this))))
                    }, readVarint64: function () {
                        return this.readVarint(!0)
                    }, readSVarint: function () {
                        var i = this.readVarint();
                        return i % 2 == 1 ? (i + 1) / -2 : i / 2
                    }, readBoolean: function () {
                        return Boolean(this.readVarint())
                    }, readString: function () {
                        var i = this.readVarint() + this.pos, e = this.pos;
                        return this.pos = i, i - e >= 12 && Ec ? Ec.decode(this.buf.subarray(e, i)) : function (r, s, c) {
                            for (var u = "", d = s; d < c;) {
                                var f, _, v, w = r[d], T = null, A = w > 239 ? 4 : w > 223 ? 3 : w > 191 ? 2 : 1;
                                if (d + A > c) break;
                                1 === A ? w < 128 && (T = w) : 2 === A ? 128 == (192 & (f = r[d + 1])) && (T = (31 & w) << 6 | 63 & f) <= 127 && (T = null) : 3 === A ? (_ = r[d + 2], 128 == (192 & (f = r[d + 1])) && 128 == (192 & _) && ((T = (15 & w) << 12 | (63 & f) << 6 | 63 & _) <= 2047 || T >= 55296 && T <= 57343) && (T = null)) : 4 === A && (_ = r[d + 2], v = r[d + 3], 128 == (192 & (f = r[d + 1])) && 128 == (192 & _) && 128 == (192 & v) && ((T = (15 & w) << 18 | (63 & f) << 12 | (63 & _) << 6 | 63 & v) <= 65535 || T >= 1114112) && (T = null)), null === T ? (T = 65533, A = 1) : T > 65535 && (T -= 65536, u += String.fromCharCode(T >>> 10 & 1023 | 55296), T = 56320 | 1023 & T), u += String.fromCharCode(T), d += A
                            }
                            return u
                        }(this.buf, e, i)
                    }, readBytes: function () {
                        var i = this.readVarint() + this.pos, e = this.buf.subarray(this.pos, i);
                        return this.pos = i, e
                    }, readPackedVarint: function (i, e) {
                        if (this.type !== vt.Bytes) return i.push(this.readVarint(e));
                        var r = Jr(this);
                        for (i = i || []; this.pos < r;) i.push(this.readVarint(e));
                        return i
                    }, readPackedSVarint: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readSVarint());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readSVarint());
                        return i
                    }, readPackedBoolean: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readBoolean());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readBoolean());
                        return i
                    }, readPackedFloat: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readFloat());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readFloat());
                        return i
                    }, readPackedDouble: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readDouble());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readDouble());
                        return i
                    }, readPackedFixed32: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readFixed32());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readFixed32());
                        return i
                    }, readPackedSFixed32: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readSFixed32());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readSFixed32());
                        return i
                    }, readPackedFixed64: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readFixed64());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readFixed64());
                        return i
                    }, readPackedSFixed64: function (i) {
                        if (this.type !== vt.Bytes) return i.push(this.readSFixed64());
                        var e = Jr(this);
                        for (i = i || []; this.pos < e;) i.push(this.readSFixed64());
                        return i
                    }, skip: function (i) {
                        var e = 7 & i;
                        if (e === vt.Varint) for (; this.buf[this.pos++] > 127;) ; else if (e === vt.Bytes) this.pos = this.readVarint() + this.pos; else if (e === vt.Fixed32) this.pos += 4; else {
                            if (e !== vt.Fixed64) throw new Error("Unimplemented type: " + e);
                            this.pos += 8
                        }
                    }, writeTag: function (i, e) {
                        this.writeVarint(i << 3 | e)
                    }, realloc: function (i) {
                        for (var e = this.length || 16; e < this.pos + i;) e *= 2;
                        if (e !== this.length) {
                            var r = new Uint8Array(e);
                            r.set(this.buf), this.buf = r, this.length = e
                        }
                    }, finish: function () {
                        return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length)
                    }, writeFixed32: function (i) {
                        this.realloc(4), Us(this.buf, i, this.pos), this.pos += 4
                    }, writeSFixed32: function (i) {
                        this.realloc(4), Us(this.buf, i, this.pos), this.pos += 4
                    }, writeFixed64: function (i) {
                        this.realloc(8), Us(this.buf, -1 & i, this.pos), Us(this.buf, Math.floor(i * Ic), this.pos + 4), this.pos += 8
                    }, writeSFixed64: function (i) {
                        this.realloc(8), Us(this.buf, -1 & i, this.pos), Us(this.buf, Math.floor(i * Ic), this.pos + 4), this.pos += 8
                    }, writeVarint: function (i) {
                        (i = +i || 0) > 268435455 || i < 0 ? function (e, r) {
                            var s, c, u, f;
                            if (e >= 0 ? (s = e % 4294967296 | 0, c = e / 4294967296 | 0) : (c = ~(-e / 4294967296), 4294967295 ^ (s = ~(-e % 4294967296)) ? s = s + 1 | 0 : (s = 0, c = c + 1 | 0)), e >= 0x10000000000000000 || e < -0x10000000000000000) throw new Error("Given varint doesn't fit into 10 bytes");
                            r.realloc(10), u = s, (f = r).buf[f.pos++] = 127 & u | 128, u >>>= 7, f.buf[f.pos++] = 127 & u | 128, u >>>= 7, f.buf[f.pos++] = 127 & u | 128, u >>>= 7, f.buf[f.pos++] = 127 & u | 128, f.buf[f.pos] = 127 & (u >>>= 7), function (u, d) {
                                var f = (7 & u) << 4;
                                d.buf[d.pos++] |= f | ((u >>>= 3) ? 128 : 0), u && (d.buf[d.pos++] = 127 & u | ((u >>>= 7) ? 128 : 0), u && (d.buf[d.pos++] = 127 & u | ((u >>>= 7) ? 128 : 0), u && (d.buf[d.pos++] = 127 & u | ((u >>>= 7) ? 128 : 0), u && (d.buf[d.pos++] = 127 & u | ((u >>>= 7) ? 128 : 0), u && (d.buf[d.pos++] = 127 & u)))))
                            }(c, r)
                        }(i, this) : (this.realloc(4), this.buf[this.pos++] = 127 & i | (i > 127 ? 128 : 0), i <= 127 || (this.buf[this.pos++] = 127 & (i >>>= 7) | (i > 127 ? 128 : 0), i <= 127 || (this.buf[this.pos++] = 127 & (i >>>= 7) | (i > 127 ? 128 : 0), i <= 127 || (this.buf[this.pos++] = i >>> 7 & 127))))
                    }, writeSVarint: function (i) {
                        this.writeVarint(i < 0 ? 2 * -i - 1 : 2 * i)
                    }, writeBoolean: function (i) {
                        this.writeVarint(Boolean(i))
                    }, writeString: function (i) {
                        i = String(i), this.realloc(4 * i.length), this.pos++;
                        var e = this.pos;
                        this.pos = function (s, c, u) {
                            for (var d, f, _ = 0; _ < c.length; _++) {
                                if ((d = c.charCodeAt(_)) > 55295 && d < 57344) {
                                    if (!f) {
                                        d > 56319 || _ + 1 === c.length ? (s[u++] = 239, s[u++] = 191, s[u++] = 189) : f = d;
                                        continue
                                    }
                                    if (d < 56320) {
                                        s[u++] = 239, s[u++] = 191, s[u++] = 189, f = d;
                                        continue
                                    }
                                    d = f - 55296 << 10 | d - 56320 | 65536, f = null
                                } else f && (s[u++] = 239, s[u++] = 191, s[u++] = 189, f = null);
                                d < 128 ? s[u++] = d : (d < 2048 ? s[u++] = d >> 6 | 192 : (d < 65536 ? s[u++] = d >> 12 | 224 : (s[u++] = d >> 18 | 240, s[u++] = d >> 12 & 63 | 128), s[u++] = d >> 6 & 63 | 128), s[u++] = 63 & d | 128)
                            }
                            return u
                        }(this.buf, i, this.pos);
                        var r = this.pos - e;
                        r >= 128 && Mc(e, r, this), this.pos = e - 1, this.writeVarint(r), this.pos += r
                    }, writeFloat: function (i) {
                        this.realloc(4), Tc(this.buf, i, this.pos, !0, 23, 4), this.pos += 4
                    }, writeDouble: function (i) {
                        this.realloc(8), Tc(this.buf, i, this.pos, !0, 52, 8), this.pos += 8
                    }, writeBytes: function (i) {
                        var e = i.length;
                        this.writeVarint(e), this.realloc(e);
                        for (var r = 0; r < e; r++) this.buf[this.pos++] = i[r]
                    }, writeRawMessage: function (i, e) {
                        this.pos++;
                        var r = this.pos;
                        i(e, this);
                        var s = this.pos - r;
                        s >= 128 && Mc(r, s, this), this.pos = r - 1, this.writeVarint(s), this.pos += s
                    }, writeMessage: function (i, e, r) {
                        this.writeTag(i, vt.Bytes), this.writeRawMessage(e, r)
                    }, writePackedVarint: function (i, e) {
                        e.length && this.writeMessage(i, cu, e)
                    }, writePackedSVarint: function (i, e) {
                        e.length && this.writeMessage(i, hu, e)
                    }, writePackedBoolean: function (i, e) {
                        e.length && this.writeMessage(i, du, e)
                    }, writePackedFloat: function (i, e) {
                        e.length && this.writeMessage(i, uu, e)
                    }, writePackedDouble: function (i, e) {
                        e.length && this.writeMessage(i, pu, e)
                    }, writePackedFixed32: function (i, e) {
                        e.length && this.writeMessage(i, mu, e)
                    }, writePackedSFixed32: function (i, e) {
                        e.length && this.writeMessage(i, fu, e)
                    }, writePackedFixed64: function (i, e) {
                        e.length && this.writeMessage(i, gu, e)
                    }, writePackedSFixed64: function (i, e) {
                        e.length && this.writeMessage(i, _u, e)
                    }, writeBytesField: function (i, e) {
                        this.writeTag(i, vt.Bytes), this.writeBytes(e)
                    }, writeFixed32Field: function (i, e) {
                        this.writeTag(i, vt.Fixed32), this.writeFixed32(e)
                    }, writeSFixed32Field: function (i, e) {
                        this.writeTag(i, vt.Fixed32), this.writeSFixed32(e)
                    }, writeFixed64Field: function (i, e) {
                        this.writeTag(i, vt.Fixed64), this.writeFixed64(e)
                    }, writeSFixed64Field: function (i, e) {
                        this.writeTag(i, vt.Fixed64), this.writeSFixed64(e)
                    }, writeVarintField: function (i, e) {
                        this.writeTag(i, vt.Varint), this.writeVarint(e)
                    }, writeSVarintField: function (i, e) {
                        this.writeTag(i, vt.Varint), this.writeSVarint(e)
                    }, writeStringField: function (i, e) {
                        this.writeTag(i, vt.Bytes), this.writeString(e)
                    }, writeFloatField: function (i, e) {
                        this.writeTag(i, vt.Fixed32), this.writeFloat(e)
                    }, writeDoubleField: function (i, e) {
                        this.writeTag(i, vt.Fixed64), this.writeDouble(e)
                    }, writeBooleanField: function (i, e) {
                        this.writeVarintField(i, Boolean(e))
                    }
                };

                class Ol {
                    constructor(e, {pixelRatio: r, version: s, stretchX: c, stretchY: u, content: d}) {
                        this.paddedRect = e, this.pixelRatio = r, this.stretchX = c, this.stretchY = u, this.content = d, this.version = s
                    }

                    get tl() {
                        return [this.paddedRect.x + 1, this.paddedRect.y + 1]
                    }

                    get br() {
                        return [this.paddedRect.x + this.paddedRect.w - 1, this.paddedRect.y + this.paddedRect.h - 1]
                    }

                    get tlbr() {
                        return this.tl.concat(this.br)
                    }

                    get displaySize() {
                        return [(this.paddedRect.w - 2) / this.pixelRatio, (this.paddedRect.h - 2) / this.pixelRatio]
                    }
                }

                class kc {
                    constructor(e, r) {
                        const s = {}, c = {};
                        this.haveRenderCallbacks = [];
                        const u = [];
                        this.addImages(e, s, u), this.addImages(r, c, u);
                        const {w: d, h: f} = zc(u), _ = new Hi({width: d || 1, height: f || 1});
                        for (const v in e) {
                            const w = e[v], T = s[v].paddedRect;
                            Hi.copy(w.data, _, {x: 0, y: 0}, {x: T.x + 1, y: T.y + 1}, w.data)
                        }
                        for (const v in r) {
                            const w = r[v], T = c[v].paddedRect, A = T.x + 1, z = T.y + 1, k = w.data.width,
                                N = w.data.height;
                            Hi.copy(w.data, _, {x: 0, y: 0}, {x: A, y: z}, w.data), Hi.copy(w.data, _, {
                                x: 0,
                                y: N - 1
                            }, {x: A, y: z - 1}, {width: k, height: 1}), Hi.copy(w.data, _, {x: 0, y: 0}, {
                                x: A,
                                y: z + N
                            }, {width: k, height: 1}), Hi.copy(w.data, _, {x: k - 1, y: 0}, {x: A - 1, y: z}, {
                                width: 1,
                                height: N
                            }), Hi.copy(w.data, _, {x: 0, y: 0}, {x: A + k, y: z}, {width: 1, height: N})
                        }
                        this.image = _, this.iconPositions = s, this.patternPositions = c
                    }

                    addImages(e, r, s) {
                        for (const c in e) {
                            const u = e[c], d = {x: 0, y: 0, w: u.data.width + 2, h: u.data.height + 2};
                            s.push(d), r[c] = new Ol(d, u), u.hasRenderCallback && this.haveRenderCallbacks.push(c)
                        }
                    }

                    patchUpdatedImages(e, r) {
                        e.dispatchRenderCallbacks(this.haveRenderCallbacks);
                        for (const s in e.updatedImages) this.patchUpdatedImage(this.iconPositions[s], e.getImage(s), r), this.patchUpdatedImage(this.patternPositions[s], e.getImage(s), r)
                    }

                    patchUpdatedImage(e, r, s) {
                        if (!e || !r || e.version === r.version) return;
                        e.version = r.version;
                        const [c, u] = e.tl;
                        s.update(r.data, void 0, {x: c, y: u})
                    }
                }

                Me("ImagePosition", Ol), Me("ImageAtlas", kc), h.WritingMode = void 0, (En = h.WritingMode || (h.WritingMode = {}))[En.none = 0] = "none", En[En.horizontal = 1] = "horizontal", En[En.vertical = 2] = "vertical", En[En.horizontalOnly = 3] = "horizontalOnly";

                class Yo {
                    constructor() {
                        this.scale = 1, this.fontStack = "", this.imageName = null
                    }

                    static forText(e, r) {
                        const s = new Yo;
                        return s.scale = e || 1, s.fontStack = r, s
                    }

                    static forImage(e) {
                        const r = new Yo;
                        return r.imageName = e, r
                    }
                }

                class Vs {
                    constructor() {
                        this.text = "", this.sectionIndex = [], this.sections = [], this.imageSectionID = null
                    }

                    static fromFeature(e, r) {
                        const s = new Vs;
                        for (let c = 0; c < e.sections.length; c++) {
                            const u = e.sections[c];
                            u.image ? s.addImageSection(u) : s.addTextSection(u, r)
                        }
                        return s
                    }

                    length() {
                        return this.text.length
                    }

                    getSection(e) {
                        return this.sections[this.sectionIndex[e]]
                    }

                    getSectionIndex(e) {
                        return this.sectionIndex[e]
                    }

                    getCharCode(e) {
                        return this.text.charCodeAt(e)
                    }

                    verticalizePunctuation() {
                        this.text = function (e) {
                            let r = "";
                            for (let s = 0; s < e.length; s++) {
                                const c = e.charCodeAt(s + 1) || null, u = e.charCodeAt(s - 1) || null;
                                r += c && ka(c) && !Ko[e[s + 1]] || u && ka(u) && !Ko[e[s - 1]] || !Ko[e[s]] ? e[s] : Ko[e[s]]
                            }
                            return r
                        }(this.text)
                    }

                    trim() {
                        let e = 0;
                        for (let s = 0; s < this.text.length && Wa[this.text.charCodeAt(s)]; s++) e++;
                        let r = this.text.length;
                        for (let s = this.text.length - 1; s >= 0 && s >= e && Wa[this.text.charCodeAt(s)]; s--) r--;
                        this.text = this.text.substring(e, r), this.sectionIndex = this.sectionIndex.slice(e, r)
                    }

                    substring(e, r) {
                        const s = new Vs;
                        return s.text = this.text.substring(e, r), s.sectionIndex = this.sectionIndex.slice(e, r), s.sections = this.sections, s
                    }

                    toString() {
                        return this.text
                    }

                    getMaxScale() {
                        return this.sectionIndex.reduce((e, r) => Math.max(e, this.sections[r].scale), 0)
                    }

                    addTextSection(e, r) {
                        this.text += e.text, this.sections.push(Yo.forText(e.scale, e.fontStack || r));
                        const s = this.sections.length - 1;
                        for (let c = 0; c < e.text.length; ++c) this.sectionIndex.push(s)
                    }

                    addImageSection(e) {
                        const r = e.image ? e.image.name : "";
                        if (0 === r.length) return void at("Can't add FormattedSection with an empty image.");
                        const s = this.getNextImageSectionCharCode();
                        s ? (this.text += String.fromCharCode(s), this.sections.push(Yo.forImage(r)), this.sectionIndex.push(this.sections.length - 1)) : at("Reached maximum number of images 6401")
                    }

                    getNextImageSectionCharCode() {
                        return this.imageSectionID ? this.imageSectionID >= 63743 ? null : ++this.imageSectionID : (this.imageSectionID = 57344, this.imageSectionID)
                    }
                }

                function Xa(i, e, r, s, c, u, d, f, _, v, w, T, A, z, k, N) {
                    const V = Vs.fromFeature(i, c);
                    let K;
                    T === h.WritingMode.vertical && V.verticalizePunctuation();
                    const {processBidirectionalText: ee, processStyledBidirectionalText: W} = Si;
                    if (ee && 1 === V.sections.length) {
                        K = [];
                        const he = ee(V.toString(), Ul(V, v, u, e, s, z, k));
                        for (const ke of he) {
                            const De = new Vs;
                            De.text = ke, De.sections = V.sections;
                            for (let Te = 0; Te < ke.length; Te++) De.sectionIndex.push(0);
                            K.push(De)
                        }
                    } else if (W) {
                        K = [];
                        const he = W(V.text, V.sectionIndex, Ul(V, v, u, e, s, z, k));
                        for (const ke of he) {
                            const De = new Vs;
                            De.text = ke[0], De.sectionIndex = ke[1], De.sections = V.sections, K.push(De)
                        }
                    } else K = function (he, ke) {
                        const De = [], Te = he.text;
                        let we = 0;
                        for (const ve of ke) De.push(he.substring(we, ve)), we = ve;
                        return we < Te.length && De.push(he.substring(we, Te.length)), De
                    }(V, Ul(V, v, u, e, s, z, k));
                    const Q = [], ue = {
                        positionedLines: Q,
                        text: V.toString(),
                        top: w[1],
                        bottom: w[1],
                        left: w[0],
                        right: w[0],
                        writingMode: T,
                        iconsInText: !1,
                        verticalizable: !1
                    };
                    return function (he, ke, De, Te, we, ve, Ie, Ce, _e, Ue, Re, Ye) {
                        let It = 0, Pt = -17, Xt = 0, Yi = 0;
                        const si = "right" === Ce ? 1 : "left" === Ce ? 0 : .5;
                        let $t = 0;
                        for (const Zt of we) {
                            Zt.trim();
                            const ai = Zt.getMaxScale(), vi = 24 * (ai - 1), Ti = {positionedGlyphs: [], lineOffset: 0};
                            he.positionedLines[$t] = Ti;
                            const ki = Ti.positionedGlyphs;
                            let Pi = 0;
                            if (!Zt.length()) {
                                Pt += ve, ++$t;
                                continue
                            }
                            for (let li = 0; li < Zt.length(); li++) {
                                const Je = Zt.getSection(li), Zi = Zt.getSectionIndex(li), ci = Zt.getCharCode(li);
                                let bi = 0, sr = null, mr = null, fr = null, en = 24;
                                const or = !(_e === h.WritingMode.horizontal || !Re && !yo(ci) || Re && (Wa[ci] || (Qt = ci, Se.Arabic(Qt) || Se["Arabic Supplement"](Qt) || Se["Arabic Extended-A"](Qt) || Se["Arabic Presentation Forms-A"](Qt) || Se["Arabic Presentation Forms-B"](Qt))));
                                if (Je.imageName) {
                                    const Ji = Te[Je.imageName];
                                    if (!Ji) continue;
                                    fr = Je.imageName, he.iconsInText = he.iconsInText || !0, mr = Ji.paddedRect;
                                    const Di = Ji.displaySize;
                                    Je.scale = 24 * Je.scale / Ye, sr = {
                                        width: Di[0],
                                        height: Di[1],
                                        left: 1,
                                        top: -3,
                                        advance: or ? Di[1] : Di[0]
                                    }, bi = vi + (24 - Di[1] * Je.scale), en = sr.advance;
                                    const tn = or ? Di[0] * Je.scale - 24 * ai : Di[1] * Je.scale - 24 * ai;
                                    tn > 0 && tn > Pi && (Pi = tn)
                                } else {
                                    const Ji = De[Je.fontStack], Di = Ji && Ji[ci];
                                    if (Di && Di.rect) mr = Di.rect, sr = Di.metrics; else {
                                        const tn = ke[Je.fontStack], ta = tn && tn[ci];
                                        if (!ta) continue;
                                        sr = ta.metrics
                                    }
                                    bi = 24 * (ai - Je.scale)
                                }
                                or ? (he.verticalizable = !0, ki.push({
                                    glyph: ci,
                                    imageName: fr,
                                    x: It,
                                    y: Pt + bi,
                                    vertical: or,
                                    scale: Je.scale,
                                    fontStack: Je.fontStack,
                                    sectionIndex: Zi,
                                    metrics: sr,
                                    rect: mr
                                }), It += en * Je.scale + Ue) : (ki.push({
                                    glyph: ci,
                                    imageName: fr,
                                    x: It,
                                    y: Pt + bi,
                                    vertical: or,
                                    scale: Je.scale,
                                    fontStack: Je.fontStack,
                                    sectionIndex: Zi,
                                    metrics: sr,
                                    rect: mr
                                }), It += sr.advance * Je.scale + Ue)
                            }
                            0 !== ki.length && (Xt = Math.max(It - Ue, Xt), Su(ki, 0, ki.length - 1, si, Pi)), It = 0;
                            const Ft = ve * ai + Pi;
                            Ti.lineOffset = Math.max(Pi, vi), Pt += Ft, Yi = Math.max(Ft, Yi), ++$t
                        }
                        var Qt;
                        const oi = Pt - -17, {horizontalAlign: xi, verticalAlign: zi} = Vl(Ie);
                        (function (Zt, ai, vi, Ti, ki, Pi, Ft, li, Je) {
                            const Zi = (ai - vi) * ki;
                            let ci = 0;
                            ci = Pi !== Ft ? -li * Ti - -17 : (-Ti * Je + .5) * Ft;
                            for (const bi of Zt) for (const sr of bi.positionedGlyphs) sr.x += Zi, sr.y += ci
                        })(he.positionedLines, si, xi, zi, Xt, Yi, ve, oi, we.length), he.top += -zi * oi, he.bottom = he.top + oi, he.left += -xi * Xt, he.right = he.left + Xt
                    }(ue, e, r, s, K, d, f, _, T, v, A, N), !function (he) {
                        for (const ke of he) if (0 !== ke.positionedGlyphs.length) return !1;
                        return !0
                    }(Q) && ue
                }

                const Wa = {9: !0, 10: !0, 11: !0, 12: !0, 13: !0, 32: !0}, bu = {
                    10: !0,
                    32: !0,
                    38: !0,
                    40: !0,
                    41: !0,
                    43: !0,
                    45: !0,
                    47: !0,
                    173: !0,
                    183: !0,
                    8203: !0,
                    8208: !0,
                    8211: !0,
                    8231: !0
                };

                function Pc(i, e, r, s, c, u) {
                    if (e.imageName) {
                        const d = s[e.imageName];
                        return d ? d.displaySize[0] * e.scale * 24 / u + c : 0
                    }
                    {
                        const d = r[e.fontStack], f = d && d[i];
                        return f ? f.metrics.advance * e.scale + c : 0
                    }
                }

                function Dc(i, e, r, s) {
                    const c = Math.pow(i - e, 2);
                    return s ? i < e ? c / 2 : 2 * c : c + Math.abs(r) * r
                }

                function wu(i, e, r) {
                    let s = 0;
                    return 10 === i && (s -= 1e4), r && (s += 150), 40 !== i && 65288 !== i || (s += 50), 41 !== e && 65289 !== e || (s += 50), s
                }

                function Lc(i, e, r, s, c, u) {
                    let d = null, f = Dc(e, r, c, u);
                    for (const _ of s) {
                        const v = Dc(e - _.x, r, c, u) + _.badness;
                        v <= f && (d = _, f = v)
                    }
                    return {index: i, x: e, priorBreak: d, badness: f}
                }

                function Rc(i) {
                    return i ? Rc(i.priorBreak).concat(i.index) : []
                }

                function Ul(i, e, r, s, c, u, d) {
                    if ("point" !== u) return [];
                    if (!i) return [];
                    const f = [], _ = function (A, z, k, N, V, K) {
                        let ee = 0;
                        for (let W = 0; W < A.length(); W++) {
                            const Q = A.getSection(W);
                            ee += Pc(A.getCharCode(W), Q, N, V, z, K)
                        }
                        return ee / Math.max(1, Math.ceil(ee / k))
                    }(i, e, r, s, c, d), v = i.text.indexOf("\u200b") >= 0;
                    let w = 0;
                    for (let A = 0; A < i.length(); A++) {
                        const z = i.getSection(A), k = i.getCharCode(A);
                        if (Wa[k] || (w += Pc(k, z, s, c, e, d)), A < i.length() - 1) {
                            const N = !((T = k) < 11904 || !(Se["Bopomofo Extended"](T) || Se.Bopomofo(T) || Se["CJK Compatibility Forms"](T) || Se["CJK Compatibility Ideographs"](T) || Se["CJK Compatibility"](T) || Se["CJK Radicals Supplement"](T) || Se["CJK Strokes"](T) || Se["CJK Symbols and Punctuation"](T) || Se["CJK Unified Ideographs Extension A"](T) || Se["CJK Unified Ideographs"](T) || Se["Enclosed CJK Letters and Months"](T) || Se["Halfwidth and Fullwidth Forms"](T) || Se.Hiragana(T) || Se["Ideographic Description Characters"](T) || Se["Kangxi Radicals"](T) || Se["Katakana Phonetic Extensions"](T) || Se.Katakana(T) || Se["Vertical Forms"](T) || Se["Yi Radicals"](T) || Se["Yi Syllables"](T)));
                            (bu[k] || N || z.imageName) && f.push(Lc(A + 1, w, _, f, wu(k, i.getCharCode(A + 1), N && v), !1))
                        }
                    }
                    var T;
                    return Rc(Lc(i.length(), w, _, f, 0, !0))
                }

                function Vl(i) {
                    let e = .5, r = .5;
                    switch (i) {
                        case"right":
                        case"top-right":
                        case"bottom-right":
                            e = 1;
                            break;
                        case"left":
                        case"top-left":
                        case"bottom-left":
                            e = 0
                    }
                    switch (i) {
                        case"bottom":
                        case"bottom-right":
                        case"bottom-left":
                            r = 1;
                            break;
                        case"top":
                        case"top-right":
                        case"top-left":
                            r = 0
                    }
                    return {horizontalAlign: e, verticalAlign: r}
                }

                function Su(i, e, r, s, c) {
                    if (!s && !c) return;
                    const u = i[r], d = (i[r].x + u.metrics.advance * u.scale) * s;
                    for (let f = e; f <= r; f++) i[f].x -= d, i[f].y += c
                }

                function Cu(i, e, r) {
                    const {horizontalAlign: s, verticalAlign: c} = Vl(r), u = e[0] - i.displaySize[0] * s,
                        d = e[1] - i.displaySize[1] * c;
                    return {image: i, top: d, bottom: d + i.displaySize[1], left: u, right: u + i.displaySize[0]}
                }

                function Bc(i, e, r, s, c, u) {
                    const d = i.image;
                    let f;
                    if (d.content) {
                        const V = d.content, K = d.pixelRatio || 1;
                        f = [V[0] / K, V[1] / K, d.displaySize[0] - V[2] / K, d.displaySize[1] - V[3] / K]
                    }
                    const _ = e.left * u, v = e.right * u;
                    let w, T, A, z;
                    "width" === r || "both" === r ? (z = c[0] + _ - s[3], T = c[0] + v + s[1]) : (z = c[0] + (_ + v - d.displaySize[0]) / 2, T = z + d.displaySize[0]);
                    const k = e.top * u, N = e.bottom * u;
                    return "height" === r || "both" === r ? (w = c[1] + k - s[0], A = c[1] + N + s[2]) : (w = c[1] + (k + N - d.displaySize[1]) / 2, A = w + d.displaySize[1]), {
                        image: d,
                        top: w,
                        right: T,
                        bottom: A,
                        left: z,
                        collisionPadding: f
                    }
                }

                const Qr = 128;

                function Fc(i, e) {
                    const {expression: r} = e;
                    if ("constant" === r.kind) return {kind: "constant", layoutSize: r.evaluate(new Tt(i + 1))};
                    if ("source" === r.kind) return {kind: "source"};
                    {
                        const {zoomStops: s, interpolationType: c} = r;
                        let u = 0;
                        for (; u < s.length && s[u] <= i;) u++;
                        u = Math.max(0, u - 1);
                        let d = u;
                        for (; d < s.length && s[d] < i + 1;) d++;
                        d = Math.min(s.length - 1, d);
                        const f = s[u], _ = s[d];
                        return "composite" === r.kind ? {
                            kind: "composite",
                            minZoom: f,
                            maxZoom: _,
                            interpolationType: c
                        } : {
                            kind: "camera",
                            minZoom: f,
                            maxZoom: _,
                            minSize: r.evaluate(new Tt(f)),
                            maxSize: r.evaluate(new Tt(_)),
                            interpolationType: c
                        }
                    }
                }

                class Mn extends Xe {
                    constructor(e, r, s, c) {
                        super(e, r), this.angle = s, void 0 !== c && (this.segment = c)
                    }

                    clone() {
                        return new Mn(this.x, this.y, this.angle, this.segment)
                    }
                }

                function Oc(i, e, r, s, c) {
                    if (void 0 === e.segment) return !0;
                    let u = e, d = e.segment + 1, f = 0;
                    for (; f > -r / 2;) {
                        if (d--, d < 0) return !1;
                        f -= i[d].dist(u), u = i[d]
                    }
                    f += i[d].dist(i[d + 1]), d++;
                    const _ = [];
                    let v = 0;
                    for (; f < r / 2;) {
                        const w = i[d], T = i[d + 1];
                        if (!T) return !1;
                        let A = i[d - 1].angleTo(w) - w.angleTo(T);
                        for (A = Math.abs((A + 3 * Math.PI) % (2 * Math.PI) - Math.PI), _.push({
                            distance: f,
                            angleDelta: A
                        }), v += A; f - _[0].distance > s;) v -= _.shift().angleDelta;
                        if (v > c) return !1;
                        d++, f += w.dist(T)
                    }
                    return !0
                }

                function Uc(i) {
                    let e = 0;
                    for (let r = 0; r < i.length - 1; r++) e += i[r].dist(i[r + 1]);
                    return e
                }

                function Vc(i, e, r) {
                    return i ? .6 * e * r : 0
                }

                function Nc(i, e) {
                    return Math.max(i ? i.right - i.left : 0, e ? e.right - e.left : 0)
                }

                function Tu(i, e, r, s, c, u) {
                    const d = Vc(r, c, u), f = Nc(r, s) * u;
                    let _ = 0;
                    const v = Uc(i) / 2;
                    for (let w = 0; w < i.length - 1; w++) {
                        const T = i[w], A = i[w + 1], z = T.dist(A);
                        if (_ + z > v) {
                            const k = (v - _) / z, N = Mt(T.x, A.x, k), V = Mt(T.y, A.y, k),
                                K = new Mn(N, V, A.angleTo(T), w);
                            return K._round(), !d || Oc(i, K, f, d, e) ? K : void 0
                        }
                        _ += z
                    }
                }

                function Iu(i, e, r, s, c, u, d, f, _) {
                    const v = Vc(s, u, d), w = Nc(s, c), T = w * d,
                        A = 0 === i[0].x || i[0].x === _ || 0 === i[0].y || i[0].y === _;
                    return e - T < e / 4 && (e = T + e / 4), $c(i, A ? e / 2 * f % e : (w / 2 + 2 * u) * d * f % e, e, v, r, T, A, !1, _)
                }

                function $c(i, e, r, s, c, u, d, f, _) {
                    const v = u / 2, w = Uc(i);
                    let T = 0, A = e - r, z = [];
                    for (let k = 0; k < i.length - 1; k++) {
                        const N = i[k], V = i[k + 1], K = N.dist(V), ee = V.angleTo(N);
                        for (; A + r < T + K;) {
                            A += r;
                            const W = (A - T) / K, Q = Mt(N.x, V.x, W), ue = Mt(N.y, V.y, W);
                            if (Q >= 0 && Q < _ && ue >= 0 && ue < _ && A - v >= 0 && A + v <= w) {
                                const he = new Mn(Q, ue, ee, k);
                                he._round(), s && !Oc(i, he, u, s, c) || z.push(he)
                            }
                        }
                        T += K
                    }
                    return f || z.length || d || (z = $c(i, T / 2, r, s, c, u, d, !0, _)), z
                }

                function Zc(i, e, r, s, c) {
                    const u = [];
                    for (let d = 0; d < i.length; d++) {
                        const f = i[d];
                        let _;
                        for (let v = 0; v < f.length - 1; v++) {
                            let w = f[v], T = f[v + 1];
                            w.x < e && T.x < e || (w.x < e ? w = new Xe(e, w.y + (e - w.x) / (T.x - w.x) * (T.y - w.y))._round() : T.x < e && (T = new Xe(e, w.y + (e - w.x) / (T.x - w.x) * (T.y - w.y))._round()), w.y < r && T.y < r || (w.y < r ? w = new Xe(w.x + (r - w.y) / (T.y - w.y) * (T.x - w.x), r)._round() : T.y < r && (T = new Xe(w.x + (r - w.y) / (T.y - w.y) * (T.x - w.x), r)._round()), w.x >= s && T.x >= s || (w.x >= s ? w = new Xe(s, w.y + (s - w.x) / (T.x - w.x) * (T.y - w.y))._round() : T.x >= s && (T = new Xe(s, w.y + (s - w.x) / (T.x - w.x) * (T.y - w.y))._round()), w.y >= c && T.y >= c || (w.y >= c ? w = new Xe(w.x + (c - w.y) / (T.y - w.y) * (T.x - w.x), c)._round() : T.y >= c && (T = new Xe(w.x + (c - w.y) / (T.y - w.y) * (T.x - w.x), c)._round()), _ && w.equals(_[_.length - 1]) || (_ = [w], u.push(_)), _.push(T)))))
                        }
                    }
                    return u
                }

                function Gc(i, e, r, s) {
                    const c = [], u = i.image, d = u.pixelRatio, f = u.paddedRect.w - 2, _ = u.paddedRect.h - 2,
                        v = i.right - i.left, w = i.bottom - i.top, T = u.stretchX || [[0, f]],
                        A = u.stretchY || [[0, _]], z = (ve, Ie) => ve + Ie[1] - Ie[0], k = T.reduce(z, 0),
                        N = A.reduce(z, 0), V = f - k, K = _ - N;
                    let ee = 0, W = k, Q = 0, ue = N, he = 0, ke = V, De = 0, Te = K;
                    if (u.content && s) {
                        const ve = u.content;
                        ee = Ha(T, 0, ve[0]), Q = Ha(A, 0, ve[1]), W = Ha(T, ve[0], ve[2]), ue = Ha(A, ve[1], ve[3]), he = ve[0] - ee, De = ve[1] - Q, ke = ve[2] - ve[0] - W, Te = ve[3] - ve[1] - ue
                    }
                    const we = (ve, Ie, Ce, _e) => {
                        const Ue = Ka(ve.stretch - ee, W, v, i.left), Re = Ya(ve.fixed - he, ke, ve.stretch, k),
                            Ye = Ka(Ie.stretch - Q, ue, w, i.top), It = Ya(Ie.fixed - De, Te, Ie.stretch, N),
                            Pt = Ka(Ce.stretch - ee, W, v, i.left), Xt = Ya(Ce.fixed - he, ke, Ce.stretch, k),
                            Yi = Ka(_e.stretch - Q, ue, w, i.top), si = Ya(_e.fixed - De, Te, _e.stretch, N),
                            $t = new Xe(Ue, Ye), Qt = new Xe(Pt, Ye), oi = new Xe(Pt, Yi), xi = new Xe(Ue, Yi),
                            zi = new Xe(Re / d, It / d), Zt = new Xe(Xt / d, si / d), ai = e * Math.PI / 180;
                        if (ai) {
                            const ki = Math.sin(ai), Pi = Math.cos(ai), Ft = [Pi, -ki, ki, Pi];
                            $t._matMult(Ft), Qt._matMult(Ft), xi._matMult(Ft), oi._matMult(Ft)
                        }
                        const vi = ve.stretch + ve.fixed, Ti = Ie.stretch + Ie.fixed;
                        return {
                            tl: $t,
                            tr: Qt,
                            bl: xi,
                            br: oi,
                            tex: {
                                x: u.paddedRect.x + 1 + vi,
                                y: u.paddedRect.y + 1 + Ti,
                                w: Ce.stretch + Ce.fixed - vi,
                                h: _e.stretch + _e.fixed - Ti
                            },
                            writingMode: void 0,
                            glyphOffset: [0, 0],
                            sectionIndex: 0,
                            pixelOffsetTL: zi,
                            pixelOffsetBR: Zt,
                            minFontScaleX: ke / d / v,
                            minFontScaleY: Te / d / w,
                            isSDF: r
                        }
                    };
                    if (s && (u.stretchX || u.stretchY)) {
                        const ve = jc(T, V, k), Ie = jc(A, K, N);
                        for (let Ce = 0; Ce < ve.length - 1; Ce++) {
                            const _e = ve[Ce], Ue = ve[Ce + 1];
                            for (let Re = 0; Re < Ie.length - 1; Re++) c.push(we(_e, Ie[Re], Ue, Ie[Re + 1]))
                        }
                    } else c.push(we({fixed: 0, stretch: -1}, {fixed: 0, stretch: -1}, {
                        fixed: 0,
                        stretch: f + 1
                    }, {fixed: 0, stretch: _ + 1}));
                    return c
                }

                function Ha(i, e, r) {
                    let s = 0;
                    for (const c of i) s += Math.max(e, Math.min(r, c[1])) - Math.max(e, Math.min(r, c[0]));
                    return s
                }

                function jc(i, e, r) {
                    const s = [{fixed: -1, stretch: 0}];
                    for (const [c, u] of i) {
                        const d = s[s.length - 1];
                        s.push({fixed: c - d.stretch, stretch: d.stretch}), s.push({
                            fixed: c - d.stretch,
                            stretch: d.stretch + (u - c)
                        })
                    }
                    return s.push({fixed: e + 1, stretch: r}), s
                }

                function Ka(i, e, r, s) {
                    return i / e * r + s
                }

                function Ya(i, e, r, s) {
                    return i - e * r / s
                }

                Me("Anchor", Mn);

                class Ja {
                    constructor(e, r, s, c, u, d, f, _, v, w) {
                        if (this.boxStartIndex = e.length, v) {
                            let T = d.top, A = d.bottom;
                            const z = d.collisionPadding;
                            z && (T -= z[1], A += z[3]);
                            let k = A - T;
                            k > 0 && (k = Math.max(10, k), this.circleDiameter = k)
                        } else {
                            let T = d.top * f - _[0], A = d.bottom * f + _[2], z = d.left * f - _[3],
                                k = d.right * f + _[1];
                            const N = d.collisionPadding;
                            if (N && (z -= N[0] * f, T -= N[1] * f, k += N[2] * f, A += N[3] * f), w) {
                                const V = new Xe(z, T), K = new Xe(k, T), ee = new Xe(z, A), W = new Xe(k, A),
                                    Q = w * Math.PI / 180;
                                V._rotate(Q), K._rotate(Q), ee._rotate(Q), W._rotate(Q), z = Math.min(V.x, K.x, ee.x, W.x), k = Math.max(V.x, K.x, ee.x, W.x), T = Math.min(V.y, K.y, ee.y, W.y), A = Math.max(V.y, K.y, ee.y, W.y)
                            }
                            e.emplaceBack(r.x, r.y, z, T, k, A, s, c, u)
                        }
                        this.boxEndIndex = e.length
                    }
                }

                class Eu {
                    constructor(e = [], r = Mu) {
                        if (this.data = e, this.length = this.data.length, this.compare = r, this.length > 0) for (let s = (this.length >> 1) - 1; s >= 0; s--) this._down(s)
                    }

                    push(e) {
                        this.data.push(e), this.length++, this._up(this.length - 1)
                    }

                    pop() {
                        if (0 === this.length) return;
                        const e = this.data[0], r = this.data.pop();
                        return this.length--, this.length > 0 && (this.data[0] = r, this._down(0)), e
                    }

                    peek() {
                        return this.data[0]
                    }

                    _up(e) {
                        const {data: r, compare: s} = this, c = r[e];
                        for (; e > 0;) {
                            const u = e - 1 >> 1, d = r[u];
                            if (s(c, d) >= 0) break;
                            r[e] = d, e = u
                        }
                        r[e] = c
                    }

                    _down(e) {
                        const {data: r, compare: s} = this, c = this.length >> 1, u = r[e];
                        for (; e < c;) {
                            let d = 1 + (e << 1), f = r[d];
                            const _ = d + 1;
                            if (_ < this.length && s(r[_], f) < 0 && (d = _, f = r[_]), s(f, u) >= 0) break;
                            r[e] = f, e = d
                        }
                        r[e] = u
                    }
                }

                function Mu(i, e) {
                    return i < e ? -1 : i > e ? 1 : 0
                }

                function Au(i, e = 1, r = !1) {
                    let s = 1 / 0, c = 1 / 0, u = -1 / 0, d = -1 / 0;
                    const f = i[0];
                    for (let z = 0; z < f.length; z++) {
                        const k = f[z];
                        (!z || k.x < s) && (s = k.x), (!z || k.y < c) && (c = k.y), (!z || k.x > u) && (u = k.x), (!z || k.y > d) && (d = k.y)
                    }
                    const _ = Math.min(u - s, d - c);
                    let v = _ / 2;
                    const w = new Eu([], zu);
                    if (0 === _) return new Xe(s, c);
                    for (let z = s; z < u; z += _) for (let k = c; k < d; k += _) w.push(new Ns(z + v, k + v, v, i));
                    let T = function (z) {
                        let k = 0, N = 0, V = 0;
                        const K = z[0];
                        for (let ee = 0, W = K.length, Q = W - 1; ee < W; Q = ee++) {
                            const ue = K[ee], he = K[Q], ke = ue.x * he.y - he.x * ue.y;
                            N += (ue.x + he.x) * ke, V += (ue.y + he.y) * ke, k += 3 * ke
                        }
                        return new Ns(N / k, V / k, 0, z)
                    }(i), A = w.length;
                    for (; w.length;) {
                        const z = w.pop();
                        (z.d > T.d || !T.d) && (T = z, r && console.log("found best %d after %d probes", Math.round(1e4 * z.d) / 1e4, A)), z.max - T.d <= e || (v = z.h / 2, w.push(new Ns(z.p.x - v, z.p.y - v, v, i)), w.push(new Ns(z.p.x + v, z.p.y - v, v, i)), w.push(new Ns(z.p.x - v, z.p.y + v, v, i)), w.push(new Ns(z.p.x + v, z.p.y + v, v, i)), A += 4)
                    }
                    return r && (console.log(`num probes: ${A}`), console.log(`best distance: ${T.d}`)), T.p
                }

                function zu(i, e) {
                    return e.max - i.max
                }

                function Ns(i, e, r, s) {
                    this.p = new Xe(i, e), this.h = r, this.d = function (c, u) {
                        let d = !1, f = 1 / 0;
                        for (let _ = 0; _ < u.length; _++) {
                            const v = u[_];
                            for (let w = 0, T = v.length, A = T - 1; w < T; A = w++) {
                                const z = v[w], k = v[A];
                                z.y > c.y != k.y > c.y && c.x < (k.x - z.x) * (c.y - z.y) / (k.y - z.y) + z.x && (d = !d), f = Math.min(f, kt(c, z, k))
                            }
                        }
                        return (d ? 1 : -1) * Math.sqrt(f)
                    }(this.p, s), this.max = this.d + this.h * Math.SQRT2
                }

                const Nl = Number.POSITIVE_INFINITY;

                function qc(i, e) {
                    return e[1] !== Nl ? function (r, s, c) {
                        let u = 0, d = 0;
                        switch (s = Math.abs(s), c = Math.abs(c), r) {
                            case"top-right":
                            case"top-left":
                            case"top":
                                d = c - 7;
                                break;
                            case"bottom-right":
                            case"bottom-left":
                            case"bottom":
                                d = 7 - c
                        }
                        switch (r) {
                            case"top-right":
                            case"bottom-right":
                            case"right":
                                u = -s;
                                break;
                            case"top-left":
                            case"bottom-left":
                            case"left":
                                u = s
                        }
                        return [u, d]
                    }(i, e[0], e[1]) : function (r, s) {
                        let c = 0, u = 0;
                        s < 0 && (s = 0);
                        const d = s / Math.sqrt(2);
                        switch (r) {
                            case"top-right":
                            case"top-left":
                                u = d - 7;
                                break;
                            case"bottom-right":
                            case"bottom-left":
                                u = 7 - d;
                                break;
                            case"bottom":
                                u = 7 - s;
                                break;
                            case"top":
                                u = s - 7
                        }
                        switch (r) {
                            case"top-right":
                            case"bottom-right":
                                c = -d;
                                break;
                            case"top-left":
                            case"bottom-left":
                                c = d;
                                break;
                            case"left":
                                c = s;
                                break;
                            case"right":
                                c = -s
                        }
                        return [c, u]
                    }(i, e[0])
                }

                function $l(i) {
                    switch (i) {
                        case"right":
                        case"top-right":
                        case"bottom-right":
                            return "right";
                        case"left":
                        case"top-left":
                        case"bottom-left":
                            return "left"
                    }
                    return "center"
                }

                function ku(i, e, r, s, c, u, d, f, _, v, w) {
                    let T = u.textMaxSize.evaluate(e, {});
                    void 0 === T && (T = d);
                    const A = i.layers[0].layout, z = A.get("icon-offset").evaluate(e, {}, w), k = Wc(r.horizontal),
                        N = d / 24, V = i.tilePixelRatio * N, K = i.tilePixelRatio * T / 24, ee = i.tilePixelRatio * f,
                        W = i.tilePixelRatio * A.get("symbol-spacing"), Q = A.get("text-padding") * i.tilePixelRatio,
                        ue = function (_e, Ue, Re, Ye = 1) {
                            const It = _e.get("icon-padding").evaluate(Ue, {}, Re), Pt = It && It.values;
                            return [Pt[0] * Ye, Pt[1] * Ye, Pt[2] * Ye, Pt[3] * Ye]
                        }(A, e, w, i.tilePixelRatio), he = A.get("text-max-angle") / 180 * Math.PI,
                        ke = "viewport" !== A.get("text-rotation-alignment") && "point" !== A.get("symbol-placement"),
                        De = "map" === A.get("icon-rotation-alignment") && "point" !== A.get("symbol-placement"),
                        Te = A.get("symbol-placement"), we = W / 2, ve = A.get("icon-text-fit");
                    let Ie;
                    s && "none" !== ve && (i.allowVerticalPlacement && r.vertical && (Ie = Bc(s, r.vertical, ve, A.get("icon-text-fit-padding"), z, N)), k && (s = Bc(s, k, ve, A.get("icon-text-fit-padding"), z, N)));
                    const Ce = (_e, Ue) => {
                        Ue.x < 0 || Ue.x >= pt || Ue.y < 0 || Ue.y >= pt || function (Re, Ye, It, Pt, Xt, Yi, si, $t, Qt, oi, xi, zi, Zt, ai, vi, Ti, ki, Pi, Ft, li, Je, Zi, ci, bi, sr) {
                            const mr = Re.addToLineVertexArray(Ye, It);
                            let fr, en, or, Ji, Di = 0, tn = 0, ta = 0, ph = 0, tc = -1, ic = -1;
                            const rn = {};
                            let dh = M(""), rc = 0, nc = 0;
                            if (void 0 === $t._unevaluatedLayout.getValue("text-radial-offset") ? [rc, nc] = $t.layout.get("text-offset").evaluate(Je, {}, bi).map(Li => 24 * Li) : (rc = 24 * $t.layout.get("text-radial-offset").evaluate(Je, {}, bi), nc = Nl), Re.allowVerticalPlacement && Pt.vertical) {
                                const Li = $t.layout.get("text-rotate").evaluate(Je, {}, bi) + 90;
                                or = new Ja(Qt, Ye, oi, xi, zi, Pt.vertical, Zt, ai, vi, Li), si && (Ji = new Ja(Qt, Ye, oi, xi, zi, si, ki, Pi, vi, Li))
                            }
                            if (Xt) {
                                const Li = $t.layout.get("icon-rotate").evaluate(Je, {}),
                                    Dr = "none" !== $t.layout.get("icon-text-fit"), ia = Gc(Xt, Li, ci, Dr),
                                    ra = si ? Gc(si, Li, ci, Dr) : void 0;
                                en = new Ja(Qt, Ye, oi, xi, zi, Xt, ki, Pi, !1, Li), Di = 4 * ia.length;
                                const gh = Re.iconSizeData;
                                let Yn = null;
                                "source" === gh.kind ? (Yn = [Qr * $t.layout.get("icon-size").evaluate(Je, {})], Yn[0] > An && at(`${Re.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)) : "composite" === gh.kind && (Yn = [Qr * Zi.compositeIconSizes[0].evaluate(Je, {}, bi), Qr * Zi.compositeIconSizes[1].evaluate(Je, {}, bi)], (Yn[0] > An || Yn[1] > An) && at(`${Re.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)), Re.addSymbols(Re.icon, ia, Yn, li, Ft, Je, h.WritingMode.none, Ye, mr.lineStartIndex, mr.lineLength, -1, bi), tc = Re.icon.placedSymbolArray.length - 1, ra && (tn = 4 * ra.length, Re.addSymbols(Re.icon, ra, Yn, li, Ft, Je, h.WritingMode.vertical, Ye, mr.lineStartIndex, mr.lineLength, -1, bi), ic = Re.icon.placedSymbolArray.length - 1)
                            }
                            const mh = Object.keys(Pt.horizontal);
                            for (const Li of mh) {
                                const Dr = Pt.horizontal[Li];
                                if (!fr) {
                                    dh = M(Dr.text);
                                    const ra = $t.layout.get("text-rotate").evaluate(Je, {}, bi);
                                    fr = new Ja(Qt, Ye, oi, xi, zi, Dr, Zt, ai, vi, ra)
                                }
                                const ia = 1 === Dr.positionedLines.length;
                                if (ta += Xc(Re, Ye, Dr, Yi, $t, vi, Je, Ti, mr, Pt.vertical ? h.WritingMode.horizontal : h.WritingMode.horizontalOnly, ia ? mh : [Li], rn, tc, Zi, bi), ia) break
                            }
                            Pt.vertical && (ph += Xc(Re, Ye, Pt.vertical, Yi, $t, vi, Je, Ti, mr, h.WritingMode.vertical, ["vertical"], rn, ic, Zi, bi));
                            const qu = fr ? fr.boxStartIndex : Re.collisionBoxArray.length,
                                Xu = fr ? fr.boxEndIndex : Re.collisionBoxArray.length,
                                Wu = or ? or.boxStartIndex : Re.collisionBoxArray.length,
                                Hu = or ? or.boxEndIndex : Re.collisionBoxArray.length,
                                Ku = en ? en.boxStartIndex : Re.collisionBoxArray.length,
                                Yu = en ? en.boxEndIndex : Re.collisionBoxArray.length,
                                Ju = Ji ? Ji.boxStartIndex : Re.collisionBoxArray.length,
                                Qu = Ji ? Ji.boxEndIndex : Re.collisionBoxArray.length;
                            let gr = -1;
                            const rl = (Li, Dr) => Li && Li.circleDiameter ? Math.max(Li.circleDiameter, Dr) : Dr;
                            gr = rl(fr, gr), gr = rl(or, gr), gr = rl(en, gr), gr = rl(Ji, gr);
                            const fh = gr > -1 ? 1 : 0;
                            fh && (gr *= sr / 24), Re.glyphOffsetArray.length >= $s.MAX_GLYPHS && at("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"), void 0 !== Je.sortKey && Re.addToSortKeyRanges(Re.symbolInstances.length, Je.sortKey), Re.symbolInstances.emplaceBack(Ye.x, Ye.y, rn.right >= 0 ? rn.right : -1, rn.center >= 0 ? rn.center : -1, rn.left >= 0 ? rn.left : -1, rn.vertical || -1, tc, ic, dh, qu, Xu, Wu, Hu, Ku, Yu, Ju, Qu, oi, ta, ph, Di, tn, fh, 0, Zt, rc, nc, gr)
                        }(i, Ue, _e, r, s, c, Ie, i.layers[0], i.collisionBoxArray, e.index, e.sourceLayerIndex, i.index, V, [Q, Q, Q, Q], ke, _, ee, ue, De, z, e, u, v, w, d)
                    };
                    if ("line" === Te) for (const _e of Zc(e.geometry, 0, 0, pt, pt)) {
                        const Ue = Iu(_e, W, he, r.vertical || k, s, 24, K, i.overscaling, pt);
                        for (const Re of Ue) k && Pu(i, k.text, we, Re) || Ce(_e, Re)
                    } else if ("line-center" === Te) {
                        for (const _e of e.geometry) if (_e.length > 1) {
                            const Ue = Tu(_e, he, r.vertical || k, s, 24, K);
                            Ue && Ce(_e, Ue)
                        }
                    } else if ("Polygon" === e.type) for (const _e of Al(e.geometry, 0)) {
                        const Ue = Au(_e, 16);
                        Ce(_e[0], new Mn(Ue.x, Ue.y, 0))
                    } else if ("LineString" === e.type) for (const _e of e.geometry) Ce(_e, new Mn(_e[0].x, _e[0].y, 0)); else if ("Point" === e.type) for (const _e of e.geometry) for (const Ue of _e) Ce([Ue], new Mn(Ue.x, Ue.y, 0))
                }

                const An = 32640;

                function Xc(i, e, r, s, c, u, d, f, _, v, w, T, A, z, k) {
                    const N = function (ee, W, Q, ue, he, ke, De, Te) {
                        const we = ue.layout.get("text-rotate").evaluate(ke, {}) * Math.PI / 180, ve = [];
                        for (const Ie of W.positionedLines) for (const Ce of Ie.positionedGlyphs) {
                            if (!Ce.rect) continue;
                            const _e = Ce.rect || {};
                            let Ue = 4, Re = !0, Ye = 1, It = 0;
                            const Pt = (he || Te) && Ce.vertical, Xt = Ce.metrics.advance * Ce.scale / 2;
                            if (Te && W.verticalizable && (It = Ie.lineOffset / 2 - (Ce.imageName ? -(24 - Ce.metrics.width * Ce.scale) / 2 : 24 * (Ce.scale - 1))), Ce.imageName) {
                                const Ft = De[Ce.imageName];
                                Re = Ft.sdf, Ye = Ft.pixelRatio, Ue = 1 / Ye
                            }
                            const Yi = he ? [Ce.x + Xt, Ce.y] : [0, 0];
                            let si = he ? [0, 0] : [Ce.x + Xt + Q[0], Ce.y + Q[1] - It], $t = [0, 0];
                            Pt && ($t = si, si = [0, 0]);
                            const Qt = (Ce.metrics.left - Ue) * Ce.scale - Xt + si[0],
                                oi = (-Ce.metrics.top - Ue) * Ce.scale + si[1], xi = Qt + _e.w * Ce.scale / Ye,
                                zi = oi + _e.h * Ce.scale / Ye, Zt = new Xe(Qt, oi), ai = new Xe(xi, oi),
                                vi = new Xe(Qt, zi), Ti = new Xe(xi, zi);
                            if (Pt) {
                                const Ft = new Xe(-Xt, Xt - -17), li = -Math.PI / 2, Je = 12 - Xt,
                                    Zi = new Xe(22 - Je, -(Ce.imageName ? Je : 0)), ci = new Xe(...$t);
                                Zt._rotateAround(li, Ft)._add(Zi)._add(ci), ai._rotateAround(li, Ft)._add(Zi)._add(ci), vi._rotateAround(li, Ft)._add(Zi)._add(ci), Ti._rotateAround(li, Ft)._add(Zi)._add(ci)
                            }
                            if (we) {
                                const Ft = Math.sin(we), li = Math.cos(we), Je = [li, -Ft, Ft, li];
                                Zt._matMult(Je), ai._matMult(Je), vi._matMult(Je), Ti._matMult(Je)
                            }
                            const ki = new Xe(0, 0), Pi = new Xe(0, 0);
                            ve.push({
                                tl: Zt,
                                tr: ai,
                                bl: vi,
                                br: Ti,
                                tex: _e,
                                writingMode: W.writingMode,
                                glyphOffset: Yi,
                                sectionIndex: Ce.sectionIndex,
                                isSDF: Re,
                                pixelOffsetTL: ki,
                                pixelOffsetBR: Pi,
                                minFontScaleX: 0,
                                minFontScaleY: 0
                            })
                        }
                        return ve
                    }(0, r, f, c, u, d, s, i.allowVerticalPlacement), V = i.textSizeData;
                    let K = null;
                    "source" === V.kind ? (K = [Qr * c.layout.get("text-size").evaluate(d, {})], K[0] > An && at(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)) : "composite" === V.kind && (K = [Qr * z.compositeTextSizes[0].evaluate(d, {}, k), Qr * z.compositeTextSizes[1].evaluate(d, {}, k)], (K[0] > An || K[1] > An) && at(`${i.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)), i.addSymbols(i.text, N, K, f, u, d, v, e, _.lineStartIndex, _.lineLength, A, k);
                    for (const ee of w) T[ee] = i.text.placedSymbolArray.length - 1;
                    return 4 * N.length
                }

                function Wc(i) {
                    for (const e in i) return i[e];
                    return null
                }

                function Pu(i, e, r, s) {
                    const c = i.compareText;
                    if (e in c) {
                        const u = c[e];
                        for (let d = u.length - 1; d >= 0; d--) if (s.dist(u[d]) < r) return !0
                    } else c[e] = [];
                    return c[e].push(s), !1
                }

                const Du = In.VectorTileFeature.types,
                    Lu = [{name: "a_fade_opacity", components: 1, type: "Uint8", offset: 0}];

                function Qa(i, e, r, s, c, u, d, f, _, v, w, T, A) {
                    const z = f ? Math.min(An, Math.round(f[0])) : 0, k = f ? Math.min(An, Math.round(f[1])) : 0;
                    i.emplaceBack(e, r, Math.round(32 * s), Math.round(32 * c), u, d, (z << 1) + (_ ? 1 : 0), k, 16 * v, 16 * w, 256 * T, 256 * A)
                }

                function Zl(i, e, r) {
                    i.emplaceBack(e.x, e.y, r), i.emplaceBack(e.x, e.y, r), i.emplaceBack(e.x, e.y, r), i.emplaceBack(e.x, e.y, r)
                }

                function Ru(i) {
                    for (const e of i.sections) if (Vi(e.text)) return !0;
                    return !1
                }

                class Gl {
                    constructor(e) {
                        this.layoutVertexArray = new a, this.indexArray = new p, this.programConfigurations = e, this.segments = new x, this.dynamicLayoutVertexArray = new t, this.opacityVertexArray = new n, this.hasVisibleVertices = !1, this.placedSymbolArray = new Oo
                    }

                    isEmpty() {
                        return 0 === this.layoutVertexArray.length && 0 === this.indexArray.length && 0 === this.dynamicLayoutVertexArray.length && 0 === this.opacityVertexArray.length
                    }

                    upload(e, r, s, c) {
                        this.isEmpty() || (s && (this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, nu.members), this.indexBuffer = e.createIndexBuffer(this.indexArray, r), this.dynamicLayoutVertexBuffer = e.createVertexBuffer(this.dynamicLayoutVertexArray, su.members, !0), this.opacityVertexBuffer = e.createVertexBuffer(this.opacityVertexArray, Lu, !0), this.opacityVertexBuffer.itemSize = 1), (s || c) && this.programConfigurations.upload(e))
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.dynamicLayoutVertexBuffer.destroy(), this.opacityVertexBuffer.destroy())
                    }
                }

                Me("SymbolBuffers", Gl);

                class jl {
                    constructor(e, r, s) {
                        this.layoutVertexArray = new e, this.layoutAttributes = r, this.indexArray = new s, this.segments = new x, this.collisionVertexArray = new l
                    }

                    upload(e) {
                        this.layoutVertexBuffer = e.createVertexBuffer(this.layoutVertexArray, this.layoutAttributes), this.indexBuffer = e.createIndexBuffer(this.indexArray), this.collisionVertexBuffer = e.createVertexBuffer(this.collisionVertexArray, ou.members, !0)
                    }

                    destroy() {
                        this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.segments.destroy(), this.collisionVertexBuffer.destroy())
                    }
                }

                Me("CollisionBuffers", jl);

                class $s {
                    constructor(e) {
                        this.collisionBoxArray = e.collisionBoxArray, this.zoom = e.zoom, this.overscaling = e.overscaling, this.layers = e.layers, this.layerIds = this.layers.map(d => d.id), this.index = e.index, this.pixelRatio = e.pixelRatio, this.sourceLayerIndex = e.sourceLayerIndex, this.hasPattern = !1, this.hasRTLText = !1, this.sortKeyRanges = [], this.collisionCircleArray = [], this.placementInvProjMatrix = Sl([]), this.placementViewportMatrix = Sl([]);
                        const r = this.layers[0]._unevaluatedLayout._values;
                        this.textSizeData = Fc(this.zoom, r["text-size"]), this.iconSizeData = Fc(this.zoom, r["icon-size"]);
                        const s = this.layers[0].layout, c = s.get("symbol-sort-key"), u = s.get("symbol-z-order");
                        this.canOverlap = "never" !== Xl(s, "text-overlap", "text-allow-overlap") || "never" !== Xl(s, "icon-overlap", "icon-allow-overlap") || s.get("text-ignore-placement") || s.get("icon-ignore-placement"), this.sortFeaturesByKey = "viewport-y" !== u && !c.isConstant(), this.sortFeaturesByY = ("viewport-y" === u || "auto" === u && !this.sortFeaturesByKey) && this.canOverlap, "point" === s.get("symbol-placement") && (this.writingModes = s.get("text-writing-mode").map(d => h.WritingMode[d])), this.stateDependentLayerIds = this.layers.filter(d => d.isStateDependent()).map(d => d.id), this.sourceID = e.sourceID
                    }

                    createArrays() {
                        this.text = new Gl(new He(this.layers, this.zoom, e => /^text/.test(e))), this.icon = new Gl(new He(this.layers, this.zoom, e => /^icon/.test(e))), this.glyphOffsetArray = new Kr, this.lineVertexArray = new Xn, this.symbolInstances = new Fa
                    }

                    calculateGlyphDependencies(e, r, s, c, u) {
                        for (let d = 0; d < e.length; d++) if (r[e.charCodeAt(d)] = !0, (s || c) && u) {
                            const f = Ko[e.charAt(d)];
                            f && (r[f.charCodeAt(0)] = !0)
                        }
                    }

                    populate(e, r, s) {
                        const c = this.layers[0], u = c.layout, d = u.get("text-font"), f = u.get("text-field"),
                            _ = u.get("icon-image"),
                            v = ("constant" !== f.value.kind || f.value.value instanceof ei && !f.value.value.isEmpty() || f.value.value.toString().length > 0) && ("constant" !== d.value.kind || d.value.value.length > 0),
                            w = "constant" !== _.value.kind || !!_.value.value || Object.keys(_.parameters).length > 0,
                            T = u.get("symbol-sort-key");
                        if (this.features = [], !v && !w) return;
                        const A = r.iconDependencies, z = r.glyphDependencies, k = r.availableImages,
                            N = new Tt(this.zoom);
                        for (const {feature: V, id: K, index: ee, sourceLayerIndex: W} of e) {
                            const Q = c._featureFilter.needGeometry, ue = Ai(V, Q);
                            if (!c._featureFilter.filter(N, ue, s)) continue;
                            let he, ke;
                            if (Q || (ue.geometry = ni(V)), v) {
                                const Te = c.getValueAndResolveTokens("text-field", ue, s, k), we = ei.factory(Te);
                                Ru(we) && (this.hasRTLText = !0), (!this.hasRTLText || "unavailable" === Hr() || this.hasRTLText && Si.isParsed()) && (he = lu(we, c, ue))
                            }
                            if (w) {
                                const Te = c.getValueAndResolveTokens("icon-image", ue, s, k);
                                ke = Te instanceof mi ? Te : mi.fromString(Te)
                            }
                            if (!he && !ke) continue;
                            const De = this.sortFeaturesByKey ? T.evaluate(ue, {}, s) : void 0;
                            if (this.features.push({
                                id: K,
                                text: he,
                                icon: ke,
                                index: ee,
                                sourceLayerIndex: W,
                                geometry: ue.geometry,
                                properties: V.properties,
                                type: Du[V.type],
                                sortKey: De
                            }), ke && (A[ke.name] = !0), he) {
                                const Te = d.evaluate(ue, {}, s).join(","),
                                    we = "viewport" !== u.get("text-rotation-alignment") && "point" !== u.get("symbol-placement");
                                this.allowVerticalPlacement = this.writingModes && this.writingModes.indexOf(h.WritingMode.vertical) >= 0;
                                for (const ve of he.sections) if (ve.image) A[ve.image.name] = !0; else {
                                    const Ie = _o(he.toString()), Ce = ve.fontStack || Te, _e = z[Ce] = z[Ce] || {};
                                    this.calculateGlyphDependencies(ve.text, _e, we, this.allowVerticalPlacement, Ie)
                                }
                            }
                        }
                        "line" === u.get("symbol-placement") && (this.features = function (V) {
                            const K = {}, ee = {}, W = [];
                            let Q = 0;

                            function ue(Te) {
                                W.push(V[Te]), Q++
                            }

                            function he(Te, we, ve) {
                                const Ie = ee[Te];
                                return delete ee[Te], ee[we] = Ie, W[Ie].geometry[0].pop(), W[Ie].geometry[0] = W[Ie].geometry[0].concat(ve[0]), Ie
                            }

                            function ke(Te, we, ve) {
                                const Ie = K[we];
                                return delete K[we], K[Te] = Ie, W[Ie].geometry[0].shift(), W[Ie].geometry[0] = ve[0].concat(W[Ie].geometry[0]), Ie
                            }

                            function De(Te, we, ve) {
                                const Ie = ve ? we[0][we[0].length - 1] : we[0][0];
                                return `${Te}:${Ie.x}:${Ie.y}`
                            }

                            for (let Te = 0; Te < V.length; Te++) {
                                const we = V[Te], ve = we.geometry, Ie = we.text ? we.text.toString() : null;
                                if (!Ie) {
                                    ue(Te);
                                    continue
                                }
                                const Ce = De(Ie, ve), _e = De(Ie, ve, !0);
                                if (Ce in ee && _e in K && ee[Ce] !== K[_e]) {
                                    const Ue = ke(Ce, _e, ve), Re = he(Ce, _e, W[Ue].geometry);
                                    delete K[Ce], delete ee[_e], ee[De(Ie, W[Re].geometry, !0)] = Re, W[Ue].geometry = null
                                } else Ce in ee ? he(Ce, _e, ve) : _e in K ? ke(Ce, _e, ve) : (ue(Te), K[Ce] = Q - 1, ee[_e] = Q - 1)
                            }
                            return W.filter(Te => Te.geometry)
                        }(this.features)), this.sortFeaturesByKey && this.features.sort((V, K) => V.sortKey - K.sortKey)
                    }

                    update(e, r, s) {
                        this.stateDependentLayers.length && (this.text.programConfigurations.updatePaintArrays(e, r, this.layers, s), this.icon.programConfigurations.updatePaintArrays(e, r, this.layers, s))
                    }

                    isEmpty() {
                        return 0 === this.symbolInstances.length && !this.hasRTLText
                    }

                    uploadPending() {
                        return !this.uploaded || this.text.programConfigurations.needsUpload || this.icon.programConfigurations.needsUpload
                    }

                    upload(e) {
                        !this.uploaded && this.hasDebugData() && (this.textCollisionBox.upload(e), this.iconCollisionBox.upload(e)), this.text.upload(e, this.sortFeaturesByY, !this.uploaded, this.text.programConfigurations.needsUpload), this.icon.upload(e, this.sortFeaturesByY, !this.uploaded, this.icon.programConfigurations.needsUpload), this.uploaded = !0
                    }

                    destroyDebugData() {
                        this.textCollisionBox.destroy(), this.iconCollisionBox.destroy()
                    }

                    destroy() {
                        this.text.destroy(), this.icon.destroy(), this.hasDebugData() && this.destroyDebugData()
                    }

                    addToLineVertexArray(e, r) {
                        const s = this.lineVertexArray.length;
                        if (void 0 !== e.segment) {
                            let c = e.dist(r[e.segment + 1]), u = e.dist(r[e.segment]);
                            const d = {};
                            for (let f = e.segment + 1; f < r.length; f++) d[f] = {
                                x: r[f].x,
                                y: r[f].y,
                                tileUnitDistanceFromAnchor: c
                            }, f < r.length - 1 && (c += r[f + 1].dist(r[f]));
                            for (let f = e.segment || 0; f >= 0; f--) d[f] = {
                                x: r[f].x,
                                y: r[f].y,
                                tileUnitDistanceFromAnchor: u
                            }, f > 0 && (u += r[f - 1].dist(r[f]));
                            for (let f = 0; f < r.length; f++) {
                                const _ = d[f];
                                this.lineVertexArray.emplaceBack(_.x, _.y, _.tileUnitDistanceFromAnchor)
                            }
                        }
                        return {lineStartIndex: s, lineLength: this.lineVertexArray.length - s}
                    }

                    addSymbols(e, r, s, c, u, d, f, _, v, w, T, A) {
                        const z = e.indexArray, k = e.layoutVertexArray,
                            N = e.segments.prepareSegment(4 * r.length, k, z, this.canOverlap ? d.sortKey : void 0),
                            V = this.glyphOffsetArray.length, K = N.vertexLength,
                            ee = this.allowVerticalPlacement && f === h.WritingMode.vertical ? Math.PI / 2 : 0,
                            W = d.text && d.text.sections;
                        for (let Q = 0; Q < r.length; Q++) {
                            const {
                                tl: ue,
                                tr: he,
                                bl: ke,
                                br: De,
                                tex: Te,
                                pixelOffsetTL: we,
                                pixelOffsetBR: ve,
                                minFontScaleX: Ie,
                                minFontScaleY: Ce,
                                glyphOffset: _e,
                                isSDF: Ue,
                                sectionIndex: Re
                            } = r[Q], Ye = N.vertexLength, It = _e[1];
                            Qa(k, _.x, _.y, ue.x, It + ue.y, Te.x, Te.y, s, Ue, we.x, we.y, Ie, Ce), Qa(k, _.x, _.y, he.x, It + he.y, Te.x + Te.w, Te.y, s, Ue, ve.x, we.y, Ie, Ce), Qa(k, _.x, _.y, ke.x, It + ke.y, Te.x, Te.y + Te.h, s, Ue, we.x, ve.y, Ie, Ce), Qa(k, _.x, _.y, De.x, It + De.y, Te.x + Te.w, Te.y + Te.h, s, Ue, ve.x, ve.y, Ie, Ce), Zl(e.dynamicLayoutVertexArray, _, ee), z.emplaceBack(Ye, Ye + 1, Ye + 2), z.emplaceBack(Ye + 1, Ye + 2, Ye + 3), N.vertexLength += 4, N.primitiveLength += 2, this.glyphOffsetArray.emplaceBack(_e[0]), Q !== r.length - 1 && Re === r[Q + 1].sectionIndex || e.programConfigurations.populatePaintArrays(k.length, d, d.index, {}, A, W && W[Re])
                        }
                        e.placedSymbolArray.emplaceBack(_.x, _.y, V, this.glyphOffsetArray.length - V, K, v, w, _.segment, s ? s[0] : 0, s ? s[1] : 0, c[0], c[1], f, 0, !1, 0, T)
                    }

                    _addCollisionDebugVertex(e, r, s, c, u, d) {
                        return r.emplaceBack(0, 0), e.emplaceBack(s.x, s.y, c, u, Math.round(d.x), Math.round(d.y))
                    }

                    addCollisionDebugVertices(e, r, s, c, u, d, f) {
                        const _ = u.segments.prepareSegment(4, u.layoutVertexArray, u.indexArray), v = _.vertexLength,
                            w = u.layoutVertexArray, T = u.collisionVertexArray, A = f.anchorX, z = f.anchorY;
                        this._addCollisionDebugVertex(w, T, d, A, z, new Xe(e, r)), this._addCollisionDebugVertex(w, T, d, A, z, new Xe(s, r)), this._addCollisionDebugVertex(w, T, d, A, z, new Xe(s, c)), this._addCollisionDebugVertex(w, T, d, A, z, new Xe(e, c)), _.vertexLength += 4;
                        const k = u.indexArray;
                        k.emplaceBack(v, v + 1), k.emplaceBack(v + 1, v + 2), k.emplaceBack(v + 2, v + 3), k.emplaceBack(v + 3, v), _.primitiveLength += 4
                    }

                    addDebugCollisionBoxes(e, r, s, c) {
                        for (let u = e; u < r; u++) {
                            const d = this.collisionBoxArray.get(u);
                            this.addCollisionDebugVertices(d.x1, d.y1, d.x2, d.y2, c ? this.textCollisionBox : this.iconCollisionBox, d.anchorPoint, s)
                        }
                    }

                    generateCollisionDebugBuffers() {
                        this.hasDebugData() && this.destroyDebugData(), this.textCollisionBox = new jl(o, Sc.members, m), this.iconCollisionBox = new jl(o, Sc.members, m);
                        for (let e = 0; e < this.symbolInstances.length; e++) {
                            const r = this.symbolInstances.get(e);
                            this.addDebugCollisionBoxes(r.textBoxStartIndex, r.textBoxEndIndex, r, !0), this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex, r.verticalTextBoxEndIndex, r, !0), this.addDebugCollisionBoxes(r.iconBoxStartIndex, r.iconBoxEndIndex, r, !1), this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex, r.verticalIconBoxEndIndex, r, !1)
                        }
                    }

                    _deserializeCollisionBoxesForSymbol(e, r, s, c, u, d, f, _, v) {
                        const w = {};
                        for (let T = r; T < s; T++) {
                            const A = e.get(T);
                            w.textBox = {
                                x1: A.x1,
                                y1: A.y1,
                                x2: A.x2,
                                y2: A.y2,
                                anchorPointX: A.anchorPointX,
                                anchorPointY: A.anchorPointY
                            }, w.textFeatureIndex = A.featureIndex;
                            break
                        }
                        for (let T = c; T < u; T++) {
                            const A = e.get(T);
                            w.verticalTextBox = {
                                x1: A.x1,
                                y1: A.y1,
                                x2: A.x2,
                                y2: A.y2,
                                anchorPointX: A.anchorPointX,
                                anchorPointY: A.anchorPointY
                            }, w.verticalTextFeatureIndex = A.featureIndex;
                            break
                        }
                        for (let T = d; T < f; T++) {
                            const A = e.get(T);
                            w.iconBox = {
                                x1: A.x1,
                                y1: A.y1,
                                x2: A.x2,
                                y2: A.y2,
                                anchorPointX: A.anchorPointX,
                                anchorPointY: A.anchorPointY
                            }, w.iconFeatureIndex = A.featureIndex;
                            break
                        }
                        for (let T = _; T < v; T++) {
                            const A = e.get(T);
                            w.verticalIconBox = {
                                x1: A.x1,
                                y1: A.y1,
                                x2: A.x2,
                                y2: A.y2,
                                anchorPointX: A.anchorPointX,
                                anchorPointY: A.anchorPointY
                            }, w.verticalIconFeatureIndex = A.featureIndex;
                            break
                        }
                        return w
                    }

                    deserializeCollisionBoxes(e) {
                        this.collisionArrays = [];
                        for (let r = 0; r < this.symbolInstances.length; r++) {
                            const s = this.symbolInstances.get(r);
                            this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e, s.textBoxStartIndex, s.textBoxEndIndex, s.verticalTextBoxStartIndex, s.verticalTextBoxEndIndex, s.iconBoxStartIndex, s.iconBoxEndIndex, s.verticalIconBoxStartIndex, s.verticalIconBoxEndIndex))
                        }
                    }

                    hasTextData() {
                        return this.text.segments.get().length > 0
                    }

                    hasIconData() {
                        return this.icon.segments.get().length > 0
                    }

                    hasDebugData() {
                        return this.textCollisionBox && this.iconCollisionBox
                    }

                    hasTextCollisionBoxData() {
                        return this.hasDebugData() && this.textCollisionBox.segments.get().length > 0
                    }

                    hasIconCollisionBoxData() {
                        return this.hasDebugData() && this.iconCollisionBox.segments.get().length > 0
                    }

                    addIndicesForPlacedSymbol(e, r) {
                        const s = e.placedSymbolArray.get(r), c = s.vertexStartIndex + 4 * s.numGlyphs;
                        for (let u = s.vertexStartIndex; u < c; u += 4) e.indexArray.emplaceBack(u, u + 1, u + 2), e.indexArray.emplaceBack(u + 1, u + 2, u + 3)
                    }

                    getSortedSymbolIndexes(e) {
                        if (this.sortedAngle === e && void 0 !== this.symbolInstanceIndexes) return this.symbolInstanceIndexes;
                        const r = Math.sin(e), s = Math.cos(e), c = [], u = [], d = [];
                        for (let f = 0; f < this.symbolInstances.length; ++f) {
                            d.push(f);
                            const _ = this.symbolInstances.get(f);
                            c.push(0 | Math.round(r * _.anchorX + s * _.anchorY)), u.push(_.featureIndex)
                        }
                        return d.sort((f, _) => c[f] - c[_] || u[_] - u[f]), d
                    }

                    addToSortKeyRanges(e, r) {
                        const s = this.sortKeyRanges[this.sortKeyRanges.length - 1];
                        s && s.sortKey === r ? s.symbolInstanceEnd = e + 1 : this.sortKeyRanges.push({
                            sortKey: r,
                            symbolInstanceStart: e,
                            symbolInstanceEnd: e + 1
                        })
                    }

                    sortFeatures(e) {
                        if (this.sortFeaturesByY && this.sortedAngle !== e && !(this.text.segments.get().length > 1 || this.icon.segments.get().length > 1)) {
                            this.symbolInstanceIndexes = this.getSortedSymbolIndexes(e), this.sortedAngle = e, this.text.indexArray.clear(), this.icon.indexArray.clear(), this.featureSortOrder = [];
                            for (const r of this.symbolInstanceIndexes) {
                                const s = this.symbolInstances.get(r);
                                this.featureSortOrder.push(s.featureIndex), [s.rightJustifiedTextSymbolIndex, s.centerJustifiedTextSymbolIndex, s.leftJustifiedTextSymbolIndex].forEach((c, u, d) => {
                                    c >= 0 && d.indexOf(c) === u && this.addIndicesForPlacedSymbol(this.text, c)
                                }), s.verticalPlacedTextSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.text, s.verticalPlacedTextSymbolIndex), s.placedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, s.placedIconSymbolIndex), s.verticalPlacedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, s.verticalPlacedIconSymbolIndex)
                            }
                            this.text.indexBuffer && this.text.indexBuffer.updateData(this.text.indexArray), this.icon.indexBuffer && this.icon.indexBuffer.updateData(this.icon.indexArray)
                        }
                    }
                }

                Me("SymbolBucket", $s, {omit: ["layers", "collisionBoxArray", "features", "compareText"]}), $s.MAX_GLYPHS = 65535, $s.addDynamicAttributes = Zl;
                const Bu = new Ci({
                    "symbol-placement": new Le(se.layout_symbol["symbol-placement"]),
                    "symbol-spacing": new Le(se.layout_symbol["symbol-spacing"]),
                    "symbol-avoid-edges": new Le(se.layout_symbol["symbol-avoid-edges"]),
                    "symbol-sort-key": new Ge(se.layout_symbol["symbol-sort-key"]),
                    "symbol-z-order": new Le(se.layout_symbol["symbol-z-order"]),
                    "icon-allow-overlap": new Le(se.layout_symbol["icon-allow-overlap"]),
                    "icon-overlap": new Le(se.layout_symbol["icon-overlap"]),
                    "icon-ignore-placement": new Le(se.layout_symbol["icon-ignore-placement"]),
                    "icon-optional": new Le(se.layout_symbol["icon-optional"]),
                    "icon-rotation-alignment": new Le(se.layout_symbol["icon-rotation-alignment"]),
                    "icon-size": new Ge(se.layout_symbol["icon-size"]),
                    "icon-text-fit": new Le(se.layout_symbol["icon-text-fit"]),
                    "icon-text-fit-padding": new Le(se.layout_symbol["icon-text-fit-padding"]),
                    "icon-image": new Ge(se.layout_symbol["icon-image"]),
                    "icon-rotate": new Ge(se.layout_symbol["icon-rotate"]),
                    "icon-padding": new Ge(se.layout_symbol["icon-padding"]),
                    "icon-keep-upright": new Le(se.layout_symbol["icon-keep-upright"]),
                    "icon-offset": new Ge(se.layout_symbol["icon-offset"]),
                    "icon-anchor": new Ge(se.layout_symbol["icon-anchor"]),
                    "icon-pitch-alignment": new Le(se.layout_symbol["icon-pitch-alignment"]),
                    "text-pitch-alignment": new Le(se.layout_symbol["text-pitch-alignment"]),
                    "text-rotation-alignment": new Le(se.layout_symbol["text-rotation-alignment"]),
                    "text-field": new Ge(se.layout_symbol["text-field"]),
                    "text-font": new Ge(se.layout_symbol["text-font"]),
                    "text-size": new Ge(se.layout_symbol["text-size"]),
                    "text-max-width": new Ge(se.layout_symbol["text-max-width"]),
                    "text-line-height": new Le(se.layout_symbol["text-line-height"]),
                    "text-letter-spacing": new Ge(se.layout_symbol["text-letter-spacing"]),
                    "text-justify": new Ge(se.layout_symbol["text-justify"]),
                    "text-radial-offset": new Ge(se.layout_symbol["text-radial-offset"]),
                    "text-variable-anchor": new Le(se.layout_symbol["text-variable-anchor"]),
                    "text-anchor": new Ge(se.layout_symbol["text-anchor"]),
                    "text-max-angle": new Le(se.layout_symbol["text-max-angle"]),
                    "text-writing-mode": new Le(se.layout_symbol["text-writing-mode"]),
                    "text-rotate": new Ge(se.layout_symbol["text-rotate"]),
                    "text-padding": new Le(se.layout_symbol["text-padding"]),
                    "text-keep-upright": new Le(se.layout_symbol["text-keep-upright"]),
                    "text-transform": new Ge(se.layout_symbol["text-transform"]),
                    "text-offset": new Ge(se.layout_symbol["text-offset"]),
                    "text-allow-overlap": new Le(se.layout_symbol["text-allow-overlap"]),
                    "text-overlap": new Le(se.layout_symbol["text-overlap"]),
                    "text-ignore-placement": new Le(se.layout_symbol["text-ignore-placement"]),
                    "text-optional": new Le(se.layout_symbol["text-optional"])
                });
                var ql = {
                    paint: new Ci({
                        "icon-opacity": new Ge(se.paint_symbol["icon-opacity"]),
                        "icon-color": new Ge(se.paint_symbol["icon-color"]),
                        "icon-halo-color": new Ge(se.paint_symbol["icon-halo-color"]),
                        "icon-halo-width": new Ge(se.paint_symbol["icon-halo-width"]),
                        "icon-halo-blur": new Ge(se.paint_symbol["icon-halo-blur"]),
                        "icon-translate": new Le(se.paint_symbol["icon-translate"]),
                        "icon-translate-anchor": new Le(se.paint_symbol["icon-translate-anchor"]),
                        "text-opacity": new Ge(se.paint_symbol["text-opacity"]),
                        "text-color": new Ge(se.paint_symbol["text-color"], {
                            runtimeType: Yt,
                            getOverride: i => i.textColor,
                            hasOverride: i => !!i.textColor
                        }),
                        "text-halo-color": new Ge(se.paint_symbol["text-halo-color"]),
                        "text-halo-width": new Ge(se.paint_symbol["text-halo-width"]),
                        "text-halo-blur": new Ge(se.paint_symbol["text-halo-blur"]),
                        "text-translate": new Le(se.paint_symbol["text-translate"]),
                        "text-translate-anchor": new Le(se.paint_symbol["text-translate-anchor"])
                    }), layout: Bu
                };

                class Hc {
                    constructor(e) {
                        if (void 0 === e.property.overrides) throw new Error("overrides must be provided to instantiate FormatSectionOverride class");
                        this.type = e.property.overrides ? e.property.overrides.runtimeType : Be, this.defaultValue = e
                    }

                    evaluate(e) {
                        if (e.formattedSection) {
                            const r = this.defaultValue.property.overrides;
                            if (r && r.hasOverride(e.formattedSection)) return r.getOverride(e.formattedSection)
                        }
                        return e.feature && e.featureState ? this.defaultValue.evaluate(e.feature, e.featureState) : this.defaultValue.property.specification.default
                    }

                    eachChild(e) {
                        this.defaultValue.isConstant() || e(this.defaultValue.value._styleExpression.expression)
                    }

                    outputDefined() {
                        return !1
                    }

                    serialize() {
                        return null
                    }
                }

                Me("FormatSectionOverride", Hc, {omit: ["defaultValue"]});

                class el extends qi {
                    constructor(e) {
                        super(e, ql)
                    }

                    recalculate(e, r) {
                        if (super.recalculate(e, r), "auto" === this.layout.get("icon-rotation-alignment") && (this.layout._values["icon-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-rotation-alignment") && (this.layout._values["text-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-pitch-alignment") && (this.layout._values["text-pitch-alignment"] = "map" === this.layout.get("text-rotation-alignment") ? "map" : "viewport"), "auto" === this.layout.get("icon-pitch-alignment") && (this.layout._values["icon-pitch-alignment"] = this.layout.get("icon-rotation-alignment")), "point" === this.layout.get("symbol-placement")) {
                            const s = this.layout.get("text-writing-mode");
                            if (s) {
                                const c = [];
                                for (const u of s) c.indexOf(u) < 0 && c.push(u);
                                this.layout._values["text-writing-mode"] = c
                            } else this.layout._values["text-writing-mode"] = ["horizontal"]
                        }
                        this._setPaintOverrides()
                    }

                    getValueAndResolveTokens(e, r, s, c) {
                        const u = this.layout.get(e).evaluate(r, {}, s, c), d = this._unevaluatedLayout._values[e];
                        return d.isDataDriven() || ls(d.value) || !u ? u : (f = r.properties, u.replace(/{([^{}]+)}/g, (v, w) => w in f ? String(f[w]) : ""));
                        var f
                    }

                    createBucket(e) {
                        return new $s(e)
                    }

                    queryRadius() {
                        return 0
                    }

                    queryIntersectsFeature() {
                        throw new Error("Should take a different path in FeatureIndex")
                    }

                    _setPaintOverrides() {
                        for (const e of ql.paint.overridableProperties) {
                            if (!el.hasPaintOverride(this.layout, e)) continue;
                            const r = this.paint.get(e), s = new Hc(r), c = new oo(s, r.property.specification);
                            let u = null;
                            u = "constant" === r.value.kind || "source" === r.value.kind ? new ao("source", c) : new lo("composite", c, r.value.zoomStops), this.paint._values[e] = new ji(r.property, u, r.parameters)
                        }
                    }

                    _handleOverridablePaintPropertyUpdate(e, r, s) {
                        return !(!this.layout || r.isDataDriven() || s.isDataDriven()) && el.hasPaintOverride(this.layout, e)
                    }

                    static hasPaintOverride(e, r) {
                        const s = e.get("text-field"), c = ql.paint.properties[r];
                        let u = !1;
                        const d = f => {
                            for (const _ of f) if (c.overrides && c.overrides.hasOverride(_)) return void (u = !0)
                        };
                        if ("constant" === s.value.kind && s.value.value instanceof ei) d(s.value.value.sections); else if ("source" === s.value.kind) {
                            const f = v => {
                                u || (v instanceof E && L(v.value) === ri ? d(v.value.sections) : v instanceof os ? d(v.sections) : v.eachChild(f))
                            }, _ = s.value;
                            _._styleExpression && f(_._styleExpression.expression)
                        }
                        return u
                    }
                }

                function Xl(i, e, r) {
                    let s = "never";
                    const c = i.get(e);
                    return c ? s = c : i.get(r) && (s = "always"), s
                }

                var Fu = {
                    paint: new Ci({
                        "background-color": new Le(se.paint_background["background-color"]),
                        "background-pattern": new Co(se.paint_background["background-pattern"]),
                        "background-opacity": new Le(se.paint_background["background-opacity"])
                    })
                }, Ou = {
                    paint: new Ci({
                        "raster-opacity": new Le(se.paint_raster["raster-opacity"]),
                        "raster-hue-rotate": new Le(se.paint_raster["raster-hue-rotate"]),
                        "raster-brightness-min": new Le(se.paint_raster["raster-brightness-min"]),
                        "raster-brightness-max": new Le(se.paint_raster["raster-brightness-max"]),
                        "raster-saturation": new Le(se.paint_raster["raster-saturation"]),
                        "raster-contrast": new Le(se.paint_raster["raster-contrast"]),
                        "raster-resampling": new Le(se.paint_raster["raster-resampling"]),
                        "raster-fade-duration": new Le(se.paint_raster["raster-fade-duration"])
                    })
                };

                class Uu extends qi {
                    constructor(e) {
                        super(e, {}), this.onAdd = r => {
                            this.implementation.onAdd && this.implementation.onAdd(r, r.painter.context.gl)
                        }, this.onRemove = r => {
                            this.implementation.onRemove && this.implementation.onRemove(r, r.painter.context.gl)
                        }, this.implementation = e
                    }

                    is3D() {
                        return "3d" === this.implementation.renderingMode
                    }

                    hasOffscreenPass() {
                        return void 0 !== this.implementation.prerender
                    }

                    recalculate() {
                    }

                    updateTransitions() {
                    }

                    hasTransition() {
                        return !1
                    }

                    serialize() {
                        throw new Error("Custom layers cannot be serialized")
                    }
                }

                const Vu = {
                    circle: class extends qi {
                        constructor(i) {
                            super(i, wl)
                        }

                        createBucket(i) {
                            return new Xi(i)
                        }

                        queryRadius(i) {
                            const e = i;
                            return Yr("circle-radius", this, e) + Yr("circle-stroke-width", this, e) + Ls(this.paint.get("circle-translate"))
                        }

                        queryIntersectsFeature(i, e, r, s, c, u, d, f) {
                            const _ = Rs(i, this.paint.get("circle-translate"), this.paint.get("circle-translate-anchor"), u.angle, d),
                                v = this.paint.get("circle-radius").evaluate(e, r) + this.paint.get("circle-stroke-width").evaluate(e, r),
                                w = "map" === this.paint.get("circle-pitch-alignment"),
                                T = w ? _ : (k = f, _.map(N => oc(N, k))), A = w ? v * d : v;
                            var k;
                            for (const z of s) for (const k of z) {
                                const N = w ? k : oc(k, f);
                                let V = A;
                                const K = Va([], [k.x, k.y, 0, 1], f);
                                if ("viewport" === this.paint.get("circle-pitch-scale") && "map" === this.paint.get("circle-pitch-alignment") ? V *= K[3] / u.cameraToCenterDistance : "map" === this.paint.get("circle-pitch-scale") && "viewport" === this.paint.get("circle-pitch-alignment") && (V *= u.cameraToCenterDistance / K[3]), Ds(T, N, V)) return !0
                            }
                            return !1
                        }
                    }, heatmap: class extends qi {
                        createBucket(i) {
                            return new ac(i)
                        }

                        constructor(i) {
                            super(i, xh), this._updateColorRamp()
                        }

                        _handleSpecialPaintPropertyUpdate(i) {
                            "heatmap-color" === i && this._updateColorRamp()
                        }

                        _updateColorRamp() {
                            this.colorRamp = cc({
                                expression: this._transitionablePaint._values["heatmap-color"].value.expression,
                                evaluationKey: "heatmapDensity",
                                image: this.colorRamp
                            }), this.colorRampTexture = null
                        }

                        resize() {
                            this.heatmapFbo && (this.heatmapFbo.destroy(), this.heatmapFbo = null)
                        }

                        queryRadius() {
                            return 0
                        }

                        queryIntersectsFeature() {
                            return !1
                        }

                        hasOffscreenPass() {
                            return 0 !== this.paint.get("heatmap-opacity") && "none" !== this.visibility
                        }
                    }, hillshade: class extends qi {
                        constructor(i) {
                            super(i, vh)
                        }

                        hasOffscreenPass() {
                            return 0 !== this.paint.get("hillshade-exaggeration") && "none" !== this.visibility
                        }
                    }, fill: class extends qi {
                        constructor(i) {
                            super(i, Bh)
                        }

                        recalculate(i, e) {
                            super.recalculate(i, e);
                            const r = this.paint._values["fill-outline-color"];
                            "constant" === r.value.kind && void 0 === r.value.value && (this.paint._values["fill-outline-color"] = this.paint._values["fill-color"])
                        }

                        createBucket(i) {
                            return new Pl(i)
                        }

                        queryRadius() {
                            return Ls(this.paint.get("fill-translate"))
                        }

                        queryIntersectsFeature(i, e, r, s, c, u, d) {
                            return Nt(Rs(i, this.paint.get("fill-translate"), this.paint.get("fill-translate-anchor"), u.angle, d), s)
                        }

                        isTileClipped() {
                            return !0
                        }
                    }, "fill-extrusion": class extends qi {
                        constructor(i) {
                            super(i, Kh)
                        }

                        createBucket(i) {
                            return new Ll(i)
                        }

                        queryRadius() {
                            return Ls(this.paint.get("fill-extrusion-translate"))
                        }

                        is3D() {
                            return !0
                        }

                        queryIntersectsFeature(i, e, r, s, c, u, d, f) {
                            const _ = Rs(i, this.paint.get("fill-extrusion-translate"), this.paint.get("fill-extrusion-translate-anchor"), u.angle, d),
                                v = this.paint.get("fill-extrusion-height").evaluate(e, r),
                                w = this.paint.get("fill-extrusion-base").evaluate(e, r), T = function (z, k, N, V) {
                                    const K = [];
                                    for (const ee of z) {
                                        const W = [ee.x, ee.y, 0, 1];
                                        Va(W, W, k), K.push(new Xe(W[0] / W[3], W[1] / W[3]))
                                    }
                                    return K
                                }(_, f), A = function (z, k, N, V) {
                                    const K = [], ee = [], W = V[8] * k, Q = V[9] * k, ue = V[10] * k, he = V[11] * k,
                                        ke = V[8] * N, De = V[9] * N, Te = V[10] * N, we = V[11] * N;
                                    for (const ve of z) {
                                        const Ie = [], Ce = [];
                                        for (const _e of ve) {
                                            const Ue = _e.x, Re = _e.y, Ye = V[0] * Ue + V[4] * Re + V[12],
                                                It = V[1] * Ue + V[5] * Re + V[13], Pt = V[2] * Ue + V[6] * Re + V[14],
                                                Xt = V[3] * Ue + V[7] * Re + V[15], Yi = Pt + ue, si = Xt + he,
                                                $t = Ye + ke, Qt = It + De, oi = Pt + Te, xi = Xt + we,
                                                zi = new Xe((Ye + W) / si, (It + Q) / si);
                                            zi.z = Yi / si, Ie.push(zi);
                                            const Zt = new Xe($t / xi, Qt / xi);
                                            Zt.z = oi / xi, Ce.push(Zt)
                                        }
                                        K.push(Ie), ee.push(Ce)
                                    }
                                    return [K, ee]
                                }(s, w, v, f);
                            return function (z, k, N) {
                                let V = 1 / 0;
                                Nt(N, k) && (V = yc(N, k[0]));
                                for (let K = 0; K < k.length; K++) {
                                    const ee = k[K], W = z[K];
                                    for (let Q = 0; Q < ee.length - 1; Q++) {
                                        const ue = ee[Q], he = [ue, ee[Q + 1], W[Q + 1], W[Q], ue];
                                        kr(N, he) && (V = Math.min(V, yc(N, he)))
                                    }
                                }
                                return V !== 1 / 0 && V
                            }(A[0], A[1], T)
                        }
                    }, line: class extends qi {
                        constructor(i) {
                            super(i, vc), this.gradientVersion = 0
                        }

                        _handleSpecialPaintPropertyUpdate(i) {
                            "line-gradient" === i && (this.stepInterpolant = this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ln, this.gradientVersion = (this.gradientVersion + 1) % Number.MAX_SAFE_INTEGER)
                        }

                        gradientExpression() {
                            return this._transitionablePaint._values["line-gradient"].value.expression
                        }

                        recalculate(i, e) {
                            super.recalculate(i, e), this.paint._values["line-floorwidth"] = bc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value, i)
                        }

                        createBucket(i) {
                            return new Rl(i)
                        }

                        queryRadius(i) {
                            const e = i, r = wc(Yr("line-width", this, e), Yr("line-gap-width", this, e)),
                                s = Yr("line-offset", this, e);
                            return r / 2 + Math.abs(s) + Ls(this.paint.get("line-translate"))
                        }

                        queryIntersectsFeature(i, e, r, s, c, u, d) {
                            const f = Rs(i, this.paint.get("line-translate"), this.paint.get("line-translate-anchor"), u.angle, d),
                                _ = d / 2 * wc(this.paint.get("line-width").evaluate(e, r), this.paint.get("line-gap-width").evaluate(e, r)),
                                v = this.paint.get("line-offset").evaluate(e, r);
                            return v && (s = function (w, T) {
                                const A = [];
                                for (let z = 0; z < w.length; z++) {
                                    const k = w[z], N = [];
                                    for (let V = 0; V < k.length; V++) {
                                        const K = k[V - 1], ee = k[V], W = k[V + 1],
                                            Q = 0 === V ? new Xe(0, 0) : ee.sub(K)._unit()._perp(),
                                            ue = V === k.length - 1 ? new Xe(0, 0) : W.sub(ee)._unit()._perp(),
                                            he = Q._add(ue)._unit(), ke = he.x * ue.x + he.y * ue.y;
                                        0 !== ke && he._mult(1 / ke), N.push(he._mult(T)._add(ee))
                                    }
                                    A.push(N)
                                }
                                return A
                            }(s, v * d)), function (w, T, A) {
                                for (let z = 0; z < T.length; z++) {
                                    const k = T[z];
                                    if (w.length >= 3) for (let N = 0; N < k.length; N++) if (Wi(w, k[N])) return !0;
                                    if (zt(w, k, A)) return !0
                                }
                                return !1
                            }(f, s, _)
                        }

                        isTileClipped() {
                            return !0
                        }
                    }, symbol: el, background: class extends qi {
                        constructor(i) {
                            super(i, Fu)
                        }
                    }, raster: class extends qi {
                        constructor(i) {
                            super(i, Ou)
                        }
                    }
                };

                class Nu {
                    constructor(e) {
                        this._callback = e, this._triggered = !1, typeof MessageChannel < "u" && (this._channel = new MessageChannel, this._channel.port2.onmessage = () => {
                            this._triggered = !1, this._callback()
                        })
                    }

                    trigger() {
                        this._triggered || (this._triggered = !0, this._channel ? this._channel.port1.postMessage(!0) : setTimeout(() => {
                            this._triggered = !1, this._callback()
                        }, 0))
                    }

                    remove() {
                        delete this._channel, this._callback = () => {
                        }
                    }
                }

                const Wl = 6371008.8;

                class Bt {
                    constructor(e, r) {
                        if (isNaN(e) || isNaN(r)) throw new Error(`Invalid LngLat object: (${e}, ${r})`);
                        if (this.lng = +e, this.lat = +r, this.lat > 90 || this.lat < -90) throw new Error("Invalid LngLat latitude value: must be between -90 and 90")
                    }

                    wrap() {
                        return new Bt(ie(this.lng, -180, 180), this.lat)
                    }

                    toArray() {
                        return [this.lng, this.lat]
                    }

                    toString() {
                        return `LngLat(${this.lng}, ${this.lat})`
                    }

                    distanceTo(e) {
                        const r = Math.PI / 180, s = this.lat * r, c = e.lat * r,
                            u = Math.sin(s) * Math.sin(c) + Math.cos(s) * Math.cos(c) * Math.cos((e.lng - this.lng) * r);
                        return Wl * Math.acos(Math.min(u, 1))
                    }

                    toBounds(e = 0) {
                        const r = 360 * e / 40075017, s = r / Math.cos(Math.PI / 180 * this.lat);
                        return new Kc(new Bt(this.lng - s, this.lat - r), new Bt(this.lng + s, this.lat + r))
                    }

                    static convert(e) {
                        if (e instanceof Bt) return e;
                        if (Array.isArray(e) && (2 === e.length || 3 === e.length)) return new Bt(Number(e[0]), Number(e[1]));
                        if (!Array.isArray(e) && "object" == typeof e && null !== e) return new Bt(Number("lng" in e ? e.lng : e.lon), Number(e.lat));
                        throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")
                    }
                }

                class Zs {
                    constructor(e, r) {
                        e && (r ? this.setSouthWest(e).setNorthEast(r) : 4 === e.length ? this.setSouthWest([e[0], e[1]]).setNorthEast([e[2], e[3]]) : this.setSouthWest(e[0]).setNorthEast(e[1]))
                    }

                    setNorthEast(e) {
                        return this._ne = e instanceof Bt ? new Bt(e.lng, e.lat) : Bt.convert(e), this
                    }

                    setSouthWest(e) {
                        return this._sw = e instanceof Bt ? new Bt(e.lng, e.lat) : Bt.convert(e), this
                    }

                    extend(e) {
                        const r = this._sw, s = this._ne;
                        let c, u;
                        if (e instanceof Bt) c = e, u = e; else {
                            if (!(e instanceof Zs)) return Array.isArray(e) ? 4 === e.length || e.every(Array.isArray) ? this.extend(Zs.convert(e)) : this.extend(Bt.convert(e)) : this;
                            if (c = e._sw, u = e._ne, !c || !u) return this
                        }
                        return r || s ? (r.lng = Math.min(c.lng, r.lng), r.lat = Math.min(c.lat, r.lat), s.lng = Math.max(u.lng, s.lng), s.lat = Math.max(u.lat, s.lat)) : (this._sw = new Bt(c.lng, c.lat), this._ne = new Bt(u.lng, u.lat)), this
                    }

                    getCenter() {
                        return new Bt((this._sw.lng + this._ne.lng) / 2, (this._sw.lat + this._ne.lat) / 2)
                    }

                    getSouthWest() {
                        return this._sw
                    }

                    getNorthEast() {
                        return this._ne
                    }

                    getNorthWest() {
                        return new Bt(this.getWest(), this.getNorth())
                    }

                    getSouthEast() {
                        return new Bt(this.getEast(), this.getSouth())
                    }

                    getWest() {
                        return this._sw.lng
                    }

                    getSouth() {
                        return this._sw.lat
                    }

                    getEast() {
                        return this._ne.lng
                    }

                    getNorth() {
                        return this._ne.lat
                    }

                    toArray() {
                        return [this._sw.toArray(), this._ne.toArray()]
                    }

                    toString() {
                        return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`
                    }

                    isEmpty() {
                        return !(this._sw && this._ne)
                    }

                    contains(e) {
                        const {lng: r, lat: s} = Bt.convert(e);
                        let c = this._sw.lng <= r && r <= this._ne.lng;
                        return this._sw.lng > this._ne.lng && (c = this._sw.lng >= r && r >= this._ne.lng), this._sw.lat <= s && s <= this._ne.lat && c
                    }

                    static convert(e) {
                        return e instanceof Zs ? e : e && new Zs(e)
                    }
                }

                var Kc = Zs;
                const Yc = 2 * Math.PI * Wl;

                function Jc(i) {
                    return Yc * Math.cos(i * Math.PI / 180)
                }

                function Qc(i) {
                    return (180 + i) / 360
                }

                function eh(i) {
                    return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + i * Math.PI / 360))) / 360
                }

                function th(i, e) {
                    return i / Jc(e)
                }

                function Hl(i) {
                    return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * i) * Math.PI / 180)) - 90
                }

                class tl {
                    constructor(e, r, s = 0) {
                        this.x = +e, this.y = +r, this.z = +s
                    }

                    static fromLngLat(e, r = 0) {
                        const s = Bt.convert(e);
                        return new tl(Qc(s.lng), eh(s.lat), th(r, s.lat))
                    }

                    toLngLat() {
                        return new Bt(360 * this.x - 180, Hl(this.y))
                    }

                    toAltitude() {
                        return this.z * Jc(Hl(this.y))
                    }

                    meterInMercatorCoordinateUnits() {
                        return 1 / Yc * (e = Hl(this.y), 1 / Math.cos(e * Math.PI / 180));
                        var e
                    }
                }

                function ih(i, e, r) {
                    var s = 2 * Math.PI * 6378137 / 256 / Math.pow(2, r);
                    return [i * s - 2 * Math.PI * 6378137 / 2, e * s - 2 * Math.PI * 6378137 / 2]
                }

                class Kl {
                    constructor(e, r, s) {
                        if (e < 0 || e > 25 || s < 0 || s >= Math.pow(2, e) || r < 0 || r >= Math.pow(2, e)) throw new Error(`x=${r}, y=${s}, z=${e} outside of bounds. 0<=x<${Math.pow(2, e)}, 0<=y<${Math.pow(2, e)} 0<=z<=25 `);
                        this.z = e, this.x = r, this.y = s, this.key = Jo(0, e, e, r, s)
                    }

                    equals(e) {
                        return this.z === e.z && this.x === e.x && this.y === e.y
                    }

                    url(e, r, s) {
                        const c = (d = this.y, f = this.z, _ = ih(256 * (u = this.x), 256 * (d = Math.pow(2, f) - d - 1), f), v = ih(256 * (u + 1), 256 * (d + 1), f), _[0] + "," + _[1] + "," + v[0] + "," + v[1]);
                        var u, d, f, _, v;
                        const w = function (T, A, z) {
                            let k, N = "";
                            for (let V = T; V > 0; V--) k = 1 << V - 1, N += (A & k ? 1 : 0) + (z & k ? 2 : 0);
                            return N
                        }(this.z, this.x, this.y);
                        return e[(this.x + this.y) % e.length].replace(/{prefix}/g, (this.x % 16).toString(16) + (this.y % 16).toString(16)).replace(/{z}/g, String(this.z)).replace(/{x}/g, String(this.x)).replace(/{y}/g, String("tms" === s ? Math.pow(2, this.z) - this.y - 1 : this.y)).replace(/{ratio}/g, r > 1 ? "@2x" : "").replace(/{quadkey}/g, w).replace(/{bbox-epsg-3857}/g, c)
                    }

                    isChildOf(e) {
                        const r = this.z - e.z;
                        return r > 0 && e.x === this.x >> r && e.y === this.y >> r
                    }

                    getTilePoint(e) {
                        const r = Math.pow(2, this.z);
                        return new Xe((e.x * r - this.x) * pt, (e.y * r - this.y) * pt)
                    }

                    toString() {
                        return `${this.z}/${this.x}/${this.y}`
                    }
                }

                class rh {
                    constructor(e, r) {
                        this.wrap = e, this.canonical = r, this.key = Jo(e, r.z, r.z, r.x, r.y)
                    }
                }

                class Ki {
                    constructor(e, r, s, c, u) {
                        if (e < s) throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${s}`);
                        this.overscaledZ = e, this.wrap = r, this.canonical = new Kl(s, +c, +u), this.key = Jo(r, e, s, c, u)
                    }

                    clone() {
                        return new Ki(this.overscaledZ, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)
                    }

                    equals(e) {
                        return this.overscaledZ === e.overscaledZ && this.wrap === e.wrap && this.canonical.equals(e.canonical)
                    }

                    scaledTo(e) {
                        if (e > this.overscaledZ) throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);
                        const r = this.canonical.z - e;
                        return e > this.canonical.z ? new Ki(e, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y) : new Ki(e, this.wrap, e, this.canonical.x >> r, this.canonical.y >> r)
                    }

                    calculateScaledKey(e, r) {
                        if (e > this.overscaledZ) throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);
                        const s = this.canonical.z - e;
                        return e > this.canonical.z ? Jo(this.wrap * +r, e, this.canonical.z, this.canonical.x, this.canonical.y) : Jo(this.wrap * +r, e, e, this.canonical.x >> s, this.canonical.y >> s)
                    }

                    isChildOf(e) {
                        if (e.wrap !== this.wrap) return !1;
                        const r = this.canonical.z - e.canonical.z;
                        return 0 === e.overscaledZ || e.overscaledZ < this.overscaledZ && e.canonical.x === this.canonical.x >> r && e.canonical.y === this.canonical.y >> r
                    }

                    children(e) {
                        if (this.overscaledZ >= e) return [new Ki(this.overscaledZ + 1, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)];
                        const r = this.canonical.z + 1, s = 2 * this.canonical.x, c = 2 * this.canonical.y;
                        return [new Ki(r, this.wrap, r, s, c), new Ki(r, this.wrap, r, s + 1, c), new Ki(r, this.wrap, r, s, c + 1), new Ki(r, this.wrap, r, s + 1, c + 1)]
                    }

                    isLessThan(e) {
                        return this.wrap < e.wrap || !(this.wrap > e.wrap) && (this.overscaledZ < e.overscaledZ || !(this.overscaledZ > e.overscaledZ) && (this.canonical.x < e.canonical.x || !(this.canonical.x > e.canonical.x) && this.canonical.y < e.canonical.y))
                    }

                    wrapped() {
                        return new Ki(this.overscaledZ, 0, this.canonical.z, this.canonical.x, this.canonical.y)
                    }

                    unwrapTo(e) {
                        return new Ki(this.overscaledZ, e, this.canonical.z, this.canonical.x, this.canonical.y)
                    }

                    overscaleFactor() {
                        return Math.pow(2, this.overscaledZ - this.canonical.z)
                    }

                    toUnwrapped() {
                        return new rh(this.wrap, this.canonical)
                    }

                    toString() {
                        return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`
                    }

                    getTilePoint(e) {
                        return this.canonical.getTilePoint(new tl(e.x - this.wrap, e.y))
                    }
                }

                function Jo(i, e, r, s, c) {
                    (i *= 2) < 0 && (i = -1 * i - 1);
                    const u = 1 << r;
                    return (u * u * i + u * c + s).toString(36) + r.toString(36) + e.toString(36)
                }

                Me("CanonicalTileID", Kl), Me("OverscaledTileID", Ki, {omit: ["posMatrix"]});

                class nh {
                    constructor(e, r, s) {
                        if (this.uid = e, r.height !== r.width) throw new RangeError("DEM tiles must be square");
                        if (s && "mapbox" !== s && "terrarium" !== s) return void at(`"${s}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);
                        this.stride = r.height;
                        const c = this.dim = r.height - 2;
                        this.data = new Uint32Array(r.data.buffer), this.encoding = s || "mapbox";
                        for (let u = 0; u < c; u++) this.data[this._idx(-1, u)] = this.data[this._idx(0, u)], this.data[this._idx(c, u)] = this.data[this._idx(c - 1, u)], this.data[this._idx(u, -1)] = this.data[this._idx(u, 0)], this.data[this._idx(u, c)] = this.data[this._idx(u, c - 1)];
                        this.data[this._idx(-1, -1)] = this.data[this._idx(0, 0)], this.data[this._idx(c, -1)] = this.data[this._idx(c - 1, 0)], this.data[this._idx(-1, c)] = this.data[this._idx(0, c - 1)], this.data[this._idx(c, c)] = this.data[this._idx(c - 1, c - 1)], this.min = Number.MAX_SAFE_INTEGER, this.max = Number.MIN_SAFE_INTEGER;
                        for (let u = 0; u < c; u++) for (let d = 0; d < c; d++) {
                            const f = this.get(u, d);
                            f > this.max && (this.max = f), f < this.min && (this.min = f)
                        }
                    }

                    get(e, r) {
                        const s = new Uint8Array(this.data.buffer), c = 4 * this._idx(e, r);
                        return ("terrarium" === this.encoding ? this._unpackTerrarium : this._unpackMapbox)(s[c], s[c + 1], s[c + 2])
                    }

                    getUnpackVector() {
                        return "terrarium" === this.encoding ? [256, 1, 1 / 256, 32768] : [6553.6, 25.6, .1, 1e4]
                    }

                    _idx(e, r) {
                        if (e < -1 || e >= this.dim + 1 || r < -1 || r >= this.dim + 1) throw new RangeError("out of range source coordinates for DEM data");
                        return (r + 1) * this.stride + (e + 1)
                    }

                    _unpackMapbox(e, r, s) {
                        return (256 * e * 256 + 256 * r + s) / 10 - 1e4
                    }

                    _unpackTerrarium(e, r, s) {
                        return 256 * e + r + s / 256 - 32768
                    }

                    getPixels() {
                        return new Hi({width: this.stride, height: this.stride}, new Uint8Array(this.data.buffer))
                    }

                    backfillBorder(e, r, s) {
                        if (this.dim !== e.dim) throw new Error("dem dimension mismatch");
                        let c = r * this.dim, u = r * this.dim + this.dim, d = s * this.dim,
                            f = s * this.dim + this.dim;
                        switch (r) {
                            case-1:
                                c = u - 1;
                                break;
                            case 1:
                                u = c + 1
                        }
                        switch (s) {
                            case-1:
                                d = f - 1;
                                break;
                            case 1:
                                f = d + 1
                        }
                        const _ = -r * this.dim, v = -s * this.dim;
                        for (let w = d; w < f; w++) for (let T = c; T < u; T++) this.data[this._idx(T, w)] = e.data[this._idx(T + _, w + v)]
                    }
                }

                Me("DEMData", nh);

                class sh {
                    constructor(e) {
                        this._stringToNumber = {}, this._numberToString = [];
                        for (let r = 0; r < e.length; r++) {
                            const s = e[r];
                            this._stringToNumber[s] = r, this._numberToString[r] = s
                        }
                    }

                    encode(e) {
                        return this._stringToNumber[e]
                    }

                    decode(e) {
                        if (e >= this._numberToString.length) throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);
                        return this._numberToString[e]
                    }
                }

                class oh {
                    constructor(e, r, s, c, u) {
                        this.type = "Feature", this._vectorTileFeature = e, e._z = r, e._x = s, e._y = c, this.properties = e.properties, this.id = u
                    }

                    get geometry() {
                        return void 0 === this._geometry && (this._geometry = this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x, this._vectorTileFeature._y, this._vectorTileFeature._z).geometry), this._geometry
                    }

                    set geometry(e) {
                        this._geometry = e
                    }

                    toJSON() {
                        const e = {geometry: this.geometry};
                        for (const r in this) "_geometry" !== r && "_vectorTileFeature" !== r && (e[r] = this[r]);
                        return e
                    }
                }

                class ah {
                    constructor(e, r) {
                        this.tileID = e, this.x = e.canonical.x, this.y = e.canonical.y, this.z = e.canonical.z, this.grid = new vn(pt, 16, 0), this.grid3D = new vn(pt, 16, 0), this.featureIndexArray = new Oa, this.promoteId = r
                    }

                    insert(e, r, s, c, u, d) {
                        const f = this.featureIndexArray.length;
                        this.featureIndexArray.emplaceBack(s, c, u);
                        const _ = d ? this.grid3D : this.grid;
                        for (let v = 0; v < r.length; v++) {
                            const w = r[v], T = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
                            for (let A = 0; A < w.length; A++) {
                                const z = w[A];
                                T[0] = Math.min(T[0], z.x), T[1] = Math.min(T[1], z.y), T[2] = Math.max(T[2], z.x), T[3] = Math.max(T[3], z.y)
                            }
                            T[0] < pt && T[1] < pt && T[2] >= 0 && T[3] >= 0 && _.insert(f, T[0], T[1], T[2], T[3])
                        }
                    }

                    loadVTLayers() {
                        return this.vtLayers || (this.vtLayers = new In.VectorTile(new Bl(this.rawTileData)).layers, this.sourceLayerCoder = new sh(this.vtLayers ? Object.keys(this.vtLayers).sort() : ["_geojsonTileLayer"])), this.vtLayers
                    }

                    query(e, r, s, c) {
                        this.loadVTLayers();
                        const u = e.params || {}, d = pt / e.tileSize / e.scale, f = ho(u.filter), _ = e.queryGeometry,
                            v = e.queryPadding * d, w = ch(_),
                            T = this.grid.query(w.minX - v, w.minY - v, w.maxX + v, w.maxY + v),
                            A = ch(e.cameraQueryGeometry),
                            z = this.grid3D.query(A.minX - v, A.minY - v, A.maxX + v, A.maxY + v, (V, K, ee, W) => function (Q, ue, he, ke, De) {
                                for (const we of Q) if (ue <= we.x && he <= we.y && ke >= we.x && De >= we.y) return !0;
                                const Te = [new Xe(ue, he), new Xe(ue, De), new Xe(ke, De), new Xe(ke, he)];
                                if (Q.length > 2) for (const we of Te) if (Wi(Q, we)) return !0;
                                for (let we = 0; we < Q.length - 1; we++) if (Vo(Q[we], Q[we + 1], Te)) return !0;
                                return !1
                            }(e.cameraQueryGeometry, V - v, K - v, ee + v, W + v));
                        for (const V of z) T.push(V);
                        T.sort($u);
                        const k = {};
                        let N;
                        for (let V = 0; V < T.length; V++) {
                            const K = T[V];
                            if (K === N) continue;
                            N = K;
                            const ee = this.featureIndexArray.get(K);
                            let W = null;
                            this.loadMatchingFeature(k, ee.bucketIndex, ee.sourceLayerIndex, ee.featureIndex, f, u.layers, u.availableImages, r, s, c, (Q, ue, he) => (W || (W = ni(Q)), ue.queryIntersectsFeature(_, Q, he, W, this.z, e.transform, d, e.pixelPosMatrix)))
                        }
                        return k
                    }

                    loadMatchingFeature(e, r, s, c, u, d, f, _, v, w, T) {
                        const A = this.bucketLayerIDs[r];
                        if (d && !function (V, K) {
                            for (let ee = 0; ee < V.length; ee++) if (K.indexOf(V[ee]) >= 0) return !0;
                            return !1
                        }(d, A)) return;
                        const z = this.sourceLayerCoder.decode(s), k = this.vtLayers[z].feature(c);
                        if (u.needGeometry) {
                            const V = Ai(k, !0);
                            if (!u.filter(new Tt(this.tileID.overscaledZ), V, this.tileID.canonical)) return
                        } else if (!u.filter(new Tt(this.tileID.overscaledZ), k)) return;
                        const N = this.getId(k, z);
                        for (let V = 0; V < A.length; V++) {
                            const K = A[V];
                            if (d && d.indexOf(K) < 0) continue;
                            const ee = _[K];
                            if (!ee) continue;
                            let W = {};
                            N && w && (W = w.getState(ee.sourceLayer || "_geojsonTileLayer", N));
                            const Q = ot({}, v[K]);
                            Q.paint = lh(Q.paint, ee.paint, k, W, f), Q.layout = lh(Q.layout, ee.layout, k, W, f);
                            const ue = !T || T(k, ee, W);
                            if (!ue) continue;
                            const he = new oh(k, this.z, this.x, this.y, N);
                            he.layer = Q;
                            let ke = e[K];
                            void 0 === ke && (ke = e[K] = []), ke.push({
                                featureIndex: c,
                                feature: he,
                                intersectionZ: ue
                            })
                        }
                    }

                    lookupSymbolFeatures(e, r, s, c, u, d, f, _) {
                        const v = {};
                        this.loadVTLayers();
                        const w = ho(u);
                        for (const T of e) this.loadMatchingFeature(v, s, c, T, w, d, f, _, r);
                        return v
                    }

                    hasLayer(e) {
                        for (const r of this.bucketLayerIDs) for (const s of r) if (e === s) return !0;
                        return !1
                    }

                    getId(e, r) {
                        let s = e.id;
                        return this.promoteId && (s = e.properties["string" == typeof this.promoteId ? this.promoteId : this.promoteId[r]], "boolean" == typeof s && (s = Number(s))), s
                    }
                }

                function lh(i, e, r, s, c) {
                    return ar(i, (u, d) => {
                        const f = e instanceof ws ? e.get(d) : null;
                        return f && f.evaluate ? f.evaluate(r, s, c) : f
                    })
                }

                function ch(i) {
                    let e = 1 / 0, r = 1 / 0, s = -1 / 0, c = -1 / 0;
                    for (const u of i) e = Math.min(e, u.x), r = Math.min(r, u.y), s = Math.max(s, u.x), c = Math.max(c, u.y);
                    return {minX: e, minY: r, maxX: s, maxY: c}
                }

                function $u(i, e) {
                    return e - i
                }

                function Yl(i, e, r, s, c, u) {
                    if (c - s <= r) return;
                    const d = s + c >> 1;
                    hh(i, e, d, s, c, u % 2), Yl(i, e, r, s, d - 1, u + 1), Yl(i, e, r, d + 1, c, u + 1)
                }

                function hh(i, e, r, s, c, u) {
                    for (; c > s;) {
                        if (c - s > 600) {
                            const v = c - s + 1, w = r - s + 1, T = Math.log(v), A = .5 * Math.exp(2 * T / 3),
                                z = .5 * Math.sqrt(T * A * (v - A) / v) * (w - v / 2 < 0 ? -1 : 1);
                            hh(i, e, r, Math.max(s, Math.floor(r - w * A / v + z)), Math.min(c, Math.floor(r + (v - w) * A / v + z)), u)
                        }
                        const d = e[2 * r + u];
                        let f = s, _ = c;
                        for (Qo(i, e, s, r), e[2 * c + u] > d && Qo(i, e, s, c); f < _;) {
                            for (Qo(i, e, f, _), f++, _--; e[2 * f + u] < d;) f++;
                            for (; e[2 * _ + u] > d;) _--
                        }
                        e[2 * s + u] === d ? Qo(i, e, s, _) : (_++, Qo(i, e, _, c)), _ <= r && (s = _ + 1), r <= _ && (c = _ - 1)
                    }
                }

                function Qo(i, e, r, s) {
                    Jl(i, r, s), Jl(e, 2 * r, 2 * s), Jl(e, 2 * r + 1, 2 * s + 1)
                }

                function Jl(i, e, r) {
                    const s = i[e];
                    i[e] = i[r], i[r] = s
                }

                function uh(i, e, r, s) {
                    const c = i - r, u = e - s;
                    return c * c + u * u
                }

                Me("FeatureIndex", ah, {omit: ["rawTileData", "sourceLayerCoder"]});
                const Zu = i => i[0], Gu = i => i[1];
                var Ql;
                h.PerformanceMarkers = void 0, (Ql = h.PerformanceMarkers || (h.PerformanceMarkers = {})).create = "create", Ql.load = "load", Ql.fullLoad = "fullLoad";
                let il = null, ea = [];
                const ec = 1e3 / 30, ju = {
                    mark(i) {
                        performance.mark(i)
                    }, frame(i) {
                        const e = i;
                        null != il && ea.push(e - il), il = e
                    }, clearMetrics() {
                        il = null, ea = [], performance.clearMeasures("loadTime"), performance.clearMeasures("fullLoadTime");
                        for (const i in h.PerformanceMarkers) performance.clearMarks(h.PerformanceMarkers[i])
                    }, getPerformanceMetrics() {
                        performance.measure("loadTime", h.PerformanceMarkers.create, h.PerformanceMarkers.load), performance.measure("fullLoadTime", h.PerformanceMarkers.create, h.PerformanceMarkers.fullLoad);
                        const i = performance.getEntriesByName("loadTime")[0].duration,
                            e = performance.getEntriesByName("fullLoadTime")[0].duration, r = ea.length,
                            s = 1 / (ea.reduce((u, d) => u + d, 0) / r / 1e3),
                            c = ea.filter(u => u > ec).reduce((u, d) => u + (d - ec) / ec, 0);
                        return {loadTime: i, fullLoadTime: e, fps: s, percentDroppedFrames: c / (r + c) * 100}
                    }
                };
                h.AJAXError = tr, h.ARRAY_TYPE = Pr, h.Actor = class {
                    constructor(i, e, r) {
                        this.target = i, this.parent = e, this.mapId = r, this.callbacks = {}, this.tasks = {}, this.taskQueue = [], this.cancelCallbacks = {}, hi(["receive", "process"], this), this.invoker = new Nu(this.process), this.target.addEventListener("message", this.receive, !1), this.globalScope = pi() ? i : window
                    }

                    send(i, e, r, s, c = !1) {
                        const u = Math.round(1e18 * Math.random()).toString(36).substring(0, 10);
                        r && (this.callbacks[u] = r);
                        const d = Qi(this.globalScope) ? void 0 : [];
                        return this.target.postMessage({
                            id: u,
                            type: i,
                            hasCallback: !!r,
                            targetMapId: s,
                            mustQueue: c,
                            sourceMapId: this.mapId,
                            data: Xr(e, d)
                        }, d), {
                            cancel: () => {
                                r && delete this.callbacks[u], this.target.postMessage({
                                    id: u,
                                    type: "<cancel>",
                                    targetMapId: s,
                                    sourceMapId: this.mapId
                                })
                            }
                        }
                    }

                    receive(i) {
                        const e = i.data, r = e.id;
                        if (r && (!e.targetMapId || this.mapId === e.targetMapId)) if ("<cancel>" === e.type) {
                            delete this.tasks[r];
                            const s = this.cancelCallbacks[r];
                            delete this.cancelCallbacks[r], s && s()
                        } else pi() || e.mustQueue ? (this.tasks[r] = e, this.taskQueue.push(r), this.invoker.trigger()) : this.processTask(r, e)
                    }

                    process() {
                        if (!this.taskQueue.length) return;
                        const i = this.taskQueue.shift(), e = this.tasks[i];
                        delete this.tasks[i], this.taskQueue.length && this.invoker.trigger(), e && this.processTask(i, e)
                    }

                    processTask(i, e) {
                        if ("<response>" === e.type) {
                            const r = this.callbacks[i];
                            delete this.callbacks[i], r && (e.error ? r(Wr(e.error)) : r(null, Wr(e.data)))
                        } else {
                            let r = !1;
                            const s = Qi(this.globalScope) ? void 0 : [], c = e.hasCallback ? (f, _) => {
                                r = !0, delete this.cancelCallbacks[i], this.target.postMessage({
                                    id: i,
                                    type: "<response>",
                                    sourceMapId: this.mapId,
                                    error: f ? Xr(f) : null,
                                    data: Xr(_, s)
                                }, s)
                            } : f => {
                                r = !0
                            };
                            let u = null;
                            const d = Wr(e.data);
                            if (this.parent[e.type]) u = this.parent[e.type](e.sourceMapId, d, c); else if (this.parent.getWorkerSource) {
                                const f = e.type.split(".");
                                u = this.parent.getWorkerSource(e.sourceMapId, f[0], d.source)[f[1]](d, c)
                            } else c(new Error(`Could not find function ${e.type}`));
                            !r && u && u.cancel && (this.cancelCallbacks[i] = u.cancel)
                        }
                    }

                    remove() {
                        this.invoker.remove(), this.target.removeEventListener("message", this.receive, !1)
                    }
                }, h.AlphaImage = $o, h.CanonicalTileID = Kl, h.CollisionBoxArray = Fo, h.CollisionCircleLayoutArray = class extends ko {
                }, h.Color = lt, h.DEMData = nh, h.DataConstantProperty = Le, h.DictionaryCoder = sh, h.EXTENT = pt, h.ErrorEvent = wr, h.EvaluationParameters = Tt, h.Event = br, h.Evented = cr, h.FeatureIndex = ah, h.FillBucket = Pl, h.FillExtrusionBucket = Ll, h.GeoJSONFeature = oh, h.ImageAtlas = kc, h.ImagePosition = Ol, h.KDBush = class {
                    constructor(i, e = Zu, r = Gu, s = 64, c = Float64Array) {
                        this.nodeSize = s, this.points = i;
                        const u = i.length < 65536 ? Uint16Array : Uint32Array, d = this.ids = new u(i.length),
                            f = this.coords = new c(2 * i.length);
                        for (let _ = 0; _ < i.length; _++) d[_] = _, f[2 * _] = e(i[_]), f[2 * _ + 1] = r(i[_]);
                        Yl(d, f, s, 0, d.length - 1, 0)
                    }

                    range(i, e, r, s) {
                        return function (c, u, d, f, _, v, w) {
                            const T = [0, c.length - 1, 0], A = [];
                            let z, k;
                            for (; T.length;) {
                                const N = T.pop(), V = T.pop(), K = T.pop();
                                if (V - K <= w) {
                                    for (let Q = K; Q <= V; Q++) z = u[2 * Q], k = u[2 * Q + 1], z >= d && z <= _ && k >= f && k <= v && A.push(c[Q]);
                                    continue
                                }
                                const ee = Math.floor((K + V) / 2);
                                z = u[2 * ee], k = u[2 * ee + 1], z >= d && z <= _ && k >= f && k <= v && A.push(c[ee]);
                                const W = (N + 1) % 2;
                                (0 === N ? d <= z : f <= k) && (T.push(K), T.push(ee - 1), T.push(W)), (0 === N ? _ >= z : v >= k) && (T.push(ee + 1), T.push(V), T.push(W))
                            }
                            return A
                        }(this.ids, this.coords, i, e, r, s, this.nodeSize)
                    }

                    within(i, e, r) {
                        return function (s, c, u, d, f, _) {
                            const v = [0, s.length - 1, 0], w = [], T = f * f;
                            for (; v.length;) {
                                const A = v.pop(), z = v.pop(), k = v.pop();
                                if (z - k <= _) {
                                    for (let W = k; W <= z; W++) uh(c[2 * W], c[2 * W + 1], u, d) <= T && w.push(s[W]);
                                    continue
                                }
                                const N = Math.floor((k + z) / 2), V = c[2 * N], K = c[2 * N + 1];
                                uh(V, K, u, d) <= T && w.push(s[N]);
                                const ee = (A + 1) % 2;
                                (0 === A ? u - f <= V : d - f <= K) && (v.push(k), v.push(N - 1), v.push(ee)), (0 === A ? u + f >= V : d + f >= K) && (v.push(N + 1), v.push(z), v.push(ee))
                            }
                            return w
                        }(this.ids, this.coords, i, e, r, this.nodeSize)
                    }
                }, h.LineBucket = Rl, h.LineStripIndexArray = class extends zs {
                }, h.LngLat = Bt, h.LngLatBounds = Kc, h.MercatorCoordinate = tl, h.ONE_EM = 24, h.OverscaledTileID = Ki, h.PerformanceUtils = ju, h.Pos3dArray = class extends Ts {
                }, h.PosArray = Uo, h.Properties = Ci, h.QuadTriangleArray = class extends Ms {
                }, h.RGBAImage = Hi, h.RasterBoundsArray = class extends Cn {
                }, h.RequestPerformance = class {
                    constructor(i) {
                        this._marks = {
                            start: [i.url, "start"].join("#"),
                            end: [i.url, "end"].join("#"),
                            measure: i.url.toString()
                        }, performance.mark(this._marks.start)
                    }

                    finish() {
                        performance.mark(this._marks.end);
                        let i = performance.getEntriesByName(this._marks.measure);
                        return 0 === i.length && (performance.measure(this._marks.measure, this._marks.start, this._marks.end), i = performance.getEntriesByName(this._marks.measure), performance.clearMarks(this._marks.start), performance.clearMarks(this._marks.end), performance.clearMeasures(this._marks.measure)), i
                    }
                }, h.SegmentVector = x, h.SymbolBucket = $s, h.Transitionable = So, h.TriangleIndexArray = p, h.Uniform1f = ae, h.Uniform1i = class extends re {
                    constructor(i, e) {
                        super(i, e), this.current = 0
                    }

                    set(i) {
                        this.current !== i && (this.current = i, this.gl.uniform1i(this.location, i))
                    }
                }, h.Uniform2f = class extends re {
                    constructor(i, e) {
                        super(i, e), this.current = [0, 0]
                    }

                    set(i) {
                        i[0] === this.current[0] && i[1] === this.current[1] || (this.current = i, this.gl.uniform2f(this.location, i[0], i[1]))
                    }
                }, h.Uniform3f = class extends re {
                    constructor(i, e) {
                        super(i, e), this.current = [0, 0, 0]
                    }

                    set(i) {
                        i[0] === this.current[0] && i[1] === this.current[1] && i[2] === this.current[2] || (this.current = i, this.gl.uniform3f(this.location, i[0], i[1], i[2]))
                    }
                }, h.Uniform4f = ce, h.UniformColor = ge, h.UniformMatrix4f = class extends re {
                    constructor(i, e) {
                        super(i, e), this.current = de
                    }

                    set(i) {
                        if (i[12] !== this.current[12] || i[0] !== this.current[0]) return this.current = i, void this.gl.uniformMatrix4fv(this.location, !1, i);
                        for (let e = 1; e < 16; e++) if (i[e] !== this.current[e]) {
                            this.current = i, this.gl.uniformMatrix4fv(this.location, !1, i);
                            break
                        }
                    }
                }, h.UnwrappedTileID = rh, h.ValidationError = be, h.ZoomHistory = za, h.addDynamicAttributes = Zl, h.arrayBufferToImage = function (i, e) {
                    const r = new Image;
                    r.onload = () => {
                        e(null, r), URL.revokeObjectURL(r.src), r.onload = null, window.requestAnimationFrame(() => {
                            r.src = nn
                        })
                    }, r.onerror = () => e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));
                    const s = new Blob([new Uint8Array(i)], {type: "image/png"});
                    r.src = i.byteLength ? URL.createObjectURL(s) : nn
                }, h.arrayBufferToImageBitmap = function (i, e) {
                    const r = new Blob([new Uint8Array(i)], {type: "image/png"});
                    createImageBitmap(r).then(s => {
                        e(null, s)
                    }).catch(s => {
                        e(new Error(`Could not load image because of ${s.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))
                    })
                }, h.asyncAll = function (i, e, r) {
                    if (!i.length) return r(null, []);
                    let s = i.length;
                    const c = new Array(i.length);
                    let u = null;
                    i.forEach((d, f) => {
                        e(d, (_, v) => {
                            _ && (u = _), c[f] = v, 0 == --s && r(u, c)
                        })
                    })
                }, h.bezier = Dt, h.bindAll = hi, h.clamp = Ze, h.clipLine = Zc, h.clone = function (i) {
                    var e = new Pr(16);
                    return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], e
                }, h.clone$1 = ui, h.collisionCircleLayout = au, h.config = xr, h.copy = function (i, e) {
                    return i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[3], i[4] = e[4], i[5] = e[5], i[6] = e[6], i[7] = e[7], i[8] = e[8], i[9] = e[9], i[10] = e[10], i[11] = e[11], i[12] = e[12], i[13] = e[13], i[14] = e[14], i[15] = e[15], i
                }, h.create = function () {
                    var i = new Pr(16);
                    return Pr != Float32Array && (i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0), i[0] = 1, i[5] = 1, i[10] = 1, i[15] = 1, i
                }, h.createExpression = cs, h.createFilter = ho, h.createLayout = Vt, h.createStyleLayer = function (i) {
                    return "custom" === i.type ? new Uu(i) : new Vu[i.type](i)
                }, h.dot = function (i, e) {
                    return i[0] * e[0] + i[1] * e[1] + i[2] * e[2] + i[3] * e[3]
                }, h.earthRadius = Wl, h.ease = Ht, h.emitValidationErrors = go, h.equals = function (i, e) {
                    var r = i[0], s = i[1], c = i[2], u = i[3], d = i[4], f = i[5], _ = i[6], v = i[7], w = i[8],
                        T = i[9], A = i[10], z = i[11], k = i[12], N = i[13], V = i[14], K = i[15], ee = e[0], W = e[1],
                        Q = e[2], ue = e[3], he = e[4], ke = e[5], De = e[6], Te = e[7], we = e[8], ve = e[9],
                        Ie = e[10], Ce = e[11], _e = e[12], Ue = e[13], Re = e[14], Ye = e[15];
                    return Math.abs(r - ee) <= qt * Math.max(1, Math.abs(r), Math.abs(ee)) && Math.abs(s - W) <= qt * Math.max(1, Math.abs(s), Math.abs(W)) && Math.abs(c - Q) <= qt * Math.max(1, Math.abs(c), Math.abs(Q)) && Math.abs(u - ue) <= qt * Math.max(1, Math.abs(u), Math.abs(ue)) && Math.abs(d - he) <= qt * Math.max(1, Math.abs(d), Math.abs(he)) && Math.abs(f - ke) <= qt * Math.max(1, Math.abs(f), Math.abs(ke)) && Math.abs(_ - De) <= qt * Math.max(1, Math.abs(_), Math.abs(De)) && Math.abs(v - Te) <= qt * Math.max(1, Math.abs(v), Math.abs(Te)) && Math.abs(w - we) <= qt * Math.max(1, Math.abs(w), Math.abs(we)) && Math.abs(T - ve) <= qt * Math.max(1, Math.abs(T), Math.abs(ve)) && Math.abs(A - Ie) <= qt * Math.max(1, Math.abs(A), Math.abs(Ie)) && Math.abs(z - Ce) <= qt * Math.max(1, Math.abs(z), Math.abs(Ce)) && Math.abs(k - _e) <= qt * Math.max(1, Math.abs(k), Math.abs(_e)) && Math.abs(N - Ue) <= qt * Math.max(1, Math.abs(N), Math.abs(Ue)) && Math.abs(V - Re) <= qt * Math.max(1, Math.abs(V), Math.abs(Re)) && Math.abs(K - Ye) <= qt * Math.max(1, Math.abs(K), Math.abs(Ye))
                }, h.evaluateSizeForFeature = function (i, {uSize: e, uSizeT: r}, {lowerSize: s, upperSize: c}) {
                    return "source" === i.kind ? s / Qr : "composite" === i.kind ? Mt(s / Qr, c / Qr, r) : e
                }, h.evaluateSizeForZoom = function (i, e) {
                    let r = 0, s = 0;
                    if ("constant" === i.kind) s = i.layoutSize; else if ("source" !== i.kind) {
                        const {interpolationType: c, minZoom: u, maxZoom: d} = i,
                            f = c ? Ze(Mi.interpolationFactor(c, e, u, d), 0, 1) : 0;
                        "camera" === i.kind ? s = Mt(i.minSize, i.maxSize, f) : r = f
                    }
                    return {uSizeT: r, uSize: s}
                }, h.evaluateVariableOffset = qc, h.evented = wo, h.exported = kn, h.extend = ot, h.filterObject = _r, h.fromScaling = function (i, e) {
                    return i[0] = e[0], i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = e[1], i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = e[2], i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, i
                }, h.getAnchorAlignment = Vl, h.getAnchorJustification = $l, h.getArrayBuffer = vr, h.getJSON = function (i, e) {
                    return Br(ot(i, {type: "json"}), e)
                }, h.getOverlapMode = Xl, h.getRTLTextPluginStatus = Hr, h.getReferrer = Ri, h.getVideo = function (i, e) {
                    const r = window.document.createElement("video");
                    r.muted = !0, r.onloadstart = function () {
                        e(null, r)
                    };
                    for (let s = 0; s < i.length; s++) {
                        const c = window.document.createElement("source");
                        sn(i[s]) || (r.crossOrigin = "Anonymous"), c.src = i[s], r.appendChild(c)
                    }
                    return {
                        cancel: () => {
                        }
                    }
                }, h.identity = Sl, h.invert = function (i, e) {
                    var r = e[0], s = e[1], c = e[2], u = e[3], d = e[4], f = e[5], _ = e[6], v = e[7], w = e[8],
                        T = e[9], A = e[10], z = e[11], k = e[12], N = e[13], V = e[14], K = e[15], ee = r * f - s * d,
                        W = r * _ - c * d, Q = r * v - u * d, ue = s * _ - c * f, he = s * v - u * f,
                        ke = c * v - u * _, De = w * N - T * k, Te = w * V - A * k, we = w * K - z * k,
                        ve = T * V - A * N, Ie = T * K - z * N, Ce = A * K - z * V,
                        _e = ee * Ce - W * Ie + Q * ve + ue * we - he * Te + ke * De;
                    return _e ? (i[0] = (f * Ce - _ * Ie + v * ve) * (_e = 1 / _e), i[1] = (c * Ie - s * Ce - u * ve) * _e, i[2] = (N * ke - V * he + K * ue) * _e, i[3] = (A * he - T * ke - z * ue) * _e, i[4] = (_ * we - d * Ce - v * Te) * _e, i[5] = (r * Ce - c * we + u * Te) * _e, i[6] = (V * Q - k * ke - K * W) * _e, i[7] = (w * ke - A * Q + z * W) * _e, i[8] = (d * Ie - f * we + v * De) * _e, i[9] = (s * we - r * Ie - u * De) * _e, i[10] = (k * he - N * Q + K * ee) * _e, i[11] = (T * Q - w * he - z * ee) * _e, i[12] = (f * Te - d * ve - _ * De) * _e, i[13] = (r * ve - s * Te + c * De) * _e, i[14] = (N * W - k * ue - V * ee) * _e, i[15] = (w * ue - T * W + A * ee) * _e, i) : null
                }, h.isImageBitmap = er, h.isSafari = Qi, h.isWorker = pi, h.keysDifference = function (i, e) {
                    const r = [];
                    for (const s in i) s in e || r.push(s);
                    return r
                }, h.lazyLoadRTLTextPlugin = function () {
                    Si.isLoading() || Si.isLoaded() || "deferred" !== Hr() || Da()
                }, h.makeRequest = Br, h.mapObject = ar, h.mercatorXfromLng = Qc,h.mercatorYfromLat = eh,h.mercatorZfromAltitude = th,h.mul = yh,h.mul$1 = function (i, e, r) {
                    return i[0] = e[0] * r[0], i[1] = e[1] * r[1], i[2] = e[2] * r[2], i[3] = e[3] * r[3], i
                },h.multiply = sc,h.nextPowerOfTwo = function (i) {
                    return i <= 1 ? 1 : Math.pow(2, Math.ceil(Math.log(i) / Math.LN2))
                },h.number = Mt,h.ortho = function (i, e, r, s, c, u, d) {
                    var f = 1 / (e - r), _ = 1 / (s - c), v = 1 / (u - d);
                    return i[0] = -2 * f, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = -2 * _, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[10] = 2 * v, i[11] = 0, i[12] = (e + r) * f, i[13] = (c + s) * _, i[14] = (d + u) * v, i[15] = 1, i
                },h.parseCacheControl = function (i) {
                    const e = {};
                    if (i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g, (r, s, c, u) => {
                        const d = c || u;
                        return e[s] = !d || d.toLowerCase(), ""
                    }), e["max-age"]) {
                        const r = parseInt(e["max-age"], 10);
                        isNaN(r) ? delete e["max-age"] : e["max-age"] = r
                    }
                    return e
                },h.parseGlyphPbf = function (i) {
                    return new Bl(i).readFields(yu, [])
                },h.pbf = Bl,h.performSymbolLayout = function (i) {
                    i.bucket.createArrays(), i.bucket.tilePixelRatio = pt / (512 * i.bucket.overscaling), i.bucket.compareText = {}, i.bucket.iconsNeedLinear = !1;
                    const e = i.bucket.layers[0].layout, r = i.bucket.layers[0]._unevaluatedLayout._values, s = {
                        layoutIconSize: r["icon-size"].possiblyEvaluate(new Tt(i.bucket.zoom + 1), i.canonical),
                        layoutTextSize: r["text-size"].possiblyEvaluate(new Tt(i.bucket.zoom + 1), i.canonical),
                        textMaxSize: r["text-size"].possiblyEvaluate(new Tt(18))
                    };
                    if ("composite" === i.bucket.textSizeData.kind) {
                        const {minZoom: _, maxZoom: v} = i.bucket.textSizeData;
                        s.compositeTextSizes = [r["text-size"].possiblyEvaluate(new Tt(_), i.canonical), r["text-size"].possiblyEvaluate(new Tt(v), i.canonical)]
                    }
                    if ("composite" === i.bucket.iconSizeData.kind) {
                        const {minZoom: _, maxZoom: v} = i.bucket.iconSizeData;
                        s.compositeIconSizes = [r["icon-size"].possiblyEvaluate(new Tt(_), i.canonical), r["icon-size"].possiblyEvaluate(new Tt(v), i.canonical)]
                    }
                    const c = 24 * e.get("text-line-height"),
                        u = "viewport" !== e.get("text-rotation-alignment") && "point" !== e.get("symbol-placement"),
                        d = e.get("text-keep-upright"), f = e.get("text-size");
                    for (const _ of i.bucket.features) {
                        const v = e.get("text-font").evaluate(_, {}, i.canonical).join(","),
                            w = f.evaluate(_, {}, i.canonical), T = s.layoutTextSize.evaluate(_, {}, i.canonical),
                            A = s.layoutIconSize.evaluate(_, {}, i.canonical), z = {horizontal: {}, vertical: void 0},
                            k = _.text;
                        let N, V = [0, 0];
                        if (k) {
                            const W = k.toString(), Q = 24 * e.get("text-letter-spacing").evaluate(_, {}, i.canonical),
                                ue = gl(W) ? Q : 0, he = e.get("text-anchor").evaluate(_, {}, i.canonical),
                                ke = e.get("text-variable-anchor");
                            if (!ke) {
                                const Ie = e.get("text-radial-offset").evaluate(_, {}, i.canonical);
                                V = Ie ? qc(he, [24 * Ie, Nl]) : e.get("text-offset").evaluate(_, {}, i.canonical).map(Ce => 24 * Ce)
                            }
                            let De = u ? "center" : e.get("text-justify").evaluate(_, {}, i.canonical);
                            const Te = e.get("symbol-placement"),
                                we = "point" === Te ? 24 * e.get("text-max-width").evaluate(_, {}, i.canonical) : 0,
                                ve = () => {
                                    i.bucket.allowVerticalPlacement && _o(W) && (z.vertical = Xa(k, i.glyphMap, i.glyphPositions, i.imagePositions, v, we, c, he, "left", ue, V, h.WritingMode.vertical, !0, Te, T, w))
                                };
                            if (!u && ke) {
                                const Ie = "auto" === De ? ke.map(_e => $l(_e)) : [De];
                                let Ce = !1;
                                for (let _e = 0; _e < Ie.length; _e++) {
                                    const Ue = Ie[_e];
                                    if (!z.horizontal[Ue]) if (Ce) z.horizontal[Ue] = z.horizontal[0]; else {
                                        const Re = Xa(k, i.glyphMap, i.glyphPositions, i.imagePositions, v, we, c, "center", Ue, ue, V, h.WritingMode.horizontal, !1, Te, T, w);
                                        Re && (z.horizontal[Ue] = Re, Ce = 1 === Re.positionedLines.length)
                                    }
                                }
                                ve()
                            } else {
                                "auto" === De && (De = $l(he));
                                const Ie = Xa(k, i.glyphMap, i.glyphPositions, i.imagePositions, v, we, c, he, De, ue, V, h.WritingMode.horizontal, !1, Te, T, w);
                                Ie && (z.horizontal[De] = Ie), ve(), _o(W) && u && d && (z.vertical = Xa(k, i.glyphMap, i.glyphPositions, i.imagePositions, v, we, c, he, De, ue, V, h.WritingMode.vertical, !1, Te, T, w))
                            }
                        }
                        let K = !1;
                        if (_.icon && _.icon.name) {
                            const W = i.imageMap[_.icon.name];
                            W && (N = Cu(i.imagePositions[_.icon.name], e.get("icon-offset").evaluate(_, {}, i.canonical), e.get("icon-anchor").evaluate(_, {}, i.canonical)), K = !!W.sdf, void 0 === i.bucket.sdfIcons ? i.bucket.sdfIcons = K : i.bucket.sdfIcons !== K && at("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"), (W.pixelRatio !== i.bucket.pixelRatio || 0 !== e.get("icon-rotate").constantOr(1)) && (i.bucket.iconsNeedLinear = !0))
                        }
                        const ee = Wc(z.horizontal) || z.vertical;
                        i.bucket.iconsInText = !!ee && ee.iconsInText, (ee || N) && ku(i.bucket, _, z, N, i.imageMap, s, T, A, V, K, i.canonical)
                    }
                    i.showCollisionBoxes && i.bucket.generateCollisionDebugBuffers()
                },h.perspective = function (i, e, r, s, c) {
                    var u, d = 1 / Math.tan(e / 2);
                    return i[0] = d / r, i[1] = 0, i[2] = 0, i[3] = 0, i[4] = 0, i[5] = d, i[6] = 0, i[7] = 0, i[8] = 0, i[9] = 0, i[11] = -1, i[12] = 0, i[13] = 0, i[15] = 0, null != c && c !== 1 / 0 ? (i[10] = (c + s) * (u = 1 / (s - c)), i[14] = 2 * c * s * u) : (i[10] = -1, i[14] = -2 * s), i
                },h.pick = function (i, e) {
                    const r = {};
                    for (let s = 0; s < e.length; s++) {
                        const c = e[s];
                        c in i && (r[c] = i[c])
                    }
                    return r
                },h.plugin = Si,h.pointGeometry = Xe,h.polygonIntersectsPolygon = kr,h.potpack = zc,h.refProperties = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"],h.register = Me,h.registerForPluginStateChange = function (i) {
                    return i({pluginStatus: wi, pluginURL: rr}), wo.on("pluginStateChange", i), i
                },h.renderColorRamp = cc,h.rotateX = function (i, e, r) {
                    var s = Math.sin(r), c = Math.cos(r), u = e[4], d = e[5], f = e[6], _ = e[7], v = e[8], w = e[9],
                        T = e[10], A = e[11];
                    return e !== i && (i[0] = e[0], i[1] = e[1], i[2] = e[2], i[3] = e[3], i[12] = e[12], i[13] = e[13], i[14] = e[14], i[15] = e[15]), i[4] = u * c + v * s, i[5] = d * c + w * s, i[6] = f * c + T * s, i[7] = _ * c + A * s, i[8] = v * c - u * s, i[9] = w * c - d * s, i[10] = T * c - f * s, i[11] = A * c - _ * s, i
                },h.rotateZ = function (i, e, r) {
                    var s = Math.sin(r), c = Math.cos(r), u = e[0], d = e[1], f = e[2], _ = e[3], v = e[4], w = e[5],
                        T = e[6], A = e[7];
                    return e !== i && (i[8] = e[8], i[9] = e[9], i[10] = e[10], i[11] = e[11], i[12] = e[12], i[13] = e[13], i[14] = e[14], i[15] = e[15]), i[0] = u * c + v * s, i[1] = d * c + w * s, i[2] = f * c + T * s, i[3] = _ * c + A * s, i[4] = v * c - u * s, i[5] = w * c - d * s, i[6] = T * c - f * s, i[7] = A * c - _ * s, i
                },h.scale = function (i, e, r) {
                    var s = r[0], c = r[1], u = r[2];
                    return i[0] = e[0] * s, i[1] = e[1] * s, i[2] = e[2] * s, i[3] = e[3] * s, i[4] = e[4] * c, i[5] = e[5] * c, i[6] = e[6] * c, i[7] = e[7] * c, i[8] = e[8] * u, i[9] = e[9] * u, i[10] = e[10] * u, i[11] = e[11] * u, i[12] = e[12], i[13] = e[13], i[14] = e[14], i[15] = e[15], i
                },h.setRTLTextPlugin = function (i, e, r = !1) {
                    if (wi === bn || wi === xo || wi === vo) throw new Error("setRTLTextPlugin cannot be called multiple times.");
                    rr = kn.resolveURL(i), wi = bn, bo = e, Zn(), r || Da()
                },h.spec = se,h.sphericalToCartesian = function ([i, e, r]) {
                    return e += 90, e *= Math.PI / 180, r *= Math.PI / 180, {
                        x: i * Math.cos(e) * Math.sin(r),
                        y: i * Math.sin(e) * Math.sin(r),
                        z: i * Math.cos(r)
                    }
                },h.toEvaluationFeature = Ai,h.transformMat4 = Va,h.translate = function (i, e, r) {
                    var s, c, u, d, f, _, v, w, T, A, z, k, N = r[0], V = r[1], K = r[2];
                    return e === i ? (i[12] = e[0] * N + e[4] * V + e[8] * K + e[12], i[13] = e[1] * N + e[5] * V + e[9] * K + e[13], i[14] = e[2] * N + e[6] * V + e[10] * K + e[14], i[15] = e[3] * N + e[7] * V + e[11] * K + e[15]) : (c = e[1], u = e[2], d = e[3], f = e[4], _ = e[5], v = e[6], w = e[7], T = e[8], A = e[9], z = e[10], k = e[11], i[0] = s = e[0], i[1] = c, i[2] = u, i[3] = d, i[4] = f, i[5] = _, i[6] = v, i[7] = w, i[8] = T, i[9] = A, i[10] = z, i[11] = k, i[12] = s * N + f * V + T * K + e[12], i[13] = c * N + _ * V + A * K + e[13], i[14] = u * N + v * V + z * K + e[14], i[15] = d * N + w * V + k * K + e[15]), i
                },h.triggerPluginCompletionEvent = Pa,h.unicodeBlockLookup = Se,h.uniqueId = function () {
                    return Kt++
                },h.validateCustomStyleLayer = function (i) {
                    const e = [], r = i.id;
                    return void 0 === r && e.push({message: `layers.${r}: missing required property "id"`}), void 0 === i.render && e.push({message: `layers.${r}: missing required method "render"`}), i.renderingMode && "2d" !== i.renderingMode && "3d" !== i.renderingMode && e.push({message: `layers.${r}: property "renderingMode" must be either "2d" or "3d"`}), e
                },h.validateLight = Aa,h.validateStyle = xn,h.vectorTile = In,h.warnOnce = at,h.wrap = ie
            }), Wt(0, function (h) {
                function ft(L) {
                    const I = typeof L;
                    if ("number" === I || "boolean" === I || "string" === I || null == L) return JSON.stringify(L);
                    if (Array.isArray(L)) {
                        let O = "[";
                        for (const Z of L) O += `${ft(Z)},`;
                        return `${O}]`
                    }
                    const E = Object.keys(L).sort();
                    let D = "{";
                    for (let O = 0; O < E.length; O++) D += `${JSON.stringify(E[O])}:${ft(L[E[O]])},`;
                    return `${D}}`
                }

                function yt(L) {
                    let I = "";
                    for (const E of h.refProperties) I += `/${ft(L[E])}`;
                    return I
                }

                class Dt {
                    constructor(I) {
                        this.keyCache = {}, I && this.replace(I)
                    }

                    replace(I) {
                        this._layerConfigs = {}, this._layers = {}, this.update(I, [])
                    }

                    update(I, E) {
                        for (const O of I) {
                            this._layerConfigs[O.id] = O;
                            const Z = this._layers[O.id] = h.createStyleLayer(O);
                            Z._featureFilter = h.createFilter(Z.filter), this.keyCache[O.id] && delete this.keyCache[O.id]
                        }
                        for (const O of E) delete this.keyCache[O], delete this._layerConfigs[O], delete this._layers[O];
                        this.familiesBySource = {};
                        const D = function (O, Z) {
                            const q = {};
                            for (let G = 0; G < O.length; G++) {
                                const Y = Z && Z[O[G].id] || yt(O[G]);
                                Z && (Z[O[G].id] = Y);
                                let ne = q[Y];
                                ne || (ne = q[Y] = []), ne.push(O[G])
                            }
                            const j = [];
                            for (const G in q) j.push(q[G]);
                            return j
                        }(Object.values(this._layerConfigs), this.keyCache);
                        for (const O of D) {
                            const Z = O.map(me => this._layers[me.id]), q = Z[0];
                            if ("none" === q.visibility) continue;
                            const j = q.source || "";
                            let G = this.familiesBySource[j];
                            G || (G = this.familiesBySource[j] = {});
                            const Y = q.sourceLayer || "_geojsonTileLayer";
                            let ne = G[Y];
                            ne || (ne = G[Y] = []), ne.push(Z)
                        }
                    }
                }

                class Ht {
                    constructor(I) {
                        const E = {}, D = [];
                        for (const j in I) {
                            const G = I[j], Y = E[j] = {};
                            for (const ne in G) {
                                const me = G[+ne];
                                if (!me || 0 === me.bitmap.width || 0 === me.bitmap.height) continue;
                                const oe = {x: 0, y: 0, w: me.bitmap.width + 2, h: me.bitmap.height + 2};
                                D.push(oe), Y[ne] = {rect: oe, metrics: me.metrics}
                            }
                        }
                        const {w: O, h: Z} = h.potpack(D), q = new h.AlphaImage({width: O || 1, height: Z || 1});
                        for (const j in I) {
                            const G = I[j];
                            for (const Y in G) {
                                const ne = G[+Y];
                                if (!ne || 0 === ne.bitmap.width || 0 === ne.bitmap.height) continue;
                                const me = E[j][Y].rect;
                                h.AlphaImage.copy(ne.bitmap, q, {x: 0, y: 0}, {x: me.x + 1, y: me.y + 1}, ne.bitmap)
                            }
                        }
                        this.image = q, this.positions = E
                    }
                }

                h.register("GlyphAtlas", Ht);

                class Ze {
                    constructor(I) {
                        this.tileID = new h.OverscaledTileID(I.tileID.overscaledZ, I.tileID.wrap, I.tileID.canonical.z, I.tileID.canonical.x, I.tileID.canonical.y), this.uid = I.uid, this.zoom = I.zoom, this.pixelRatio = I.pixelRatio, this.tileSize = I.tileSize, this.source = I.source, this.overscaling = this.tileID.overscaleFactor(), this.showCollisionBoxes = I.showCollisionBoxes, this.collectResourceTiming = !!I.collectResourceTiming, this.returnDependencies = !!I.returnDependencies, this.promoteId = I.promoteId
                    }

                    parse(I, E, D, O, Z) {
                        this.status = "parsing", this.data = I, this.collisionBoxArray = new h.CollisionBoxArray;
                        const q = new h.DictionaryCoder(Object.keys(I.layers).sort()),
                            j = new h.FeatureIndex(this.tileID, this.promoteId);
                        j.bucketLayerIDs = [];
                        const G = {}, Y = {
                            featureIndex: j,
                            iconDependencies: {},
                            patternDependencies: {},
                            glyphDependencies: {},
                            availableImages: D
                        }, ne = E.familiesBySource[this.source];
                        for (const tt in ne) {
                            const rt = I.layers[tt];
                            if (!rt) continue;
                            1 === rt.version && h.warnOnce(`Vector tile source "${this.source}" layer "${tt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);
                            const Ct = q.encode(tt), Ot = [];
                            for (let ti = 0; ti < rt.length; ti++) {
                                const jt = rt.feature(ti), cn = j.getId(jt, tt);
                                Ot.push({feature: jt, id: cn, index: ti, sourceLayerIndex: Ct})
                            }
                            for (const ti of ne[tt]) {
                                const jt = ti[0];
                                jt.source !== this.source && h.warnOnce(`layer.source = ${jt.source} does not equal this.source = ${this.source}`), jt.minzoom && this.zoom < Math.floor(jt.minzoom) || jt.maxzoom && this.zoom >= jt.maxzoom || "none" !== jt.visibility && (ie(ti, this.zoom, D), (G[jt.id] = jt.createBucket({
                                    index: j.bucketLayerIDs.length,
                                    layers: ti,
                                    zoom: this.zoom,
                                    pixelRatio: this.pixelRatio,
                                    overscaling: this.overscaling,
                                    collisionBoxArray: this.collisionBoxArray,
                                    sourceLayerIndex: Ct,
                                    sourceID: this.source
                                })).populate(Ot, Y, this.tileID.canonical), j.bucketLayerIDs.push(ti.map(cn => cn.id)))
                            }
                        }
                        let me, oe, Fe, Ve;
                        const Pe = h.mapObject(Y.glyphDependencies, tt => Object.keys(tt).map(Number));
                        Object.keys(Pe).length ? O.send("getGlyphs", {
                            uid: this.uid,
                            stacks: Pe,
                            source: this.source,
                            tileID: this.tileID,
                            type: "glyphs"
                        }, (tt, rt) => {
                            me || (me = tt, oe = rt, bt.call(this))
                        }) : oe = {};
                        const Ne = Object.keys(Y.iconDependencies);
                        Ne.length ? O.send("getImages", {
                            icons: Ne,
                            source: this.source,
                            tileID: this.tileID,
                            type: "icons"
                        }, (tt, rt) => {
                            me || (me = tt, Fe = rt, bt.call(this))
                        }) : Fe = {};
                        const et = Object.keys(Y.patternDependencies);

                        function bt() {
                            if (me) return Z(me);
                            if (oe && Fe && Ve) {
                                const tt = new Ht(oe), rt = new h.ImageAtlas(Fe, Ve);
                                for (const Ct in G) {
                                    const Ot = G[Ct];
                                    Ot instanceof h.SymbolBucket ? (ie(Ot.layers, this.zoom, D), h.performSymbolLayout({
                                        bucket: Ot,
                                        glyphMap: oe,
                                        glyphPositions: tt.positions,
                                        imageMap: Fe,
                                        imagePositions: rt.iconPositions,
                                        showCollisionBoxes: this.showCollisionBoxes,
                                        canonical: this.tileID.canonical
                                    })) : Ot.hasPattern && (Ot instanceof h.LineBucket || Ot instanceof h.FillBucket || Ot instanceof h.FillExtrusionBucket) && (ie(Ot.layers, this.zoom, D), Ot.addFeatures(Y, this.tileID.canonical, rt.patternPositions))
                                }
                                this.status = "done", Z(null, {
                                    buckets: Object.values(G).filter(Ct => !Ct.isEmpty()),
                                    featureIndex: j,
                                    collisionBoxArray: this.collisionBoxArray,
                                    glyphAtlasImage: tt.image,
                                    imageAtlas: rt,
                                    glyphMap: this.returnDependencies ? oe : null,
                                    iconMap: this.returnDependencies ? Fe : null,
                                    glyphPositions: this.returnDependencies ? tt.positions : null
                                })
                            }
                        }

                        et.length ? O.send("getImages", {
                            icons: et,
                            source: this.source,
                            tileID: this.tileID,
                            type: "patterns"
                        }, (tt, rt) => {
                            me || (me = tt, Ve = rt, bt.call(this))
                        }) : Ve = {}, bt.call(this)
                    }
                }

                function ie(L, I, E) {
                    const D = new h.EvaluationParameters(I);
                    for (const O of L) O.recalculate(D, E)
                }

                function ot(L, I) {
                    const E = h.getArrayBuffer(L.request, (D, O, Z, q) => {
                        D ? I(D) : O && I(null, {
                            vectorTile: new h.vectorTile.VectorTile(new h.pbf(O)),
                            rawData: O,
                            cacheControl: Z,
                            expires: q
                        })
                    });
                    return () => {
                        E.cancel(), I()
                    }
                }

                class Kt {
                    constructor(I, E, D, O) {
                        this.actor = I, this.layerIndex = E, this.availableImages = D, this.loadVectorData = O || ot, this.loading = {}, this.loaded = {}
                    }

                    loadTile(I, E) {
                        const D = I.uid;
                        this.loading || (this.loading = {});
                        const O = !!(I && I.request && I.request.collectResourceTiming) && new h.RequestPerformance(I.request),
                            Z = this.loading[D] = new Ze(I);
                        Z.abort = this.loadVectorData(I, (q, j) => {
                            if (delete this.loading[D], q || !j) return Z.status = "done", this.loaded[D] = Z, E(q);
                            const G = j.rawData, Y = {};
                            j.expires && (Y.expires = j.expires), j.cacheControl && (Y.cacheControl = j.cacheControl);
                            const ne = {};
                            if (O) {
                                const me = O.finish();
                                me && (ne.resourceTiming = JSON.parse(JSON.stringify(me)))
                            }
                            Z.vectorTile = j.vectorTile, Z.parse(j.vectorTile, this.layerIndex, this.availableImages, this.actor, (me, oe) => {
                                if (me || !oe) return E(me);
                                E(null, h.extend({rawTileData: G.slice(0)}, oe, Y, ne))
                            }), this.loaded = this.loaded || {}, this.loaded[D] = Z
                        })
                    }

                    reloadTile(I, E) {
                        const D = this.loaded, O = I.uid, Z = this;
                        if (D && D[O]) {
                            const q = D[O];
                            q.showCollisionBoxes = I.showCollisionBoxes;
                            const j = (G, Y) => {
                                const ne = q.reloadCallback;
                                ne && (delete q.reloadCallback, q.parse(q.vectorTile, Z.layerIndex, this.availableImages, Z.actor, ne)), E(G, Y)
                            };
                            "parsing" === q.status ? q.reloadCallback = j : "done" === q.status && (q.vectorTile ? q.parse(q.vectorTile, this.layerIndex, this.availableImages, this.actor, j) : j())
                        }
                    }

                    abortTile(I, E) {
                        const D = this.loading, O = I.uid;
                        D && D[O] && D[O].abort && (D[O].abort(), delete D[O]), E()
                    }

                    removeTile(I, E) {
                        const D = this.loaded, O = I.uid;
                        D && D[O] && delete D[O], E()
                    }
                }

                class hi {
                    constructor() {
                        this.loaded = {}
                    }

                    loadTile(I, E) {
                        const {uid: D, encoding: O, rawImageData: Z} = I,
                            q = h.isImageBitmap(Z) ? this.getImageData(Z) : Z, j = new h.DEMData(D, q, O);
                        this.loaded = this.loaded || {}, this.loaded[D] = j, E(null, j)
                    }

                    getImageData(I) {
                        this.offscreenCanvas && this.offscreenCanvasContext || (this.offscreenCanvas = new OffscreenCanvas(I.width, I.height), this.offscreenCanvasContext = this.offscreenCanvas.getContext("2d", {willReadFrequently: !0})), this.offscreenCanvas.width = I.width, this.offscreenCanvas.height = I.height, this.offscreenCanvasContext.drawImage(I, 0, 0, I.width, I.height);
                        const E = this.offscreenCanvasContext.getImageData(-1, -1, I.width + 2, I.height + 2);
                        return this.offscreenCanvasContext.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height), new h.RGBAImage({
                            width: E.width,
                            height: E.height
                        }, E.data)
                    }

                    removeTile(I) {
                        const E = this.loaded, D = I.uid;
                        E && E[D] && delete E[D]
                    }
                }

                var ar = function L(I, E) {
                    var D, O = I && I.type;
                    if ("FeatureCollection" === O) for (D = 0; D < I.features.length; D++) L(I.features[D], E); else if ("GeometryCollection" === O) for (D = 0; D < I.geometries.length; D++) L(I.geometries[D], E); else if ("Feature" === O) L(I.geometry, E); else if ("Polygon" === O) _r(I.coordinates, E); else if ("MultiPolygon" === O) for (D = 0; D < I.coordinates.length; D++) _r(I.coordinates[D], E);
                    return I
                };

                function _r(L, I) {
                    if (0 !== L.length) {
                        ui(L[0], I);
                        for (var E = 1; E < L.length; E++) ui(L[E], !I)
                    }
                }

                function ui(L, I) {
                    for (var E = 0, D = 0, O = 0, Z = L.length, q = Z - 1; O < Z; q = O++) {
                        var j = (L[O][0] - L[q][0]) * (L[q][1] + L[O][1]), G = E + j;
                        D += Math.abs(E) >= Math.abs(j) ? E - G + j : j - G + E, E = G
                    }
                    E + D >= 0 != !!I && L.reverse()
                }

                const yr = h.vectorTile.VectorTileFeature.prototype.toGeoJSON;
                var at = {}, Et = {
                    get exports() {
                        return at
                    }, set exports(L) {
                        at = L
                    }
                }, zn = h.pointGeometry, pi = h.vectorTile.VectorTileFeature, Rr = Qi;

                function Qi(L, I) {
                    this.options = I || {}, this.features = L, this.length = L.length
                }

                function er(L, I) {
                    this.id = "number" == typeof L.id ? L.id : void 0, this.type = L.type, this.rawGeometry = 1 === L.type ? [L.geometry] : L.geometry, this.properties = L.tags, this.extent = I || 4096
                }

                Qi.prototype.feature = function (L) {
                    return new er(this.features[L], this.options.extent)
                }, er.prototype.loadGeometry = function () {
                    var L = this.rawGeometry;
                    this.geometry = [];
                    for (var I = 0; I < L.length; I++) {
                        for (var E = L[I], D = [], O = 0; O < E.length; O++) D.push(new zn(E[O][0], E[O][1]));
                        this.geometry.push(D)
                    }
                    return this.geometry
                }, er.prototype.bbox = function () {
                    this.geometry || this.loadGeometry();
                    for (var L = this.geometry, I = 1 / 0, E = -1 / 0, D = 1 / 0, O = -1 / 0, Z = 0; Z < L.length; Z++) for (var q = L[Z], j = 0; j < q.length; j++) {
                        var G = q[j];
                        I = Math.min(I, G.x), E = Math.max(E, G.x), D = Math.min(D, G.y), O = Math.max(O, G.y)
                    }
                    return [I, D, E, O]
                }, er.prototype.toGeoJSON = pi.prototype.toGeoJSON;
                var nn = h.pbf, Gi = Rr;

                function St(L) {
                    var I = new nn;
                    return function (E, D) {
                        for (var O in E.layers) D.writeMessage(3, kn, E.layers[O])
                    }(L, I), I.finish()
                }

                function kn(L, I) {
                    var E;
                    I.writeVarintField(15, L.version || 1), I.writeStringField(1, L.name || ""), I.writeVarintField(5, L.extent || 4096);
                    var D = {keys: [], values: [], keycache: {}, valuecache: {}};
                    for (E = 0; E < L.length; E++) D.feature = L.feature(E), I.writeMessage(2, Xe, D);
                    var O = D.keys;
                    for (E = 0; E < O.length; E++) I.writeStringField(3, O[E]);
                    var Z = D.values;
                    for (E = 0; E < Z.length; E++) I.writeMessage(4, Pn, Z[E])
                }

                function Xe(L, I) {
                    var E = L.feature;
                    void 0 !== E.id && I.writeVarintField(1, E.id), I.writeMessage(2, Ii, L), I.writeVarintField(3, E.type), I.writeMessage(4, Ri, E)
                }

                function Ii(L, I) {
                    var E = L.feature, D = L.keys, O = L.values, Z = L.keycache, q = L.valuecache;
                    for (var j in E.properties) {
                        var G = E.properties[j], Y = Z[j];
                        if (null !== G) {
                            void 0 === Y && (D.push(j), Z[j] = Y = D.length - 1), I.writeVarint(Y);
                            var ne = typeof G;
                            "string" !== ne && "boolean" !== ne && "number" !== ne && (G = JSON.stringify(G));
                            var me = ne + ":" + G, oe = q[me];
                            void 0 === oe && (O.push(G), q[me] = oe = O.length - 1), I.writeVarint(oe)
                        }
                    }
                }

                function xr(L, I) {
                    return (I << 3) + (7 & L)
                }

                function tr(L) {
                    return L << 1 ^ L >> 31
                }

                function Ri(L, I) {
                    for (var E = L.loadGeometry(), D = L.type, O = 0, Z = 0, q = E.length, j = 0; j < q; j++) {
                        var G = E[j], Y = 1;
                        1 === D && (Y = G.length), I.writeVarint(xr(1, Y));
                        for (var ne = 3 === D ? G.length - 1 : G.length, me = 0; me < ne; me++) {
                            1 === me && 1 !== D && I.writeVarint(xr(2, ne - 1));
                            var oe = G[me].x - O, Fe = G[me].y - Z;
                            I.writeVarint(tr(oe)), I.writeVarint(tr(Fe)), O += oe, Z += Fe
                        }
                        3 === D && I.writeVarint(xr(7, 1))
                    }
                }

                function Pn(L, I) {
                    var E = typeof L;
                    "string" === E ? I.writeStringField(1, L) : "boolean" === E ? I.writeBooleanField(7, L) : "number" === E && (L % 1 != 0 ? I.writeDoubleField(3, L) : L < 0 ? I.writeSVarintField(6, L) : I.writeVarintField(5, L))
                }

                Et.exports = St, at.fromVectorTileJs = St, at.fromGeojsonVt = function (L, I) {
                    I = I || {};
                    var E = {};
                    for (var D in L) E[D] = new Gi(L[D].features, I), E[D].name = D, E[D].version = I.version, E[D].extent = I.extent;
                    return St({layers: E})
                }, at.GeoJSONWrapper = Gi;
                const Br = {
                    minZoom: 0,
                    maxZoom: 16,
                    minPoints: 2,
                    radius: 40,
                    extent: 512,
                    nodeSize: 64,
                    log: !1,
                    generateId: !1,
                    reduce: null,
                    map: L => L
                }, vr = Math.fround || (sn = new Float32Array(1), L => (sn[0] = +L, sn[0]));
                var sn;

                class lr {
                    constructor(I) {
                        this.options = xe(Object.create(Br), I), this.trees = new Array(this.options.maxZoom + 1)
                    }

                    load(I) {
                        const {log: E, minZoom: D, maxZoom: O, nodeSize: Z} = this.options;
                        E && console.time("total time");
                        const q = `prepare ${I.length} points`;
                        E && console.time(q), this.points = I;
                        let j = [];
                        for (let G = 0; G < I.length; G++) I[G].geometry && j.push(br(I[G], G));
                        this.trees[O + 1] = new h.KDBush(j, pe, b, Z, Float32Array), E && console.timeEnd(q);
                        for (let G = O; G >= D; G--) {
                            const Y = +Date.now();
                            j = this._cluster(j, G), this.trees[G] = new h.KDBush(j, pe, b, Z, Float32Array), E && console.log("z%d: %d clusters in %dms", G, j.length, +Date.now() - Y)
                        }
                        return E && console.timeEnd("total time"), this
                    }

                    getClusters(I, E) {
                        let D = ((I[0] + 180) % 360 + 360) % 360 - 180;
                        const O = Math.max(-90, Math.min(90, I[1]));
                        let Z = 180 === I[2] ? 180 : ((I[2] + 180) % 360 + 360) % 360 - 180;
                        const q = Math.max(-90, Math.min(90, I[3]));
                        if (I[2] - I[0] >= 360) D = -180, Z = 180; else if (D > Z) {
                            const ne = this.getClusters([D, O, 180, q], E), me = this.getClusters([-180, O, Z, q], E);
                            return ne.concat(me)
                        }
                        const j = this.trees[this._limitZoom(E)], G = j.range(se(D), be(q), se(Z), be(O)), Y = [];
                        for (const ne of G) {
                            const me = j.points[ne];
                            Y.push(me.numPoints ? wr(me) : this.points[me.index])
                        }
                        return Y
                    }

                    getChildren(I) {
                        const E = this._getOriginId(I), D = this._getOriginZoom(I),
                            O = "No cluster with the specified id.", Z = this.trees[D];
                        if (!Z) throw new Error(O);
                        const q = Z.points[E];
                        if (!q) throw new Error(O);
                        const j = this.options.radius / (this.options.extent * Math.pow(2, D - 1)),
                            G = Z.within(q.x, q.y, j), Y = [];
                        for (const ne of G) {
                            const me = Z.points[ne];
                            me.parentId === I && Y.push(me.numPoints ? wr(me) : this.points[me.index])
                        }
                        if (0 === Y.length) throw new Error(O);
                        return Y
                    }

                    getLeaves(I, E, D) {
                        const O = [];
                        return this._appendLeaves(O, I, E = E || 10, D = D || 0, 0), O
                    }

                    getTile(I, E, D) {
                        const O = this.trees[this._limitZoom(I)], Z = Math.pow(2, I), {
                            extent: q,
                            radius: j
                        } = this.options, G = j / q, Y = (D - G) / Z, ne = (D + 1 + G) / Z, me = {features: []};
                        return this._addTileFeatures(O.range((E - G) / Z, Y, (E + 1 + G) / Z, ne), O.points, E, D, Z, me), 0 === E && this._addTileFeatures(O.range(1 - G / Z, Y, 1, ne), O.points, Z, D, Z, me), E === Z - 1 && this._addTileFeatures(O.range(0, Y, G / Z, ne), O.points, -1, D, Z, me), me.features.length ? me : null
                    }

                    getClusterExpansionZoom(I) {
                        let E = this._getOriginZoom(I) - 1;
                        for (; E <= this.options.maxZoom;) {
                            const D = this.getChildren(I);
                            if (E++, 1 !== D.length) break;
                            I = D[0].properties.cluster_id
                        }
                        return E
                    }

                    _appendLeaves(I, E, D, O, Z) {
                        const q = this.getChildren(E);
                        for (const j of q) {
                            const G = j.properties;
                            if (G && G.cluster ? Z + G.point_count <= O ? Z += G.point_count : Z = this._appendLeaves(I, G.cluster_id, D, O, Z) : Z < O ? Z++ : I.push(j), I.length === D) break
                        }
                        return Z
                    }

                    _addTileFeatures(I, E, D, O, Z, q) {
                        for (const j of I) {
                            const G = E[j], Y = G.numPoints;
                            let ne, me, oe;
                            if (Y) ne = cr(G), me = G.x, oe = G.y; else {
                                const Pe = this.points[G.index];
                                ne = Pe.properties, me = se(Pe.geometry.coordinates[0]), oe = be(Pe.geometry.coordinates[1])
                            }
                            const Fe = {
                                type: 1,
                                geometry: [[Math.round(this.options.extent * (me * Z - D)), Math.round(this.options.extent * (oe * Z - O))]],
                                tags: ne
                            };
                            let Ve;
                            Y ? Ve = G.id : this.options.generateId ? Ve = G.index : this.points[G.index].id && (Ve = this.points[G.index].id), void 0 !== Ve && (Fe.id = Ve), q.features.push(Fe)
                        }
                    }

                    _limitZoom(I) {
                        return Math.max(this.options.minZoom, Math.min(Math.floor(+I), this.options.maxZoom + 1))
                    }

                    _cluster(I, E) {
                        const D = [], {radius: O, extent: Z, reduce: q, minPoints: j} = this.options,
                            G = O / (Z * Math.pow(2, E));
                        for (let Y = 0; Y < I.length; Y++) {
                            const ne = I[Y];
                            if (ne.zoom <= E) continue;
                            ne.zoom = E;
                            const me = this.trees[E + 1], oe = me.within(ne.x, ne.y, G), Fe = ne.numPoints || 1;
                            let Ve = Fe;
                            for (const Pe of oe) {
                                const Ne = me.points[Pe];
                                Ne.zoom > E && (Ve += Ne.numPoints || 1)
                            }
                            if (Ve > Fe && Ve >= j) {
                                let Pe = ne.x * Fe, Ne = ne.y * Fe, et = q && Fe > 1 ? this._map(ne, !0) : null;
                                const bt = (Y << 5) + (E + 1) + this.points.length;
                                for (const tt of oe) {
                                    const rt = me.points[tt];
                                    if (rt.zoom <= E) continue;
                                    rt.zoom = E;
                                    const Ct = rt.numPoints || 1;
                                    Pe += rt.x * Ct, Ne += rt.y * Ct, rt.parentId = bt, q && (et || (et = this._map(ne, !0)), q(et, this._map(rt)))
                                }
                                ne.parentId = bt, D.push(Fr(Pe / Ve, Ne / Ve, bt, Ve, et))
                            } else if (D.push(ne), Ve > 1) for (const Pe of oe) {
                                const Ne = me.points[Pe];
                                Ne.zoom <= E || (Ne.zoom = E, D.push(Ne))
                            }
                        }
                        return D
                    }

                    _getOriginId(I) {
                        return I - this.points.length >> 5
                    }

                    _getOriginZoom(I) {
                        return (I - this.points.length) % 32
                    }

                    _map(I, E) {
                        if (I.numPoints) return E ? xe({}, I.properties) : I.properties;
                        const D = this.points[I.index].properties, O = this.options.map(D);
                        return E && O === D ? xe({}, O) : O
                    }
                }

                function Fr(L, I, E, D, O) {
                    return {x: vr(L), y: vr(I), zoom: 1 / 0, id: E, parentId: -1, numPoints: D, properties: O}
                }

                function br(L, I) {
                    const [E, D] = L.geometry.coordinates;
                    return {x: vr(se(E)), y: vr(be(D)), zoom: 1 / 0, index: I, parentId: -1}
                }

                function wr(L) {
                    return {
                        type: "Feature",
                        id: L.id,
                        properties: cr(L),
                        geometry: {type: "Point", coordinates: [(I = L.x, 360 * (I - .5)), Or(L.y)]}
                    };
                    var I
                }

                function cr(L) {
                    const I = L.numPoints,
                        E = I >= 1e4 ? `${Math.round(I / 1e3)}k` : I >= 1e3 ? Math.round(I / 100) / 10 + "k" : I;
                    return xe(xe({}, L.properties), {
                        cluster: !0,
                        cluster_id: L.id,
                        point_count: I,
                        point_count_abbreviated: E
                    })
                }

                function se(L) {
                    return L / 360 + .5
                }

                function be(L) {
                    const I = Math.sin(L * Math.PI / 180), E = .5 - .25 * Math.log((1 + I) / (1 - I)) / Math.PI;
                    return E < 0 ? 0 : E > 1 ? 1 : E
                }

                function Or(L) {
                    const I = (180 - 360 * L) * Math.PI / 180;
                    return 360 * Math.atan(Math.exp(I)) / Math.PI - 90
                }

                function xe(L, I) {
                    for (const E in I) L[E] = I[E];
                    return L
                }

                function pe(L) {
                    return L.x
                }

                function b(L) {
                    return L.y
                }

                function F(L, I, E, D) {
                    for (var O, Z = D, q = E - I >> 1, j = E - I, G = L[I], Y = L[I + 1], ne = L[E], me = L[E + 1], oe = I + 3; oe < E; oe += 3) {
                        var Fe = Ee(L[oe], L[oe + 1], G, Y, ne, me);
                        if (Fe > Z) O = oe, Z = Fe; else if (Fe === Z) {
                            var Ve = Math.abs(oe - q);
                            Ve < j && (O = oe, j = Ve)
                        }
                    }
                    Z > D && (O - I > 3 && F(L, I, O, D), L[O + 2] = Z, E - O > 3 && F(L, O, E, D))
                }

                function Ee(L, I, E, D, O, Z) {
                    var q = O - E, j = Z - D;
                    if (0 !== q || 0 !== j) {
                        var G = ((L - E) * q + (I - D) * j) / (q * q + j * j);
                        G > 1 ? (E = O, D = Z) : G > 0 && (E += q * G, D += j * G)
                    }
                    return (q = L - E) * q + (j = I - D) * j
                }

                function Be(L, I, E, D) {
                    var O = {
                        id: void 0 === L ? null : L,
                        type: I,
                        geometry: E,
                        tags: D,
                        minX: 1 / 0,
                        minY: 1 / 0,
                        maxX: -1 / 0,
                        maxY: -1 / 0
                    };
                    return function (Z) {
                        var q = Z.geometry, j = Z.type;
                        if ("Point" === j || "MultiPoint" === j || "LineString" === j) fe(Z, q); else if ("Polygon" === j || "MultiLineString" === j) for (var G = 0; G < q.length; G++) fe(Z, q[G]); else if ("MultiPolygon" === j) for (G = 0; G < q.length; G++) for (var Y = 0; Y < q[G].length; Y++) fe(Z, q[G][Y])
                    }(O), O
                }

                function fe(L, I) {
                    for (var E = 0; E < I.length; E += 3) L.minX = Math.min(L.minX, I[E]), L.minY = Math.min(L.minY, I[E + 1]), L.maxX = Math.max(L.maxX, I[E]), L.maxY = Math.max(L.maxY, I[E + 1])
                }

                function Oe(L, I, E, D) {
                    if (I.geometry) {
                        var O = I.geometry.coordinates, Z = I.geometry.type,
                            q = Math.pow(E.tolerance / ((1 << E.maxZoom) * E.extent), 2), j = [], G = I.id;
                        if (E.promoteId ? G = I.properties[E.promoteId] : E.generateId && (G = D || 0), "Point" === Z) je(O, j); else if ("MultiPoint" === Z) for (var Y = 0; Y < O.length; Y++) je(O[Y], j); else if ("LineString" === Z) Yt(O, j, q, !1); else if ("MultiLineString" === Z) {
                            if (E.lineMetrics) {
                                for (Y = 0; Y < O.length; Y++) Yt(O[Y], j = [], q, !1), L.push(Be(G, "LineString", j, I.properties));
                                return
                            }
                            Bi(O, j, q, !1)
                        } else if ("Polygon" === Z) Bi(O, j, q, !0); else {
                            if ("MultiPolygon" !== Z) {
                                if ("GeometryCollection" === Z) {
                                    for (Y = 0; Y < I.geometry.geometries.length; Y++) Oe(L, {
                                        id: G,
                                        geometry: I.geometry.geometries[Y],
                                        properties: I.properties
                                    }, E, D);
                                    return
                                }
                                throw new Error("Input data is not a valid GeoJSON object.")
                            }
                            for (Y = 0; Y < O.length; Y++) {
                                var ne = [];
                                Bi(O[Y], ne, q, !0), j.push(ne)
                            }
                        }
                        L.push(Be(G, Z, j, I.properties))
                    }
                }

                function je(L, I) {
                    I.push($e(L[0])), I.push(Sr(L[1])), I.push(0)
                }

                function Yt(L, I, E, D) {
                    for (var O, Z, q = 0, j = 0; j < L.length; j++) {
                        var G = $e(L[j][0]), Y = Sr(L[j][1]);
                        I.push(G), I.push(Y), I.push(0), j > 0 && (q += D ? (O * Y - G * Z) / 2 : Math.sqrt(Math.pow(G - O, 2) + Math.pow(Y - Z, 2))), O = G, Z = Y
                    }
                    var ne = I.length - 3;
                    I[2] = 1, F(I, 0, ne, E), I[ne + 2] = 1, I.size = Math.abs(q), I.start = 0, I.end = I.size
                }

                function Bi(L, I, E, D) {
                    for (var O = 0; O < L.length; O++) {
                        var Z = [];
                        Yt(L[O], Z, E, D), I.push(Z)
                    }
                }

                function $e(L) {
                    return L / 360 + .5
                }

                function Sr(L) {
                    var I = Math.sin(L * Math.PI / 180), E = .5 - .25 * Math.log((1 + I) / (1 - I)) / Math.PI;
                    return E < 0 ? 0 : E > 1 ? 1 : E
                }

                function ri(L, I, E, D, O, Z, q, j) {
                    if (D /= I, Z >= (E /= I) && q < D) return L;
                    if (q < E || Z >= D) return null;
                    for (var G = [], Y = 0; Y < L.length; Y++) {
                        var ne = L[Y], me = ne.geometry, oe = ne.type, Fe = 0 === O ? ne.minX : ne.minY,
                            Ve = 0 === O ? ne.maxX : ne.maxY;
                        if (Fe >= E && Ve < D) G.push(ne); else if (!(Ve < E || Fe >= D)) {
                            var Pe = [];
                            if ("Point" === oe || "MultiPoint" === oe) Ur(me, Pe, E, D, O); else if ("LineString" === oe) Ei(me, Pe, E, D, O, !1, j.lineMetrics); else if ("MultiLineString" === oe) mt(me, Pe, E, D, O, !1); else if ("Polygon" === oe) mt(me, Pe, E, D, O, !0); else if ("MultiPolygon" === oe) for (var Ne = 0; Ne < me.length; Ne++) {
                                var et = [];
                                mt(me[Ne], et, E, D, O, !0), et.length && Pe.push(et)
                            }
                            if (Pe.length) {
                                if (j.lineMetrics && "LineString" === oe) {
                                    for (Ne = 0; Ne < Pe.length; Ne++) G.push(Be(ne.id, oe, Pe[Ne], ne.tags));
                                    continue
                                }
                                "LineString" !== oe && "MultiLineString" !== oe || (1 === Pe.length ? (oe = "LineString", Pe = Pe[0]) : oe = "MultiLineString"), "Point" !== oe && "MultiPoint" !== oe || (oe = 3 === Pe.length ? "Point" : "MultiPoint"), G.push(Be(ne.id, oe, Pe, ne.tags))
                            }
                        }
                    }
                    return G.length ? G : null
                }

                function Ur(L, I, E, D, O) {
                    for (var Z = 0; Z < L.length; Z += 3) {
                        var q = L[Z + O];
                        q >= E && q <= D && (I.push(L[Z]), I.push(L[Z + 1]), I.push(L[Z + 2]))
                    }
                }

                function Ei(L, I, E, D, O, Z, q) {
                    for (var j, G, Y = di(L), ne = 0 === O ? Vr : an, me = L.start, oe = 0; oe < L.length - 3; oe += 3) {
                        var Fe = L[oe], Ve = L[oe + 1], Pe = L[oe + 2], Ne = L[oe + 3], et = L[oe + 4],
                            bt = 0 === O ? Fe : Ve, tt = 0 === O ? Ne : et, rt = !1;
                        q && (j = Math.sqrt(Math.pow(Fe - Ne, 2) + Math.pow(Ve - et, 2))), bt < E ? tt > E && (G = ne(Y, Fe, Ve, Ne, et, E), q && (Y.start = me + j * G)) : bt > D ? tt < D && (G = ne(Y, Fe, Ve, Ne, et, D), q && (Y.start = me + j * G)) : on(Y, Fe, Ve, Pe), tt < E && bt >= E && (G = ne(Y, Fe, Ve, Ne, et, E), rt = !0), tt > D && bt <= D && (G = ne(Y, Fe, Ve, Ne, et, D), rt = !0), !Z && rt && (q && (Y.end = me + j * G), I.push(Y), Y = di(L)), q && (me += j)
                    }
                    var Ct = L.length - 3;
                    Fe = L[Ct], Ve = L[Ct + 1], Pe = L[Ct + 2], (bt = 0 === O ? Fe : Ve) >= E && bt <= D && on(Y, Fe, Ve, Pe), Ct = Y.length - 3, Z && Ct >= 3 && (Y[Ct] !== Y[0] || Y[Ct + 1] !== Y[1]) && on(Y, Y[0], Y[1], Y[2]), Y.length && I.push(Y)
                }

                function di(L) {
                    var I = [];
                    return I.size = L.size, I.start = L.start, I.end = L.end, I
                }

                function mt(L, I, E, D, O, Z) {
                    for (var q = 0; q < L.length; q++) Ei(L[q], I, E, D, O, Z, !1)
                }

                function on(L, I, E, D) {
                    L.push(I), L.push(E), L.push(D)
                }

                function Vr(L, I, E, D, O, Z) {
                    var q = (Z - I) / (D - I);
                    return L.push(Z), L.push(E + (O - E) * q), L.push(1), q
                }

                function an(L, I, E, D, O, Z) {
                    var q = (Z - E) / (O - E);
                    return L.push(I + (D - I) * q), L.push(Z), L.push(1), q
                }

                function it(L, I) {
                    for (var E = [], D = 0; D < L.length; D++) {
                        var O, Z = L[D], q = Z.type;
                        if ("Point" === q || "MultiPoint" === q || "LineString" === q) O = Cr(Z.geometry, I); else if ("MultiLineString" === q || "Polygon" === q) {
                            O = [];
                            for (var j = 0; j < Z.geometry.length; j++) O.push(Cr(Z.geometry[j], I))
                        } else if ("MultiPolygon" === q) for (O = [], j = 0; j < Z.geometry.length; j++) {
                            for (var G = [], Y = 0; Y < Z.geometry[j].length; Y++) G.push(Cr(Z.geometry[j][Y], I));
                            O.push(G)
                        }
                        E.push(Be(Z.id, q, O, Z.tags))
                    }
                    return E
                }

                function Cr(L, I) {
                    var E = [];
                    E.size = L.size, void 0 !== L.start && (E.start = L.start, E.end = L.end);
                    for (var D = 0; D < L.length; D += 3) E.push(L[D] + I, L[D + 1], L[D + 2]);
                    return E
                }

                function ln(L, I) {
                    if (L.transformed) return L;
                    var E, D, O, Z = 1 << L.z, q = L.x, j = L.y;
                    for (E = 0; E < L.features.length; E++) {
                        var G = L.features[E], Y = G.geometry, ne = G.type;
                        if (G.geometry = [], 1 === ne) for (D = 0; D < Y.length; D += 2) G.geometry.push(Nr(Y[D], Y[D + 1], I, Z, q, j)); else for (D = 0; D < Y.length; D++) {
                            var me = [];
                            for (O = 0; O < Y[D].length; O += 2) me.push(Nr(Y[D][O], Y[D][O + 1], I, Z, q, j));
                            G.geometry.push(me)
                        }
                    }
                    return L.transformed = !0, L
                }

                function Nr(L, I, E, D, O, Z) {
                    return [Math.round(E * (L * D - O)), Math.round(E * (I * D - Z))]
                }

                function Dn(L, I, E, D, O) {
                    for (var Z = I === O.maxZoom ? 0 : O.tolerance / ((1 << I) * O.extent), q = {
                        features: [],
                        numPoints: 0,
                        numSimplified: 0,
                        numFeatures: 0,
                        source: null,
                        x: E,
                        y: D,
                        z: I,
                        transformed: !1,
                        minX: 2,
                        minY: 1,
                        maxX: -1,
                        maxY: 0
                    }, j = 0; j < L.length; j++) {
                        q.numFeatures++, hr(q, L[j], Z, O);
                        var G = L[j].minX, Y = L[j].minY, ne = L[j].maxX, me = L[j].maxY;
                        G < q.minX && (q.minX = G), Y < q.minY && (q.minY = Y), ne > q.maxX && (q.maxX = ne), me > q.maxY && (q.maxY = me)
                    }
                    return q
                }

                function hr(L, I, E, D) {
                    var O = I.geometry, Z = I.type, q = [];
                    if ("Point" === Z || "MultiPoint" === Z) for (var j = 0; j < O.length; j += 3) q.push(O[j]), q.push(O[j + 1]), L.numPoints++, L.numSimplified++; else if ("LineString" === Z) Tr(q, O, L, E, !1, !1); else if ("MultiLineString" === Z || "Polygon" === Z) for (j = 0; j < O.length; j++) Tr(q, O[j], L, E, "Polygon" === Z, 0 === j); else if ("MultiPolygon" === Z) for (var G = 0; G < O.length; G++) {
                        var Y = O[G];
                        for (j = 0; j < Y.length; j++) Tr(q, Y[j], L, E, !0, 0 === j)
                    }
                    if (q.length) {
                        var ne = I.tags || null;
                        if ("LineString" === Z && D.lineMetrics) {
                            for (var me in ne = {}, I.tags) ne[me] = I.tags[me];
                            ne.mapbox_clip_start = O.start / O.size, ne.mapbox_clip_end = O.end / O.size
                        }
                        var oe = {
                            geometry: q,
                            type: "Polygon" === Z || "MultiPolygon" === Z ? 3 : "LineString" === Z || "MultiLineString" === Z ? 2 : 1,
                            tags: ne
                        };
                        null !== I.id && (oe.id = I.id), L.features.push(oe)
                    }
                }

                function Tr(L, I, E, D, O, Z) {
                    var q = D * D;
                    if (D > 0 && I.size < (O ? q : D)) E.numPoints += I.length / 3; else {
                        for (var j = [], G = 0; G < I.length; G += 3) (0 === D || I[G + 2] > q) && (E.numSimplified++, j.push(I[G]), j.push(I[G + 1])), E.numPoints++;
                        O && function (Y, ne) {
                            for (var me = 0, oe = 0, Fe = Y.length, Ve = Fe - 2; oe < Fe; Ve = oe, oe += 2) me += (Y[oe] - Y[Ve]) * (Y[oe + 1] + Y[Ve + 1]);
                            if (me > 0 === ne) for (oe = 0, Fe = Y.length; oe < Fe / 2; oe += 2) {
                                var Pe = Y[oe], Ne = Y[oe + 1];
                                Y[oe] = Y[Fe - 2 - oe], Y[oe + 1] = Y[Fe - 1 - oe], Y[Fe - 2 - oe] = Pe, Y[Fe - 1 - oe] = Ne
                            }
                        }(j, Z), L.push(j)
                    }
                }

                function lt(L, I) {
                    var E = (I = this.options = function (O, Z) {
                        for (var q in Z) O[q] = Z[q];
                        return O
                    }(Object.create(this.options), I)).debug;
                    if (E && console.time("preprocess data"), I.maxZoom < 0 || I.maxZoom > 24) throw new Error("maxZoom should be in the 0-24 range");
                    if (I.promoteId && I.generateId) throw new Error("promoteId and generateId cannot be used together.");
                    var O, Z, q, j, G, Y, D = function (O, Z) {
                        var q = [];
                        if ("FeatureCollection" === O.type) for (var j = 0; j < O.features.length; j++) Oe(q, O.features[j], Z, j); else Oe(q, "Feature" === O.type ? O : {geometry: O}, Z);
                        return q
                    }(L, I);
                    this.tiles = {}, this.tileCoords = [], E && (console.timeEnd("preprocess data"), console.log("index: maxZoom: %d, maxPoints: %d", I.indexMaxZoom, I.indexMaxPoints), console.time("generate tiles"), this.stats = {}, this.total = 0), j = O = D, G = ri(O, 1, -1 - (q = (Z = I).buffer / Z.extent), q, 0, -1, 2, Z), Y = ri(O, 1, 1 - q, 2 + q, 0, -1, 2, Z), (G || Y) && (j = ri(O, 1, -q, 1 + q, 0, -1, 2, Z) || [], G && (j = it(G, 1).concat(j)), Y && (j = j.concat(it(Y, -1)))), (D = j).length && this.splitTile(D, 0, 0, 0), E && (D.length && console.log("features: %d, points: %d", this.tiles[0].numFeatures, this.tiles[0].numPoints), console.timeEnd("generate tiles"), console.log("tiles generated:", this.total, JSON.stringify(this.stats)))
                }

                function $r(L, I, E) {
                    return 32 * ((1 << L) * E + I) + L
                }

                function Fi(L, I) {
                    return I ? L.properties[I] : L.id
                }

                function ei(L, I) {
                    if (null == L) return !0;
                    if ("Feature" === L.type) return null != Fi(L, I);
                    if ("FeatureCollection" === L.type) {
                        const E = new Set;
                        for (const D of L.features) {
                            const O = Fi(D, I);
                            if (null == O || E.has(O)) return !1;
                            E.add(O)
                        }
                        return !0
                    }
                    return !1
                }

                function Jt(L, I) {
                    const E = new Map;
                    if (null != L) if ("Feature" === L.type) E.set(Fi(L, I), L); else for (const D of L.features) E.set(Fi(D, I), D);
                    return E
                }

                function mi(L, I) {
                    const E = L.tileID.canonical;
                    if (!this._geoJSONIndex) return I(null, null);
                    const D = this._geoJSONIndex.getTile(E.z, E.x, E.y);
                    if (!D) return I(null, null);
                    const O = new class {
                        constructor(q) {
                            this.layers = {_geojsonTileLayer: this}, this.name = "_geojsonTileLayer", this.extent = h.EXTENT, this.length = q.length, this._features = q
                        }

                        feature(q) {
                            return new class {
                                constructor(j) {
                                    this._feature = j, this.extent = h.EXTENT, this.type = j.type, this.properties = j.tags, "id" in j && !isNaN(j.id) && (this.id = parseInt(j.id, 10))
                                }

                                loadGeometry() {
                                    if (1 === this._feature.type) {
                                        const j = [];
                                        for (const G of this._feature.geometry) j.push([new h.pointGeometry(G[0], G[1])]);
                                        return j
                                    }
                                    {
                                        const j = [];
                                        for (const G of this._feature.geometry) {
                                            const Y = [];
                                            for (const ne of G) Y.push(new h.pointGeometry(ne[0], ne[1]));
                                            j.push(Y)
                                        }
                                        return j
                                    }
                                }

                                toGeoJSON(j, G, Y) {
                                    return yr.call(this, j, G, Y)
                                }
                            }(this._features[q])
                        }
                    }(D.features);
                    let Z = at(O);
                    0 === Z.byteOffset && Z.byteLength === Z.buffer.byteLength || (Z = new Uint8Array(Z)), I(null, {
                        vectorTile: O,
                        rawData: Z.buffer
                    })
                }

                lt.prototype.options = {
                    maxZoom: 14,
                    indexMaxZoom: 5,
                    indexMaxPoints: 1e5,
                    tolerance: 3,
                    extent: 4096,
                    buffer: 64,
                    lineMetrics: !1,
                    promoteId: null,
                    generateId: !1,
                    debug: 0
                }, lt.prototype.splitTile = function (L, I, E, D, O, Z, q) {
                    for (var j = [L, I, E, D], G = this.options, Y = G.debug; j.length;) {
                        D = j.pop(), E = j.pop(), I = j.pop(), L = j.pop();
                        var ne = 1 << I, me = $r(I, E, D), oe = this.tiles[me];
                        if (!oe && (Y > 1 && console.time("creation"), oe = this.tiles[me] = Dn(L, I, E, D, G), this.tileCoords.push({
                            z: I,
                            x: E,
                            y: D
                        }), Y)) {
                            Y > 1 && (console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)", I, E, D, oe.numFeatures, oe.numPoints, oe.numSimplified), console.timeEnd("creation"));
                            var Fe = "z" + I;
                            this.stats[Fe] = (this.stats[Fe] || 0) + 1, this.total++
                        }
                        if (oe.source = L, O) {
                            if (I === G.maxZoom || I === O) continue;
                            var Ve = 1 << O - I;
                            if (E !== Math.floor(Z / Ve) || D !== Math.floor(q / Ve)) continue
                        } else if (I === G.indexMaxZoom || oe.numPoints <= G.indexMaxPoints) continue;
                        if (oe.source = null, 0 !== L.length) {
                            Y > 1 && console.time("clipping");
                            var Pe, Ne, et, bt, tt, rt, Ct = .5 * G.buffer / G.extent, Ot = .5 - Ct, ti = .5 + Ct,
                                jt = 1 + Ct;
                            Pe = Ne = et = bt = null, tt = ri(L, ne, E - Ct, E + ti, 0, oe.minX, oe.maxX, G), rt = ri(L, ne, E + Ot, E + jt, 0, oe.minX, oe.maxX, G), L = null, tt && (Pe = ri(tt, ne, D - Ct, D + ti, 1, oe.minY, oe.maxY, G), Ne = ri(tt, ne, D + Ot, D + jt, 1, oe.minY, oe.maxY, G), tt = null), rt && (et = ri(rt, ne, D - Ct, D + ti, 1, oe.minY, oe.maxY, G), bt = ri(rt, ne, D + Ot, D + jt, 1, oe.minY, oe.maxY, G), rt = null), Y > 1 && console.timeEnd("clipping"), j.push(Pe || [], I + 1, 2 * E, 2 * D), j.push(Ne || [], I + 1, 2 * E, 2 * D + 1), j.push(et || [], I + 1, 2 * E + 1, 2 * D), j.push(bt || [], I + 1, 2 * E + 1, 2 * D + 1)
                        }
                    }
                }, lt.prototype.getTile = function (L, I, E) {
                    var D = this.options, O = D.extent, Z = D.debug;
                    if (L < 0 || L > 24) return null;
                    var q = 1 << L, j = $r(L, I = (I % q + q) % q, E);
                    if (this.tiles[j]) return ln(this.tiles[j], O);
                    Z > 1 && console.log("drilling down to z%d-%d-%d", L, I, E);
                    for (var G, Y = L, ne = I, me = E; !G && Y > 0;) Y--, ne = Math.floor(ne / 2), me = Math.floor(me / 2), G = this.tiles[$r(Y, ne, me)];
                    return G && G.source ? (Z > 1 && console.log("found parent tile z%d-%d-%d", Y, ne, me), Z > 1 && console.time("drilling down"), this.splitTile(G.source, Y, ne, me, L, I, E), Z > 1 && console.timeEnd("drilling down"), this.tiles[j] ? ln(this.tiles[j], O) : null) : null
                };

                class fi extends Kt {
                    constructor(I, E, D, O) {
                        super(I, E, D, mi), this._dataUpdateable = new Map, this.loadGeoJSON = (Z, q) => {
                            const {promoteId: j} = Z;
                            if (Z.request) return h.getJSON(Z.request, (G, Y, ne, me) => {
                                this._dataUpdateable = ei(Y, j) ? Jt(Y, j) : void 0, q(G, Y, ne, me)
                            });
                            if ("string" == typeof Z.data) try {
                                const G = JSON.parse(Z.data);
                                this._dataUpdateable = ei(G, j) ? Jt(G, j) : void 0, q(null, G)
                            } catch {
                                q(new Error(`Input data given to '${Z.source}' is not a valid GeoJSON object.`))
                            } else Z.dataDiff ? this._dataUpdateable ? (function (G, Y, ne) {
                                var me, oe, Fe, Ve;
                                if (Y.removeAll && G.clear(), Y.remove) for (const Pe of Y.remove) G.delete(Pe);
                                if (Y.add) for (const Pe of Y.add) {
                                    const Ne = Fi(Pe, ne);
                                    null != Ne && G.set(Ne, Pe)
                                }
                                if (Y.update) for (const Pe of Y.update) {
                                    let Ne = G.get(Pe.id);
                                    if (null == Ne) continue;
                                    const et = !Pe.removeAllProperties && ((null === (me = Pe.removeProperties) || void 0 === me ? void 0 : me.length) > 0 || (null === (oe = Pe.addOrUpdateProperties) || void 0 === oe ? void 0 : oe.length) > 0);
                                    if ((Pe.newGeometry || Pe.removeAllProperties || et) && (Ne = {...Ne}, G.set(Pe.id, Ne), et && (Ne.properties = {...Ne.properties})), Pe.newGeometry && (Ne.geometry = Pe.newGeometry), Pe.removeAllProperties) Ne.properties = {}; else if ((null === (Fe = Pe.removeProperties) || void 0 === Fe ? void 0 : Fe.length) > 0) for (const bt of Pe.removeProperties) Object.prototype.hasOwnProperty.call(Ne.properties, bt) && delete Ne.properties[bt];
                                    if ((null === (Ve = Pe.addOrUpdateProperties) || void 0 === Ve ? void 0 : Ve.length) > 0) for (const {
                                        key: bt,
                                        value: tt
                                    } of Pe.addOrUpdateProperties) Ne.properties[bt] = tt
                                }
                            }(this._dataUpdateable, Z.dataDiff, j), q(null, {
                                type: "FeatureCollection",
                                features: Array.from(this._dataUpdateable.values())
                            })) : q(new Error(`Cannot update existing geojson data in ${Z.source}`)) : q(new Error(`Input data given to '${Z.source}' is not a valid GeoJSON object.`));
                            return {
                                cancel: () => {
                                }
                            }
                        }, O && (this.loadGeoJSON = O)
                    }

                    loadData(I, E) {
                        var D;
                        null === (D = this._pendingRequest) || void 0 === D || D.cancel(), this._pendingCallback && this._pendingCallback(null, {abandoned: !0});
                        const O = !!(I && I.request && I.request.collectResourceTiming) && new h.RequestPerformance(I.request);
                        this._pendingCallback = E, this._pendingRequest = this.loadGeoJSON(I, (Z, q) => {
                            if (delete this._pendingCallback, delete this._pendingRequest, Z || !q) return E(Z);
                            if ("object" != typeof q) return E(new Error(`Input data given to '${I.source}' is not a valid GeoJSON object.`));
                            {
                                ar(q, !0);
                                try {
                                    if (I.filter) {
                                        const G = h.createExpression(I.filter, {
                                            type: "boolean",
                                            "property-type": "data-driven",
                                            overridable: !1,
                                            transition: !1
                                        });
                                        if ("error" === G.result) throw new Error(G.value.map(ne => `${ne.key}: ${ne.message}`).join(", "));
                                        q = {
                                            type: "FeatureCollection",
                                            features: q.features.filter(ne => G.value.evaluate({zoom: 0}, ne))
                                        }
                                    }
                                    this._geoJSONIndex = I.cluster ? new lr(function ({
                                                                                          superclusterOptions: G,
                                                                                          clusterProperties: Y
                                                                                      }) {
                                        if (!Y || !G) return G;
                                        const ne = {}, me = {}, oe = {accumulated: null, zoom: 0},
                                            Fe = {properties: null}, Ve = Object.keys(Y);
                                        for (const Pe of Ve) {
                                            const [Ne, et] = Y[Pe], bt = h.createExpression(et),
                                                tt = h.createExpression("string" == typeof Ne ? [Ne, ["accumulated"], ["get", Pe]] : Ne);
                                            ne[Pe] = bt.value, me[Pe] = tt.value
                                        }
                                        return G.map = Pe => {
                                            Fe.properties = Pe;
                                            const Ne = {};
                                            for (const et of Ve) Ne[et] = ne[et].evaluate(oe, Fe);
                                            return Ne
                                        }, G.reduce = (Pe, Ne) => {
                                            Fe.properties = Ne;
                                            for (const et of Ve) oe.accumulated = Pe[et], Pe[et] = me[et].evaluate(oe, Fe)
                                        }, G
                                    }(I)).load(q.features) : new lt(G = q, I.geojsonVtOptions)
                                } catch (G) {
                                    return E(G)
                                }
                                this.loaded = {};
                                const j = {};
                                if (O) {
                                    const G = O.finish();
                                    G && (j.resourceTiming = {}, j.resourceTiming[I.source] = JSON.parse(JSON.stringify(G)))
                                }
                                E(null, j)
                            }
                            var G
                        })
                    }

                    reloadTile(I, E) {
                        const D = this.loaded;
                        return D && D[I.uid] ? super.reloadTile(I, E) : this.loadTile(I, E)
                    }

                    removeSource(I, E) {
                        this._pendingCallback && this._pendingCallback(null, {abandoned: !0}), E()
                    }

                    getClusterExpansionZoom(I, E) {
                        try {
                            E(null, this._geoJSONIndex.getClusterExpansionZoom(I.clusterId))
                        } catch (D) {
                            E(D)
                        }
                    }

                    getClusterChildren(I, E) {
                        try {
                            E(null, this._geoJSONIndex.getChildren(I.clusterId))
                        } catch (D) {
                            E(D)
                        }
                    }

                    getClusterLeaves(I, E) {
                        try {
                            E(null, this._geoJSONIndex.getLeaves(I.clusterId, I.limit, I.offset))
                        } catch (D) {
                            E(D)
                        }
                    }
                }

                class ur {
                    constructor(I) {
                        this.self = I, this.actor = new h.Actor(I, this), this.layerIndexes = {}, this.availableImages = {}, this.workerSourceTypes = {
                            vector: Kt,
                            geojson: fi
                        }, this.workerSources = {}, this.demWorkerSources = {}, this.self.registerWorkerSource = (E, D) => {
                            if (this.workerSourceTypes[E]) throw new Error(`Worker source with name "${E}" already registered.`);
                            this.workerSourceTypes[E] = D
                        }, this.self.registerRTLTextPlugin = E => {
                            if (h.plugin.isParsed()) throw new Error("RTL text plugin already registered.");
                            h.plugin.applyArabicShaping = E.applyArabicShaping, h.plugin.processBidirectionalText = E.processBidirectionalText, h.plugin.processStyledBidirectionalText = E.processStyledBidirectionalText
                        }
                    }

                    setReferrer(I, E) {
                        this.referrer = E
                    }

                    setImages(I, E, D) {
                        this.availableImages[I] = E;
                        for (const O in this.workerSources[I]) {
                            const Z = this.workerSources[I][O];
                            for (const q in Z) Z[q].availableImages = E
                        }
                        D()
                    }

                    setLayers(I, E, D) {
                        this.getLayerIndex(I).replace(E), D()
                    }

                    updateLayers(I, E, D) {
                        this.getLayerIndex(I).update(E.layers, E.removedIds), D()
                    }

                    loadTile(I, E, D) {
                        this.getWorkerSource(I, E.type, E.source).loadTile(E, D)
                    }

                    loadDEMTile(I, E, D) {
                        this.getDEMWorkerSource(I, E.source).loadTile(E, D)
                    }

                    reloadTile(I, E, D) {
                        this.getWorkerSource(I, E.type, E.source).reloadTile(E, D)
                    }

                    abortTile(I, E, D) {
                        this.getWorkerSource(I, E.type, E.source).abortTile(E, D)
                    }

                    removeTile(I, E, D) {
                        this.getWorkerSource(I, E.type, E.source).removeTile(E, D)
                    }

                    removeDEMTile(I, E) {
                        this.getDEMWorkerSource(I, E.source).removeTile(E)
                    }

                    removeSource(I, E, D) {
                        if (!this.workerSources[I] || !this.workerSources[I][E.type] || !this.workerSources[I][E.type][E.source]) return;
                        const O = this.workerSources[I][E.type][E.source];
                        delete this.workerSources[I][E.type][E.source], void 0 !== O.removeSource ? O.removeSource(E, D) : D()
                    }

                    loadWorkerSource(I, E, D) {
                        try {
                            this.self.importScripts(E.url), D()
                        } catch (O) {
                            D(O.toString())
                        }
                    }

                    syncRTLPluginState(I, E, D) {
                        try {
                            h.plugin.setState(E);
                            const O = h.plugin.getPluginURL();
                            if (h.plugin.isLoaded() && !h.plugin.isParsed() && null != O) {
                                this.self.importScripts(O);
                                const Z = h.plugin.isParsed();
                                D(Z ? void 0 : new Error(`RTL Text Plugin failed to import scripts from ${O}`), Z)
                            }
                        } catch (O) {
                            D(O.toString())
                        }
                    }

                    getAvailableImages(I) {
                        let E = this.availableImages[I];
                        return E || (E = []), E
                    }

                    getLayerIndex(I) {
                        let E = this.layerIndexes[I];
                        return E || (E = this.layerIndexes[I] = new Dt), E
                    }

                    getWorkerSource(I, E, D) {
                        return this.workerSources[I] || (this.workerSources[I] = {}), this.workerSources[I][E] || (this.workerSources[I][E] = {}), this.workerSources[I][E][D] || (this.workerSources[I][E][D] = new this.workerSourceTypes[E]({
                            send: (Z, q, j) => {
                                this.actor.send(Z, q, j, I)
                            }
                        }, this.getLayerIndex(I), this.getAvailableImages(I))), this.workerSources[I][E][D]
                    }

                    getDEMWorkerSource(I, E) {
                        return this.demWorkerSources[I] || (this.demWorkerSources[I] = {}), this.demWorkerSources[I][E] || (this.demWorkerSources[I][E] = new hi), this.demWorkerSources[I][E]
                    }
                }

                return h.isWorker() && (self.worker = new ur(self)), ur
            }), Wt(0, function (h) {
                var ft = yt;

                function yt(a) {
                    return t = a, !(typeof window > "u" || typeof document > "u" || !(Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray) || !Function.prototype || !Function.prototype.bind || !(Object.keys && Object.create && Object.getPrototypeOf && Object.getOwnPropertyNames && Object.isSealed && Object.isFrozen && Object.isExtensible && Object.getOwnPropertyDescriptor && Object.defineProperty && Object.defineProperties && Object.seal && Object.freeze && Object.preventExtensions) || !("JSON" in window && "parse" in JSON && "stringify" in JSON) || !function () {
                        if (!("Worker" in window && "Blob" in window && "URL" in window)) return !1;
                        var o, l, p = new Blob([""], {type: "text/javascript"}), m = URL.createObjectURL(p);
                        try {
                            l = new Worker(m), o = !0
                        } catch {
                            o = !1
                        }
                        return l && l.terminate(), URL.revokeObjectURL(m), o
                    }() || !("Uint8ClampedArray" in window) || !ArrayBuffer.isView || !function () {
                        var o = document.createElement("canvas");
                        o.width = o.height = 1;
                        var l = o.getContext("2d");
                        if (!l) return !1;
                        var p = l.getImageData(0, 0, 1, 1);
                        return p && p.width === o.width
                    }() || (void 0 === Dt[n = t && t.failIfMajorPerformanceCaveat] && (Dt[n] = function (o) {
                        var l, m, g, y,
                            p = (m = o, g = document.createElement("canvas"), (y = Object.create(yt.webGLContextAttributes)).failIfMajorPerformanceCaveat = m, g.getContext("webgl", y) || g.getContext("experimental-webgl", y));
                        if (!p) return !1;
                        try {
                            l = p.createShader(p.VERTEX_SHADER)
                        } catch {
                            return !1
                        }
                        return !(!l || p.isContextLost()) && (p.shaderSource(l, "void main() {}"), p.compileShader(l), !0 === p.getShaderParameter(l, p.COMPILE_STATUS))
                    }(n)), !Dt[n] || document.documentMode));
                    var t, n
                }

                var Dt = {};
                yt.webGLContextAttributes = {antialias: !1, alpha: !0, stencil: !0, depth: !0};
                var Ht = "3.0.0-pre.4";

                function Ze(a, t) {
                    if (Array.isArray(a)) {
                        if (!Array.isArray(t) || a.length !== t.length) return !1;
                        for (let n = 0; n < a.length; n++) if (!Ze(a[n], t[n])) return !1;
                        return !0
                    }
                    if ("object" == typeof a && null !== a && null !== t) {
                        if ("object" != typeof t || Object.keys(a).length !== Object.keys(t).length) return !1;
                        for (const n in a) if (!Ze(a[n], t[n])) return !1;
                        return !0
                    }
                    return a === t
                }

                class ie {
                    static testProp(t) {
                        if (!ie.docStyle) return t[0];
                        for (let n = 0; n < t.length; n++) if (t[n] in ie.docStyle) return t[n];
                        return t[0]
                    }

                    static create(t, n, o) {
                        const l = window.document.createElement(t);
                        return void 0 !== n && (l.className = n), o && o.appendChild(l), l
                    }

                    static createNS(t, n) {
                        return window.document.createElementNS(t, n)
                    }

                    static disableDrag() {
                        ie.docStyle && ie.selectProp && (ie.userSelect = ie.docStyle[ie.selectProp], ie.docStyle[ie.selectProp] = "none")
                    }

                    static enableDrag() {
                        ie.docStyle && ie.selectProp && (ie.docStyle[ie.selectProp] = ie.userSelect)
                    }

                    static setTransform(t, n) {
                        t.style[ie.transformProp] = n
                    }

                    static addEventListener(t, n, o, l = {}) {
                        t.addEventListener(n, o, "passive" in l ? l : l.capture)
                    }

                    static removeEventListener(t, n, o, l = {}) {
                        t.removeEventListener(n, o, "passive" in l ? l : l.capture)
                    }

                    static suppressClickInternal(t) {
                        t.preventDefault(), t.stopPropagation(), window.removeEventListener("click", ie.suppressClickInternal, !0)
                    }

                    static suppressClick() {
                        window.addEventListener("click", ie.suppressClickInternal, !0), window.setTimeout(() => {
                            window.removeEventListener("click", ie.suppressClickInternal, !0)
                        }, 0)
                    }

                    static mousePos(t, n) {
                        const o = t.getBoundingClientRect();
                        return new h.pointGeometry(n.clientX - o.left - t.clientLeft, n.clientY - o.top - t.clientTop)
                    }

                    static touchPos(t, n) {
                        const o = t.getBoundingClientRect(), l = [];
                        for (let p = 0; p < n.length; p++) l.push(new h.pointGeometry(n[p].clientX - o.left - t.clientLeft, n[p].clientY - o.top - t.clientTop));
                        return l
                    }

                    static mouseButton(t) {
                        return t.button
                    }

                    static remove(t) {
                        t.parentNode && t.parentNode.removeChild(t)
                    }
                }

                ie.docStyle = typeof window < "u" && window.document && window.document.documentElement.style, ie.selectProp = ie.testProp(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]), ie.transformProp = ie.testProp(["transform", "WebkitTransform"]);
                const ot = {
                    supported: !1, testSupport: function (a) {
                        !ar && hi && (_r ? ui(a) : Kt = a)
                    }
                };
                let Kt, hi, ar = !1, _r = !1;

                function ui(a) {
                    const t = a.createTexture();
                    a.bindTexture(a.TEXTURE_2D, t);
                    try {
                        if (a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, a.RGBA, a.UNSIGNED_BYTE, hi), a.isContextLost()) return;
                        ot.supported = !0
                    } catch {
                    }
                    a.deleteTexture(t), ar = !0
                }

                var yr;
                typeof document < "u" && (hi = document.createElement("img"), hi.onload = function () {
                    Kt && ui(Kt), Kt = null, _r = !0
                }, hi.onerror = function () {
                    ar = !0, Kt = null
                }, hi.src = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="), function (a) {
                    let t, n, o, l;
                    a.resetRequestQueue = () => {
                        t = [], n = 0, o = 0, l = {}
                    }, a.addThrottleControl = g => {
                        const y = o++;
                        return l[y] = g, y
                    }, a.removeThrottleControl = g => {
                        delete l[g]
                    };
                    const p = () => {
                        const g = Object.keys(l);
                        let y = !1;
                        if (g.length > 0) for (const x of g) if (y = l[x](), y) break;
                        return y
                    };
                    a.getImage = (g, y) => {
                        ot.supported && (g.headers || (g.headers = {}), g.headers.accept = "image/webp,*/*");
                        const x = {
                            requestParameters: g, callback: y, cancelled: !1, completed: !1, cancel: () => {
                            }
                        };
                        return t.push(x), p() || a.processQueue(), x
                    };
                    const m = g => {
                        const {requestParameters: y, callback: x} = g;
                        return h.getArrayBuffer(y, (C, S, M, R) => {
                            var B, P;
                            C ? x(C) : S && (B = S, P = (B, P) => {
                                null != B ? x(B) : null != P && x(null, P, {cacheControl: M, expires: R})
                            }, "function" == typeof createImageBitmap ? h.arrayBufferToImageBitmap(B, P) : h.arrayBufferToImage(B, P)), g.cancelled || (g.completed = !0, n--, p() || a.processQueue())
                        })
                    };
                    a.processQueue = (g = 0) => {
                        g <= 0 && (g = p() ? h.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME : h.config.MAX_PARALLEL_IMAGE_REQUESTS);
                        for (let y = n; y < g && t.length > 0; y++) {
                            const x = t.shift();
                            if (x.cancelled) continue;
                            const C = m(x);
                            n++, x.innerRequest = C, x.cancel = () => {
                                var S;
                                (S = x).completed || S.cancelled || (n--, S.cancelled = !0, S.innerRequest.cancel(), a.processQueue())
                            }
                        }
                        return t.length
                    }
                }(yr || (yr = {})), yr.resetRequestQueue();
                var at, a, Et = yr;
                (a = at || (at = {})).Glyphs = "Glyphs", a.Image = "Image", a.Source = "Source", a.SpriteImage = "SpriteImage", a.SpriteJSON = "SpriteJSON", a.Style = "Style", a.Tile = "Tile", a.Unknown = "Unknown";

                class zn {
                    constructor(t) {
                        this._transformRequestFn = t
                    }

                    transformRequest(t, n) {
                        return this._transformRequestFn && this._transformRequestFn(t, n) || {url: t}
                    }

                    normalizeSpriteURL(t, n, o) {
                        const l = function (p) {
                            const m = p.match(pi);
                            if (!m) throw new Error(`Unable to parse URL "${p}"`);
                            return {
                                protocol: m[1],
                                authority: m[2],
                                path: m[3] || "/",
                                params: m[4] ? m[4].split("&") : []
                            }
                        }(t);
                        return l.path += `${n}${o}`, function (p) {
                            const m = p.params.length ? `?${p.params.join("&")}` : "";
                            return `${p.protocol}://${p.authority}${p.path}${m}`
                        }(l)
                    }

                    setTransformRequest(t) {
                        this._transformRequestFn = t
                    }
                }

                const pi = /^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;

                function Rr(a) {
                    var t = new h.ARRAY_TYPE(3);
                    return t[0] = a[0], t[1] = a[1], t[2] = a[2], t
                }

                var Qi, er = function (a, t, n) {
                    return a[0] = t[0] - n[0], a[1] = t[1] - n[1], a[2] = t[2] - n[2], a
                };
                Qi = new h.ARRAY_TYPE(3), h.ARRAY_TYPE != Float32Array && (Qi[0] = 0, Qi[1] = 0, Qi[2] = 0);
                var nn = function (a) {
                    var t = a[0], n = a[1];
                    return t * t + n * n
                };

                function Gi(a) {
                    return "string" == typeof a ? [{id: "default", url: a}] : a ?? []
                }

                !function () {
                    var a = new h.ARRAY_TYPE(2);
                    h.ARRAY_TYPE != Float32Array && (a[0] = 0, a[1] = 0)
                }();

                class St {
                    constructor(t, n, o, l) {
                        this.context = t, this.format = o, this.texture = t.gl.createTexture(), this.update(n, l)
                    }

                    update(t, n, o) {
                        const {width: l, height: p} = t,
                            m = !(this.size && this.size[0] === l && this.size[1] === p || o), {context: g} = this, {gl: y} = g;
                        if (this.useMipmap = Boolean(n && n.useMipmap), y.bindTexture(y.TEXTURE_2D, this.texture), g.pixelStoreUnpackFlipY.set(!1), g.pixelStoreUnpack.set(1), g.pixelStoreUnpackPremultiplyAlpha.set(this.format === y.RGBA && (!n || !1 !== n.premultiply)), m) this.size = [l, p], t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement || t instanceof ImageData || h.isImageBitmap(t) ? y.texImage2D(y.TEXTURE_2D, 0, this.format, this.format, y.UNSIGNED_BYTE, t) : y.texImage2D(y.TEXTURE_2D, 0, this.format, l, p, 0, this.format, y.UNSIGNED_BYTE, t.data); else {
                            const {x, y: C} = o || {x: 0, y: 0};
                            t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement || t instanceof ImageData || h.isImageBitmap(t) ? y.texSubImage2D(y.TEXTURE_2D, 0, x, C, y.RGBA, y.UNSIGNED_BYTE, t) : y.texSubImage2D(y.TEXTURE_2D, 0, x, C, l, p, y.RGBA, y.UNSIGNED_BYTE, t.data)
                        }
                        this.useMipmap && this.isSizePowerOfTwo() && y.generateMipmap(y.TEXTURE_2D)
                    }

                    bind(t, n, o) {
                        const {context: l} = this, {gl: p} = l;
                        p.bindTexture(p.TEXTURE_2D, this.texture), o !== p.LINEAR_MIPMAP_NEAREST || this.isSizePowerOfTwo() || (o = p.LINEAR), t !== this.filter && (p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, t), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, o || t), this.filter = t), n !== this.wrap && (p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, n), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, n), this.wrap = n)
                    }

                    isSizePowerOfTwo() {
                        return this.size[0] === this.size[1] && Math.log(this.size[0]) / Math.LN2 % 1 == 0
                    }

                    destroy() {
                        const {gl: t} = this.context;
                        t.deleteTexture(this.texture), this.texture = null
                    }
                }

                function kn(a) {
                    const {userImage: t} = a;
                    return !!(t && t.render && t.render()) && (a.data.replace(new Uint8Array(t.data.buffer)), !0)
                }

                class Xe extends h.Evented {
                    constructor() {
                        super(), this.images = {}, this.updatedImages = {}, this.callbackDispatchedThisFrame = {}, this.loaded = !1, this.requestors = [], this.patterns = {}, this.atlasImage = new h.RGBAImage({
                            width: 1,
                            height: 1
                        }), this.dirty = !0
                    }

                    isLoaded() {
                        return this.loaded
                    }

                    setLoaded(t) {
                        if (this.loaded !== t && (this.loaded = t, t)) {
                            for (const {ids: n, callback: o} of this.requestors) this._notify(n, o);
                            this.requestors = []
                        }
                    }

                    getImage(t) {
                        const n = this.images[t];
                        if (n && !n.data && n.spriteData) {
                            const o = n.spriteData;
                            n.data = new h.RGBAImage({
                                width: o.width,
                                height: o.height
                            }, o.context.getImageData(o.x, o.y, o.width, o.height).data), n.spriteData = null
                        }
                        return n
                    }

                    addImage(t, n) {
                        if (this.images[t]) throw new Error(`Image id ${t} already exist, use updateImage instead`);
                        this._validate(t, n) && (this.images[t] = n)
                    }

                    _validate(t, n) {
                        let o = !0;
                        const l = n.data || n.spriteData;
                        return this._validateStretch(n.stretchX, l && l.width) || (this.fire(new h.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))), o = !1), this._validateStretch(n.stretchY, l && l.height) || (this.fire(new h.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))), o = !1), this._validateContent(n.content, n) || (this.fire(new h.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))), o = !1), o
                    }

                    _validateStretch(t, n) {
                        if (!t) return !0;
                        let o = 0;
                        for (const l of t) {
                            if (l[0] < o || l[1] < l[0] || n < l[1]) return !1;
                            o = l[1]
                        }
                        return !0
                    }

                    _validateContent(t, n) {
                        if (!t) return !0;
                        if (4 !== t.length) return !1;
                        const o = n.spriteData, l = o && o.width || n.data.width, p = o && o.height || n.data.height;
                        return !(t[0] < 0 || l < t[0] || t[1] < 0 || p < t[1] || t[2] < 0 || l < t[2] || t[3] < 0 || p < t[3] || t[2] < t[0] || t[3] < t[1])
                    }

                    updateImage(t, n, o = !0) {
                        const l = this.getImage(t);
                        if (o && (l.data.width !== n.data.width || l.data.height !== n.data.height)) throw new Error(`size mismatch between old image (${l.data.width}x${l.data.height}) and new image (${n.data.width}x${n.data.height}).`);
                        n.version = l.version + 1, this.images[t] = n, this.updatedImages[t] = !0
                    }

                    removeImage(t) {
                        const n = this.images[t];
                        delete this.images[t], delete this.patterns[t], n.userImage && n.userImage.onRemove && n.userImage.onRemove()
                    }

                    listImages() {
                        return Object.keys(this.images)
                    }

                    getImages(t, n) {
                        let o = !0;
                        if (!this.isLoaded()) for (const l of t) this.images[l] || (o = !1);
                        this.isLoaded() || o ? this._notify(t, n) : this.requestors.push({ids: t, callback: n})
                    }

                    _notify(t, n) {
                        const o = {};
                        for (const l of t) {
                            const p = this.getImage(l);
                            p ? o[l] = {
                                data: p.data.clone(),
                                pixelRatio: p.pixelRatio,
                                sdf: p.sdf,
                                version: p.version,
                                stretchX: p.stretchX,
                                stretchY: p.stretchY,
                                content: p.content,
                                hasRenderCallback: Boolean(p.userImage && p.userImage.render)
                            } : (this.fire(new h.Event("styleimagemissing", {id: l})), h.warnOnce(`Image "${l}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`))
                        }
                        n(null, o)
                    }

                    getPixelSize() {
                        const {width: t, height: n} = this.atlasImage;
                        return {width: t, height: n}
                    }

                    getPattern(t) {
                        const n = this.patterns[t], o = this.getImage(t);
                        if (!o) return null;
                        if (n && n.position.version === o.version) return n.position;
                        if (n) n.position.version = o.version; else {
                            const l = {w: o.data.width + 2, h: o.data.height + 2, x: 0, y: 0},
                                p = new h.ImagePosition(l, o);
                            this.patterns[t] = {bin: l, position: p}
                        }
                        return this._updatePatternAtlas(), this.patterns[t].position
                    }

                    bind(t) {
                        const n = t.gl;
                        this.atlasTexture ? this.dirty && (this.atlasTexture.update(this.atlasImage), this.dirty = !1) : this.atlasTexture = new St(t, this.atlasImage, n.RGBA), this.atlasTexture.bind(n.LINEAR, n.CLAMP_TO_EDGE)
                    }

                    _updatePatternAtlas() {
                        const t = [];
                        for (const p in this.patterns) t.push(this.patterns[p].bin);
                        const {w: n, h: o} = h.potpack(t), l = this.atlasImage;
                        l.resize({width: n || 1, height: o || 1});
                        for (const p in this.patterns) {
                            const {bin: m} = this.patterns[p], g = m.x + 1, y = m.y + 1, x = this.getImage(p).data,
                                C = x.width, S = x.height;
                            h.RGBAImage.copy(x, l, {x: 0, y: 0}, {x: g, y}, {
                                width: C,
                                height: S
                            }), h.RGBAImage.copy(x, l, {x: 0, y: S - 1}, {x: g, y: y - 1}, {
                                width: C,
                                height: 1
                            }), h.RGBAImage.copy(x, l, {x: 0, y: 0}, {x: g, y: y + S}, {
                                width: C,
                                height: 1
                            }), h.RGBAImage.copy(x, l, {x: C - 1, y: 0}, {x: g - 1, y}, {
                                width: 1,
                                height: S
                            }), h.RGBAImage.copy(x, l, {x: 0, y: 0}, {x: g + C, y}, {width: 1, height: S})
                        }
                        this.dirty = !0
                    }

                    beginFrame() {
                        this.callbackDispatchedThisFrame = {}
                    }

                    dispatchRenderCallbacks(t) {
                        for (const n of t) {
                            if (this.callbackDispatchedThisFrame[n]) continue;
                            this.callbackDispatchedThisFrame[n] = !0;
                            const o = this.getImage(n);
                            o || h.warnOnce(`Image with ID: "${n}" was not found`), kn(o) && this.updateImage(n, o)
                        }
                    }
                }

                const Ii = 1e20;

                function xr(a, t, n, o, l, p, m, g, y) {
                    for (let x = t; x < t + o; x++) tr(a, n * p + x, p, l, m, g, y);
                    for (let x = n; x < n + l; x++) tr(a, x * p + t, 1, o, m, g, y)
                }

                function tr(a, t, n, o, l, p, m) {
                    p[0] = 0, m[0] = -Ii, m[1] = Ii, l[0] = a[t];
                    for (let g = 1, y = 0, x = 0; g < o; g++) {
                        l[g] = a[t + g * n];
                        const C = g * g;
                        do {
                            const S = p[y];
                            x = (l[g] - l[S] + C - S * S) / (g - S) / 2
                        } while (x <= m[y] && --y > -1);
                        y++, p[y] = g, m[y] = x, m[y + 1] = Ii
                    }
                    for (let g = 0, y = 0; g < o; g++) {
                        for (; m[y + 1] < g;) y++;
                        const x = p[y], C = g - x;
                        a[t + g * n] = l[x] + C * C
                    }
                }

                class Ri {
                    constructor(t, n) {
                        this.requestManager = t, this.localIdeographFontFamily = n, this.entries = {}
                    }

                    setURL(t) {
                        this.url = t
                    }

                    getGlyphs(t, n) {
                        const o = [];
                        for (const l in t) for (const p of t[l]) o.push({stack: l, id: p});
                        h.asyncAll(o, ({stack: l, id: p}, m) => {
                            let g = this.entries[l];
                            g || (g = this.entries[l] = {glyphs: {}, requests: {}, ranges: {}});
                            let y = g.glyphs[p];
                            if (void 0 !== y) return void m(null, {stack: l, id: p, glyph: y});
                            if (y = this._tinySDF(g, l, p), y) return g.glyphs[p] = y, void m(null, {
                                stack: l,
                                id: p,
                                glyph: y
                            });
                            const x = Math.floor(p / 256);
                            if (256 * x > 65535) return void m(new Error("glyphs > 65535 not supported"));
                            if (g.ranges[x]) return void m(null, {stack: l, id: p, glyph: y});
                            if (!this.url) return void m(new Error("glyphsUrl is not set"));
                            let C = g.requests[x];
                            C || (C = g.requests[x] = [], Ri.loadGlyphRange(l, x, this.url, this.requestManager, (S, M) => {
                                if (M) {
                                    for (const R in M) this._doesCharSupportLocalGlyph(+R) || (g.glyphs[+R] = M[+R]);
                                    g.ranges[x] = !0
                                }
                                for (const R of C) R(S, M);
                                delete g.requests[x]
                            })), C.push((S, M) => {
                                S ? m(S) : M && m(null, {stack: l, id: p, glyph: M[p] || null})
                            })
                        }, (l, p) => {
                            if (l) n(l); else if (p) {
                                const m = {};
                                for (const {stack: g, id: y, glyph: x} of p) (m[g] || (m[g] = {}))[y] = x && {
                                    id: x.id,
                                    bitmap: x.bitmap.clone(),
                                    metrics: x.metrics
                                };
                                n(null, m)
                            }
                        })
                    }

                    _doesCharSupportLocalGlyph(t) {
                        return !!this.localIdeographFontFamily && (h.unicodeBlockLookup["CJK Unified Ideographs"](t) || h.unicodeBlockLookup["Hangul Syllables"](t) || h.unicodeBlockLookup.Hiragana(t) || h.unicodeBlockLookup.Katakana(t))
                    }

                    _tinySDF(t, n, o) {
                        const l = this.localIdeographFontFamily;
                        if (!l || !this._doesCharSupportLocalGlyph(o)) return;
                        let p = t.tinySDF;
                        if (!p) {
                            let g = "400";
                            /bold/i.test(n) ? g = "900" : /medium/i.test(n) ? g = "500" : /light/i.test(n) && (g = "200"), p = t.tinySDF = new Ri.TinySDF({
                                fontSize: 24,
                                buffer: 3,
                                radius: 8,
                                cutoff: .25,
                                fontFamily: l,
                                fontWeight: g
                            })
                        }
                        const m = p.draw(String.fromCharCode(o));
                        return {
                            id: o,
                            bitmap: new h.AlphaImage({width: m.width || 30, height: m.height || 30}, m.data),
                            metrics: {
                                width: m.glyphWidth || 24,
                                height: m.glyphHeight || 24,
                                left: m.glyphLeft || 0,
                                top: m.glyphTop - 27 || -8,
                                advance: m.glyphAdvance || 24
                            }
                        }
                    }
                }

                Ri.loadGlyphRange = function (a, t, n, o, l) {
                    const p = 256 * t, m = p + 255,
                        g = o.transformRequest(n.replace("{fontstack}", a).replace("{range}", `${p}-${m}`), at.Glyphs);
                    h.getArrayBuffer(g, (y, x) => {
                        if (y) l(y); else if (x) {
                            const C = {};
                            for (const S of h.parseGlyphPbf(x)) C[S.id] = S;
                            l(null, C)
                        }
                    })
                }, Ri.TinySDF = class {
                    constructor({
                                    fontSize: a = 24,
                                    buffer: t = 3,
                                    radius: n = 8,
                                    cutoff: o = .25,
                                    fontFamily: l = "sans-serif",
                                    fontWeight: p = "normal",
                                    fontStyle: m = "normal"
                                } = {}) {
                        this.buffer = t, this.cutoff = o, this.radius = n;
                        const g = this.size = a + 4 * t, y = this._createCanvas(g),
                            x = this.ctx = y.getContext("2d", {willReadFrequently: !0});
                        x.font = `${m} ${p} ${a}px ${l}`, x.textBaseline = "alphabetic", x.textAlign = "left", x.fillStyle = "black", this.gridOuter = new Float64Array(g * g), this.gridInner = new Float64Array(g * g), this.f = new Float64Array(g), this.z = new Float64Array(g + 1), this.v = new Uint16Array(g)
                    }

                    _createCanvas(a) {
                        const t = document.createElement("canvas");
                        return t.width = t.height = a, t
                    }

                    draw(a) {
                        const {
                                width: t,
                                actualBoundingBoxAscent: n,
                                actualBoundingBoxDescent: o,
                                actualBoundingBoxLeft: l,
                                actualBoundingBoxRight: p
                            } = this.ctx.measureText(a), m = Math.ceil(n),
                            g = Math.max(0, Math.min(this.size - this.buffer, Math.ceil(p - l))),
                            y = Math.min(this.size - this.buffer, m + Math.ceil(o)), x = g + 2 * this.buffer,
                            C = y + 2 * this.buffer, S = Math.max(x * C, 0), M = new Uint8ClampedArray(S), R = {
                                data: M,
                                width: x,
                                height: C,
                                glyphWidth: g,
                                glyphHeight: y,
                                glyphTop: m,
                                glyphLeft: 0,
                                glyphAdvance: t
                            };
                        if (0 === g || 0 === y) return R;
                        const {ctx: B, buffer: P, gridInner: $, gridOuter: H} = this;
                        B.clearRect(P, P, g, y), B.fillText(a, P, P + m);
                        const X = B.getImageData(P, P, g, y);
                        H.fill(Ii, 0, S), $.fill(0, 0, S);
                        for (let U = 0; U < y; U++) for (let J = 0; J < g; J++) {
                            const te = X.data[4 * (U * g + J) + 3] / 255;
                            if (0 === te) continue;
                            const re = (U + P) * x + J + P;
                            if (1 === te) H[re] = 0, $[re] = Ii; else {
                                const ae = .5 - te;
                                H[re] = ae > 0 ? ae * ae : 0, $[re] = ae < 0 ? ae * ae : 0
                            }
                        }
                        xr(H, 0, 0, x, C, x, this.f, this.v, this.z), xr($, P, P, g, y, x, this.f, this.v, this.z);
                        for (let U = 0; U < S; U++) {
                            const J = Math.sqrt(H[U]) - Math.sqrt($[U]);
                            M[U] = Math.round(255 - 255 * (J / this.radius + this.cutoff))
                        }
                        return R
                    }
                };
                const Pn = new h.Properties({
                    anchor: new h.DataConstantProperty(h.spec.light.anchor),
                    position: new class {
                        constructor() {
                            this.specification = h.spec.light.position
                        }

                        possiblyEvaluate(a, t) {
                            return h.sphericalToCartesian(a.expression.evaluate(t))
                        }

                        interpolate(a, t, n) {
                            return {x: h.number(a.x, t.x, n), y: h.number(a.y, t.y, n), z: h.number(a.z, t.z, n)}
                        }
                    },
                    color: new h.DataConstantProperty(h.spec.light.color),
                    intensity: new h.DataConstantProperty(h.spec.light.intensity)
                }), Br = "-transition";

                class vr extends h.Evented {
                    constructor(t) {
                        super(), this._transitionable = new h.Transitionable(Pn), this.setLight(t), this._transitioning = this._transitionable.untransitioned()
                    }

                    getLight() {
                        return this._transitionable.serialize()
                    }

                    setLight(t, n = {}) {
                        if (!this._validate(h.validateLight, t, n)) for (const o in t) {
                            const l = t[o];
                            o.endsWith(Br) ? this._transitionable.setTransition(o.slice(0, -Br.length), l) : this._transitionable.setValue(o, l)
                        }
                    }

                    updateTransitions(t) {
                        this._transitioning = this._transitionable.transitioned(t, this._transitioning)
                    }

                    hasTransition() {
                        return this._transitioning.hasTransition()
                    }

                    recalculate(t) {
                        this.properties = this._transitioning.possiblyEvaluate(t)
                    }

                    _validate(t, n, o) {
                        return (!o || !1 !== o.validate) && h.emitValidationErrors(this, t.call(h.validateStyle, h.extend({
                            value: n,
                            style: {glyphs: !0, sprite: !0},
                            styleSpec: h.spec
                        })))
                    }
                }

                class sn {
                    constructor(t, n) {
                        this.width = t, this.height = n, this.nextRow = 0, this.data = new Uint8Array(this.width * this.height), this.dashEntry = {}
                    }

                    getDash(t, n) {
                        const o = t.join(",") + String(n);
                        return this.dashEntry[o] || (this.dashEntry[o] = this.addDash(t, n)), this.dashEntry[o]
                    }

                    getDashRanges(t, n, o) {
                        const l = [];
                        let p = t.length % 2 == 1 ? -t[t.length - 1] * o : 0, m = t[0] * o, g = !0;
                        l.push({left: p, right: m, isDash: g, zeroLength: 0 === t[0]});
                        let y = t[0];
                        for (let x = 1; x < t.length; x++) {
                            g = !g;
                            const C = t[x];
                            p = y * o, y += C, m = y * o, l.push({left: p, right: m, isDash: g, zeroLength: 0 === C})
                        }
                        return l
                    }

                    addRoundDash(t, n, o) {
                        const l = n / 2;
                        for (let p = -o; p <= o; p++) {
                            const m = this.width * (this.nextRow + o + p);
                            let g = 0, y = t[g];
                            for (let x = 0; x < this.width; x++) {
                                x / y.right > 1 && (y = t[++g]);
                                const C = Math.abs(x - y.left), S = Math.abs(x - y.right), M = Math.min(C, S);
                                let R;
                                const B = p / o * (l + 1);
                                if (y.isDash) {
                                    const P = l - Math.abs(B);
                                    R = Math.sqrt(M * M + P * P)
                                } else R = l - Math.sqrt(M * M + B * B);
                                this.data[m + x] = Math.max(0, Math.min(255, R + 128))
                            }
                        }
                    }

                    addRegularDash(t) {
                        for (let g = t.length - 1; g >= 0; --g) {
                            const y = t[g], x = t[g + 1];
                            y.zeroLength ? t.splice(g, 1) : x && x.isDash === y.isDash && (x.left = y.left, t.splice(g, 1))
                        }
                        const n = t[0], o = t[t.length - 1];
                        n.isDash === o.isDash && (n.left = o.left - this.width, o.right = n.right + this.width);
                        const l = this.width * this.nextRow;
                        let p = 0, m = t[p];
                        for (let g = 0; g < this.width; g++) {
                            g / m.right > 1 && (m = t[++p]);
                            const y = Math.abs(g - m.left), x = Math.abs(g - m.right), C = Math.min(y, x);
                            this.data[l + g] = Math.max(0, Math.min(255, (m.isDash ? C : -C) + 128))
                        }
                    }

                    addDash(t, n) {
                        const o = n ? 7 : 0, l = 2 * o + 1;
                        if (this.nextRow + l > this.height) return h.warnOnce("LineAtlas out of space"), null;
                        let p = 0;
                        for (let g = 0; g < t.length; g++) p += t[g];
                        if (0 !== p) {
                            const g = this.width / p, y = this.getDashRanges(t, this.width, g);
                            n ? this.addRoundDash(y, g, o) : this.addRegularDash(y)
                        }
                        const m = {y: (this.nextRow + o + .5) / this.height, height: 2 * o / this.height, width: p};
                        return this.nextRow += l, this.dirty = !0, m
                    }

                    bind(t) {
                        const n = t.gl;
                        this.texture ? (n.bindTexture(n.TEXTURE_2D, this.texture), this.dirty && (this.dirty = !1, n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, this.width, this.height, n.ALPHA, n.UNSIGNED_BYTE, this.data))) : (this.texture = n.createTexture(), n.bindTexture(n.TEXTURE_2D, this.texture), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.REPEAT), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.REPEAT), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, n.LINEAR), n.texImage2D(n.TEXTURE_2D, 0, n.ALPHA, this.width, this.height, 0, n.ALPHA, n.UNSIGNED_BYTE, this.data))
                    }
                }

                class lr {
                    constructor(t, n, o) {
                        this.workerPool = t, this.actors = [], this.currentActor = 0, this.id = o;
                        const l = this.workerPool.acquire(o);
                        for (let p = 0; p < l.length; p++) {
                            const m = new lr.Actor(l[p], n, o);
                            m.name = `Worker ${p}`, this.actors.push(m)
                        }
                        if (!this.actors.length) throw new Error("No actors found")
                    }

                    broadcast(t, n, o) {
                        h.asyncAll(this.actors, (l, p) => {
                            l.send(t, n, p)
                        }, o = o || function () {
                        })
                    }

                    getActor() {
                        return this.currentActor = (this.currentActor + 1) % this.actors.length, this.actors[this.currentActor]
                    }

                    remove(t = !0) {
                        this.actors.forEach(n => {
                            n.remove()
                        }), this.actors = [], t && this.workerPool.release(this.id)
                    }
                }

                function Fr(a, t, n) {
                    const o = function (l, p) {
                        if (l) return n(l);
                        if (p) {
                            const m = h.pick(h.extend(p, a), ["tiles", "minzoom", "maxzoom", "attribution", "bounds", "scheme", "tileSize", "encoding"]);
                            p.vector_layers && (m.vectorLayers = p.vector_layers, m.vectorLayerIds = m.vectorLayers.map(g => g.id)), n(null, m)
                        }
                    };
                    return a.url ? h.getJSON(t.transformRequest(a.url, at.Source), o) : h.exported.frame(() => o(null, a))
                }

                lr.Actor = h.Actor;

                class br {
                    constructor(t, n, o) {
                        this.bounds = h.LngLatBounds.convert(this.validateBounds(t)), this.minzoom = n || 0, this.maxzoom = o || 24
                    }

                    validateBounds(t) {
                        return Array.isArray(t) && 4 === t.length ? [Math.max(-180, t[0]), Math.max(-90, t[1]), Math.min(180, t[2]), Math.min(90, t[3])] : [-180, -90, 180, 90]
                    }

                    contains(t) {
                        const n = Math.pow(2, t.z), o = Math.floor(h.mercatorXfromLng(this.bounds.getWest()) * n),
                            l = Math.floor(h.mercatorYfromLat(this.bounds.getNorth()) * n),
                            p = Math.ceil(h.mercatorXfromLng(this.bounds.getEast()) * n),
                            m = Math.ceil(h.mercatorYfromLat(this.bounds.getSouth()) * n);
                        return t.x >= o && t.x < p && t.y >= l && t.y < m
                    }
                }

                class wr extends h.Evented {
                    constructor(t, n, o, l) {
                        if (super(), this.id = t, this.dispatcher = o, this.type = "vector", this.minzoom = 0, this.maxzoom = 22, this.scheme = "xyz", this.tileSize = 512, this.reparseOverscaled = !0, this.isTileClipped = !0, this._loaded = !1, h.extend(this, h.pick(n, ["url", "scheme", "tileSize", "promoteId"])), this._options = h.extend({type: "vector"}, n), this._collectResourceTiming = n.collectResourceTiming, 512 !== this.tileSize) throw new Error("vector tile sources must have a tileSize of 512");
                        this.setEventedParent(l)
                    }

                    load() {
                        this._loaded = !1, this.fire(new h.Event("dataloading", {dataType: "source"})), this._tileJSONRequest = Fr(this._options, this.map._requestManager, (t, n) => {
                            this._tileJSONRequest = null, this._loaded = !0, this.map.style.sourceCaches[this.id].clearTiles(), t ? this.fire(new h.ErrorEvent(t)) : n && (h.extend(this, n), n.bounds && (this.tileBounds = new br(n.bounds, this.minzoom, this.maxzoom)), this.fire(new h.Event("data", {
                                dataType: "source",
                                sourceDataType: "metadata"
                            })), this.fire(new h.Event("data", {dataType: "source", sourceDataType: "content"})))
                        })
                    }

                    loaded() {
                        return this._loaded
                    }

                    hasTile(t) {
                        return !this.tileBounds || this.tileBounds.contains(t.canonical)
                    }

                    onAdd(t) {
                        this.map = t, this.load()
                    }

                    setSourceProperty(t) {
                        this._tileJSONRequest && this._tileJSONRequest.cancel(), t(), this.load()
                    }

                    setTiles(t) {
                        return this.setSourceProperty(() => {
                            this._options.tiles = t
                        }), this
                    }

                    setUrl(t) {
                        return this.setSourceProperty(() => {
                            this.url = t, this._options.url = t
                        }), this
                    }

                    onRemove() {
                        this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null)
                    }

                    serialize() {
                        return h.extend({}, this._options)
                    }

                    loadTile(t, n) {
                        const o = t.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme), l = {
                            request: this.map._requestManager.transformRequest(o, at.Tile),
                            uid: t.uid,
                            tileID: t.tileID,
                            zoom: t.tileID.overscaledZ,
                            tileSize: this.tileSize * t.tileID.overscaleFactor(),
                            type: this.type,
                            source: this.id,
                            pixelRatio: this.map.getPixelRatio(),
                            showCollisionBoxes: this.map.showCollisionBoxes,
                            promoteId: this.promoteId
                        };

                        function p(m, g) {
                            return delete t.request, t.aborted ? n(null) : m && 404 !== m.status ? n(m) : (g && g.resourceTiming && (t.resourceTiming = g.resourceTiming), this.map._refreshExpiredTiles && g && t.setExpiryData(g), t.loadVectorData(g, this.map.painter), n(null), void (t.reloadCallback && (this.loadTile(t, t.reloadCallback), t.reloadCallback = null)))
                        }

                        l.request.collectResourceTiming = this._collectResourceTiming, t.actor && "expired" !== t.state ? "loading" === t.state ? t.reloadCallback = n : t.request = t.actor.send("reloadTile", l, p.bind(this)) : (t.actor = this.dispatcher.getActor(), t.request = t.actor.send("loadTile", l, p.bind(this)))
                    }

                    abortTile(t) {
                        t.request && (t.request.cancel(), delete t.request), t.actor && t.actor.send("abortTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        }, void 0)
                    }

                    unloadTile(t) {
                        t.unloadVectorData(), t.actor && t.actor.send("removeTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        }, void 0)
                    }

                    hasTransition() {
                        return !1
                    }
                }

                class cr extends h.Evented {
                    constructor(t, n, o, l) {
                        super(), this.id = t, this.dispatcher = o, this.setEventedParent(l), this.type = "raster", this.minzoom = 0, this.maxzoom = 22, this.roundZoom = !0, this.scheme = "xyz", this.tileSize = 512, this._loaded = !1, this._options = h.extend({type: "raster"}, n), h.extend(this, h.pick(n, ["url", "scheme", "tileSize"]))
                    }

                    load() {
                        this._loaded = !1, this.fire(new h.Event("dataloading", {dataType: "source"})), this._tileJSONRequest = Fr(this._options, this.map._requestManager, (t, n) => {
                            this._tileJSONRequest = null, this._loaded = !0, t ? this.fire(new h.ErrorEvent(t)) : n && (h.extend(this, n), n.bounds && (this.tileBounds = new br(n.bounds, this.minzoom, this.maxzoom)), this.fire(new h.Event("data", {
                                dataType: "source",
                                sourceDataType: "metadata"
                            })), this.fire(new h.Event("data", {dataType: "source", sourceDataType: "content"})))
                        })
                    }

                    loaded() {
                        return this._loaded
                    }

                    onAdd(t) {
                        this.map = t, this.load()
                    }

                    onRemove() {
                        this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null)
                    }

                    serialize() {
                        return h.extend({}, this._options)
                    }

                    hasTile(t) {
                        return !this.tileBounds || this.tileBounds.contains(t.canonical)
                    }

                    loadTile(t, n) {
                        const o = t.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);
                        t.request = Et.getImage(this.map._requestManager.transformRequest(o, at.Tile), (l, p, m) => {
                            if (delete t.request, t.aborted) t.state = "unloaded", n(null); else if (l) t.state = "errored", n(l); else if (p) {
                                this.map._refreshExpiredTiles && t.setExpiryData(m);
                                const g = this.map.painter.context, y = g.gl;
                                t.texture = this.map.painter.getTileTexture(p.width), t.texture ? t.texture.update(p, {useMipmap: !0}) : (t.texture = new St(g, p, y.RGBA, {useMipmap: !0}), t.texture.bind(y.LINEAR, y.CLAMP_TO_EDGE, y.LINEAR_MIPMAP_NEAREST), g.extTextureFilterAnisotropic && y.texParameterf(y.TEXTURE_2D, g.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, g.extTextureFilterAnisotropicMax)), t.state = "loaded", n(null)
                            }
                        })
                    }

                    abortTile(t, n) {
                        t.request && (t.request.cancel(), delete t.request), n()
                    }

                    unloadTile(t, n) {
                        t.texture && this.map.painter.saveTileTexture(t.texture), n()
                    }

                    hasTransition() {
                        return !1
                    }
                }

                let se;

                class be extends cr {
                    constructor(t, n, o, l) {
                        super(t, n, o, l), this.type = "raster-dem", this.maxzoom = 22, this._options = h.extend({type: "raster-dem"}, n), this.encoding = n.encoding || "mapbox"
                    }

                    serialize() {
                        return {
                            type: "raster-dem",
                            url: this.url,
                            tileSize: this.tileSize,
                            tiles: this.tiles,
                            bounds: this.bounds,
                            encoding: this.encoding
                        }
                    }

                    loadTile(t, n) {
                        const o = t.tileID.canonical.url(this.tiles, this.map.getPixelRatio(), this.scheme);

                        function l(p, m) {
                            p && (t.state = "errored", n(p)), m && (t.dem = m, t.needsHillshadePrepare = !0, t.needsTerrainPrepare = !0, t.state = "loaded", n(null))
                        }

                        t.request = Et.getImage(this.map._requestManager.transformRequest(o, at.Tile), function (p, m) {
                            if (delete t.request, t.aborted) t.state = "unloaded", n(null); else if (p) t.state = "errored", n(p); else if (m) {
                                this.map._refreshExpiredTiles && t.setExpiryData(m), delete m.cacheControl, delete m.expires;
                                const g = h.isImageBitmap(m) && (null == se && (se = typeof OffscreenCanvas < "u" && new OffscreenCanvas(1, 1).getContext("2d") && "function" == typeof createImageBitmap), se) ? m : h.exported.getImageData(m, 1),
                                    y = {
                                        uid: t.uid,
                                        coord: t.tileID,
                                        source: this.id,
                                        rawImageData: g,
                                        encoding: this.encoding
                                    };
                                t.actor && "expired" !== t.state || (t.actor = this.dispatcher.getActor(), t.actor.send("loadDEMTile", y, l.bind(this)))
                            }
                        }.bind(this)), t.neighboringTiles = this._getNeighboringTiles(t.tileID)
                    }

                    _getNeighboringTiles(t) {
                        const n = t.canonical, o = Math.pow(2, n.z), l = (n.x - 1 + o) % o,
                            p = 0 === n.x ? t.wrap - 1 : t.wrap, m = (n.x + 1 + o) % o,
                            g = n.x + 1 === o ? t.wrap + 1 : t.wrap, y = {};
                        return y[new h.OverscaledTileID(t.overscaledZ, p, n.z, l, n.y).key] = {backfilled: !1}, y[new h.OverscaledTileID(t.overscaledZ, g, n.z, m, n.y).key] = {backfilled: !1}, n.y > 0 && (y[new h.OverscaledTileID(t.overscaledZ, p, n.z, l, n.y - 1).key] = {backfilled: !1}, y[new h.OverscaledTileID(t.overscaledZ, t.wrap, n.z, n.x, n.y - 1).key] = {backfilled: !1}, y[new h.OverscaledTileID(t.overscaledZ, g, n.z, m, n.y - 1).key] = {backfilled: !1}), n.y + 1 < o && (y[new h.OverscaledTileID(t.overscaledZ, p, n.z, l, n.y + 1).key] = {backfilled: !1}, y[new h.OverscaledTileID(t.overscaledZ, t.wrap, n.z, n.x, n.y + 1).key] = {backfilled: !1}, y[new h.OverscaledTileID(t.overscaledZ, g, n.z, m, n.y + 1).key] = {backfilled: !1}), y
                    }

                    unloadTile(t) {
                        t.demTexture && this.map.painter.saveTileTexture(t.demTexture), t.fbo && (t.fbo.destroy(), delete t.fbo), t.dem && delete t.dem, delete t.neighboringTiles, t.state = "unloaded", t.actor && t.actor.send("removeDEMTile", {
                            uid: t.uid,
                            source: this.id
                        })
                    }
                }

                class Or extends h.Evented {
                    constructor(t, n, o, l) {
                        super(), this.id = t, this.type = "geojson", this.minzoom = 0, this.maxzoom = 18, this.tileSize = 512, this.isTileClipped = !0, this.reparseOverscaled = !0, this._removed = !1, this._pendingLoads = 0, this.actor = o.getActor(), this.setEventedParent(l), this._data = n.data, this._options = h.extend({}, n), this._collectResourceTiming = n.collectResourceTiming, void 0 !== n.maxzoom && (this.maxzoom = n.maxzoom), n.type && (this.type = n.type), n.attribution && (this.attribution = n.attribution), this.promoteId = n.promoteId;
                        const p = h.EXTENT / this.tileSize;
                        this.workerOptions = h.extend({
                            source: this.id,
                            cluster: n.cluster || !1,
                            geojsonVtOptions: {
                                buffer: (void 0 !== n.buffer ? n.buffer : 128) * p,
                                tolerance: (void 0 !== n.tolerance ? n.tolerance : .375) * p,
                                extent: h.EXTENT,
                                maxZoom: this.maxzoom,
                                lineMetrics: n.lineMetrics || !1,
                                generateId: n.generateId || !1
                            },
                            superclusterOptions: {
                                maxZoom: void 0 !== n.clusterMaxZoom ? n.clusterMaxZoom : this.maxzoom - 1,
                                minPoints: Math.max(2, n.clusterMinPoints || 2),
                                extent: h.EXTENT,
                                radius: (n.clusterRadius || 50) * p,
                                log: !1,
                                generateId: n.generateId || !1
                            },
                            clusterProperties: n.clusterProperties,
                            filter: n.filter
                        }, n.workerOptions), "string" == typeof this.promoteId && (this.workerOptions.promoteId = this.promoteId)
                    }

                    load() {
                        this._updateWorkerData()
                    }

                    onAdd(t) {
                        this.map = t, this.load()
                    }

                    setData(t) {
                        return this._data = t, this._updateWorkerData(), this
                    }

                    updateData(t) {
                        return this._updateWorkerData(t), this
                    }

                    setClusterOptions(t) {
                        return this.workerOptions.cluster = t.cluster, t && (void 0 !== t.clusterRadius && (this.workerOptions.superclusterOptions.radius = t.clusterRadius), void 0 !== t.clusterMaxZoom && (this.workerOptions.superclusterOptions.maxZoom = t.clusterMaxZoom)), this._updateWorkerData(), this
                    }

                    getClusterExpansionZoom(t, n) {
                        return this.actor.send("geojson.getClusterExpansionZoom", {
                            clusterId: t,
                            source: this.id
                        }, n), this
                    }

                    getClusterChildren(t, n) {
                        return this.actor.send("geojson.getClusterChildren", {clusterId: t, source: this.id}, n), this
                    }

                    getClusterLeaves(t, n, o, l) {
                        return this.actor.send("geojson.getClusterLeaves", {
                            source: this.id,
                            clusterId: t,
                            limit: n,
                            offset: o
                        }, l), this
                    }

                    _updateWorkerData(t) {
                        const n = h.extend({}, this.workerOptions);
                        t ? n.dataDiff = t : "string" == typeof this._data ? (n.request = this.map._requestManager.transformRequest(h.exported.resolveURL(this._data), at.Source), n.request.collectResourceTiming = this._collectResourceTiming) : n.data = JSON.stringify(this._data), this._pendingLoads++, this.fire(new h.Event("dataloading", {dataType: "source"})), this.actor.send(`${this.type}.loadData`, n, (o, l) => {
                            if (this._pendingLoads--, this._removed || l && l.abandoned) return void this.fire(new h.Event("dataabort", {dataType: "source"}));
                            let p = null;
                            if (l && l.resourceTiming && l.resourceTiming[this.id] && (p = l.resourceTiming[this.id].slice(0)), o) return void this.fire(new h.ErrorEvent(o));
                            const m = {dataType: "source"};
                            this._collectResourceTiming && p && p.length > 0 && h.extend(m, {resourceTiming: p}), this.fire(new h.Event("data", {
                                ...m,
                                sourceDataType: "metadata"
                            })), this.fire(new h.Event("data", {...m, sourceDataType: "content"}))
                        })
                    }

                    loaded() {
                        return 0 === this._pendingLoads
                    }

                    loadTile(t, n) {
                        const o = t.actor ? "reloadTile" : "loadTile";
                        t.actor = this.actor;
                        const l = {
                            type: this.type,
                            uid: t.uid,
                            tileID: t.tileID,
                            zoom: t.tileID.overscaledZ,
                            maxZoom: this.maxzoom,
                            tileSize: this.tileSize,
                            source: this.id,
                            pixelRatio: this.map.getPixelRatio(),
                            showCollisionBoxes: this.map.showCollisionBoxes,
                            promoteId: this.promoteId
                        };
                        t.request = this.actor.send(o, l, (p, m) => (delete t.request, t.unloadVectorData(), t.aborted ? n(null) : p ? n(p) : (t.loadVectorData(m, this.map.painter, "reloadTile" === o), n(null))))
                    }

                    abortTile(t) {
                        t.request && (t.request.cancel(), delete t.request), t.aborted = !0
                    }

                    unloadTile(t) {
                        t.unloadVectorData(), this.actor.send("removeTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        })
                    }

                    onRemove() {
                        this._removed = !0, this.actor.send("removeSource", {type: this.type, source: this.id})
                    }

                    serialize() {
                        return h.extend({}, this._options, {type: this.type, data: this._data})
                    }

                    hasTransition() {
                        return !1
                    }
                }

                var xe = h.createLayout([{name: "a_pos", type: "Int16", components: 2}, {
                    name: "a_texture_pos",
                    type: "Int16",
                    components: 2
                }]);

                class pe extends h.Evented {
                    constructor(t, n, o, l) {
                        super(), this.id = t, this.dispatcher = o, this.coordinates = n.coordinates, this.type = "image", this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.tiles = {}, this._loaded = !1, this.setEventedParent(l), this.options = n
                    }

                    load(t, n) {
                        this._loaded = !1, this.fire(new h.Event("dataloading", {dataType: "source"})), this.url = this.options.url, this._request = Et.getImage(this.map._requestManager.transformRequest(this.url, at.Image), (o, l) => {
                            this._request = null, this._loaded = !0, o ? this.fire(new h.ErrorEvent(o)) : l && (this.image = l, t && (this.coordinates = t), n && n(), this._finishLoading())
                        })
                    }

                    loaded() {
                        return this._loaded
                    }

                    updateImage(t) {
                        return t.url ? (this._request && (this._request.cancel(), this._request = null), this.options.url = t.url, this.load(t.coordinates, () => {
                            this.texture = null
                        }), this) : this
                    }

                    _finishLoading() {
                        this.map && (this.setCoordinates(this.coordinates), this.fire(new h.Event("data", {
                            dataType: "source",
                            sourceDataType: "metadata"
                        })))
                    }

                    onAdd(t) {
                        this.map = t, this.load()
                    }

                    onRemove() {
                        this._request && (this._request.cancel(), this._request = null)
                    }

                    setCoordinates(t) {
                        this.coordinates = t;
                        const n = t.map(h.MercatorCoordinate.fromLngLat);
                        this.tileID = function (l) {
                            let p = 1 / 0, m = 1 / 0, g = -1 / 0, y = -1 / 0;
                            for (const M of l) p = Math.min(p, M.x), m = Math.min(m, M.y), g = Math.max(g, M.x), y = Math.max(y, M.y);
                            const x = Math.max(g - p, y - m), C = Math.max(0, Math.floor(-Math.log(x) / Math.LN2)),
                                S = Math.pow(2, C);
                            return new h.CanonicalTileID(C, Math.floor((p + g) / 2 * S), Math.floor((m + y) / 2 * S))
                        }(n), this.minzoom = this.maxzoom = this.tileID.z;
                        const o = n.map(l => this.tileID.getTilePoint(l)._round());
                        return this._boundsArray = new h.RasterBoundsArray, this._boundsArray.emplaceBack(o[0].x, o[0].y, 0, 0), this._boundsArray.emplaceBack(o[1].x, o[1].y, h.EXTENT, 0), this._boundsArray.emplaceBack(o[3].x, o[3].y, 0, h.EXTENT), this._boundsArray.emplaceBack(o[2].x, o[2].y, h.EXTENT, h.EXTENT), this.boundsBuffer && (this.boundsBuffer.destroy(), delete this.boundsBuffer), this.fire(new h.Event("data", {
                            dataType: "source",
                            sourceDataType: "content"
                        })), this
                    }

                    prepare() {
                        if (0 === Object.keys(this.tiles).length || !this.image) return;
                        const t = this.map.painter.context, n = t.gl;
                        this.boundsBuffer || (this.boundsBuffer = t.createVertexBuffer(this._boundsArray, xe.members)), this.boundsSegments || (this.boundsSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture || (this.texture = new St(t, this.image, n.RGBA), this.texture.bind(n.LINEAR, n.CLAMP_TO_EDGE));
                        for (const o in this.tiles) {
                            const l = this.tiles[o];
                            "loaded" !== l.state && (l.state = "loaded", l.texture = this.texture)
                        }
                    }

                    loadTile(t, n) {
                        this.tileID && this.tileID.equals(t.tileID.canonical) ? (this.tiles[String(t.tileID.wrap)] = t, t.buckets = {}, n(null)) : (t.state = "errored", n(null))
                    }

                    serialize() {
                        return {type: "image", url: this.options.url, coordinates: this.coordinates}
                    }

                    hasTransition() {
                        return !1
                    }
                }

                class b extends pe {
                    constructor(t, n, o, l) {
                        super(t, n, o, l), this.roundZoom = !0, this.type = "video", this.options = n
                    }

                    load() {
                        this._loaded = !1;
                        const t = this.options;
                        this.urls = [];
                        for (const n of t.urls) this.urls.push(this.map._requestManager.transformRequest(n, at.Source).url);
                        h.getVideo(this.urls, (n, o) => {
                            this._loaded = !0, n ? this.fire(new h.ErrorEvent(n)) : o && (this.video = o, this.video.loop = !0, this.video.addEventListener("playing", () => {
                                this.map.triggerRepaint()
                            }), this.map && this.video.play(), this._finishLoading())
                        })
                    }

                    pause() {
                        this.video && this.video.pause()
                    }

                    play() {
                        this.video && this.video.play()
                    }

                    seek(t) {
                        if (this.video) {
                            const n = this.video.seekable;
                            t < n.start(0) || t > n.end(0) ? this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${this.id}`, null, `Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))) : this.video.currentTime = t
                        }
                    }

                    getVideo() {
                        return this.video
                    }

                    onAdd(t) {
                        this.map || (this.map = t, this.load(), this.video && (this.video.play(), this.setCoordinates(this.coordinates)))
                    }

                    prepare() {
                        if (0 === Object.keys(this.tiles).length || this.video.readyState < 2) return;
                        const t = this.map.painter.context, n = t.gl;
                        this.boundsBuffer || (this.boundsBuffer = t.createVertexBuffer(this._boundsArray, xe.members)), this.boundsSegments || (this.boundsSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? this.video.paused || (this.texture.bind(n.LINEAR, n.CLAMP_TO_EDGE), n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, n.RGBA, n.UNSIGNED_BYTE, this.video)) : (this.texture = new St(t, this.video, n.RGBA), this.texture.bind(n.LINEAR, n.CLAMP_TO_EDGE));
                        for (const o in this.tiles) {
                            const l = this.tiles[o];
                            "loaded" !== l.state && (l.state = "loaded", l.texture = this.texture)
                        }
                    }

                    serialize() {
                        return {type: "video", urls: this.urls, coordinates: this.coordinates}
                    }

                    hasTransition() {
                        return this.video && !this.video.paused
                    }
                }

                class F extends pe {
                    constructor(t, n, o, l) {
                        super(t, n, o, l), n.coordinates ? Array.isArray(n.coordinates) && 4 === n.coordinates.length && !n.coordinates.some(p => !Array.isArray(p) || 2 !== p.length || p.some(m => "number" != typeof m)) || this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${t}`, null, '"coordinates" property must be an array of 4 longitude/latitude array pairs'))) : this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${t}`, null, 'missing required property "coordinates"'))), n.animate && "boolean" != typeof n.animate && this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${t}`, null, 'optional "animate" property must be a boolean value'))), n.canvas ? "string" == typeof n.canvas || n.canvas instanceof HTMLCanvasElement || this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${t}`, null, '"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))) : this.fire(new h.ErrorEvent(new h.ValidationError(`sources.${t}`, null, 'missing required property "canvas"'))), this.options = n, this.animate = void 0 === n.animate || n.animate
                    }

                    load() {
                        this._loaded = !0, this.canvas || (this.canvas = this.options.canvas instanceof HTMLCanvasElement ? this.options.canvas : document.getElementById(this.options.canvas)), this.width = this.canvas.width, this.height = this.canvas.height, this._hasInvalidDimensions() ? this.fire(new h.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))) : (this.play = function () {
                            this._playing = !0, this.map.triggerRepaint()
                        }, this.pause = function () {
                            this._playing && (this.prepare(), this._playing = !1)
                        }, this._finishLoading())
                    }

                    getCanvas() {
                        return this.canvas
                    }

                    onAdd(t) {
                        this.map = t, this.load(), this.canvas && this.animate && this.play()
                    }

                    onRemove() {
                        this.pause()
                    }

                    prepare() {
                        let t = !1;
                        if (this.canvas.width !== this.width && (this.width = this.canvas.width, t = !0), this.canvas.height !== this.height && (this.height = this.canvas.height, t = !0), this._hasInvalidDimensions() || 0 === Object.keys(this.tiles).length) return;
                        const n = this.map.painter.context, o = n.gl;
                        this.boundsBuffer || (this.boundsBuffer = n.createVertexBuffer(this._boundsArray, xe.members)), this.boundsSegments || (this.boundsSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? (t || this._playing) && this.texture.update(this.canvas, {premultiply: !0}) : this.texture = new St(n, this.canvas, o.RGBA, {premultiply: !0});
                        for (const l in this.tiles) {
                            const p = this.tiles[l];
                            "loaded" !== p.state && (p.state = "loaded", p.texture = this.texture)
                        }
                    }

                    serialize() {
                        return {type: "canvas", coordinates: this.coordinates}
                    }

                    hasTransition() {
                        return this._playing
                    }

                    _hasInvalidDimensions() {
                        for (const t of [this.canvas.width, this.canvas.height]) if (isNaN(t) || t <= 0) return !0;
                        return !1
                    }
                }

                const Ee = {vector: wr, raster: cr, "raster-dem": be, geojson: Or, video: b, image: pe, canvas: F};

                function Be(a, t) {
                    const n = h.create();
                    return h.translate(n, n, [1, 1, 0]), h.scale(n, n, [.5 * a.width, .5 * a.height, 1]), h.multiply(n, n, a.calculatePosMatrix(t.toUnwrapped()))
                }

                function fe(a, t, n, o, l, p) {
                    const m = function (S, M, R) {
                        if (S) for (const B of S) {
                            const P = M[B];
                            if (P && P.source === R && "fill-extrusion" === P.type) return !0
                        } else for (const B in M) {
                            const P = M[B];
                            if (P.source === R && "fill-extrusion" === P.type) return !0
                        }
                        return !1
                    }(l && l.layers, t, a.id), g = p.maxPitchScaleFactor(), y = a.tilesIn(o, g, m);
                    y.sort(Oe);
                    const x = [];
                    for (const S of y) x.push({
                        wrappedTileID: S.tileID.wrapped().key,
                        queryResults: S.tile.queryRenderedFeatures(t, n, a._state, S.queryGeometry, S.cameraQueryGeometry, S.scale, l, p, g, Be(a.transform, S.tileID))
                    });
                    const C = function (S) {
                        const M = {}, R = {};
                        for (const B of S) {
                            const P = B.queryResults, $ = B.wrappedTileID, H = R[$] = R[$] || {};
                            for (const X in P) {
                                const U = P[X], J = H[X] = H[X] || {}, te = M[X] = M[X] || [];
                                for (const re of U) J[re.featureIndex] || (J[re.featureIndex] = !0, te.push(re))
                            }
                        }
                        return M
                    }(x);
                    for (const S in C) C[S].forEach(M => {
                        const R = M.feature, B = a.getFeatureState(R.layer["source-layer"], R.id);
                        R.source = R.layer.source, R.layer["source-layer"] && (R.sourceLayer = R.layer["source-layer"]), R.state = B
                    });
                    return C
                }

                function Oe(a, t) {
                    const n = a.tileID, o = t.tileID;
                    return n.overscaledZ - o.overscaledZ || n.canonical.y - o.canonical.y || n.wrap - o.wrap || n.canonical.x - o.canonical.x
                }

                class je {
                    constructor(t, n) {
                        this.tileID = t, this.uid = h.uniqueId(), this.uses = 0, this.tileSize = n, this.buckets = {}, this.expirationTime = null, this.queryPadding = 0, this.hasSymbolBuckets = !1, this.hasRTLText = !1, this.dependencies = {}, this.rtt = [], this.rttCoords = {}, this.expiredRequestCount = 0, this.state = "loading"
                    }

                    registerFadeDuration(t) {
                        const n = t + this.timeAdded;
                        n < h.exported.now() || this.fadeEndTime && n < this.fadeEndTime || (this.fadeEndTime = n)
                    }

                    wasRequested() {
                        return "errored" === this.state || "loaded" === this.state || "reloading" === this.state
                    }

                    clearTextures(t) {
                        this.demTexture && t.saveTileTexture(this.demTexture), this.demTexture = null
                    }

                    loadVectorData(t, n, o) {
                        if (this.hasData() && this.unloadVectorData(), this.state = "loaded", t) {
                            t.featureIndex && (this.latestFeatureIndex = t.featureIndex, t.rawTileData ? (this.latestRawTileData = t.rawTileData, this.latestFeatureIndex.rawTileData = t.rawTileData) : this.latestRawTileData && (this.latestFeatureIndex.rawTileData = this.latestRawTileData)), this.collisionBoxArray = t.collisionBoxArray, this.buckets = function (l, p) {
                                const m = {};
                                if (!p) return m;
                                for (const g of l) {
                                    const y = g.layerIds.map(x => p.getLayer(x)).filter(Boolean);
                                    if (0 !== y.length) {
                                        g.layers = y, g.stateDependentLayerIds && (g.stateDependentLayers = g.stateDependentLayerIds.map(x => y.filter(C => C.id === x)[0]));
                                        for (const x of y) m[x.id] = g
                                    }
                                }
                                return m
                            }(t.buckets, n.style), this.hasSymbolBuckets = !1;
                            for (const l in this.buckets) {
                                const p = this.buckets[l];
                                if (p instanceof h.SymbolBucket) {
                                    if (this.hasSymbolBuckets = !0, !o) break;
                                    p.justReloaded = !0
                                }
                            }
                            if (this.hasRTLText = !1, this.hasSymbolBuckets) for (const l in this.buckets) {
                                const p = this.buckets[l];
                                if (p instanceof h.SymbolBucket && p.hasRTLText) {
                                    this.hasRTLText = !0, h.lazyLoadRTLTextPlugin();
                                    break
                                }
                            }
                            this.queryPadding = 0;
                            for (const l in this.buckets) {
                                const p = this.buckets[l];
                                this.queryPadding = Math.max(this.queryPadding, n.style.getLayer(l).queryRadius(p))
                            }
                            t.imageAtlas && (this.imageAtlas = t.imageAtlas), t.glyphAtlasImage && (this.glyphAtlasImage = t.glyphAtlasImage)
                        } else this.collisionBoxArray = new h.CollisionBoxArray
                    }

                    unloadVectorData() {
                        for (const t in this.buckets) this.buckets[t].destroy();
                        this.buckets = {}, this.imageAtlasTexture && this.imageAtlasTexture.destroy(), this.imageAtlas && (this.imageAtlas = null), this.glyphAtlasTexture && this.glyphAtlasTexture.destroy(), this.latestFeatureIndex = null, this.state = "unloaded"
                    }

                    getBucket(t) {
                        return this.buckets[t.id]
                    }

                    upload(t) {
                        for (const o in this.buckets) {
                            const l = this.buckets[o];
                            l.uploadPending() && l.upload(t)
                        }
                        const n = t.gl;
                        this.imageAtlas && !this.imageAtlas.uploaded && (this.imageAtlasTexture = new St(t, this.imageAtlas.image, n.RGBA), this.imageAtlas.uploaded = !0), this.glyphAtlasImage && (this.glyphAtlasTexture = new St(t, this.glyphAtlasImage, n.ALPHA), this.glyphAtlasImage = null)
                    }

                    prepare(t) {
                        this.imageAtlas && this.imageAtlas.patchUpdatedImages(t, this.imageAtlasTexture)
                    }

                    queryRenderedFeatures(t, n, o, l, p, m, g, y, x, C) {
                        return this.latestFeatureIndex && this.latestFeatureIndex.rawTileData ? this.latestFeatureIndex.query({
                            queryGeometry: l,
                            cameraQueryGeometry: p,
                            scale: m,
                            tileSize: this.tileSize,
                            pixelPosMatrix: C,
                            transform: y,
                            params: g,
                            queryPadding: this.queryPadding * x
                        }, t, n, o) : {}
                    }

                    querySourceFeatures(t, n) {
                        const o = this.latestFeatureIndex;
                        if (!o || !o.rawTileData) return;
                        const l = o.loadVTLayers(), p = n && n.sourceLayer ? n.sourceLayer : "",
                            m = l._geojsonTileLayer || l[p];
                        if (!m) return;
                        const g = h.createFilter(n && n.filter), {z: y, x, y: C} = this.tileID.canonical,
                            S = {z: y, x, y: C};
                        for (let M = 0; M < m.length; M++) {
                            const R = m.feature(M);
                            if (g.needGeometry) {
                                const $ = h.toEvaluationFeature(R, !0);
                                if (!g.filter(new h.EvaluationParameters(this.tileID.overscaledZ), $, this.tileID.canonical)) continue
                            } else if (!g.filter(new h.EvaluationParameters(this.tileID.overscaledZ), R)) continue;
                            const B = o.getId(R, p), P = new h.GeoJSONFeature(R, y, x, C, B);
                            P.tile = S, t.push(P)
                        }
                    }

                    hasData() {
                        return "loaded" === this.state || "reloading" === this.state || "expired" === this.state
                    }

                    patternsLoaded() {
                        return this.imageAtlas && !!Object.keys(this.imageAtlas.patternPositions).length
                    }

                    setExpiryData(t) {
                        const n = this.expirationTime;
                        if (t.cacheControl) {
                            const o = h.parseCacheControl(t.cacheControl);
                            o["max-age"] && (this.expirationTime = Date.now() + 1e3 * o["max-age"])
                        } else t.expires && (this.expirationTime = new Date(t.expires).getTime());
                        if (this.expirationTime) {
                            const o = Date.now();
                            let l = !1;
                            if (this.expirationTime > o) l = !1; else if (n) if (this.expirationTime < n) l = !0; else {
                                const p = this.expirationTime - n;
                                p ? this.expirationTime = o + Math.max(p, 3e4) : l = !0
                            } else l = !0;
                            l ? (this.expiredRequestCount++, this.state = "expired") : this.expiredRequestCount = 0
                        }
                    }

                    getExpiryTimeout() {
                        if (this.expirationTime) return this.expiredRequestCount ? 1e3 * (1 << Math.min(this.expiredRequestCount - 1, 31)) : Math.min(this.expirationTime - (new Date).getTime(), Math.pow(2, 31) - 1)
                    }

                    setFeatureState(t, n) {
                        if (!this.latestFeatureIndex || !this.latestFeatureIndex.rawTileData || 0 === Object.keys(t).length) return;
                        const o = this.latestFeatureIndex.loadVTLayers();
                        for (const l in this.buckets) {
                            if (!n.style.hasLayer(l)) continue;
                            const p = this.buckets[l], m = p.layers[0].sourceLayer || "_geojsonTileLayer", g = o[m],
                                y = t[m];
                            if (!g || !y || 0 === Object.keys(y).length) continue;
                            p.update(y, g, this.imageAtlas && this.imageAtlas.patternPositions || {});
                            const x = n && n.style && n.style.getLayer(l);
                            x && (this.queryPadding = Math.max(this.queryPadding, x.queryRadius(p)))
                        }
                    }

                    holdingForFade() {
                        return void 0 !== this.symbolFadeHoldUntil
                    }

                    symbolFadeFinished() {
                        return !this.symbolFadeHoldUntil || this.symbolFadeHoldUntil < h.exported.now()
                    }

                    clearFadeHold() {
                        this.symbolFadeHoldUntil = void 0
                    }

                    setHoldDuration(t) {
                        this.symbolFadeHoldUntil = h.exported.now() + t
                    }

                    setDependencies(t, n) {
                        const o = {};
                        for (const l of n) o[l] = !0;
                        this.dependencies[t] = o
                    }

                    hasDependency(t, n) {
                        for (const o of t) {
                            const l = this.dependencies[o];
                            if (l) for (const p of n) if (l[p]) return !0
                        }
                        return !1
                    }
                }

                class Yt {
                    constructor(t, n) {
                        this.max = t, this.onRemove = n, this.reset()
                    }

                    reset() {
                        for (const t in this.data) for (const n of this.data[t]) n.timeout && clearTimeout(n.timeout), this.onRemove(n.value);
                        return this.data = {}, this.order = [], this
                    }

                    add(t, n, o) {
                        const l = t.wrapped().key;
                        void 0 === this.data[l] && (this.data[l] = []);
                        const p = {value: n, timeout: void 0};
                        if (void 0 !== o && (p.timeout = setTimeout(() => {
                            this.remove(t, p)
                        }, o)), this.data[l].push(p), this.order.push(l), this.order.length > this.max) {
                            const m = this._getAndRemoveByKey(this.order[0]);
                            m && this.onRemove(m)
                        }
                        return this
                    }

                    has(t) {
                        return t.wrapped().key in this.data
                    }

                    getAndRemove(t) {
                        return this.has(t) ? this._getAndRemoveByKey(t.wrapped().key) : null
                    }

                    _getAndRemoveByKey(t) {
                        const n = this.data[t].shift();
                        return n.timeout && clearTimeout(n.timeout), 0 === this.data[t].length && delete this.data[t], this.order.splice(this.order.indexOf(t), 1), n.value
                    }

                    getByKey(t) {
                        const n = this.data[t];
                        return n ? n[0].value : null
                    }

                    get(t) {
                        return this.has(t) ? this.data[t.wrapped().key][0].value : null
                    }

                    remove(t, n) {
                        if (!this.has(t)) return this;
                        const o = t.wrapped().key, l = void 0 === n ? 0 : this.data[o].indexOf(n), p = this.data[o][l];
                        return this.data[o].splice(l, 1), p.timeout && clearTimeout(p.timeout), 0 === this.data[o].length && delete this.data[o], this.onRemove(p.value), this.order.splice(this.order.indexOf(o), 1), this
                    }

                    setMaxSize(t) {
                        for (this.max = t; this.order.length > this.max;) {
                            const n = this._getAndRemoveByKey(this.order[0]);
                            n && this.onRemove(n)
                        }
                        return this
                    }

                    filter(t) {
                        const n = [];
                        for (const o in this.data) for (const l of this.data[o]) t(l.value) || n.push(l);
                        for (const o of n) this.remove(o.value.tileID, o)
                    }
                }

                class Bi {
                    constructor() {
                        this.state = {}, this.stateChanges = {}, this.deletedStates = {}
                    }

                    updateState(t, n, o) {
                        const l = String(n);
                        if (this.stateChanges[t] = this.stateChanges[t] || {}, this.stateChanges[t][l] = this.stateChanges[t][l] || {}, h.extend(this.stateChanges[t][l], o), null === this.deletedStates[t]) {
                            this.deletedStates[t] = {};
                            for (const p in this.state[t]) p !== l && (this.deletedStates[t][p] = null)
                        } else if (this.deletedStates[t] && null === this.deletedStates[t][l]) {
                            this.deletedStates[t][l] = {};
                            for (const p in this.state[t][l]) o[p] || (this.deletedStates[t][l][p] = null)
                        } else for (const p in o) this.deletedStates[t] && this.deletedStates[t][l] && null === this.deletedStates[t][l][p] && delete this.deletedStates[t][l][p]
                    }

                    removeFeatureState(t, n, o) {
                        if (null === this.deletedStates[t]) return;
                        const l = String(n);
                        if (this.deletedStates[t] = this.deletedStates[t] || {}, o && void 0 !== n) null !== this.deletedStates[t][l] && (this.deletedStates[t][l] = this.deletedStates[t][l] || {}, this.deletedStates[t][l][o] = null); else if (void 0 !== n) if (this.stateChanges[t] && this.stateChanges[t][l]) for (o in this.deletedStates[t][l] = {}, this.stateChanges[t][l]) this.deletedStates[t][l][o] = null; else this.deletedStates[t][l] = null; else this.deletedStates[t] = null
                    }

                    getState(t, n) {
                        const o = String(n),
                            l = h.extend({}, (this.state[t] || {})[o], (this.stateChanges[t] || {})[o]);
                        if (null === this.deletedStates[t]) return {};
                        if (this.deletedStates[t]) {
                            const p = this.deletedStates[t][n];
                            if (null === p) return {};
                            for (const m in p) delete l[m]
                        }
                        return l
                    }

                    initializeTileState(t, n) {
                        t.setFeatureState(this.state, n)
                    }

                    coalesceChanges(t, n) {
                        const o = {};
                        for (const l in this.stateChanges) {
                            this.state[l] = this.state[l] || {};
                            const p = {};
                            for (const m in this.stateChanges[l]) this.state[l][m] || (this.state[l][m] = {}), h.extend(this.state[l][m], this.stateChanges[l][m]), p[m] = this.state[l][m];
                            o[l] = p
                        }
                        for (const l in this.deletedStates) {
                            this.state[l] = this.state[l] || {};
                            const p = {};
                            if (null === this.deletedStates[l]) for (const m in this.state[l]) p[m] = {}, this.state[l][m] = {}; else for (const m in this.deletedStates[l]) {
                                if (null === this.deletedStates[l][m]) this.state[l][m] = {}; else for (const g of Object.keys(this.deletedStates[l][m])) delete this.state[l][m][g];
                                p[m] = this.state[l][m]
                            }
                            o[l] = o[l] || {}, h.extend(o[l], p)
                        }
                        if (this.stateChanges = {}, this.deletedStates = {}, 0 !== Object.keys(o).length) for (const l in t) t[l].setFeatureState(o, n)
                    }
                }

                class $e extends h.Evented {
                    constructor(t, n, o) {
                        super(), this.id = t, this.dispatcher = o, this.on("data", l => {
                            "source" === l.dataType && "metadata" === l.sourceDataType && (this._sourceLoaded = !0), this._sourceLoaded && !this._paused && "source" === l.dataType && "content" === l.sourceDataType && (this.reload(), this.transform && this.update(this.transform, this.terrain))
                        }), this.on("dataloading", () => {
                            this._sourceErrored = !1
                        }), this.on("error", () => {
                            this._sourceErrored = this._source.loaded()
                        }), this._source = function (l, p, m, g) {
                            const y = new Ee[p.type](l, p, m, g);
                            if (y.id !== l) throw new Error(`Expected Source id to be ${l} instead of ${y.id}`);
                            return h.bindAll(["load", "abort", "unload", "serialize", "prepare"], y), y
                        }(t, n, o, this), this._tiles = {}, this._cache = new Yt(0, this._unloadTile.bind(this)), this._timers = {}, this._cacheTimers = {}, this._maxTileCacheSize = null, this._loadedParentTiles = {}, this._coveredTiles = {}, this._state = new Bi
                    }

                    onAdd(t) {
                        this.map = t, this._maxTileCacheSize = t ? t._maxTileCacheSize : null, this._source && this._source.onAdd && this._source.onAdd(t)
                    }

                    onRemove(t) {
                        this.clearTiles(), this._source && this._source.onRemove && this._source.onRemove(t)
                    }

                    loaded() {
                        if (this._sourceErrored) return !0;
                        if (!this._sourceLoaded || !this._source.loaded()) return !1;
                        for (const t in this._tiles) {
                            const n = this._tiles[t];
                            if ("loaded" !== n.state && "errored" !== n.state) return !1
                        }
                        return !0
                    }

                    getSource() {
                        return this._source
                    }

                    pause() {
                        this._paused = !0
                    }

                    resume() {
                        if (!this._paused) return;
                        const t = this._shouldReloadOnResume;
                        this._paused = !1, this._shouldReloadOnResume = !1, t && this.reload(), this.transform && this.update(this.transform, this.terrain)
                    }

                    _loadTile(t, n) {
                        return this._source.loadTile(t, n)
                    }

                    _unloadTile(t) {
                        if (this._source.unloadTile) return this._source.unloadTile(t, () => {
                        })
                    }

                    _abortTile(t) {
                        this._source.abortTile && this._source.abortTile(t, () => {
                        }), this._source.fire(new h.Event("dataabort", {tile: t, coord: t.tileID, dataType: "source"}))
                    }

                    serialize() {
                        return this._source.serialize()
                    }

                    prepare(t) {
                        this._source.prepare && this._source.prepare(), this._state.coalesceChanges(this._tiles, this.map ? this.map.painter : null);
                        for (const n in this._tiles) {
                            const o = this._tiles[n];
                            o.upload(t), o.prepare(this.map.style.imageManager)
                        }
                    }

                    getIds() {
                        return Object.values(this._tiles).map(t => t.tileID).sort(Sr).map(t => t.key)
                    }

                    getRenderableIds(t) {
                        const n = [];
                        for (const o in this._tiles) this._isIdRenderable(o, t) && n.push(this._tiles[o]);
                        return t ? n.sort((o, l) => {
                            const p = o.tileID, m = l.tileID,
                                g = new h.pointGeometry(p.canonical.x, p.canonical.y)._rotate(this.transform.angle),
                                y = new h.pointGeometry(m.canonical.x, m.canonical.y)._rotate(this.transform.angle);
                            return p.overscaledZ - m.overscaledZ || y.y - g.y || y.x - g.x
                        }).map(o => o.tileID.key) : n.map(o => o.tileID).sort(Sr).map(o => o.key)
                    }

                    hasRenderableParent(t) {
                        const n = this.findLoadedParent(t, 0);
                        return !!n && this._isIdRenderable(n.tileID.key)
                    }

                    _isIdRenderable(t, n) {
                        return this._tiles[t] && this._tiles[t].hasData() && !this._coveredTiles[t] && (n || !this._tiles[t].holdingForFade())
                    }

                    reload() {
                        if (this._paused) this._shouldReloadOnResume = !0; else {
                            this._cache.reset();
                            for (const t in this._tiles) "errored" !== this._tiles[t].state && this._reloadTile(t, "reloading")
                        }
                    }

                    _reloadTile(t, n) {
                        const o = this._tiles[t];
                        o && ("loading" !== o.state && (o.state = n), this._loadTile(o, this._tileLoaded.bind(this, o, t, n)))
                    }

                    _tileLoaded(t, n, o, l) {
                        if (l) return t.state = "errored", void (404 !== l.status ? this._source.fire(new h.ErrorEvent(l, {tile: t})) : this.update(this.transform, this.terrain));
                        t.timeAdded = h.exported.now(), "expired" === o && (t.refreshedUponExpiration = !0), this._setTileReloadTimer(n, t), "raster-dem" === this.getSource().type && t.dem && this._backfillDEM(t), this._state.initializeTileState(t, this.map ? this.map.painter : null), t.aborted || this._source.fire(new h.Event("data", {
                            dataType: "source",
                            tile: t,
                            coord: t.tileID
                        }))
                    }

                    _backfillDEM(t) {
                        const n = this.getRenderableIds();
                        for (let l = 0; l < n.length; l++) {
                            const p = n[l];
                            if (t.neighboringTiles && t.neighboringTiles[p]) {
                                const m = this.getTileByID(p);
                                o(t, m), o(m, t)
                            }
                        }

                        function o(l, p) {
                            l.needsHillshadePrepare = !0, l.needsTerrainPrepare = !0;
                            let m = p.tileID.canonical.x - l.tileID.canonical.x;
                            const g = p.tileID.canonical.y - l.tileID.canonical.y,
                                y = Math.pow(2, l.tileID.canonical.z), x = p.tileID.key;
                            0 === m && 0 === g || Math.abs(g) > 1 || (Math.abs(m) > 1 && (1 === Math.abs(m + y) ? m += y : 1 === Math.abs(m - y) && (m -= y)), p.dem && l.dem && (l.dem.backfillBorder(p.dem, m, g), l.neighboringTiles && l.neighboringTiles[x] && (l.neighboringTiles[x].backfilled = !0)))
                        }
                    }

                    getTile(t) {
                        return this.getTileByID(t.key)
                    }

                    getTileByID(t) {
                        return this._tiles[t]
                    }

                    _retainLoadedChildren(t, n, o, l) {
                        for (const p in this._tiles) {
                            let m = this._tiles[p];
                            if (l[p] || !m.hasData() || m.tileID.overscaledZ <= n || m.tileID.overscaledZ > o) continue;
                            let g = m.tileID;
                            for (; m && m.tileID.overscaledZ > n + 1;) {
                                const x = m.tileID.scaledTo(m.tileID.overscaledZ - 1);
                                m = this._tiles[x.key], m && m.hasData() && (g = x)
                            }
                            let y = g;
                            for (; y.overscaledZ > n;) if (y = y.scaledTo(y.overscaledZ - 1), t[y.key]) {
                                l[g.key] = g;
                                break
                            }
                        }
                    }

                    findLoadedParent(t, n) {
                        if (t.key in this._loadedParentTiles) {
                            const o = this._loadedParentTiles[t.key];
                            return o && o.tileID.overscaledZ >= n ? o : null
                        }
                        for (let o = t.overscaledZ - 1; o >= n; o--) {
                            const l = t.scaledTo(o), p = this._getLoadedTile(l);
                            if (p) return p
                        }
                    }

                    _getLoadedTile(t) {
                        const n = this._tiles[t.key];
                        return n && n.hasData() ? n : this._cache.getByKey(t.wrapped().key)
                    }

                    updateCacheSize(t) {
                        const n = Math.ceil(t.width / this._source.tileSize) + 1,
                            o = Math.ceil(t.height / this._source.tileSize) + 1, l = Math.floor(n * o * 5),
                            p = "number" == typeof this._maxTileCacheSize ? Math.min(this._maxTileCacheSize, l) : l;
                        this._cache.setMaxSize(p)
                    }

                    handleWrapJump(t) {
                        const n = Math.round((t - (void 0 === this._prevLng ? t : this._prevLng)) / 360);
                        if (this._prevLng = t, n) {
                            const o = {};
                            for (const l in this._tiles) {
                                const p = this._tiles[l];
                                p.tileID = p.tileID.unwrapTo(p.tileID.wrap + n), o[p.tileID.key] = p
                            }
                            this._tiles = o;
                            for (const l in this._timers) clearTimeout(this._timers[l]), delete this._timers[l];
                            for (const l in this._tiles) this._setTileReloadTimer(l, this._tiles[l])
                        }
                    }

                    update(t, n) {
                        if (this.transform = t, this.terrain = n, !this._sourceLoaded || this._paused) return;
                        let o;
                        this.updateCacheSize(t), this.handleWrapJump(this.transform.center.lng), this._coveredTiles = {}, this.used || this.usedForTerrain ? this._source.tileID ? o = t.getVisibleUnwrappedCoordinates(this._source.tileID).map(x => new h.OverscaledTileID(x.canonical.z, x.wrap, x.canonical.z, x.canonical.x, x.canonical.y)) : (o = t.coveringTiles({
                            tileSize: this.usedForTerrain ? this.tileSize : this._source.tileSize,
                            minzoom: this._source.minzoom,
                            maxzoom: this._source.maxzoom,
                            roundZoom: !this.usedForTerrain && this._source.roundZoom,
                            reparseOverscaled: this._source.reparseOverscaled,
                            terrain: n
                        }), this._source.hasTile && (o = o.filter(x => this._source.hasTile(x)))) : o = [];
                        const l = t.coveringZoomLevel(this._source),
                            p = Math.max(l - $e.maxOverzooming, this._source.minzoom),
                            m = Math.max(l + $e.maxUnderzooming, this._source.minzoom);
                        if (this.usedForTerrain) {
                            const x = {};
                            for (const C of o) if (C.canonical.z > this._source.minzoom) {
                                const S = C.scaledTo(C.canonical.z - 1);
                                x[S.key] = S;
                                const M = C.scaledTo(Math.max(this._source.minzoom, Math.min(C.canonical.z, 5)));
                                x[M.key] = M
                            }
                            o = o.concat(Object.values(x))
                        }
                        const g = this._updateRetainedTiles(o, l);
                        if (ri(this._source.type)) {
                            const x = {}, C = {}, S = Object.keys(g);
                            for (const M of S) {
                                const R = g[M], B = this._tiles[M];
                                if (!B || B.fadeEndTime && B.fadeEndTime <= h.exported.now()) continue;
                                const P = this.findLoadedParent(R, p);
                                P && (this._addTile(P.tileID), x[P.tileID.key] = P.tileID), C[M] = R
                            }
                            this._retainLoadedChildren(C, l, m, g);
                            for (const M in x) g[M] || (this._coveredTiles[M] = !0, g[M] = x[M]);
                            if (n) {
                                const M = {}, R = {};
                                for (const B of o) this._tiles[B.key].hasData() ? M[B.key] = B : R[B.key] = B;
                                for (const B in R) {
                                    const P = R[B].children(this._source.maxzoom);
                                    this._tiles[P[0].key] && this._tiles[P[1].key] && this._tiles[P[2].key] && this._tiles[P[3].key] && (M[P[0].key] = g[P[0].key] = P[0], M[P[1].key] = g[P[1].key] = P[1], M[P[2].key] = g[P[2].key] = P[2], M[P[3].key] = g[P[3].key] = P[3], delete R[B])
                                }
                                for (const B in R) {
                                    const P = this.findLoadedParent(R[B], this._source.minzoom);
                                    if (P) {
                                        M[P.tileID.key] = g[P.tileID.key] = P.tileID;
                                        for (const $ in M) M[$].isChildOf(P.tileID) && delete M[$]
                                    }
                                }
                                for (const B in this._tiles) M[B] || (this._coveredTiles[B] = !0)
                            }
                        }
                        for (const x in g) this._tiles[x].clearFadeHold();
                        const y = h.keysDifference(this._tiles, g);
                        for (const x of y) {
                            const C = this._tiles[x];
                            C.hasSymbolBuckets && !C.holdingForFade() ? C.setHoldDuration(this.map._fadeDuration) : C.hasSymbolBuckets && !C.symbolFadeFinished() || this._removeTile(x)
                        }
                        this._updateLoadedParentTileCache()
                    }

                    releaseSymbolFadeTiles() {
                        for (const t in this._tiles) this._tiles[t].holdingForFade() && this._removeTile(t)
                    }

                    _updateRetainedTiles(t, n) {
                        const o = {}, l = {}, p = Math.max(n - $e.maxOverzooming, this._source.minzoom),
                            m = Math.max(n + $e.maxUnderzooming, this._source.minzoom), g = {};
                        for (const y of t) {
                            const x = this._addTile(y);
                            o[y.key] = y, x.hasData() || n < this._source.maxzoom && (g[y.key] = y)
                        }
                        this._retainLoadedChildren(g, n, m, o);
                        for (const y of t) {
                            let x = this._tiles[y.key];
                            if (x.hasData()) continue;
                            if (n + 1 > this._source.maxzoom) {
                                const S = y.children(this._source.maxzoom)[0], M = this.getTile(S);
                                if (M && M.hasData()) {
                                    o[S.key] = S;
                                    continue
                                }
                            } else {
                                const S = y.children(this._source.maxzoom);
                                if (o[S[0].key] && o[S[1].key] && o[S[2].key] && o[S[3].key]) continue
                            }
                            let C = x.wasRequested();
                            for (let S = y.overscaledZ - 1; S >= p; --S) {
                                const M = y.scaledTo(S);
                                if (l[M.key] || (l[M.key] = !0, x = this.getTile(M), !x && C && (x = this._addTile(M)), x && (o[M.key] = M, C = x.wasRequested(), x.hasData()))) break
                            }
                        }
                        return o
                    }

                    _updateLoadedParentTileCache() {
                        this._loadedParentTiles = {};
                        for (const t in this._tiles) {
                            const n = [];
                            let o, l = this._tiles[t].tileID;
                            for (; l.overscaledZ > 0;) {
                                if (l.key in this._loadedParentTiles) {
                                    o = this._loadedParentTiles[l.key];
                                    break
                                }
                                n.push(l.key);
                                const p = l.scaledTo(l.overscaledZ - 1);
                                if (o = this._getLoadedTile(p), o) break;
                                l = p
                            }
                            for (const p of n) this._loadedParentTiles[p] = o
                        }
                    }

                    _addTile(t) {
                        let n = this._tiles[t.key];
                        if (n) return n;
                        n = this._cache.getAndRemove(t), n && (this._setTileReloadTimer(t.key, n), n.tileID = t, this._state.initializeTileState(n, this.map ? this.map.painter : null), this._cacheTimers[t.key] && (clearTimeout(this._cacheTimers[t.key]), delete this._cacheTimers[t.key], this._setTileReloadTimer(t.key, n)));
                        const o = n;
                        return n || (n = new je(t, this._source.tileSize * t.overscaleFactor()), this._loadTile(n, this._tileLoaded.bind(this, n, t.key, n.state))), n.uses++, this._tiles[t.key] = n, o || this._source.fire(new h.Event("dataloading", {
                            tile: n,
                            coord: n.tileID,
                            dataType: "source"
                        })), n
                    }

                    _setTileReloadTimer(t, n) {
                        t in this._timers && (clearTimeout(this._timers[t]), delete this._timers[t]);
                        const o = n.getExpiryTimeout();
                        o && (this._timers[t] = setTimeout(() => {
                            this._reloadTile(t, "expired"), delete this._timers[t]
                        }, o))
                    }

                    _removeTile(t) {
                        const n = this._tiles[t];
                        n && (n.uses--, delete this._tiles[t], this._timers[t] && (clearTimeout(this._timers[t]), delete this._timers[t]), n.uses > 0 || (n.hasData() && "reloading" !== n.state ? this._cache.add(n.tileID, n, n.getExpiryTimeout()) : (n.aborted = !0, this._abortTile(n), this._unloadTile(n))))
                    }

                    clearTiles() {
                        this._shouldReloadOnResume = !1, this._paused = !1;
                        for (const t in this._tiles) this._removeTile(t);
                        this._cache.reset()
                    }

                    tilesIn(t, n, o) {
                        const l = [], p = this.transform;
                        if (!p) return l;
                        const m = o ? p.getCameraQueryGeometry(t) : t,
                            g = t.map(B => p.pointCoordinate(B, this.terrain)),
                            y = m.map(B => p.pointCoordinate(B, this.terrain)), x = this.getIds();
                        let C = 1 / 0, S = 1 / 0, M = -1 / 0, R = -1 / 0;
                        for (const B of y) C = Math.min(C, B.x), S = Math.min(S, B.y), M = Math.max(M, B.x), R = Math.max(R, B.y);
                        for (let B = 0; B < x.length; B++) {
                            const P = this._tiles[x[B]];
                            if (P.holdingForFade()) continue;
                            const $ = P.tileID, H = Math.pow(2, p.zoom - P.tileID.overscaledZ),
                                X = n * P.queryPadding * h.EXTENT / P.tileSize / H,
                                U = [$.getTilePoint(new h.MercatorCoordinate(C, S)), $.getTilePoint(new h.MercatorCoordinate(M, R))];
                            if (U[0].x - X < h.EXTENT && U[0].y - X < h.EXTENT && U[1].x + X >= 0 && U[1].y + X >= 0) {
                                const J = g.map(re => $.getTilePoint(re)), te = y.map(re => $.getTilePoint(re));
                                l.push({tile: P, tileID: $, queryGeometry: J, cameraQueryGeometry: te, scale: H})
                            }
                        }
                        return l
                    }

                    getVisibleCoordinates(t) {
                        const n = this.getRenderableIds(t).map(o => this._tiles[o].tileID);
                        for (const o of n) o.posMatrix = this.transform.calculatePosMatrix(o.toUnwrapped());
                        return n
                    }

                    hasTransition() {
                        if (this._source.hasTransition()) return !0;
                        if (ri(this._source.type)) for (const t in this._tiles) {
                            const n = this._tiles[t];
                            if (void 0 !== n.fadeEndTime && n.fadeEndTime >= h.exported.now()) return !0
                        }
                        return !1
                    }

                    setFeatureState(t, n, o) {
                        this._state.updateState(t = t || "_geojsonTileLayer", n, o)
                    }

                    removeFeatureState(t, n, o) {
                        this._state.removeFeatureState(t = t || "_geojsonTileLayer", n, o)
                    }

                    getFeatureState(t, n) {
                        return this._state.getState(t = t || "_geojsonTileLayer", n)
                    }

                    setDependencies(t, n, o) {
                        const l = this._tiles[t];
                        l && l.setDependencies(n, o)
                    }

                    reloadTilesForDependencies(t, n) {
                        for (const o in this._tiles) this._tiles[o].hasDependency(t, n) && this._reloadTile(o, "reloading");
                        this._cache.filter(o => !o.hasDependency(t, n))
                    }
                }

                function Sr(a, t) {
                    const n = Math.abs(2 * a.wrap) - +(a.wrap < 0), o = Math.abs(2 * t.wrap) - +(t.wrap < 0);
                    return a.overscaledZ - t.overscaledZ || o - n || t.canonical.y - a.canonical.y || t.canonical.x - a.canonical.x
                }

                function ri(a) {
                    return "raster" === a || "image" === a || "video" === a
                }

                $e.maxOverzooming = 10, $e.maxUnderzooming = 3;
                const Ur = "mapboxgl_preloaded_worker_pool";

                class Ei {
                    constructor() {
                        this.active = {}
                    }

                    acquire(t) {
                        if (!this.workers) for (this.workers = []; this.workers.length < Ei.workerCount;) this.workers.push(new Worker(zr.workerUrl));
                        return this.active[t] = !0, this.workers.slice()
                    }

                    release(t) {
                        delete this.active[t], 0 === this.numActive() && (this.workers.forEach(n => {
                            n.terminate()
                        }), this.workers = null)
                    }

                    isPreloaded() {
                        return !!this.active[Ur]
                    }

                    numActive() {
                        return Object.keys(this.active).length
                    }
                }

                const di = Math.floor(h.exported.hardwareConcurrency / 2);
                let mt;

                function on() {
                    return mt || (mt = new Ei), mt
                }

                function Vr(a, t) {
                    const n = {};
                    for (const o in a) "ref" !== o && (n[o] = a[o]);
                    return h.refProperties.forEach(o => {
                        o in t && (n[o] = t[o])
                    }), n
                }

                function an(a) {
                    a = a.slice();
                    const t = Object.create(null);
                    for (let n = 0; n < a.length; n++) t[a[n].id] = a[n];
                    for (let n = 0; n < a.length; n++) "ref" in a[n] && (a[n] = Vr(a[n], t[a[n].ref]));
                    return a
                }

                Ei.workerCount = Math.max(Math.min(di, 6), 1);
                const it = {
                    setStyle: "setStyle",
                    addLayer: "addLayer",
                    removeLayer: "removeLayer",
                    setPaintProperty: "setPaintProperty",
                    setLayoutProperty: "setLayoutProperty",
                    setFilter: "setFilter",
                    addSource: "addSource",
                    removeSource: "removeSource",
                    setGeoJSONSourceData: "setGeoJSONSourceData",
                    setLayerZoomRange: "setLayerZoomRange",
                    setLayerProperty: "setLayerProperty",
                    setCenter: "setCenter",
                    setZoom: "setZoom",
                    setBearing: "setBearing",
                    setPitch: "setPitch",
                    setSprite: "setSprite",
                    setGlyphs: "setGlyphs",
                    setTransition: "setTransition",
                    setLight: "setLight"
                };

                function Cr(a, t, n) {
                    n.push({command: it.addSource, args: [a, t[a]]})
                }

                function ln(a, t, n) {
                    t.push({command: it.removeSource, args: [a]}), n[a] = !0
                }

                function Nr(a, t, n, o) {
                    ln(a, n, o), Cr(a, t, n)
                }

                function Dn(a, t, n) {
                    let o;
                    for (o in a[n]) if (Object.prototype.hasOwnProperty.call(a[n], o) && "data" !== o && !Ze(a[n][o], t[n][o])) return !1;
                    for (o in t[n]) if (Object.prototype.hasOwnProperty.call(t[n], o) && "data" !== o && !Ze(a[n][o], t[n][o])) return !1;
                    return !0
                }

                function hr(a, t, n, o, l, p) {
                    let m;
                    for (m in t = t || {}, a = a || {}) Object.prototype.hasOwnProperty.call(a, m) && (Ze(a[m], t[m]) || n.push({
                        command: p,
                        args: [o, m, t[m], l]
                    }));
                    for (m in t) Object.prototype.hasOwnProperty.call(t, m) && !Object.prototype.hasOwnProperty.call(a, m) && (Ze(a[m], t[m]) || n.push({
                        command: p,
                        args: [o, m, t[m], l]
                    }))
                }

                function Tr(a) {
                    return a.id
                }

                function lt(a, t) {
                    return a[t.id] = t, a
                }

                class $r {
                    constructor(t, n) {
                        this.reset(t, n)
                    }

                    reset(t, n) {
                        this.points = t || [], this._distances = [0];
                        for (let o = 1; o < this.points.length; o++) this._distances[o] = this._distances[o - 1] + this.points[o].dist(this.points[o - 1]);
                        this.length = this._distances[this._distances.length - 1], this.padding = Math.min(n || 0, .5 * this.length), this.paddedLength = this.length - 2 * this.padding
                    }

                    lerp(t) {
                        if (1 === this.points.length) return this.points[0];
                        t = h.clamp(t, 0, 1);
                        let n = 1, o = this._distances[n];
                        const l = t * this.paddedLength + this.padding;
                        for (; o < l && n < this._distances.length;) o = this._distances[++n];
                        const p = n - 1, m = this._distances[p], g = o - m, y = g > 0 ? (l - m) / g : 0;
                        return this.points[p].mult(1 - y).add(this.points[n].mult(y))
                    }
                }

                function Fi(a, t) {
                    let n = !0;
                    return "always" === a || "never" !== a && "never" !== t || (n = !1), n
                }

                class ei {
                    constructor(t, n, o) {
                        const l = this.boxCells = [], p = this.circleCells = [];
                        this.xCellCount = Math.ceil(t / o), this.yCellCount = Math.ceil(n / o);
                        for (let m = 0; m < this.xCellCount * this.yCellCount; m++) l.push([]), p.push([]);
                        this.circleKeys = [], this.boxKeys = [], this.bboxes = [], this.circles = [], this.width = t, this.height = n, this.xScale = this.xCellCount / t, this.yScale = this.yCellCount / n, this.boxUid = 0, this.circleUid = 0
                    }

                    keysLength() {
                        return this.boxKeys.length + this.circleKeys.length
                    }

                    insert(t, n, o, l, p) {
                        this._forEachCell(n, o, l, p, this._insertBoxCell, this.boxUid++), this.boxKeys.push(t), this.bboxes.push(n), this.bboxes.push(o), this.bboxes.push(l), this.bboxes.push(p)
                    }

                    insertCircle(t, n, o, l) {
                        this._forEachCell(n - l, o - l, n + l, o + l, this._insertCircleCell, this.circleUid++), this.circleKeys.push(t), this.circles.push(n), this.circles.push(o), this.circles.push(l)
                    }

                    _insertBoxCell(t, n, o, l, p, m) {
                        this.boxCells[p].push(m)
                    }

                    _insertCircleCell(t, n, o, l, p, m) {
                        this.circleCells[p].push(m)
                    }

                    _query(t, n, o, l, p, m, g) {
                        if (o < 0 || t > this.width || l < 0 || n > this.height) return [];
                        const y = [];
                        if (t <= 0 && n <= 0 && this.width <= o && this.height <= l) {
                            if (p) return [{key: null, x1: t, y1: n, x2: o, y2: l}];
                            for (let x = 0; x < this.boxKeys.length; x++) y.push({
                                key: this.boxKeys[x],
                                x1: this.bboxes[4 * x],
                                y1: this.bboxes[4 * x + 1],
                                x2: this.bboxes[4 * x + 2],
                                y2: this.bboxes[4 * x + 3]
                            });
                            for (let x = 0; x < this.circleKeys.length; x++) {
                                const C = this.circles[3 * x], S = this.circles[3 * x + 1], M = this.circles[3 * x + 2];
                                y.push({key: this.circleKeys[x], x1: C - M, y1: S - M, x2: C + M, y2: S + M})
                            }
                        } else this._forEachCell(t, n, o, l, this._queryCell, y, {
                            hitTest: p,
                            overlapMode: m,
                            seenUids: {box: {}, circle: {}}
                        }, g);
                        return y
                    }

                    query(t, n, o, l) {
                        return this._query(t, n, o, l, !1, null)
                    }

                    hitTest(t, n, o, l, p, m) {
                        return this._query(t, n, o, l, !0, p, m).length > 0
                    }

                    hitTestCircle(t, n, o, l, p) {
                        const m = t - o, g = t + o, y = n - o, x = n + o;
                        if (g < 0 || m > this.width || x < 0 || y > this.height) return !1;
                        const C = [];
                        return this._forEachCell(m, y, g, x, this._queryCellCircle, C, {
                            hitTest: !0,
                            overlapMode: l,
                            circle: {x: t, y: n, radius: o},
                            seenUids: {box: {}, circle: {}}
                        }, p), C.length > 0
                    }

                    _queryCell(t, n, o, l, p, m, g, y) {
                        const {seenUids: x, hitTest: C, overlapMode: S} = g, M = this.boxCells[p];
                        if (null !== M) {
                            const B = this.bboxes;
                            for (const P of M) if (!x.box[P]) {
                                x.box[P] = !0;
                                const $ = 4 * P, H = this.boxKeys[P];
                                if (t <= B[$ + 2] && n <= B[$ + 3] && o >= B[$ + 0] && l >= B[$ + 1] && (!y || y(H)) && (!C || !Fi(S, H.overlapMode)) && (m.push({
                                    key: H,
                                    x1: B[$],
                                    y1: B[$ + 1],
                                    x2: B[$ + 2],
                                    y2: B[$ + 3]
                                }), C)) return !0
                            }
                        }
                        const R = this.circleCells[p];
                        if (null !== R) {
                            const B = this.circles;
                            for (const P of R) if (!x.circle[P]) {
                                x.circle[P] = !0;
                                const $ = 3 * P, H = this.circleKeys[P];
                                if (this._circleAndRectCollide(B[$], B[$ + 1], B[$ + 2], t, n, o, l) && (!y || y(H)) && (!C || !Fi(S, H.overlapMode))) {
                                    const X = B[$], U = B[$ + 1], J = B[$ + 2];
                                    if (m.push({key: H, x1: X - J, y1: U - J, x2: X + J, y2: U + J}), C) return !0
                                }
                            }
                        }
                        return !1
                    }

                    _queryCellCircle(t, n, o, l, p, m, g, y) {
                        const {circle: x, seenUids: C, overlapMode: S} = g, M = this.boxCells[p];
                        if (null !== M) {
                            const B = this.bboxes;
                            for (const P of M) if (!C.box[P]) {
                                C.box[P] = !0;
                                const $ = 4 * P, H = this.boxKeys[P];
                                if (this._circleAndRectCollide(x.x, x.y, x.radius, B[$ + 0], B[$ + 1], B[$ + 2], B[$ + 3]) && (!y || y(H)) && !Fi(S, H.overlapMode)) return m.push(!0), !0
                            }
                        }
                        const R = this.circleCells[p];
                        if (null !== R) {
                            const B = this.circles;
                            for (const P of R) if (!C.circle[P]) {
                                C.circle[P] = !0;
                                const $ = 3 * P, H = this.circleKeys[P];
                                if (this._circlesCollide(B[$], B[$ + 1], B[$ + 2], x.x, x.y, x.radius) && (!y || y(H)) && !Fi(S, H.overlapMode)) return m.push(!0), !0
                            }
                        }
                    }

                    _forEachCell(t, n, o, l, p, m, g, y) {
                        const x = this._convertToXCellCoord(t), C = this._convertToYCellCoord(n),
                            S = this._convertToXCellCoord(o), M = this._convertToYCellCoord(l);
                        for (let R = x; R <= S; R++) for (let B = C; B <= M; B++) if (p.call(this, t, n, o, l, this.xCellCount * B + R, m, g, y)) return
                    }

                    _convertToXCellCoord(t) {
                        return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(t * this.xScale)))
                    }

                    _convertToYCellCoord(t) {
                        return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(t * this.yScale)))
                    }

                    _circlesCollide(t, n, o, l, p, m) {
                        const g = l - t, y = p - n, x = o + m;
                        return x * x > g * g + y * y
                    }

                    _circleAndRectCollide(t, n, o, l, p, m, g) {
                        const y = (m - l) / 2, x = Math.abs(t - (l + y));
                        if (x > y + o) return !1;
                        const C = (g - p) / 2, S = Math.abs(n - (p + C));
                        if (S > C + o) return !1;
                        if (x <= y || S <= C) return !0;
                        const M = x - y, R = S - C;
                        return M * M + R * R <= o * o
                    }
                }

                function Jt(a, t, n, o, l) {
                    const p = h.create();
                    return t ? (h.scale(p, p, [1 / l, 1 / l, 1]), n || h.rotateZ(p, p, o.angle)) : h.multiply(p, o.labelPlaneMatrix, a), p
                }

                function mi(a, t, n, o, l) {
                    if (t) {
                        const p = h.clone(a);
                        return h.scale(p, p, [l, l, 1]), n || h.rotateZ(p, p, -o.angle), p
                    }
                    return o.glCoordMatrix
                }

                function fi(a, t, n) {
                    let o;
                    n ? (o = [a.x, a.y, n(a.x, a.y), 1], h.transformMat4(o, o, t)) : (o = [a.x, a.y, 0, 1], Y(o, o, t));
                    const l = o[3];
                    return {point: new h.pointGeometry(o[0] / l, o[1] / l), signedDistanceFromCamera: l}
                }

                function ur(a, t) {
                    return .5 + a / t * .5
                }

                function L(a, t) {
                    const n = a[0] / a[3], o = a[1] / a[3];
                    return n >= -t[0] && n <= t[0] && o >= -t[1] && o <= t[1]
                }

                function I(a, t, n, o, l, p, m, g, y, x) {
                    const C = o ? a.textSizeData : a.iconSizeData, S = h.evaluateSizeForZoom(C, n.transform.zoom),
                        M = [256 / n.width * 2 + 1, 256 / n.height * 2 + 1],
                        R = o ? a.text.dynamicLayoutVertexArray : a.icon.dynamicLayoutVertexArray;
                    R.clear();
                    const B = a.lineVertexArray, P = o ? a.text.placedSymbolArray : a.icon.placedSymbolArray,
                        $ = n.transform.width / n.transform.height;
                    let H = !1;
                    for (let X = 0; X < P.length; X++) {
                        const U = P.get(X);
                        if (U.hidden || U.writingMode === h.WritingMode.vertical && !H) {
                            G(U.numGlyphs, R);
                            continue
                        }
                        let J;
                        if (H = !1, x ? (J = [U.anchorX, U.anchorY, x(U.anchorX, U.anchorY), 1], h.transformMat4(J, J, t)) : (J = [U.anchorX, U.anchorY, 0, 1], Y(J, J, t)), !L(J, M)) {
                            G(U.numGlyphs, R);
                            continue
                        }
                        const te = ur(n.transform.cameraToCenterDistance, J[3]), re = h.evaluateSizeForFeature(C, S, U),
                            ae = m ? re / te : re * te, ce = new h.pointGeometry(U.anchorX, U.anchorY),
                            ge = fi(ce, l, x).point, de = {},
                            ye = O(U, ae, !1, g, t, l, p, a.glyphOffsetArray, B, R, ge, ce, de, $, y, x);
                        H = ye.useVertical, (ye.notEnoughRoom || H || ye.needsFlipping && O(U, ae, !0, g, t, l, p, a.glyphOffsetArray, B, R, ge, ce, de, $, y, x).notEnoughRoom) && G(U.numGlyphs, R)
                    }
                    o ? a.text.dynamicLayoutVertexBuffer.updateData(R) : a.icon.dynamicLayoutVertexBuffer.updateData(R)
                }

                function E(a, t, n, o, l, p, m, g, y, x, C, S, M) {
                    const R = g.glyphStartIndex + g.numGlyphs, B = g.lineStartIndex,
                        P = g.lineStartIndex + g.lineLength, $ = t.getoffsetX(g.glyphStartIndex),
                        H = t.getoffsetX(R - 1), X = q(a * $, n, o, l, p, m, g.segment, B, P, y, x, C, S, M);
                    if (!X) return null;
                    const U = q(a * H, n, o, l, p, m, g.segment, B, P, y, x, C, S, M);
                    return U ? {first: X, last: U} : null
                }

                function D(a, t, n, o) {
                    return a === h.WritingMode.horizontal && Math.abs(n.y - t.y) > Math.abs(n.x - t.x) * o ? {useVertical: !0} : (a === h.WritingMode.vertical ? t.y < n.y : t.x > n.x) ? {needsFlipping: !0} : null
                }

                function O(a, t, n, o, l, p, m, g, y, x, C, S, M, R, B, P) {
                    const $ = t / 24, H = a.lineOffsetX * $, X = a.lineOffsetY * $;
                    let U;
                    if (a.numGlyphs > 1) {
                        const J = a.glyphStartIndex + a.numGlyphs, te = a.lineStartIndex,
                            re = a.lineStartIndex + a.lineLength, ae = E($, g, H, X, n, C, S, a, y, p, M, B, P);
                        if (!ae) return {notEnoughRoom: !0};
                        const ce = fi(ae.first.point, m, P).point, ge = fi(ae.last.point, m, P).point;
                        if (o && !n) {
                            const de = D(a.writingMode, ce, ge, R);
                            if (de) return de
                        }
                        U = [ae.first];
                        for (let de = a.glyphStartIndex + 1; de < J - 1; de++) U.push(q($ * g.getoffsetX(de), H, X, n, C, S, a.segment, te, re, y, p, M, B, P));
                        U.push(ae.last)
                    } else {
                        if (o && !n) {
                            const te = fi(S, l, P).point, re = a.lineStartIndex + a.segment + 1,
                                ae = new h.pointGeometry(y.getx(re), y.gety(re)), ce = fi(ae, l, P),
                                ge = ce.signedDistanceFromCamera > 0 ? ce.point : Z(S, ae, te, 1, l, P),
                                de = D(a.writingMode, te, ge, R);
                            if (de) return de
                        }
                        const J = q($ * g.getoffsetX(a.glyphStartIndex), H, X, n, C, S, a.segment, a.lineStartIndex, a.lineStartIndex + a.lineLength, y, p, M, B, P);
                        if (!J) return {notEnoughRoom: !0};
                        U = [J]
                    }
                    for (const J of U) h.addDynamicAttributes(x, J.point, J.angle);
                    return {}
                }

                function Z(a, t, n, o, l, p) {
                    const m = fi(a.add(a.sub(t)._unit()), l, p).point, g = n.sub(m);
                    return n.add(g._mult(o / g.mag()))
                }

                function q(a, t, n, o, l, p, m, g, y, x, C, S, M, R) {
                    const B = o ? a - t : a + t;
                    let P = B > 0 ? 1 : -1, $ = 0;
                    o && (P *= -1, $ = Math.PI), P < 0 && ($ += Math.PI);
                    let H = P > 0 ? g + m : g + m + 1, X = l, U = l, J = 0, te = 0;
                    const re = Math.abs(B), ae = [];
                    for (; J + te <= re;) {
                        if (H += P, H < g || H >= y) return null;
                        if (U = X, ae.push(X), X = S[H], void 0 === X) {
                            const Ae = new h.pointGeometry(x.getx(H), x.gety(H)), qe = fi(Ae, C, R);
                            if (qe.signedDistanceFromCamera > 0) X = S[H] = qe.point; else {
                                const We = H - P;
                                X = Z(0 === J ? p : new h.pointGeometry(x.getx(We), x.gety(We)), Ae, U, re - J + 1, C, R)
                            }
                        }
                        J += te, te = U.dist(X)
                    }
                    const ce = (re - J) / te, ge = X.sub(U), de = ge.mult(ce)._add(U);
                    de._add(ge._unit()._perp()._mult(n * P));
                    const ye = $ + Math.atan2(X.y - U.y, X.x - U.x);
                    return ae.push(de), {point: de, angle: M ? ye : 0, path: ae}
                }

                const j = new Float32Array([-1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0]);

                function G(a, t) {
                    for (let n = 0; n < a; n++) {
                        const o = t.length;
                        t.resize(o + 4), t.float32.set(j, 3 * o)
                    }
                }

                function Y(a, t, n) {
                    const o = t[0], l = t[1];
                    return a[0] = n[0] * o + n[4] * l + n[12], a[1] = n[1] * o + n[5] * l + n[13], a[3] = n[3] * o + n[7] * l + n[15], a
                }

                const ne = 100;

                class me {
                    constructor(t, n = new ei(t.width + 200, t.height + 200, 25), o = new ei(t.width + 200, t.height + 200, 25)) {
                        this.transform = t, this.grid = n, this.ignoredGrid = o, this.pitchfactor = Math.cos(t._pitch) * t.cameraToCenterDistance, this.screenRightBoundary = t.width + ne, this.screenBottomBoundary = t.height + ne, this.gridRightBoundary = t.width + 200, this.gridBottomBoundary = t.height + 200, this.perspectiveRatioCutoff = .6
                    }

                    placeCollisionBox(t, n, o, l, p, m) {
                        const g = this.projectAndGetPerspectiveRatio(l, t.anchorPointX, t.anchorPointY, m),
                            y = o * g.perspectiveRatio, x = t.x1 * y + g.point.x, C = t.y1 * y + g.point.y,
                            S = t.x2 * y + g.point.x, M = t.y2 * y + g.point.y;
                        return !this.isInsideGrid(x, C, S, M) || "always" !== n && this.grid.hitTest(x, C, S, M, n, p) || g.perspectiveRatio < this.perspectiveRatioCutoff ? {
                            box: [],
                            offscreen: !1
                        } : {box: [x, C, S, M], offscreen: this.isOffscreen(x, C, S, M)}
                    }

                    placeCollisionCircles(t, n, o, l, p, m, g, y, x, C, S, M, R, B) {
                        const P = [], $ = new h.pointGeometry(n.anchorX, n.anchorY), H = fi($, m, B),
                            X = ur(this.transform.cameraToCenterDistance, H.signedDistanceFromCamera),
                            U = (C ? p / X : p * X) / h.ONE_EM, J = fi($, g, B).point,
                            te = E(U, l, n.lineOffsetX * U, n.lineOffsetY * U, !1, J, $, n, o, g, {}, !1, B);
                        let re = !1, ae = !1, ce = !0;
                        if (te) {
                            const ge = .5 * M * X + R, de = new h.pointGeometry(-100, -100),
                                ye = new h.pointGeometry(this.screenRightBoundary, this.screenBottomBoundary),
                                Ae = new $r, qe = te.first, We = te.last;
                            let ze = [];
                            for (let He = qe.path.length - 1; He >= 1; He--) ze.push(qe.path[He]);
                            for (let He = 1; He < We.path.length; He++) ze.push(We.path[He]);
                            const ht = 2.5 * ge;
                            if (y) {
                                const He = ze.map(nt => fi(nt, y, B));
                                ze = He.some(nt => nt.signedDistanceFromCamera <= 0) ? [] : He.map(nt => nt.point)
                            }
                            let ut = [];
                            if (ze.length > 0) {
                                const He = ze[0].clone(), nt = ze[0].clone();
                                for (let xt = 1; xt < ze.length; xt++) He.x = Math.min(He.x, ze[xt].x), He.y = Math.min(He.y, ze[xt].y), nt.x = Math.max(nt.x, ze[xt].x), nt.y = Math.max(nt.y, ze[xt].y);
                                ut = He.x >= de.x && nt.x <= ye.x && He.y >= de.y && nt.y <= ye.y ? [ze] : nt.x < de.x || He.x > ye.x || nt.y < de.y || He.y > ye.y ? [] : h.clipLine([ze], de.x, de.y, ye.x, ye.y)
                            }
                            for (const He of ut) {
                                Ae.reset(He, .25 * ge);
                                let nt = 0;
                                nt = Ae.length <= .5 * ge ? 1 : Math.ceil(Ae.paddedLength / ht) + 1;
                                for (let xt = 0; xt < nt; xt++) {
                                    const pt = xt / Math.max(nt - 1, 1), Ni = Ae.lerp(pt), $i = Ni.x + ne,
                                        ni = Ni.y + ne;
                                    P.push($i, ni, ge, 0);
                                    const Ai = $i - ge, gi = ni - ge, Xi = $i + ge, kr = ni + ge;
                                    if (ce = ce && this.isOffscreen(Ai, gi, Xi, kr), ae = ae || this.isInsideGrid(Ai, gi, Xi, kr), "always" !== t && this.grid.hitTestCircle($i, ni, ge, t, S) && (re = !0, !x)) return {
                                        circles: [],
                                        offscreen: !1,
                                        collisionDetected: re
                                    }
                                }
                            }
                        }
                        return {
                            circles: !x && re || !ae || X < this.perspectiveRatioCutoff ? [] : P,
                            offscreen: ce,
                            collisionDetected: re
                        }
                    }

                    queryRenderedSymbols(t) {
                        if (0 === t.length || 0 === this.grid.keysLength() && 0 === this.ignoredGrid.keysLength()) return {};
                        const n = [];
                        let o = 1 / 0, l = 1 / 0, p = -1 / 0, m = -1 / 0;
                        for (const C of t) {
                            const S = new h.pointGeometry(C.x + ne, C.y + ne);
                            o = Math.min(o, S.x), l = Math.min(l, S.y), p = Math.max(p, S.x), m = Math.max(m, S.y), n.push(S)
                        }
                        const g = this.grid.query(o, l, p, m).concat(this.ignoredGrid.query(o, l, p, m)), y = {},
                            x = {};
                        for (const C of g) {
                            const S = C.key;
                            if (void 0 === y[S.bucketInstanceId] && (y[S.bucketInstanceId] = {}), y[S.bucketInstanceId][S.featureIndex]) continue;
                            const M = [new h.pointGeometry(C.x1, C.y1), new h.pointGeometry(C.x2, C.y1), new h.pointGeometry(C.x2, C.y2), new h.pointGeometry(C.x1, C.y2)];
                            h.polygonIntersectsPolygon(n, M) && (y[S.bucketInstanceId][S.featureIndex] = !0, void 0 === x[S.bucketInstanceId] && (x[S.bucketInstanceId] = []), x[S.bucketInstanceId].push(S.featureIndex))
                        }
                        return x
                    }

                    insertCollisionBox(t, n, o, l, p, m) {
                        (o ? this.ignoredGrid : this.grid).insert({
                            bucketInstanceId: l,
                            featureIndex: p,
                            collisionGroupID: m,
                            overlapMode: n
                        }, t[0], t[1], t[2], t[3])
                    }

                    insertCollisionCircles(t, n, o, l, p, m) {
                        const g = o ? this.ignoredGrid : this.grid,
                            y = {bucketInstanceId: l, featureIndex: p, collisionGroupID: m, overlapMode: n};
                        for (let x = 0; x < t.length; x += 4) g.insertCircle(y, t[x], t[x + 1], t[x + 2])
                    }

                    projectAndGetPerspectiveRatio(t, n, o, l) {
                        let p;
                        return l ? (p = [n, o, l(n, o), 1], h.transformMat4(p, p, t)) : (p = [n, o, 0, 1], Y(p, p, t)), {
                            point: new h.pointGeometry((p[0] / p[3] + 1) / 2 * this.transform.width + ne, (-p[1] / p[3] + 1) / 2 * this.transform.height + ne),
                            perspectiveRatio: .5 + this.transform.cameraToCenterDistance / p[3] * .5
                        }
                    }

                    isOffscreen(t, n, o, l) {
                        return o < ne || t >= this.screenRightBoundary || l < ne || n > this.screenBottomBoundary
                    }

                    isInsideGrid(t, n, o, l) {
                        return o >= 0 && t < this.gridRightBoundary && l >= 0 && n < this.gridBottomBoundary
                    }

                    getViewportMatrix() {
                        const t = h.identity([]);
                        return h.translate(t, t, [-100, -100, 0]), t
                    }
                }

                function oe(a, t, n) {
                    return t * (h.EXTENT / (a.tileSize * Math.pow(2, n - a.tileID.overscaledZ)))
                }

                class Fe {
                    constructor(t, n, o, l) {
                        this.opacity = t ? Math.max(0, Math.min(1, t.opacity + (t.placed ? n : -n))) : l && o ? 1 : 0, this.placed = o
                    }

                    isHidden() {
                        return 0 === this.opacity && !this.placed
                    }
                }

                class Ve {
                    constructor(t, n, o, l, p) {
                        this.text = new Fe(t ? t.text : null, n, o, p), this.icon = new Fe(t ? t.icon : null, n, l, p)
                    }

                    isHidden() {
                        return this.text.isHidden() && this.icon.isHidden()
                    }
                }

                class Pe {
                    constructor(t, n, o) {
                        this.text = t, this.icon = n, this.skipFade = o
                    }
                }

                class Ne {
                    constructor() {
                        this.invProjMatrix = h.create(), this.viewportMatrix = h.create(), this.circles = []
                    }
                }

                class et {
                    constructor(t, n, o, l, p) {
                        this.bucketInstanceId = t, this.featureIndex = n, this.sourceLayerIndex = o, this.bucketIndex = l, this.tileID = p
                    }
                }

                class bt {
                    constructor(t) {
                        this.crossSourceCollisions = t, this.maxGroupID = 0, this.collisionGroups = {}
                    }

                    get(t) {
                        if (this.crossSourceCollisions) return {ID: 0, predicate: null};
                        if (!this.collisionGroups[t]) {
                            const n = ++this.maxGroupID;
                            this.collisionGroups[t] = {ID: n, predicate: o => o.collisionGroupID === n}
                        }
                        return this.collisionGroups[t]
                    }
                }

                function tt(a, t, n, o, l) {
                    const {horizontalAlign: p, verticalAlign: m} = h.getAnchorAlignment(a), g = -(p - .5) * t,
                        y = -(m - .5) * n, x = h.evaluateVariableOffset(a, o);
                    return new h.pointGeometry(g + x[0] * l, y + x[1] * l)
                }

                function rt(a, t, n, o, l, p) {
                    const {x1: m, x2: g, y1: y, y2: x, anchorPointX: C, anchorPointY: S} = a,
                        M = new h.pointGeometry(t, n);
                    return o && M._rotate(l ? p : -p), {
                        x1: m + M.x,
                        y1: y + M.y,
                        x2: g + M.x,
                        y2: x + M.y,
                        anchorPointX: C,
                        anchorPointY: S
                    }
                }

                class Ct {
                    constructor(t, n, o, l, p) {
                        this.transform = t.clone(), this.terrain = n, this.collisionIndex = new me(this.transform), this.placements = {}, this.opacities = {}, this.variableOffsets = {}, this.stale = !1, this.commitTime = 0, this.fadeDuration = o, this.retainedQueryData = {}, this.collisionGroups = new bt(l), this.collisionCircleArrays = {}, this.prevPlacement = p, p && (p.prevPlacement = void 0), this.placedOrientations = {}
                    }

                    getBucketParts(t, n, o, l) {
                        const p = o.getBucket(n), m = o.latestFeatureIndex;
                        if (!p || !m || n.id !== p.layerIds[0]) return;
                        const g = o.collisionBoxArray, y = p.layers[0].layout,
                            x = Math.pow(2, this.transform.zoom - o.tileID.overscaledZ), C = o.tileSize / h.EXTENT,
                            S = this.transform.calculatePosMatrix(o.tileID.toUnwrapped()),
                            M = "map" === y.get("text-pitch-alignment"), R = "map" === y.get("text-rotation-alignment"),
                            B = oe(o, 1, this.transform.zoom), P = Jt(S, M, R, this.transform, B);
                        let $ = null;
                        if (M) {
                            const X = mi(S, M, R, this.transform, B);
                            $ = h.multiply([], this.transform.labelPlaneMatrix, X)
                        }
                        this.retainedQueryData[p.bucketInstanceId] = new et(p.bucketInstanceId, m, p.sourceLayerIndex, p.index, o.tileID);
                        const H = {
                            bucket: p,
                            layout: y,
                            posMatrix: S,
                            textLabelPlaneMatrix: P,
                            labelToScreenMatrix: $,
                            scale: x,
                            textPixelRatio: C,
                            holdingForFade: o.holdingForFade(),
                            collisionBoxArray: g,
                            partiallyEvaluatedTextSize: h.evaluateSizeForZoom(p.textSizeData, this.transform.zoom),
                            collisionGroup: this.collisionGroups.get(p.sourceID)
                        };
                        if (l) for (const X of p.sortKeyRanges) {
                            const {sortKey: U, symbolInstanceStart: J, symbolInstanceEnd: te} = X;
                            t.push({sortKey: U, symbolInstanceStart: J, symbolInstanceEnd: te, parameters: H})
                        } else t.push({
                            symbolInstanceStart: 0,
                            symbolInstanceEnd: p.symbolInstances.length,
                            parameters: H
                        })
                    }

                    attemptAnchorPlacement(t, n, o, l, p, m, g, y, x, C, S, M, R, B, P, $) {
                        const H = [M.textOffset0, M.textOffset1], X = tt(t, o, l, H, p),
                            U = this.collisionIndex.placeCollisionBox(rt(n, X.x, X.y, m, g, this.transform.angle), S, y, x, C.predicate, $);
                        if ((!P || 0 !== this.collisionIndex.placeCollisionBox(rt(P, X.x, X.y, m, g, this.transform.angle), S, y, x, C.predicate, $).box.length) && U.box.length > 0) {
                            let J;
                            if (this.prevPlacement && this.prevPlacement.variableOffsets[M.crossTileID] && this.prevPlacement.placements[M.crossTileID] && this.prevPlacement.placements[M.crossTileID].text && (J = this.prevPlacement.variableOffsets[M.crossTileID].anchor), 0 === M.crossTileID) throw new Error("symbolInstance.crossTileID can't be 0");
                            return this.variableOffsets[M.crossTileID] = {
                                textOffset: H,
                                width: o,
                                height: l,
                                anchor: t,
                                textBoxScale: p,
                                prevAnchor: J
                            }, this.markUsedJustification(R, t, M, B), R.allowVerticalPlacement && (this.markUsedOrientation(R, B, M), this.placedOrientations[M.crossTileID] = B), {
                                shift: X,
                                placedGlyphBoxes: U
                            }
                        }
                    }

                    placeLayerBucketPart(t, n, o) {
                        const {
                                bucket: l,
                                layout: p,
                                posMatrix: m,
                                textLabelPlaneMatrix: g,
                                labelToScreenMatrix: y,
                                textPixelRatio: x,
                                holdingForFade: C,
                                collisionBoxArray: S,
                                partiallyEvaluatedTextSize: M,
                                collisionGroup: R
                            } = t.parameters, B = p.get("text-optional"), P = p.get("icon-optional"),
                            $ = h.getOverlapMode(p, "text-overlap", "text-allow-overlap"), H = "always" === $,
                            X = h.getOverlapMode(p, "icon-overlap", "icon-allow-overlap"), U = "always" === X,
                            J = "map" === p.get("text-rotation-alignment"),
                            te = "map" === p.get("text-pitch-alignment"), re = "none" !== p.get("icon-text-fit"),
                            ae = "viewport-y" === p.get("symbol-z-order"), ce = H && (U || !l.hasIconData() || P),
                            ge = U && (H || !l.hasTextData() || B);
                        !l.collisionArrays && S && l.deserializeCollisionBoxes(S);
                        const de = (ye, Ae) => {
                            if (n[ye.crossTileID]) return;
                            if (C) return void (this.placements[ye.crossTileID] = new Pe(!1, !1, !1));
                            let qe = !1, We = !1, ze = !0, ht = null, ut = {box: null, offscreen: null},
                                He = {box: null, offscreen: null}, nt = null, xt = null, pt = null, Ni = 0, $i = 0,
                                ni = 0;
                            Ae.textFeatureIndex ? Ni = Ae.textFeatureIndex : ye.useRuntimeCollisionCircles && (Ni = ye.featureIndex), Ae.verticalTextFeatureIndex && ($i = Ae.verticalTextFeatureIndex);
                            const Ai = this.retainedQueryData[l.bucketInstanceId].tileID,
                                gi = this.terrain ? (Nt, zt) => this.terrain.getElevation(Ai, Nt, zt) : null;
                            for (const Nt of ["textBox", "verticalTextBox", "iconBox", "verticalIconBox"]) {
                                const zt = Ae[Nt];
                                zt && (zt.elevation = gi ? gi(zt.anchorPointX, zt.anchorPointY) : 0)
                            }
                            const Xi = Ae.textBox;
                            if (Xi) {
                                const Nt = dt => {
                                    let _i = h.WritingMode.horizontal;
                                    if (l.allowVerticalPlacement && !dt && this.prevPlacement) {
                                        const yi = this.prevPlacement.placedOrientations[ye.crossTileID];
                                        yi && (this.placedOrientations[ye.crossTileID] = yi, _i = yi, this.markUsedOrientation(l, _i, ye))
                                    }
                                    return _i
                                }, zt = (dt, _i) => {
                                    if (l.allowVerticalPlacement && ye.numVerticalGlyphVertices > 0 && Ae.verticalTextBox) {
                                        for (const yi of l.writingModes) if (yi === h.WritingMode.vertical ? (ut = _i(), He = ut) : ut = dt(), ut && ut.box && ut.box.length) break
                                    } else ut = dt()
                                };
                                if (p.get("text-variable-anchor")) {
                                    let dt = p.get("text-variable-anchor");
                                    if (this.prevPlacement && this.prevPlacement.variableOffsets[ye.crossTileID]) {
                                        const kt = this.prevPlacement.variableOffsets[ye.crossTileID];
                                        dt.indexOf(kt.anchor) > 0 && (dt = dt.filter(nr => nr !== kt.anchor), dt.unshift(kt.anchor))
                                    }
                                    const _i = (kt, nr, Wi) => {
                                        const Vo = kt.x2 - kt.x1, Yr = kt.y2 - kt.y1, Ls = ye.textBoxScale,
                                            Rs = re && "never" === X ? nr : null;
                                        let Hn = {box: [], offscreen: !1};
                                        const wl = "never" !== $ ? 2 * dt.length : dt.length;
                                        for (let qt = 0; qt < wl; ++qt) {
                                            const Pr = this.attemptAnchorPlacement(dt[qt % dt.length], kt, Vo, Yr, Ls, J, te, x, m, R, qt >= dt.length ? $ : "never", ye, l, Wi, Rs, gi);
                                            if (Pr && (Hn = Pr.placedGlyphBoxes, Hn && Hn.box && Hn.box.length)) {
                                                qe = !0, ht = Pr.shift;
                                                break
                                            }
                                        }
                                        return Hn
                                    };
                                    zt(() => _i(Xi, Ae.iconBox, h.WritingMode.horizontal), () => {
                                        const kt = Ae.verticalTextBox;
                                        return l.allowVerticalPlacement && !(ut && ut.box && ut.box.length) && ye.numVerticalGlyphVertices > 0 && kt ? _i(kt, Ae.verticalIconBox, h.WritingMode.vertical) : {
                                            box: null,
                                            offscreen: null
                                        }
                                    }), ut && (qe = ut.box, ze = ut.offscreen);
                                    const yi = Nt(ut && ut.box);
                                    if (!qe && this.prevPlacement) {
                                        const kt = this.prevPlacement.variableOffsets[ye.crossTileID];
                                        kt && (this.variableOffsets[ye.crossTileID] = kt, this.markUsedJustification(l, kt.anchor, ye, yi))
                                    }
                                } else {
                                    const dt = (_i, yi) => {
                                        const kt = this.collisionIndex.placeCollisionBox(_i, $, x, m, R.predicate, gi);
                                        return kt && kt.box && kt.box.length && (this.markUsedOrientation(l, yi, ye), this.placedOrientations[ye.crossTileID] = yi), kt
                                    };
                                    zt(() => dt(Xi, h.WritingMode.horizontal), () => {
                                        const _i = Ae.verticalTextBox;
                                        return l.allowVerticalPlacement && ye.numVerticalGlyphVertices > 0 && _i ? dt(_i, h.WritingMode.vertical) : {
                                            box: null,
                                            offscreen: null
                                        }
                                    }), Nt(ut && ut.box && ut.box.length)
                                }
                            }
                            if (nt = ut, qe = nt && nt.box && nt.box.length > 0, ze = nt && nt.offscreen, ye.useRuntimeCollisionCircles) {
                                const Nt = l.text.placedSymbolArray.get(ye.centerJustifiedTextSymbolIndex),
                                    zt = h.evaluateSizeForFeature(l.textSizeData, M, Nt), dt = p.get("text-padding");
                                xt = this.collisionIndex.placeCollisionCircles($, Nt, l.lineVertexArray, l.glyphOffsetArray, zt, m, g, y, o, te, R.predicate, ye.collisionCircleDiameter, dt, gi), xt.circles.length && xt.collisionDetected && !o && h.warnOnce("Collisions detected, but collision boxes are not shown"), qe = H || xt.circles.length > 0 && !xt.collisionDetected, ze = ze && xt.offscreen
                            }
                            if (Ae.iconFeatureIndex && (ni = Ae.iconFeatureIndex), Ae.iconBox) {
                                const Nt = zt => {
                                    const dt = re && ht ? rt(zt, ht.x, ht.y, J, te, this.transform.angle) : zt;
                                    return this.collisionIndex.placeCollisionBox(dt, X, x, m, R.predicate, gi)
                                };
                                He && He.box && He.box.length && Ae.verticalIconBox ? (pt = Nt(Ae.verticalIconBox), We = pt.box.length > 0) : (pt = Nt(Ae.iconBox), We = pt.box.length > 0), ze = ze && pt.offscreen
                            }
                            const kr = B || 0 === ye.numHorizontalGlyphVertices && 0 === ye.numVerticalGlyphVertices,
                                Ds = P || 0 === ye.numIconVertices;
                            if (kr || Ds ? Ds ? kr || (We = We && qe) : qe = We && qe : We = qe = We && qe, qe && nt && nt.box && this.collisionIndex.insertCollisionBox(nt.box, $, p.get("text-ignore-placement"), l.bucketInstanceId, He && He.box && $i ? $i : Ni, R.ID), We && pt && this.collisionIndex.insertCollisionBox(pt.box, X, p.get("icon-ignore-placement"), l.bucketInstanceId, ni, R.ID), xt && (qe && this.collisionIndex.insertCollisionCircles(xt.circles, $, p.get("text-ignore-placement"), l.bucketInstanceId, Ni, R.ID), o)) {
                                const Nt = l.bucketInstanceId;
                                let zt = this.collisionCircleArrays[Nt];
                                void 0 === zt && (zt = this.collisionCircleArrays[Nt] = new Ne);
                                for (let dt = 0; dt < xt.circles.length; dt += 4) zt.circles.push(xt.circles[dt + 0]), zt.circles.push(xt.circles[dt + 1]), zt.circles.push(xt.circles[dt + 2]), zt.circles.push(xt.collisionDetected ? 1 : 0)
                            }
                            if (0 === ye.crossTileID) throw new Error("symbolInstance.crossTileID can't be 0");
                            if (0 === l.bucketInstanceId) throw new Error("bucket.bucketInstanceId can't be 0");
                            this.placements[ye.crossTileID] = new Pe(qe || ce, We || ge, ze || l.justReloaded), n[ye.crossTileID] = !0
                        };
                        if (ae) {
                            if (0 !== t.symbolInstanceStart) throw new Error("bucket.bucketInstanceId should be 0");
                            const ye = l.getSortedSymbolIndexes(this.transform.angle);
                            for (let Ae = ye.length - 1; Ae >= 0; --Ae) {
                                const qe = ye[Ae];
                                de(l.symbolInstances.get(qe), l.collisionArrays[qe])
                            }
                        } else for (let ye = t.symbolInstanceStart; ye < t.symbolInstanceEnd; ye++) de(l.symbolInstances.get(ye), l.collisionArrays[ye]);
                        if (o && l.bucketInstanceId in this.collisionCircleArrays) {
                            const ye = this.collisionCircleArrays[l.bucketInstanceId];
                            h.invert(ye.invProjMatrix, m), ye.viewportMatrix = this.collisionIndex.getViewportMatrix()
                        }
                        l.justReloaded = !1
                    }

                    markUsedJustification(t, n, o, l) {
                        let p;
                        p = l === h.WritingMode.vertical ? o.verticalPlacedTextSymbolIndex : {
                            left: o.leftJustifiedTextSymbolIndex,
                            center: o.centerJustifiedTextSymbolIndex,
                            right: o.rightJustifiedTextSymbolIndex
                        }[h.getAnchorJustification(n)];
                        const m = [o.leftJustifiedTextSymbolIndex, o.centerJustifiedTextSymbolIndex, o.rightJustifiedTextSymbolIndex, o.verticalPlacedTextSymbolIndex];
                        for (const g of m) g >= 0 && (t.text.placedSymbolArray.get(g).crossTileID = p >= 0 && g !== p ? 0 : o.crossTileID)
                    }

                    markUsedOrientation(t, n, o) {
                        const l = n === h.WritingMode.horizontal || n === h.WritingMode.horizontalOnly ? n : 0,
                            p = n === h.WritingMode.vertical ? n : 0,
                            m = [o.leftJustifiedTextSymbolIndex, o.centerJustifiedTextSymbolIndex, o.rightJustifiedTextSymbolIndex];
                        for (const g of m) t.text.placedSymbolArray.get(g).placedOrientation = l;
                        o.verticalPlacedTextSymbolIndex && (t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation = p)
                    }

                    commit(t) {
                        this.commitTime = t, this.zoomAtLastRecencyCheck = this.transform.zoom;
                        const n = this.prevPlacement;
                        let o = !1;
                        this.prevZoomAdjustment = n ? n.zoomAdjustment(this.transform.zoom) : 0;
                        const l = n ? n.symbolFadeChange(t) : 1, p = n ? n.opacities : {},
                            m = n ? n.variableOffsets : {}, g = n ? n.placedOrientations : {};
                        for (const y in this.placements) {
                            const x = this.placements[y], C = p[y];
                            C ? (this.opacities[y] = new Ve(C, l, x.text, x.icon), o = o || x.text !== C.text.placed || x.icon !== C.icon.placed) : (this.opacities[y] = new Ve(null, l, x.text, x.icon, x.skipFade), o = o || x.text || x.icon)
                        }
                        for (const y in p) {
                            const x = p[y];
                            if (!this.opacities[y]) {
                                const C = new Ve(x, l, !1, !1);
                                C.isHidden() || (this.opacities[y] = C, o = o || x.text.placed || x.icon.placed)
                            }
                        }
                        for (const y in m) this.variableOffsets[y] || !this.opacities[y] || this.opacities[y].isHidden() || (this.variableOffsets[y] = m[y]);
                        for (const y in g) this.placedOrientations[y] || !this.opacities[y] || this.opacities[y].isHidden() || (this.placedOrientations[y] = g[y]);
                        if (n && void 0 === n.lastPlacementChangeTime) throw new Error("Last placement time for previous placement is not defined");
                        o ? this.lastPlacementChangeTime = t : "number" != typeof this.lastPlacementChangeTime && (this.lastPlacementChangeTime = n ? n.lastPlacementChangeTime : t)
                    }

                    updateLayerOpacities(t, n) {
                        const o = {};
                        for (const l of n) {
                            const p = l.getBucket(t);
                            p && l.latestFeatureIndex && t.id === p.layerIds[0] && this.updateBucketOpacities(p, o, l.collisionBoxArray)
                        }
                    }

                    updateBucketOpacities(t, n, o) {
                        t.hasTextData() && (t.text.opacityVertexArray.clear(), t.text.hasVisibleVertices = !1), t.hasIconData() && (t.icon.opacityVertexArray.clear(), t.icon.hasVisibleVertices = !1), t.hasIconCollisionBoxData() && t.iconCollisionBox.collisionVertexArray.clear(), t.hasTextCollisionBoxData() && t.textCollisionBox.collisionVertexArray.clear();
                        const l = t.layers[0].layout, p = new Ve(null, 0, !1, !1, !0), m = l.get("text-allow-overlap"),
                            g = l.get("icon-allow-overlap"), y = l.get("text-variable-anchor"),
                            x = "map" === l.get("text-rotation-alignment"), C = "map" === l.get("text-pitch-alignment"),
                            S = "none" !== l.get("icon-text-fit"),
                            M = new Ve(null, 0, m && (g || !t.hasIconData() || l.get("icon-optional")), g && (m || !t.hasTextData() || l.get("text-optional")), !0);
                        !t.collisionArrays && o && (t.hasIconCollisionBoxData() || t.hasTextCollisionBoxData()) && t.deserializeCollisionBoxes(o);
                        const R = (B, P, $) => {
                            for (let H = 0; H < P / 4; H++) B.opacityVertexArray.emplaceBack($);
                            B.hasVisibleVertices = B.hasVisibleVertices || $ !== Ir
                        };
                        for (let B = 0; B < t.symbolInstances.length; B++) {
                            const P = t.symbolInstances.get(B), {
                                numHorizontalGlyphVertices: $,
                                numVerticalGlyphVertices: H,
                                crossTileID: X
                            } = P;
                            let U = this.opacities[X];
                            n[X] ? U = p : U || (U = M, this.opacities[X] = U), n[X] = !0;
                            const J = P.numIconVertices > 0, te = this.placedOrientations[P.crossTileID],
                                re = te === h.WritingMode.vertical,
                                ae = te === h.WritingMode.horizontal || te === h.WritingMode.horizontalOnly;
                            if ($ > 0 || H > 0) {
                                const ce = hn(U.text);
                                R(t.text, $, re ? Ir : ce), R(t.text, H, ae ? Ir : ce);
                                const ge = U.text.isHidden();
                                [P.rightJustifiedTextSymbolIndex, P.centerJustifiedTextSymbolIndex, P.leftJustifiedTextSymbolIndex].forEach(Ae => {
                                    Ae >= 0 && (t.text.placedSymbolArray.get(Ae).hidden = ge || re ? 1 : 0)
                                }), P.verticalPlacedTextSymbolIndex >= 0 && (t.text.placedSymbolArray.get(P.verticalPlacedTextSymbolIndex).hidden = ge || ae ? 1 : 0);
                                const de = this.variableOffsets[P.crossTileID];
                                de && this.markUsedJustification(t, de.anchor, P, te);
                                const ye = this.placedOrientations[P.crossTileID];
                                ye && (this.markUsedJustification(t, "left", P, ye), this.markUsedOrientation(t, ye, P))
                            }
                            if (J) {
                                const ce = hn(U.icon), ge = !(S && P.verticalPlacedIconSymbolIndex && re);
                                P.placedIconSymbolIndex >= 0 && (R(t.icon, P.numIconVertices, ge ? ce : Ir), t.icon.placedSymbolArray.get(P.placedIconSymbolIndex).hidden = U.icon.isHidden()), P.verticalPlacedIconSymbolIndex >= 0 && (R(t.icon, P.numVerticalIconVertices, ge ? Ir : ce), t.icon.placedSymbolArray.get(P.verticalPlacedIconSymbolIndex).hidden = U.icon.isHidden())
                            }
                            if (t.hasIconCollisionBoxData() || t.hasTextCollisionBoxData()) {
                                const ce = t.collisionArrays[B];
                                if (ce) {
                                    let ge = new h.pointGeometry(0, 0);
                                    if (ce.textBox || ce.verticalTextBox) {
                                        let ye = !0;
                                        if (y) {
                                            const Ae = this.variableOffsets[X];
                                            Ae ? (ge = tt(Ae.anchor, Ae.width, Ae.height, Ae.textOffset, Ae.textBoxScale), x && ge._rotate(C ? this.transform.angle : -this.transform.angle)) : ye = !1
                                        }
                                        ce.textBox && Ot(t.textCollisionBox.collisionVertexArray, U.text.placed, !ye || re, ge.x, ge.y), ce.verticalTextBox && Ot(t.textCollisionBox.collisionVertexArray, U.text.placed, !ye || ae, ge.x, ge.y)
                                    }
                                    const de = Boolean(!ae && ce.verticalIconBox);
                                    ce.iconBox && Ot(t.iconCollisionBox.collisionVertexArray, U.icon.placed, de, S ? ge.x : 0, S ? ge.y : 0), ce.verticalIconBox && Ot(t.iconCollisionBox.collisionVertexArray, U.icon.placed, !de, S ? ge.x : 0, S ? ge.y : 0)
                                }
                            }
                        }
                        if (t.sortFeatures(this.transform.angle), this.retainedQueryData[t.bucketInstanceId] && (this.retainedQueryData[t.bucketInstanceId].featureSortOrder = t.featureSortOrder), t.hasTextData() && t.text.opacityVertexBuffer && t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray), t.hasIconData() && t.icon.opacityVertexBuffer && t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray), t.hasIconCollisionBoxData() && t.iconCollisionBox.collisionVertexBuffer && t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray), t.hasTextCollisionBoxData() && t.textCollisionBox.collisionVertexBuffer && t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray), t.text.opacityVertexArray.length !== t.text.layoutVertexArray.length / 4) throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);
                        if (t.icon.opacityVertexArray.length !== t.icon.layoutVertexArray.length / 4) throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);
                        if (t.bucketInstanceId in this.collisionCircleArrays) {
                            const B = this.collisionCircleArrays[t.bucketInstanceId];
                            t.placementInvProjMatrix = B.invProjMatrix, t.placementViewportMatrix = B.viewportMatrix, t.collisionCircleArray = B.circles, delete this.collisionCircleArrays[t.bucketInstanceId]
                        }
                    }

                    symbolFadeChange(t) {
                        return 0 === this.fadeDuration ? 1 : (t - this.commitTime) / this.fadeDuration + this.prevZoomAdjustment
                    }

                    zoomAdjustment(t) {
                        return Math.max(0, (this.transform.zoom - t) / 1.5)
                    }

                    hasTransitions(t) {
                        return this.stale || t - this.lastPlacementChangeTime < this.fadeDuration
                    }

                    stillRecent(t, n) {
                        const o = this.zoomAtLastRecencyCheck === n ? 1 - this.zoomAdjustment(n) : 1;
                        return this.zoomAtLastRecencyCheck = n, this.commitTime + this.fadeDuration * o > t
                    }

                    setStale() {
                        this.stale = !0
                    }
                }

                function Ot(a, t, n, o, l) {
                    a.emplaceBack(t ? 1 : 0, n ? 1 : 0, o || 0, l || 0), a.emplaceBack(t ? 1 : 0, n ? 1 : 0, o || 0, l || 0), a.emplaceBack(t ? 1 : 0, n ? 1 : 0, o || 0, l || 0), a.emplaceBack(t ? 1 : 0, n ? 1 : 0, o || 0, l || 0)
                }

                const ti = Math.pow(2, 25), jt = Math.pow(2, 24), cn = Math.pow(2, 17), na = Math.pow(2, 16),
                    sa = Math.pow(2, 9), Zr = Math.pow(2, 8), Jn = Math.pow(2, 1);

                function hn(a) {
                    if (0 === a.opacity && !a.placed) return 0;
                    if (1 === a.opacity && a.placed) return 4294967295;
                    const t = a.placed ? 1 : 0, n = Math.floor(127 * a.opacity);
                    return n * ti + t * jt + n * cn + t * na + n * sa + t * Zr + n * Jn + t
                }

                const Ir = 0;

                class Qn {
                    constructor(t) {
                        this._sortAcrossTiles = "viewport-y" !== t.layout.get("symbol-z-order") && !t.layout.get("symbol-sort-key").isConstant(), this._currentTileIndex = 0, this._currentPartIndex = 0, this._seenCrossTileIDs = {}, this._bucketParts = []
                    }

                    continuePlacement(t, n, o, l, p) {
                        const m = this._bucketParts;
                        for (; this._currentTileIndex < t.length;) if (n.getBucketParts(m, l, t[this._currentTileIndex], this._sortAcrossTiles), this._currentTileIndex++, p()) return !0;
                        for (this._sortAcrossTiles && (this._sortAcrossTiles = !1, m.sort((g, y) => g.sortKey - y.sortKey)); this._currentPartIndex < m.length;) if (n.placeLayerBucketPart(m[this._currentPartIndex], this._seenCrossTileIDs, o), this._currentPartIndex++, p()) return !0;
                        return !1
                    }
                }

                class Gs {
                    constructor(t, n, o, l, p, m, g, y) {
                        this.placement = new Ct(t, n, m, g, y), this._currentPlacementIndex = o.length - 1, this._forceFullPlacement = l, this._showCollisionBoxes = p, this._done = !1
                    }

                    isDone() {
                        return this._done
                    }

                    continuePlacement(t, n, o) {
                        const l = h.exported.now(), p = () => {
                            const m = h.exported.now() - l;
                            return !this._forceFullPlacement && m > 2
                        };
                        for (; this._currentPlacementIndex >= 0;) {
                            const m = n[t[this._currentPlacementIndex]],
                                g = this.placement.collisionIndex.transform.zoom;
                            if ("symbol" === m.type && (!m.minzoom || m.minzoom <= g) && (!m.maxzoom || m.maxzoom > g)) {
                                if (this._inProgressLayer || (this._inProgressLayer = new Qn(m)), this._inProgressLayer.continuePlacement(o[m.source], this.placement, this._showCollisionBoxes, m, p)) return;
                                delete this._inProgressLayer
                            }
                            this._currentPlacementIndex--
                        }
                        this._done = !0
                    }

                    commit(t) {
                        return this.placement.commit(t), this.placement
                    }
                }

                const un = 512 / h.EXTENT / 2;

                class js {
                    constructor(t, n, o) {
                        this.tileID = t, this.bucketInstanceId = o, this._symbolsByKey = {};
                        const l = new Map;
                        for (let p = 0; p < n.length; p++) {
                            const m = n.get(p), g = m.key, y = l.get(g);
                            y ? y.push(m) : l.set(g, [m])
                        }
                        for (const [p, m] of l) {
                            const g = {
                                positions: m.map(y => ({
                                    x: Math.floor(y.anchorX * un),
                                    y: Math.floor(y.anchorY * un)
                                })), crossTileIDs: m.map(y => y.crossTileID)
                            };
                            if (g.positions.length > 128) {
                                const y = new h.KDBush(g.positions, x => x.x, x => x.y, 16, Uint16Array);
                                delete y.points, delete g.positions, g.index = y
                            }
                            this._symbolsByKey[p] = g
                        }
                    }

                    getScaledCoordinates(t, n) {
                        const {x: o, y: l, z: p} = this.tileID.canonical, {x: m, y: g, z: y} = n.canonical,
                            x = un / Math.pow(2, y - p), C = (g * h.EXTENT + t.anchorY) * x, S = l * h.EXTENT * un;
                        return {x: Math.floor((m * h.EXTENT + t.anchorX) * x - o * h.EXTENT * un), y: Math.floor(C - S)}
                    }

                    findMatches(t, n, o) {
                        const l = this.tileID.canonical.z < n.canonical.z ? 1 : Math.pow(2, this.tileID.canonical.z - n.canonical.z);
                        for (let p = 0; p < t.length; p++) {
                            const m = t.get(p);
                            if (m.crossTileID) continue;
                            const g = this._symbolsByKey[m.key];
                            if (!g) continue;
                            const y = this.getScaledCoordinates(m, n);
                            if (g.index) {
                                const x = g.index.range(y.x - l, y.y - l, y.x + l, y.y + l).sort();
                                for (const C of x) {
                                    const S = g.crossTileIDs[C];
                                    if (!o[S]) {
                                        o[S] = !0, m.crossTileID = S;
                                        break
                                    }
                                }
                            } else if (g.positions) for (let x = 0; x < g.positions.length; x++) {
                                const C = g.positions[x], S = g.crossTileIDs[x];
                                if (Math.abs(C.x - y.x) <= l && Math.abs(C.y - y.y) <= l && !o[S]) {
                                    o[S] = !0, m.crossTileID = S;
                                    break
                                }
                            }
                        }
                    }

                    getCrossTileIDsLists() {
                        return Object.values(this._symbolsByKey).map(({crossTileIDs: t}) => t)
                    }
                }

                class es {
                    constructor() {
                        this.maxCrossTileID = 0
                    }

                    generate() {
                        return ++this.maxCrossTileID
                    }
                }

                class Ln {
                    constructor() {
                        this.indexes = {}, this.usedCrossTileIDs = {}, this.lng = 0
                    }

                    handleWrapJump(t) {
                        const n = Math.round((t - this.lng) / 360);
                        if (0 !== n) for (const o in this.indexes) {
                            const l = this.indexes[o], p = {};
                            for (const m in l) {
                                const g = l[m];
                                g.tileID = g.tileID.unwrapTo(g.tileID.wrap + n), p[g.tileID.key] = g
                            }
                            this.indexes[o] = p
                        }
                        this.lng = t
                    }

                    addBucket(t, n, o) {
                        if (this.indexes[t.overscaledZ] && this.indexes[t.overscaledZ][t.key]) {
                            if (this.indexes[t.overscaledZ][t.key].bucketInstanceId === n.bucketInstanceId) return !1;
                            this.removeBucketCrossTileIDs(t.overscaledZ, this.indexes[t.overscaledZ][t.key])
                        }
                        for (let p = 0; p < n.symbolInstances.length; p++) n.symbolInstances.get(p).crossTileID = 0;
                        this.usedCrossTileIDs[t.overscaledZ] || (this.usedCrossTileIDs[t.overscaledZ] = {});
                        const l = this.usedCrossTileIDs[t.overscaledZ];
                        for (const p in this.indexes) {
                            const m = this.indexes[p];
                            if (Number(p) > t.overscaledZ) for (const g in m) {
                                const y = m[g];
                                y.tileID.isChildOf(t) && y.findMatches(n.symbolInstances, t, l)
                            } else {
                                const g = m[t.scaledTo(Number(p)).key];
                                g && g.findMatches(n.symbolInstances, t, l)
                            }
                        }
                        for (let p = 0; p < n.symbolInstances.length; p++) {
                            const m = n.symbolInstances.get(p);
                            m.crossTileID || (m.crossTileID = o.generate(), l[m.crossTileID] = !0)
                        }
                        return void 0 === this.indexes[t.overscaledZ] && (this.indexes[t.overscaledZ] = {}), this.indexes[t.overscaledZ][t.key] = new js(t, n.symbolInstances, n.bucketInstanceId), !0
                    }

                    removeBucketCrossTileIDs(t, n) {
                        for (const o of n.getCrossTileIDsLists()) for (const l of o) delete this.usedCrossTileIDs[t][l]
                    }

                    removeStaleBuckets(t) {
                        let n = !1;
                        for (const o in this.indexes) {
                            const l = this.indexes[o];
                            for (const p in l) t[l[p].bucketInstanceId] || (this.removeBucketCrossTileIDs(o, l[p]), delete l[p], n = !0)
                        }
                        return n
                    }
                }

                class Mt {
                    constructor() {
                        this.layerIndexes = {}, this.crossTileIDs = new es, this.maxBucketInstanceId = 0, this.bucketsInCurrentPlacement = {}
                    }

                    addLayer(t, n, o) {
                        let l = this.layerIndexes[t.id];
                        void 0 === l && (l = this.layerIndexes[t.id] = new Ln);
                        let p = !1;
                        const m = {};
                        l.handleWrapJump(o);
                        for (const g of n) {
                            const y = g.getBucket(t);
                            y && t.id === y.layerIds[0] && (y.bucketInstanceId || (y.bucketInstanceId = ++this.maxBucketInstanceId), l.addBucket(g.tileID, y, this.crossTileIDs) && (p = !0), m[y.bucketInstanceId] = !0)
                        }
                        return l.removeStaleBuckets(m) && (p = !0), p
                    }

                    pruneUnusedLayers(t) {
                        const n = {};
                        t.forEach(o => {
                            n[o] = !0
                        });
                        for (const o in this.layerIndexes) n[o] || delete this.layerIndexes[o]
                    }
                }

                const Gr = (a, t) => h.emitValidationErrors(a, t && t.filter(n => "source.canvas" !== n.identifier)),
                    oa = h.pick(it, ["addLayer", "removeLayer", "setPaintProperty", "setLayoutProperty", "setFilter", "addSource", "removeSource", "setLayerZoomRange", "setLight", "setTransition", "setGeoJSONSourceData", "setGlyphs", "setSprite"]),
                    aa = h.pick(it, ["setCenter", "setZoom", "setBearing", "setPitch"]), la = function () {
                        const a = {}, t = h.spec.$version;
                        for (const n in h.spec.$root) {
                            const o = h.spec.$root[n];
                            if (o.required) {
                                let l = null;
                                l = "version" === n ? t : "array" === o.type ? [] : {}, null != l && (a[n] = l)
                            }
                        }
                        return a
                    }();

                class Oi extends h.Evented {
                    constructor(t, n = {}) {
                        super(), this.map = t, this.dispatcher = new lr(on(), this, t._getMapId()), this.imageManager = new Xe, this.imageManager.setEventedParent(this), this.glyphManager = new Ri(t._requestManager, n.localIdeographFontFamily), this.lineAtlas = new sn(256, 512), this.crossTileSymbolIndex = new Mt, this._spritesImagesIds = {}, this._layers = {}, this._serializedLayers = {}, this._order = [], this.sourceCaches = {}, this.zoomHistory = new h.ZoomHistory, this._loaded = !1, this._availableImages = [], this._resetUpdates(), this.dispatcher.broadcast("setReferrer", h.getReferrer());
                        const o = this;
                        this._rtlTextPluginCallback = Oi.registerForPluginStateChange(l => {
                            o.dispatcher.broadcast("syncRTLPluginState", {
                                pluginStatus: l.pluginStatus,
                                pluginURL: l.pluginURL
                            }, (p, m) => {
                                if (h.triggerPluginCompletionEvent(p), m && m.every(g => g)) for (const g in o.sourceCaches) o.sourceCaches[g].reload()
                            })
                        }), this.on("data", l => {
                            if ("source" !== l.dataType || "metadata" !== l.sourceDataType) return;
                            const p = this.sourceCaches[l.sourceId];
                            if (!p) return;
                            const m = p.getSource();
                            if (m && m.vectorLayerIds) for (const g in this._layers) {
                                const y = this._layers[g];
                                y.source === m.id && this._validateLayer(y)
                            }
                        })
                    }

                    loadURL(t, n = {}, o) {
                        this.fire(new h.Event("dataloading", {dataType: "style"})), n.validate = "boolean" != typeof n.validate || n.validate;
                        const l = this.map._requestManager.transformRequest(t, at.Style);
                        this._request = h.getJSON(l, (p, m) => {
                            this._request = null, p ? this.fire(new h.ErrorEvent(p)) : m && this._load(m, n, o)
                        })
                    }

                    loadJSON(t, n = {}, o) {
                        this.fire(new h.Event("dataloading", {dataType: "style"})), this._request = h.exported.frame(() => {
                            this._request = null, n.validate = !1 !== n.validate, this._load(t, n, o)
                        })
                    }

                    loadEmpty() {
                        this.fire(new h.Event("dataloading", {dataType: "style"})), this._load(la, {validate: !1})
                    }

                    _load(t, n, o) {
                        const l = n.transformStyle ? n.transformStyle(o, t) : t;
                        if (n.validate && Gr(this, h.validateStyle(l))) return;
                        this._loaded = !0, this.stylesheet = l;
                        for (const m in l.sources) this.addSource(m, l.sources[m], {validate: !1});
                        l.sprite ? this._loadSprite(l.sprite) : this.imageManager.setLoaded(!0), this.glyphManager.setURL(l.glyphs);
                        const p = an(this.stylesheet.layers);
                        this._order = p.map(m => m.id), this._layers = {}, this._serializedLayers = {};
                        for (let m of p) m = h.createStyleLayer(m), m.setEventedParent(this, {layer: {id: m.id}}), this._layers[m.id] = m, this._serializedLayers[m.id] = m.serialize();
                        this.dispatcher.broadcast("setLayers", this._serializeLayers(this._order)), this.light = new vr(this.stylesheet.light), this.map.setTerrain(this.stylesheet.terrain), this.fire(new h.Event("data", {dataType: "style"})), this.fire(new h.Event("style.load"))
                    }

                    _loadSprite(t, n = !1, o) {
                        this.imageManager.setLoaded(!1), this._spriteRequest = function (l, p, m, g) {
                            const y = Gi(l), x = m > 1 ? "@2x" : "";
                            let C;
                            const S = [], M = [], R = {}, B = {};
                            for (const {id: $, url: H} of y) {
                                const X = S.push(h.getJSON(p.transformRequest(p.normalizeSpriteURL(H, x, ".json"), at.SpriteJSON), (J, te) => {
                                        S.splice(X, 1), C || (C = J, R[$] = te, P())
                                    })),
                                    U = M.push(Et.getImage(p.transformRequest(p.normalizeSpriteURL(H, x, ".png"), at.SpriteImage), (J, te) => {
                                        M.splice(U, 1), C || (C = J, B[$] = te, P())
                                    }))
                            }

                            function P() {
                                const $ = Object.values(R).length, H = Object.values(B).length;
                                if (C) g(C); else if (y.length === $ && $ === H) {
                                    const X = {};
                                    for (const U in R) {
                                        X[U] = {};
                                        const J = h.exported.getImageCanvasContext(B[U]), te = R[U];
                                        for (const re in te) {
                                            const {
                                                width: ae,
                                                height: ce,
                                                x: ge,
                                                y: de,
                                                sdf: ye,
                                                pixelRatio: Ae,
                                                stretchX: qe,
                                                stretchY: We,
                                                content: ze
                                            } = te[re];
                                            X[U][re] = {
                                                data: null,
                                                pixelRatio: Ae,
                                                sdf: ye,
                                                stretchX: qe,
                                                stretchY: We,
                                                content: ze,
                                                spriteData: {width: ae, height: ce, x: ge, y: de, context: J}
                                            }
                                        }
                                    }
                                    g(null, X)
                                }
                            }

                            return {
                                cancel() {
                                    if (S.length) for (const $ of S) $.cancel(), S.splice(S.indexOf($), 1);
                                    if (M.length) for (const $ of M) $.cancel(), M.splice(M.indexOf($), 1)
                                }
                            }
                        }(t, this.map._requestManager, this.map.getPixelRatio(), (l, p) => {
                            if (this._spriteRequest = null, l) this.fire(new h.ErrorEvent(l)); else if (p) for (const m in p) {
                                this._spritesImagesIds[m] = [];
                                const g = this._spritesImagesIds[m] ? this._spritesImagesIds[m].filter(y => !(y in p)) : [];
                                for (const y of g) this.imageManager.removeImage(y), this._changedImages[y] = !0;
                                for (const y in p[m]) {
                                    const x = "default" === m ? y : `${m}:${y}`;
                                    this._spritesImagesIds[m].push(x), x in this.imageManager.images ? this.imageManager.updateImage(x, p[m][y], !1) : this.imageManager.addImage(x, p[m][y]), n && (this._changedImages[x] = !0)
                                }
                            }
                            this.imageManager.setLoaded(!0), this._availableImages = this.imageManager.listImages(), n && (this._changed = !0), this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new h.Event("data", {dataType: "style"})), o && o(l)
                        })
                    }

                    _unloadSprite() {
                        for (const t of Object.values(this._spritesImagesIds).flat()) this.imageManager.removeImage(t), this._changedImages[t] = !0;
                        this._spritesImagesIds = {}, this._availableImages = this.imageManager.listImages(), this._changed = !0, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new h.Event("data", {dataType: "style"}))
                    }

                    _validateLayer(t) {
                        const n = this.sourceCaches[t.source];
                        if (!n) return;
                        const o = t.sourceLayer;
                        if (!o) return;
                        const l = n.getSource();
                        ("geojson" === l.type || l.vectorLayerIds && -1 === l.vectorLayerIds.indexOf(o)) && this.fire(new h.ErrorEvent(new Error(`Source layer "${o}" does not exist on source "${l.id}" as specified by style layer "${t.id}".`)))
                    }

                    loaded() {
                        if (!this._loaded || Object.keys(this._updatedSources).length) return !1;
                        for (const t in this.sourceCaches) if (!this.sourceCaches[t].loaded()) return !1;
                        return !!this.imageManager.isLoaded()
                    }

                    _serializeLayers(t) {
                        const n = [];
                        for (const o of t) {
                            const l = this._layers[o];
                            "custom" !== l.type && n.push(l.serialize())
                        }
                        return n
                    }

                    hasTransitions() {
                        if (this.light && this.light.hasTransition()) return !0;
                        for (const t in this.sourceCaches) if (this.sourceCaches[t].hasTransition()) return !0;
                        for (const t in this._layers) if (this._layers[t].hasTransition()) return !0;
                        return !1
                    }

                    _checkLoaded() {
                        if (!this._loaded) throw new Error("Style is not done loading.")
                    }

                    update(t) {
                        if (!this._loaded) return;
                        const n = this._changed;
                        if (this._changed) {
                            const l = Object.keys(this._updatedLayers), p = Object.keys(this._removedLayers);
                            (l.length || p.length) && this._updateWorkerLayers(l, p);
                            for (const m in this._updatedSources) {
                                const g = this._updatedSources[m];
                                if ("reload" === g) this._reloadSource(m); else {
                                    if ("clear" !== g) throw new Error(`Invalid action ${g}`);
                                    this._clearSource(m)
                                }
                            }
                            this._updateTilesForChangedImages(), this._updateTilesForChangedGlyphs();
                            for (const m in this._updatedPaintProps) this._layers[m].updateTransitions(t);
                            this.light.updateTransitions(t), this._resetUpdates()
                        }
                        const o = {};
                        for (const l in this.sourceCaches) {
                            const p = this.sourceCaches[l];
                            o[l] = p.used, p.used = !1
                        }
                        for (const l of this._order) {
                            const p = this._layers[l];
                            p.recalculate(t, this._availableImages), !p.isHidden(t.zoom) && p.source && (this.sourceCaches[p.source].used = !0)
                        }
                        for (const l in o) {
                            const p = this.sourceCaches[l];
                            o[l] !== p.used && p.fire(new h.Event("data", {
                                sourceDataType: "visibility",
                                dataType: "source",
                                sourceId: l
                            }))
                        }
                        this.light.recalculate(t), this.z = t.zoom, n && this.fire(new h.Event("data", {dataType: "style"}))
                    }

                    _updateTilesForChangedImages() {
                        const t = Object.keys(this._changedImages);
                        if (t.length) {
                            for (const n in this.sourceCaches) this.sourceCaches[n].reloadTilesForDependencies(["icons", "patterns"], t);
                            this._changedImages = {}
                        }
                    }

                    _updateTilesForChangedGlyphs() {
                        if (this._glyphsDidChange) {
                            for (const t in this.sourceCaches) this.sourceCaches[t].reloadTilesForDependencies(["glyphs"], [""]);
                            this._glyphsDidChange = !1
                        }
                    }

                    _updateWorkerLayers(t, n) {
                        this.dispatcher.broadcast("updateLayers", {layers: this._serializeLayers(t), removedIds: n})
                    }

                    _resetUpdates() {
                        this._changed = !1, this._updatedLayers = {}, this._removedLayers = {}, this._updatedSources = {}, this._updatedPaintProps = {}, this._changedImages = {}, this._glyphsDidChange = !1
                    }

                    setState(t, n = {}) {
                        if (this._checkLoaded(), t = n.transformStyle ? n.transformStyle(this.serialize(), t) : t, Gr(this, h.validateStyle(t))) return !1;
                        (t = h.clone$1(t)).layers = an(t.layers);
                        const o = function (p, m) {
                            if (!p) return [{command: it.setStyle, args: [m]}];
                            let g = [];
                            try {
                                if (!Ze(p.version, m.version)) return [{command: it.setStyle, args: [m]}];
                                Ze(p.center, m.center) || g.push({
                                    command: it.setCenter,
                                    args: [m.center]
                                }), Ze(p.zoom, m.zoom) || g.push({
                                    command: it.setZoom,
                                    args: [m.zoom]
                                }), Ze(p.bearing, m.bearing) || g.push({
                                    command: it.setBearing,
                                    args: [m.bearing]
                                }), Ze(p.pitch, m.pitch) || g.push({
                                    command: it.setPitch,
                                    args: [m.pitch]
                                }), Ze(p.sprite, m.sprite) || g.push({
                                    command: it.setSprite,
                                    args: [m.sprite]
                                }), Ze(p.glyphs, m.glyphs) || g.push({
                                    command: it.setGlyphs,
                                    args: [m.glyphs]
                                }), Ze(p.transition, m.transition) || g.push({
                                    command: it.setTransition,
                                    args: [m.transition]
                                }), Ze(p.light, m.light) || g.push({command: it.setLight, args: [m.light]});
                                const y = {}, x = [];
                                !function (S, M, R, B) {
                                    let P;
                                    for (P in M = M || {}, S = S || {}) Object.prototype.hasOwnProperty.call(S, P) && (Object.prototype.hasOwnProperty.call(M, P) || ln(P, R, B));
                                    for (P in M) Object.prototype.hasOwnProperty.call(M, P) && (Object.prototype.hasOwnProperty.call(S, P) ? Ze(S[P], M[P]) || ("geojson" === S[P].type && "geojson" === M[P].type && Dn(S, M, P) ? R.push({
                                        command: it.setGeoJSONSourceData,
                                        args: [P, M[P].data]
                                    }) : Nr(P, M, R, B)) : Cr(P, M, R))
                                }(p.sources, m.sources, x, y);
                                const C = [];
                                p.layers && p.layers.forEach(S => {
                                    y[S.source] ? g.push({command: it.removeLayer, args: [S.id]}) : C.push(S)
                                }), g = g.concat(x), function (S, M, R) {
                                    M = M || [];
                                    const B = (S = S || []).map(Tr), P = M.map(Tr), $ = S.reduce(lt, {}),
                                        H = M.reduce(lt, {}), X = B.slice(), U = Object.create(null);
                                    let J, te, re, ae, ce, ge, de;
                                    for (J = 0, te = 0; J < B.length; J++) re = B[J], Object.prototype.hasOwnProperty.call(H, re) ? te++ : (R.push({
                                        command: it.removeLayer,
                                        args: [re]
                                    }), X.splice(X.indexOf(re, te), 1));
                                    for (J = 0, te = 0; J < P.length; J++) re = P[P.length - 1 - J], X[X.length - 1 - J] !== re && (Object.prototype.hasOwnProperty.call($, re) ? (R.push({
                                        command: it.removeLayer,
                                        args: [re]
                                    }), X.splice(X.lastIndexOf(re, X.length - te), 1)) : te++, ge = X[X.length - J], R.push({
                                        command: it.addLayer,
                                        args: [H[re], ge]
                                    }), X.splice(X.length - J, 0, re), U[re] = !0);
                                    for (J = 0; J < P.length; J++) if (re = P[J], ae = $[re], ce = H[re], !U[re] && !Ze(ae, ce)) if (Ze(ae.source, ce.source) && Ze(ae["source-layer"], ce["source-layer"]) && Ze(ae.type, ce.type)) {
                                        for (de in hr(ae.layout, ce.layout, R, re, null, it.setLayoutProperty), hr(ae.paint, ce.paint, R, re, null, it.setPaintProperty), Ze(ae.filter, ce.filter) || R.push({
                                            command: it.setFilter,
                                            args: [re, ce.filter]
                                        }), Ze(ae.minzoom, ce.minzoom) && Ze(ae.maxzoom, ce.maxzoom) || R.push({
                                            command: it.setLayerZoomRange,
                                            args: [re, ce.minzoom, ce.maxzoom]
                                        }), ae) Object.prototype.hasOwnProperty.call(ae, de) && "layout" !== de && "paint" !== de && "filter" !== de && "metadata" !== de && "minzoom" !== de && "maxzoom" !== de && (0 === de.indexOf("paint.") ? hr(ae[de], ce[de], R, re, de.slice(6), it.setPaintProperty) : Ze(ae[de], ce[de]) || R.push({
                                            command: it.setLayerProperty,
                                            args: [re, de, ce[de]]
                                        }));
                                        for (de in ce) Object.prototype.hasOwnProperty.call(ce, de) && !Object.prototype.hasOwnProperty.call(ae, de) && "layout" !== de && "paint" !== de && "filter" !== de && "metadata" !== de && "minzoom" !== de && "maxzoom" !== de && (0 === de.indexOf("paint.") ? hr(ae[de], ce[de], R, re, de.slice(6), it.setPaintProperty) : Ze(ae[de], ce[de]) || R.push({
                                            command: it.setLayerProperty,
                                            args: [re, de, ce[de]]
                                        }))
                                    } else R.push({
                                        command: it.removeLayer,
                                        args: [re]
                                    }), ge = X[X.lastIndexOf(re) + 1], R.push({command: it.addLayer, args: [ce, ge]})
                                }(C, m.layers, g)
                            } catch (y) {
                                console.warn("Unable to compute style diff:", y), g = [{
                                    command: it.setStyle,
                                    args: [m]
                                }]
                            }
                            return g
                        }(this.serialize(), t).filter(p => !(p.command in aa));
                        if (0 === o.length) return !1;
                        const l = o.filter(p => !(p.command in oa));
                        if (l.length > 0) throw new Error(`Unimplemented: ${l.map(p => p.command).join(", ")}.`);
                        return o.forEach(p => {
                            "setTransition" !== p.command && this[p.command].apply(this, p.args)
                        }), this.stylesheet = t, !0
                    }

                    addImage(t, n) {
                        if (this.getImage(t)) return this.fire(new h.ErrorEvent(new Error(`An image named "${t}" already exists.`)));
                        this.imageManager.addImage(t, n), this._afterImageUpdated(t)
                    }

                    updateImage(t, n) {
                        this.imageManager.updateImage(t, n)
                    }

                    getImage(t) {
                        return this.imageManager.getImage(t)
                    }

                    removeImage(t) {
                        if (!this.getImage(t)) return this.fire(new h.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));
                        this.imageManager.removeImage(t), this._afterImageUpdated(t)
                    }

                    _afterImageUpdated(t) {
                        this._availableImages = this.imageManager.listImages(), this._changedImages[t] = !0, this._changed = !0, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new h.Event("data", {dataType: "style"}))
                    }

                    listImages() {
                        return this._checkLoaded(), this.imageManager.listImages()
                    }

                    addSource(t, n, o = {}) {
                        if (this._checkLoaded(), void 0 !== this.sourceCaches[t]) throw new Error(`Source "${t}" already exists.`);
                        if (!n.type) throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);
                        if (["vector", "raster", "geojson", "video", "image"].indexOf(n.type) >= 0 && this._validate(h.validateStyle.source, `sources.${t}`, n, null, o)) return;
                        this.map && this.map._collectResourceTiming && (n.collectResourceTiming = !0);
                        const l = this.sourceCaches[t] = new $e(t, n, this.dispatcher);
                        l.style = this, l.setEventedParent(this, () => ({
                            isSourceLoaded: this.loaded(),
                            source: l.serialize(),
                            sourceId: t
                        })), l.onAdd(this.map), this._changed = !0
                    }

                    removeSource(t) {
                        if (this._checkLoaded(), void 0 === this.sourceCaches[t]) throw new Error("There is no source with this ID");
                        for (const o in this._layers) if (this._layers[o].source === t) return this.fire(new h.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${o}" is using it.`)));
                        const n = this.sourceCaches[t];
                        delete this.sourceCaches[t], delete this._updatedSources[t], n.fire(new h.Event("data", {
                            sourceDataType: "metadata",
                            dataType: "source",
                            sourceId: t
                        })), n.setEventedParent(null), n.onRemove(this.map), this._changed = !0
                    }

                    setGeoJSONSourceData(t, n) {
                        if (this._checkLoaded(), void 0 === this.sourceCaches[t]) throw new Error(`There is no source with this ID=${t}`);
                        const o = this.sourceCaches[t].getSource();
                        if ("geojson" !== o.type) throw new Error(`geojsonSource.type is ${o.type}, which is !== 'geojson`);
                        o.setData(n), this._changed = !0
                    }

                    getSource(t) {
                        return this.sourceCaches[t] && this.sourceCaches[t].getSource()
                    }

                    addLayer(t, n, o = {}) {
                        this._checkLoaded();
                        const l = t.id;
                        if (this.getLayer(l)) return void this.fire(new h.ErrorEvent(new Error(`Layer "${l}" already exists on this map.`)));
                        let p;
                        if ("custom" === t.type) {
                            if (Gr(this, h.validateCustomStyleLayer(t))) return;
                            p = h.createStyleLayer(t)
                        } else {
                            if ("object" == typeof t.source && (this.addSource(l, t.source), t = h.clone$1(t), t = h.extend(t, {source: l})), this._validate(h.validateStyle.layer, `layers.${l}`, t, {arrayIndex: -1}, o)) return;
                            p = h.createStyleLayer(t), this._validateLayer(p), p.setEventedParent(this, {layer: {id: l}}), this._serializedLayers[p.id] = p.serialize()
                        }
                        const m = n ? this._order.indexOf(n) : this._order.length;
                        if (n && -1 === m) this.fire(new h.ErrorEvent(new Error(`Cannot add layer "${l}" before non-existing layer "${n}".`))); else {
                            if (this._order.splice(m, 0, l), this._layerOrderChanged = !0, this._layers[l] = p, this._removedLayers[l] && p.source && "custom" !== p.type) {
                                const g = this._removedLayers[l];
                                delete this._removedLayers[l], g.type !== p.type ? this._updatedSources[p.source] = "clear" : (this._updatedSources[p.source] = "reload", this.sourceCaches[p.source].pause())
                            }
                            this._updateLayer(p), p.onAdd && p.onAdd(this.map)
                        }
                    }

                    moveLayer(t, n) {
                        if (this._checkLoaded(), this._changed = !0, !this._layers[t]) return void this.fire(new h.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));
                        if (t === n) return;
                        const o = this._order.indexOf(t);
                        this._order.splice(o, 1);
                        const l = n ? this._order.indexOf(n) : this._order.length;
                        n && -1 === l ? this.fire(new h.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${n}".`))) : (this._order.splice(l, 0, t), this._layerOrderChanged = !0)
                    }

                    removeLayer(t) {
                        this._checkLoaded();
                        const n = this._layers[t];
                        if (!n) return void this.fire(new h.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)));
                        n.setEventedParent(null);
                        const o = this._order.indexOf(t);
                        this._order.splice(o, 1), this._layerOrderChanged = !0, this._changed = !0, this._removedLayers[t] = n, delete this._layers[t], delete this._serializedLayers[t], delete this._updatedLayers[t], delete this._updatedPaintProps[t], n.onRemove && n.onRemove(this.map)
                    }

                    getLayer(t) {
                        return this._layers[t]
                    }

                    hasLayer(t) {
                        return t in this._layers
                    }

                    setLayerZoomRange(t, n, o) {
                        this._checkLoaded();
                        const l = this.getLayer(t);
                        l ? l.minzoom === n && l.maxzoom === o || (null != n && (l.minzoom = n), null != o && (l.maxzoom = o), this._updateLayer(l)) : this.fire(new h.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))
                    }

                    setFilter(t, n, o = {}) {
                        this._checkLoaded();
                        const l = this.getLayer(t);
                        if (l) {
                            if (!Ze(l.filter, n)) return null == n ? (l.filter = void 0, void this._updateLayer(l)) : void (this._validate(h.validateStyle.filter, `layers.${l.id}.filter`, n, null, o) || (l.filter = h.clone$1(n), this._updateLayer(l)))
                        } else this.fire(new h.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))
                    }

                    getFilter(t) {
                        return h.clone$1(this.getLayer(t).filter)
                    }

                    setLayoutProperty(t, n, o, l = {}) {
                        this._checkLoaded();
                        const p = this.getLayer(t);
                        p ? Ze(p.getLayoutProperty(n), o) || (p.setLayoutProperty(n, o, l), this._updateLayer(p)) : this.fire(new h.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))
                    }

                    getLayoutProperty(t, n) {
                        const o = this.getLayer(t);
                        if (o) return o.getLayoutProperty(n);
                        this.fire(new h.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))
                    }

                    setPaintProperty(t, n, o, l = {}) {
                        this._checkLoaded();
                        const p = this.getLayer(t);
                        p ? Ze(p.getPaintProperty(n), o) || (p.setPaintProperty(n, o, l) && this._updateLayer(p), this._changed = !0, this._updatedPaintProps[t] = !0) : this.fire(new h.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))
                    }

                    getPaintProperty(t, n) {
                        return this.getLayer(t).getPaintProperty(n)
                    }

                    setFeatureState(t, n) {
                        this._checkLoaded();
                        const o = t.source, l = t.sourceLayer, p = this.sourceCaches[o];
                        if (void 0 === p) return void this.fire(new h.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));
                        const m = p.getSource().type;
                        "geojson" === m && l ? this.fire(new h.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))) : "vector" !== m || l ? (void 0 === t.id && this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))), p.setFeatureState(l, t.id, n)) : this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))
                    }

                    removeFeatureState(t, n) {
                        this._checkLoaded();
                        const o = t.source, l = this.sourceCaches[o];
                        if (void 0 === l) return void this.fire(new h.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));
                        const p = l.getSource().type, m = "vector" === p ? t.sourceLayer : void 0;
                        "vector" !== p || m ? n && "string" != typeof t.id && "number" != typeof t.id ? this.fire(new h.ErrorEvent(new Error("A feature id is required to remove its specific state property."))) : l.removeFeatureState(m, t.id, n) : this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))
                    }

                    getFeatureState(t) {
                        this._checkLoaded();
                        const n = t.source, o = t.sourceLayer, l = this.sourceCaches[n];
                        if (void 0 !== l) return "vector" !== l.getSource().type || o ? (void 0 === t.id && this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))), l.getFeatureState(o, t.id)) : void this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
                        this.fire(new h.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))
                    }

                    getTransition() {
                        return h.extend({duration: 300, delay: 0}, this.stylesheet && this.stylesheet.transition)
                    }

                    serialize() {
                        return h.filterObject({
                            version: this.stylesheet.version,
                            name: this.stylesheet.name,
                            metadata: this.stylesheet.metadata,
                            light: this.stylesheet.light,
                            center: this.stylesheet.center,
                            zoom: this.stylesheet.zoom,
                            bearing: this.stylesheet.bearing,
                            pitch: this.stylesheet.pitch,
                            sprite: this.stylesheet.sprite,
                            glyphs: this.stylesheet.glyphs,
                            transition: this.stylesheet.transition,
                            sources: h.mapObject(this.sourceCaches, t => t.serialize()),
                            layers: this._serializeLayers(this._order)
                        }, t => void 0 !== t)
                    }

                    _updateLayer(t) {
                        this._updatedLayers[t.id] = !0, t.source && !this._updatedSources[t.source] && "raster" !== this.sourceCaches[t.source].getSource().type && (this._updatedSources[t.source] = "reload", this.sourceCaches[t.source].pause()), this._changed = !0
                    }

                    _flattenAndSortRenderedFeatures(t) {
                        const n = m => "fill-extrusion" === this._layers[m].type, o = {}, l = [];
                        for (let m = this._order.length - 1; m >= 0; m--) {
                            const g = this._order[m];
                            if (n(g)) {
                                o[g] = m;
                                for (const y of t) {
                                    const x = y[g];
                                    if (x) for (const C of x) l.push(C)
                                }
                            }
                        }
                        l.sort((m, g) => g.intersectionZ - m.intersectionZ);
                        const p = [];
                        for (let m = this._order.length - 1; m >= 0; m--) {
                            const g = this._order[m];
                            if (n(g)) for (let y = l.length - 1; y >= 0; y--) {
                                const x = l[y].feature;
                                if (o[x.layer.id] < m) break;
                                p.push(x), l.pop()
                            } else for (const y of t) {
                                const x = y[g];
                                if (x) for (const C of x) p.push(C.feature)
                            }
                        }
                        return p
                    }

                    queryRenderedFeatures(t, n, o) {
                        n && n.filter && this._validate(h.validateStyle.filter, "queryRenderedFeatures.filter", n.filter, null, n);
                        const l = {};
                        if (n && n.layers) {
                            if (!Array.isArray(n.layers)) return this.fire(new h.ErrorEvent(new Error("parameters.layers must be an Array."))), [];
                            for (const m of n.layers) {
                                const g = this._layers[m];
                                if (!g) return this.fire(new h.ErrorEvent(new Error(`The layer '${m}' does not exist in the map's style and cannot be queried for features.`))), [];
                                l[g.source] = !0
                            }
                        }
                        const p = [];
                        n.availableImages = this._availableImages;
                        for (const m in this.sourceCaches) n.layers && !l[m] || p.push(fe(this.sourceCaches[m], this._layers, this._serializedLayers, t, n, o));
                        return this.placement && p.push(function (m, g, y, x, C, S, M) {
                            const R = {}, B = S.queryRenderedSymbols(x), P = [];
                            for (const $ of Object.keys(B).map(Number)) P.push(M[$]);
                            P.sort(Oe);
                            for (const $ of P) {
                                const H = $.featureIndex.lookupSymbolFeatures(B[$.bucketInstanceId], g, $.bucketIndex, $.sourceLayerIndex, C.filter, C.layers, C.availableImages, m);
                                for (const X in H) {
                                    const U = R[X] = R[X] || [], J = H[X];
                                    J.sort((te, re) => {
                                        const ae = $.featureSortOrder;
                                        if (ae) {
                                            const ce = ae.indexOf(te.featureIndex);
                                            return ae.indexOf(re.featureIndex) - ce
                                        }
                                        return re.featureIndex - te.featureIndex
                                    });
                                    for (const te of J) U.push(te)
                                }
                            }
                            for (const $ in R) R[$].forEach(H => {
                                const X = H.feature, U = y[m[$].source].getFeatureState(X.layer["source-layer"], X.id);
                                X.source = X.layer.source, X.layer["source-layer"] && (X.sourceLayer = X.layer["source-layer"]), X.state = U
                            });
                            return R
                        }(this._layers, this._serializedLayers, this.sourceCaches, t, n, this.placement.collisionIndex, this.placement.retainedQueryData)), this._flattenAndSortRenderedFeatures(p)
                    }

                    querySourceFeatures(t, n) {
                        n && n.filter && this._validate(h.validateStyle.filter, "querySourceFeatures.filter", n.filter, null, n);
                        const o = this.sourceCaches[t];
                        return o ? function (l, p) {
                            const m = l.getRenderableIds().map(x => l.getTileByID(x)), g = [], y = {};
                            for (let x = 0; x < m.length; x++) {
                                const C = m[x], S = C.tileID.canonical.key;
                                y[S] || (y[S] = !0, C.querySourceFeatures(g, p))
                            }
                            return g
                        }(o, n) : []
                    }

                    addSourceType(t, n, o) {
                        return Oi.getSourceType(t) ? o(new Error(`A source type called "${t}" already exists.`)) : (Oi.setSourceType(t, n), n.workerSourceURL ? void this.dispatcher.broadcast("loadWorkerSource", {
                            name: t,
                            url: n.workerSourceURL
                        }, o) : o(null, null))
                    }

                    getLight() {
                        return this.light.getLight()
                    }

                    setLight(t, n = {}) {
                        this._checkLoaded();
                        const o = this.light.getLight();
                        let l = !1;
                        for (const m in t) if (!Ze(t[m], o[m])) {
                            l = !0;
                            break
                        }
                        if (!l) return;
                        const p = {
                            now: h.exported.now(),
                            transition: h.extend({duration: 300, delay: 0}, this.stylesheet.transition)
                        };
                        this.light.setLight(t, n), this.light.updateTransitions(p)
                    }

                    _validate(t, n, o, l, p = {}) {
                        return (!p || !1 !== p.validate) && Gr(this, t.call(h.validateStyle, h.extend({
                            key: n,
                            style: this.serialize(),
                            value: o,
                            styleSpec: h.spec
                        }, l)))
                    }

                    _remove(t = !0) {
                        this._request && (this._request.cancel(), this._request = null), this._spriteRequest && (this._spriteRequest.cancel(), this._spriteRequest = null), h.evented.off("pluginStateChange", this._rtlTextPluginCallback);
                        for (const n in this._layers) this._layers[n].setEventedParent(null);
                        for (const n in this.sourceCaches) {
                            const o = this.sourceCaches[n];
                            o.setEventedParent(null), o.onRemove(this.map)
                        }
                        this.imageManager.setEventedParent(null), this.setEventedParent(null), this.dispatcher.remove(t)
                    }

                    _clearSource(t) {
                        this.sourceCaches[t].clearTiles()
                    }

                    _reloadSource(t) {
                        this.sourceCaches[t].resume(), this.sourceCaches[t].reload()
                    }

                    _updateSources(t) {
                        for (const n in this.sourceCaches) this.sourceCaches[n].update(t, this.map.terrain)
                    }

                    _generateCollisionBoxes() {
                        for (const t in this.sourceCaches) this._reloadSource(t)
                    }

                    _updatePlacement(t, n, o, l, p = !1) {
                        let m = !1, g = !1;
                        const y = {};
                        for (const x of this._order) {
                            const C = this._layers[x];
                            if ("symbol" !== C.type) continue;
                            if (!y[C.source]) {
                                const M = this.sourceCaches[C.source];
                                y[C.source] = M.getRenderableIds(!0).map(R => M.getTileByID(R)).sort((R, B) => B.tileID.overscaledZ - R.tileID.overscaledZ || (R.tileID.isLessThan(B.tileID) ? -1 : 1))
                            }
                            const S = this.crossTileSymbolIndex.addLayer(C, y[C.source], t.center.lng);
                            m = m || S
                        }
                        if (this.crossTileSymbolIndex.pruneUnusedLayers(this._order), ((p = p || this._layerOrderChanged || 0 === o) || !this.pauseablePlacement || this.pauseablePlacement.isDone() && !this.placement.stillRecent(h.exported.now(), t.zoom)) && (this.pauseablePlacement = new Gs(t, this.map.terrain, this._order, p, n, o, l, this.placement), this._layerOrderChanged = !1), this.pauseablePlacement.isDone() ? this.placement.setStale() : (this.pauseablePlacement.continuePlacement(this._order, this._layers, y), this.pauseablePlacement.isDone() && (this.placement = this.pauseablePlacement.commit(h.exported.now()), g = !0), m && this.pauseablePlacement.placement.setStale()), g || m) for (const x of this._order) {
                            const C = this._layers[x];
                            "symbol" === C.type && this.placement.updateLayerOpacities(C, y[C.source])
                        }
                        return !this.pauseablePlacement.isDone() || this.placement.hasTransitions(h.exported.now())
                    }

                    _releaseSymbolFadeTiles() {
                        for (const t in this.sourceCaches) this.sourceCaches[t].releaseSymbolFadeTiles()
                    }

                    getImages(t, n, o) {
                        this.imageManager.getImages(n.icons, o), this._updateTilesForChangedImages();
                        const l = this.sourceCaches[n.source];
                        l && l.setDependencies(n.tileID.key, n.type, n.icons)
                    }

                    getGlyphs(t, n, o) {
                        this.glyphManager.getGlyphs(n.stacks, o);
                        const l = this.sourceCaches[n.source];
                        l && l.setDependencies(n.tileID.key, n.type, [""])
                    }

                    getResource(t, n, o) {
                        return h.makeRequest(n, o)
                    }

                    getGlyphsUrl() {
                        return this.stylesheet.glyphs || null
                    }

                    setGlyphs(t, n = {}) {
                        this._checkLoaded(), t && this._validate(h.validateStyle.glyphs, "glyphs", t, null, n) || (this._glyphsDidChange = !0, this.stylesheet.glyphs = t, this.glyphManager.entries = {}, this.glyphManager.setURL(t))
                    }

                    addSprite(t, n, o = {}, l) {
                        this._checkLoaded();
                        const p = [{id: t, url: n}], m = [...Gi(this.stylesheet.sprite), ...p];
                        this._validate(h.validateStyle.sprite, "sprite", m, null, o) || (this.stylesheet.sprite = m, this._loadSprite(p, !0, l))
                    }

                    removeSprite(t) {
                        this._checkLoaded();
                        const n = Gi(this.stylesheet.sprite);
                        if (n.find(o => o.id === t)) {
                            if (this._spritesImagesIds[t]) for (const o of this._spritesImagesIds[t]) this.imageManager.removeImage(o), this._changedImages[o] = !0;
                            n.splice(n.findIndex(o => o.id === t), 1), this.stylesheet.sprite = n.length > 0 ? n : void 0, delete this._spritesImagesIds[t], this._availableImages = this.imageManager.listImages(), this._changed = !0, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new h.Event("data", {dataType: "style"}))
                        } else this.fire(new h.ErrorEvent(new Error(`Sprite "${t}" doesn't exists on this map.`)))
                    }

                    getSprite() {
                        return Gi(this.stylesheet.sprite)
                    }

                    setSprite(t, n = {}, o) {
                        this._checkLoaded(), t && this._validate(h.validateStyle.sprite, "sprite", t, null, n) || (this.stylesheet.sprite = t, t ? this._loadSprite(t, !0, o) : (this._unloadSprite(), o(null)))
                    }
                }

                Oi.getSourceType = function (a) {
                    return Ee[a]
                }, Oi.setSourceType = function (a, t) {
                    Ee[a] = t
                }, Oi.registerForPluginStateChange = h.registerForPluginStateChange;
                var ts = h.createLayout([{name: "a_pos", type: "Int16", components: 2}]),
                    qs = "attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";
                const Rn = {
                    prelude: gt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif", "#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),
                    background: gt("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
                    backgroundPattern: gt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),
                    circle: gt("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),
                    clippingMask: gt("void main() {gl_FragColor=vec4(1.0);}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
                    heatmap: gt("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),
                    heatmapTexture: gt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),
                    collisionBox: gt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}", "attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),
                    collisionCircle: gt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}", "attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),
                    debug: gt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}", "attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),
                    fill: gt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),
                    fillOutline: gt("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
                    fillOutlinePattern: gt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
                    fillPattern: gt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),
                    fillExtrusion: gt("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),
                    fillExtrusionPattern: gt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),
                    hillshadePrepare: gt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),
                    hillshade: gt("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),
                    line: gt("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),
                    lineGradient: gt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),
                    linePattern: gt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),
                    lineSDF: gt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),
                    raster: gt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),
                    symbolIcon: gt("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),
                    symbolSDF: gt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),
                    symbolTextAndIcon: gt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),
                    terrain: gt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}", qs),
                    terrainDepth: gt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}", qs),
                    terrainCoords: gt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}", qs)
                };

                function gt(a, t) {
                    const n = /#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,
                        o = t.match(/attribute ([\w]+) ([\w]+)/g),
                        l = a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),
                        p = t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g), m = p ? p.concat(l) : l, g = {};
                    return {
                        fragmentSource: a = a.replace(n, (y, x, C, S, M) => (g[M] = !0, "define" === x ? `\n#ifndef HAS_UNIFORM_u_${M}\nvarying ${C} ${S} ${M};\n#else\nuniform ${C} ${S} u_${M};\n#endif\n` : `\n#ifdef HAS_UNIFORM_u_${M}\n    ${C} ${S} ${M} = u_${M};\n#endif\n`)),
                        vertexSource: t = t.replace(n, (y, x, C, S, M) => {
                            const R = "float" === S ? "vec2" : "vec4", B = M.match(/color/) ? "color" : R;
                            return g[M] ? "define" === x ? `\n#ifndef HAS_UNIFORM_u_${M}\nuniform lowp float u_${M}_t;\nattribute ${C} ${R} a_${M};\nvarying ${C} ${S} ${M};\n#else\nuniform ${C} ${S} u_${M};\n#endif\n` : "vec4" === B ? `\n#ifndef HAS_UNIFORM_u_${M}\n    ${M} = a_${M};\n#else\n    ${C} ${S} ${M} = u_${M};\n#endif\n` : `\n#ifndef HAS_UNIFORM_u_${M}\n    ${M} = unpack_mix_${B}(a_${M}, u_${M}_t);\n#else\n    ${C} ${S} ${M} = u_${M};\n#endif\n` : "define" === x ? `\n#ifndef HAS_UNIFORM_u_${M}\nuniform lowp float u_${M}_t;\nattribute ${C} ${R} a_${M};\n#else\nuniform ${C} ${S} u_${M};\n#endif\n` : "vec4" === B ? `\n#ifndef HAS_UNIFORM_u_${M}\n    ${C} ${S} ${M} = a_${M};\n#else\n    ${C} ${S} ${M} = u_${M};\n#endif\n` : `\n#ifndef HAS_UNIFORM_u_${M}\n    ${C} ${S} ${M} = unpack_mix_${B}(a_${M}, u_${M}_t);\n#else\n    ${C} ${S} ${M} = u_${M};\n#endif\n`
                        }),
                        staticAttributes: o,
                        staticUniforms: m
                    }
                }

                class Xs {
                    constructor() {
                        this.boundProgram = null, this.boundLayoutVertexBuffer = null, this.boundPaintVertexBuffers = [], this.boundIndexBuffer = null, this.boundVertexOffset = null, this.boundDynamicVertexBuffer = null, this.vao = null
                    }

                    bind(t, n, o, l, p, m, g, y, x) {
                        this.context = t;
                        let C = this.boundPaintVertexBuffers.length !== l.length;
                        for (let S = 0; !C && S < l.length; S++) this.boundPaintVertexBuffers[S] !== l[S] && (C = !0);
                        t.extVertexArrayObject && this.vao && this.boundProgram === n && this.boundLayoutVertexBuffer === o && !C && this.boundIndexBuffer === p && this.boundVertexOffset === m && this.boundDynamicVertexBuffer === g && this.boundDynamicVertexBuffer2 === y && this.boundDynamicVertexBuffer3 === x ? (t.bindVertexArrayOES.set(this.vao), g && g.bind(), p && p.dynamicDraw && p.bind(), y && y.bind(), x && x.bind()) : this.freshBind(n, o, l, p, m, g, y, x)
                    }

                    freshBind(t, n, o, l, p, m, g, y) {
                        let x;
                        const C = t.numAttributes, S = this.context, M = S.gl;
                        if (S.extVertexArrayObject) this.vao && this.destroy(), this.vao = S.extVertexArrayObject.createVertexArrayOES(), S.bindVertexArrayOES.set(this.vao), x = 0, this.boundProgram = t, this.boundLayoutVertexBuffer = n, this.boundPaintVertexBuffers = o, this.boundIndexBuffer = l, this.boundVertexOffset = p, this.boundDynamicVertexBuffer = m, this.boundDynamicVertexBuffer2 = g, this.boundDynamicVertexBuffer3 = y; else {
                            x = S.currentNumAttributes || 0;
                            for (let R = C; R < x; R++) M.disableVertexAttribArray(R)
                        }
                        n.enableAttributes(M, t);
                        for (const R of o) R.enableAttributes(M, t);
                        m && m.enableAttributes(M, t), g && g.enableAttributes(M, t), y && y.enableAttributes(M, t), n.bind(), n.setVertexAttribPointers(M, t, p);
                        for (const R of o) R.bind(), R.setVertexAttribPointers(M, t, p);
                        m && (m.bind(), m.setVertexAttribPointers(M, t, p)), l && l.bind(), g && (g.bind(), g.setVertexAttribPointers(M, t, p)), y && (y.bind(), y.setVertexAttribPointers(M, t, p)), S.currentNumAttributes = C
                    }

                    destroy() {
                        this.vao && (this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao), this.vao = null)
                    }
                }

                function Bn(a) {
                    const t = [];
                    for (let n = 0; n < a.length; n++) {
                        if (null === a[n]) continue;
                        const o = a[n].split(" ");
                        t.push(o.pop())
                    }
                    return t
                }

                class Ws {
                    constructor(t, n, o, l, p, m, g) {
                        const y = t.gl;
                        this.program = y.createProgram();
                        const x = Bn(o.staticAttributes), C = l ? l.getBinderAttributes() : [], S = x.concat(C),
                            M = Rn.prelude.staticUniforms ? Bn(Rn.prelude.staticUniforms) : [],
                            R = o.staticUniforms ? Bn(o.staticUniforms) : [], B = l ? l.getBinderUniforms() : [],
                            P = M.concat(R).concat(B), $ = [];
                        for (const ae of P) $.indexOf(ae) < 0 && $.push(ae);
                        const H = l ? l.defines() : [];
                        m && H.push("#define OVERDRAW_INSPECTOR;"), g && H.push("#define TERRAIN3D;");
                        const X = H.concat(Rn.prelude.fragmentSource, o.fragmentSource).join("\n"),
                            U = H.concat(Rn.prelude.vertexSource, o.vertexSource).join("\n"),
                            J = y.createShader(y.FRAGMENT_SHADER);
                        if (y.isContextLost()) return void (this.failedToCreate = !0);
                        y.shaderSource(J, X), y.compileShader(J), y.attachShader(this.program, J);
                        const te = y.createShader(y.VERTEX_SHADER);
                        if (y.isContextLost()) return void (this.failedToCreate = !0);
                        y.shaderSource(te, U), y.compileShader(te), y.attachShader(this.program, te), this.attributes = {};
                        const re = {};
                        this.numAttributes = S.length;
                        for (let ae = 0; ae < this.numAttributes; ae++) S[ae] && (y.bindAttribLocation(this.program, ae, S[ae]), this.attributes[S[ae]] = ae);
                        y.linkProgram(this.program), y.deleteShader(te), y.deleteShader(J);
                        for (let ae = 0; ae < $.length; ae++) {
                            const ce = $[ae];
                            if (ce && !re[ce]) {
                                const ge = y.getUniformLocation(this.program, ce);
                                ge && (re[ce] = ge)
                            }
                        }
                        var ae, ce;
                        this.fixedUniforms = p(t, re), this.terrainUniforms = {
                            u_depth: new h.Uniform1i(ae = t, (ce = re).u_depth),
                            u_terrain: new h.Uniform1i(ae, ce.u_terrain),
                            u_terrain_dim: new h.Uniform1f(ae, ce.u_terrain_dim),
                            u_terrain_matrix: new h.UniformMatrix4f(ae, ce.u_terrain_matrix),
                            u_terrain_unpack: new h.Uniform4f(ae, ce.u_terrain_unpack),
                            u_terrain_exaggeration: new h.Uniform1f(ae, ce.u_terrain_exaggeration)
                        }, this.binderUniforms = l ? l.getUniforms(t, re) : []
                    }

                    draw(t, n, o, l, p, m, g, y, x, C, S, M, R, B, P, $, H, X) {
                        const U = t.gl;
                        if (this.failedToCreate) return;
                        if (t.program.set(this.program), t.setDepthMode(o), t.setStencilMode(l), t.setColorMode(p), t.setCullFace(m), y) {
                            t.activeTexture.set(U.TEXTURE2), U.bindTexture(U.TEXTURE_2D, y.depthTexture), t.activeTexture.set(U.TEXTURE3), U.bindTexture(U.TEXTURE_2D, y.texture);
                            for (const te in this.terrainUniforms) this.terrainUniforms[te].set(y[te])
                        }
                        for (const te in this.fixedUniforms) this.fixedUniforms[te].set(g[te]);
                        P && P.setUniforms(t, this.binderUniforms, R, {zoom: B});
                        let J = 0;
                        switch (n) {
                            case U.LINES:
                                J = 2;
                                break;
                            case U.TRIANGLES:
                                J = 3;
                                break;
                            case U.LINE_STRIP:
                                J = 1
                        }
                        for (const te of M.get()) {
                            const re = te.vaos || (te.vaos = {});
                            (re[x] || (re[x] = new Xs)).bind(t, this, C, P ? P.getPaintVertexBuffers() : [], S, te.vertexOffset, $, H, X), U.drawElements(n, te.primitiveLength * J, U.UNSIGNED_SHORT, te.primitiveOffset * J * 2)
                        }
                    }
                }

                function Hs(a, t, n) {
                    const o = 1 / oe(n, 1, t.transform.tileZoom), l = Math.pow(2, n.tileID.overscaledZ),
                        p = n.tileSize * Math.pow(2, t.transform.tileZoom) / l,
                        m = p * (n.tileID.canonical.x + n.tileID.wrap * l), g = p * n.tileID.canonical.y;
                    return {
                        u_image: 0,
                        u_texsize: n.imageAtlasTexture.size,
                        u_scale: [o, a.fromScale, a.toScale],
                        u_fade: a.t,
                        u_pixel_coord_upper: [m >> 16, g >> 16],
                        u_pixel_coord_lower: [65535 & m, 65535 & g]
                    }
                }

                const Ks = (a, t, n, o) => {
                        const l = t.style.light, p = l.properties.get("position"), m = [p.x, p.y, p.z],
                            g = (x = new h.ARRAY_TYPE(9), h.ARRAY_TYPE != Float32Array && (x[1] = 0, x[2] = 0, x[3] = 0, x[5] = 0, x[6] = 0, x[7] = 0), x[0] = 1, x[4] = 1, x[8] = 1, x);
                        var x;
                        "viewport" === l.properties.get("anchor") && function (x, C) {
                            var S = Math.sin(C), M = Math.cos(C);
                            x[0] = M, x[1] = S, x[2] = 0, x[3] = -S, x[4] = M, x[5] = 0, x[6] = 0, x[7] = 0, x[8] = 1
                        }(g, -t.transform.angle), function (x, C, S) {
                            var M = C[0], R = C[1], B = C[2];
                            x[0] = M * S[0] + R * S[3] + B * S[6], x[1] = M * S[1] + R * S[4] + B * S[7], x[2] = M * S[2] + R * S[5] + B * S[8]
                        }(m, m, g);
                        const y = l.properties.get("color");
                        return {
                            u_matrix: a,
                            u_lightpos: m,
                            u_lightintensity: l.properties.get("intensity"),
                            u_lightcolor: [y.r, y.g, y.b],
                            u_vertical_gradient: +n,
                            u_opacity: o
                        }
                    },
                    nl = (a, t, n, o, l, p, m) => h.extend(Ks(a, t, n, o), Hs(p, t, m), {u_height_factor: -Math.pow(2, l.overscaledZ) / m.tileSize / 8}),
                    pn = a => ({u_matrix: a}), dn = (a, t, n, o) => h.extend(pn(a), Hs(n, t, o)),
                    ca = (a, t) => ({u_matrix: a, u_world: t}),
                    Mi = (a, t, n, o, l) => h.extend(dn(a, t, n, o), {u_world: l}), Ys = (a, t, n, o) => {
                        const l = a.transform;
                        let p, m;
                        if ("map" === o.paint.get("circle-pitch-alignment")) {
                            const g = oe(n, 1, l.zoom);
                            p = !0, m = [g, g]
                        } else p = !1, m = l.pixelsToGLUnits;
                        return {
                            u_camera_to_center_distance: l.cameraToCenterDistance,
                            u_scale_with_map: +("map" === o.paint.get("circle-pitch-scale")),
                            u_matrix: a.translatePosMatrix(t.posMatrix, n, o.paint.get("circle-translate"), o.paint.get("circle-translate-anchor")),
                            u_pitch_with_map: +p,
                            u_device_pixel_ratio: a.pixelRatio,
                            u_extrude_scale: m
                        }
                    }, is = (a, t, n) => {
                        const o = oe(n, 1, t.zoom), l = Math.pow(2, t.zoom - n.tileID.overscaledZ),
                            p = n.tileID.overscaleFactor();
                        return {
                            u_matrix: a,
                            u_camera_to_center_distance: t.cameraToCenterDistance,
                            u_pixels_to_tile_units: o,
                            u_extrude_scale: [t.pixelsToGLUnits[0] / (o * l), t.pixelsToGLUnits[1] / (o * l)],
                            u_overscale_factor: p
                        }
                    }, Fn = (a, t, n = 1) => ({u_matrix: a, u_color: t, u_overlay: 0, u_overlay_scale: n}),
                    rs = a => ({u_matrix: a}),
                    Js = (a, t, n, o) => ({u_matrix: a, u_extrude_scale: oe(t, 1, n), u_intensity: o});

                function ns(a, t) {
                    const n = Math.pow(2, t.canonical.z), o = t.canonical.y;
                    return [new h.MercatorCoordinate(0, o / n).toLngLat().lat, new h.MercatorCoordinate(0, (o + 1) / n).toLngLat().lat]
                }

                const On = (a, t, n, o) => {
                        const l = a.transform;
                        return {
                            u_matrix: jr(a, t, n, o),
                            u_ratio: 1 / oe(t, 1, l.zoom),
                            u_device_pixel_ratio: a.pixelRatio,
                            u_units_to_pixels: [1 / l.pixelsToGLUnits[0], 1 / l.pixelsToGLUnits[1]]
                        }
                    }, Qs = (a, t, n, o, l) => h.extend(On(a, t, n, l), {u_image: 0, u_image_height: o}),
                    ss = (a, t, n, o, l) => {
                        const p = a.transform, m = eo(t, p);
                        return {
                            u_matrix: jr(a, t, n, l),
                            u_texsize: t.imageAtlasTexture.size,
                            u_ratio: 1 / oe(t, 1, p.zoom),
                            u_device_pixel_ratio: a.pixelRatio,
                            u_image: 0,
                            u_scale: [m, o.fromScale, o.toScale],
                            u_fade: o.t,
                            u_units_to_pixels: [1 / p.pixelsToGLUnits[0], 1 / p.pixelsToGLUnits[1]]
                        }
                    }, ha = (a, t, n, o, l, p) => {
                        const m = a.lineAtlas, g = eo(t, a.transform), y = "round" === n.layout.get("line-cap"),
                            x = m.getDash(o.from, y), C = m.getDash(o.to, y), S = x.width * l.fromScale,
                            M = C.width * l.toScale;
                        return h.extend(On(a, t, n, p), {
                            u_patternscale_a: [g / S, -x.height / 2],
                            u_patternscale_b: [g / M, -C.height / 2],
                            u_sdfgamma: m.width / (256 * Math.min(S, M) * a.pixelRatio) / 2,
                            u_image: 0,
                            u_tex_y_a: x.y,
                            u_tex_y_b: C.y,
                            u_mix: l.t
                        })
                    };

                function eo(a, t) {
                    return 1 / oe(a, 1, t.tileZoom)
                }

                function jr(a, t, n, o) {
                    return a.translatePosMatrix(o ? o.posMatrix : t.tileID.posMatrix, t, n.paint.get("line-translate"), n.paint.get("line-translate-anchor"))
                }

                const sl = (a, t, n, o, l) => {
                    return {
                        u_matrix: a,
                        u_tl_parent: t,
                        u_scale_parent: n,
                        u_buffer_scale: 1,
                        u_fade_t: o.mix,
                        u_opacity: o.opacity * l.paint.get("raster-opacity"),
                        u_image0: 0,
                        u_image1: 1,
                        u_brightness_low: l.paint.get("raster-brightness-min"),
                        u_brightness_high: l.paint.get("raster-brightness-max"),
                        u_saturation_factor: (m = l.paint.get("raster-saturation"), m > 0 ? 1 - 1 / (1.001 - m) : -m),
                        u_contrast_factor: (p = l.paint.get("raster-contrast"), p > 0 ? 1 / (1 - p) : 1 + p),
                        u_spin_weights: ol(l.paint.get("raster-hue-rotate"))
                    };
                    var p, m
                };

                function ol(a) {
                    a *= Math.PI / 180;
                    const t = Math.sin(a), n = Math.cos(a);
                    return [(2 * n + 1) / 3, (-Math.sqrt(3) * t - n + 1) / 3, (Math.sqrt(3) * t - n + 1) / 3]
                }

                const ua = (a, t, n, o, l, p, m, g, y, x) => {
                        const C = l.transform;
                        return {
                            u_is_size_zoom_constant: +("constant" === a || "source" === a),
                            u_is_size_feature_constant: +("constant" === a || "camera" === a),
                            u_size_t: t ? t.uSizeT : 0,
                            u_size: t ? t.uSize : 0,
                            u_camera_to_center_distance: C.cameraToCenterDistance,
                            u_pitch: C.pitch / 360 * 2 * Math.PI,
                            u_rotate_symbol: +n,
                            u_aspect_ratio: C.width / C.height,
                            u_fade_change: l.options.fadeDuration ? l.symbolFadeChange : 1,
                            u_matrix: p,
                            u_label_plane_matrix: m,
                            u_coord_matrix: g,
                            u_is_text: +y,
                            u_pitch_with_map: +o,
                            u_texsize: x,
                            u_texture: 0
                        }
                    }, pa = (a, t, n, o, l, p, m, g, y, x, C) => {
                        const S = l.transform;
                        return h.extend(ua(a, t, n, o, l, p, m, g, y, x), {
                            u_gamma_scale: o ? Math.cos(S._pitch) * S.cameraToCenterDistance : 1,
                            u_device_pixel_ratio: l.pixelRatio,
                            u_is_halo: +C
                        })
                    }, al = (a, t, n, o, l, p, m, g, y, x) => h.extend(pa(a, t, n, o, l, p, m, g, !0, y, !0), {
                        u_texsize_icon: x,
                        u_texture_icon: 1
                    }), ll = (a, t, n) => ({u_matrix: a, u_opacity: t, u_color: n}),
                    to = (a, t, n, o, l, p) => h.extend(function (m, g, y, x) {
                        const C = y.imageManager.getPattern(m.from.toString()),
                            S = y.imageManager.getPattern(m.to.toString()), {
                                width: M,
                                height: R
                            } = y.imageManager.getPixelSize(), B = Math.pow(2, x.tileID.overscaledZ),
                            P = x.tileSize * Math.pow(2, y.transform.tileZoom) / B,
                            $ = P * (x.tileID.canonical.x + x.tileID.wrap * B), H = P * x.tileID.canonical.y;
                        return {
                            u_image: 0,
                            u_pattern_tl_a: C.tl,
                            u_pattern_br_a: C.br,
                            u_pattern_tl_b: S.tl,
                            u_pattern_br_b: S.br,
                            u_texsize: [M, R],
                            u_mix: g.t,
                            u_pattern_size_a: C.displaySize,
                            u_pattern_size_b: S.displaySize,
                            u_scale_a: g.fromScale,
                            u_scale_b: g.toScale,
                            u_tile_units_to_pixels: 1 / oe(x, 1, y.transform.tileZoom),
                            u_pixel_coord_upper: [$ >> 16, H >> 16],
                            u_pixel_coord_lower: [65535 & $, 65535 & H]
                        }
                    }(o, p, n, l), {u_matrix: a, u_opacity: t}), os = {
                        fillExtrusion: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_lightpos: new h.Uniform3f(a, t.u_lightpos),
                            u_lightintensity: new h.Uniform1f(a, t.u_lightintensity),
                            u_lightcolor: new h.Uniform3f(a, t.u_lightcolor),
                            u_vertical_gradient: new h.Uniform1f(a, t.u_vertical_gradient),
                            u_opacity: new h.Uniform1f(a, t.u_opacity)
                        }),
                        fillExtrusionPattern: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_lightpos: new h.Uniform3f(a, t.u_lightpos),
                            u_lightintensity: new h.Uniform1f(a, t.u_lightintensity),
                            u_lightcolor: new h.Uniform3f(a, t.u_lightcolor),
                            u_vertical_gradient: new h.Uniform1f(a, t.u_vertical_gradient),
                            u_height_factor: new h.Uniform1f(a, t.u_height_factor),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_pixel_coord_upper: new h.Uniform2f(a, t.u_pixel_coord_upper),
                            u_pixel_coord_lower: new h.Uniform2f(a, t.u_pixel_coord_lower),
                            u_scale: new h.Uniform3f(a, t.u_scale),
                            u_fade: new h.Uniform1f(a, t.u_fade),
                            u_opacity: new h.Uniform1f(a, t.u_opacity)
                        }),
                        fill: (a, t) => ({u_matrix: new h.UniformMatrix4f(a, t.u_matrix)}),
                        fillPattern: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_pixel_coord_upper: new h.Uniform2f(a, t.u_pixel_coord_upper),
                            u_pixel_coord_lower: new h.Uniform2f(a, t.u_pixel_coord_lower),
                            u_scale: new h.Uniform3f(a, t.u_scale),
                            u_fade: new h.Uniform1f(a, t.u_fade)
                        }),
                        fillOutline: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_world: new h.Uniform2f(a, t.u_world)
                        }),
                        fillOutlinePattern: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_world: new h.Uniform2f(a, t.u_world),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_pixel_coord_upper: new h.Uniform2f(a, t.u_pixel_coord_upper),
                            u_pixel_coord_lower: new h.Uniform2f(a, t.u_pixel_coord_lower),
                            u_scale: new h.Uniform3f(a, t.u_scale),
                            u_fade: new h.Uniform1f(a, t.u_fade)
                        }),
                        circle: (a, t) => ({
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_scale_with_map: new h.Uniform1i(a, t.u_scale_with_map),
                            u_pitch_with_map: new h.Uniform1i(a, t.u_pitch_with_map),
                            u_extrude_scale: new h.Uniform2f(a, t.u_extrude_scale),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix)
                        }),
                        collisionBox: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_pixels_to_tile_units: new h.Uniform1f(a, t.u_pixels_to_tile_units),
                            u_extrude_scale: new h.Uniform2f(a, t.u_extrude_scale),
                            u_overscale_factor: new h.Uniform1f(a, t.u_overscale_factor)
                        }),
                        collisionCircle: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_inv_matrix: new h.UniformMatrix4f(a, t.u_inv_matrix),
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_viewport_size: new h.Uniform2f(a, t.u_viewport_size)
                        }),
                        debug: (a, t) => ({
                            u_color: new h.UniformColor(a, t.u_color),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_overlay: new h.Uniform1i(a, t.u_overlay),
                            u_overlay_scale: new h.Uniform1f(a, t.u_overlay_scale)
                        }),
                        clippingMask: (a, t) => ({u_matrix: new h.UniformMatrix4f(a, t.u_matrix)}),
                        heatmap: (a, t) => ({
                            u_extrude_scale: new h.Uniform1f(a, t.u_extrude_scale),
                            u_intensity: new h.Uniform1f(a, t.u_intensity),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix)
                        }),
                        heatmapTexture: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_world: new h.Uniform2f(a, t.u_world),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_color_ramp: new h.Uniform1i(a, t.u_color_ramp),
                            u_opacity: new h.Uniform1f(a, t.u_opacity)
                        }),
                        hillshade: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_latrange: new h.Uniform2f(a, t.u_latrange),
                            u_light: new h.Uniform2f(a, t.u_light),
                            u_shadow: new h.UniformColor(a, t.u_shadow),
                            u_highlight: new h.UniformColor(a, t.u_highlight),
                            u_accent: new h.UniformColor(a, t.u_accent)
                        }),
                        hillshadePrepare: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_dimension: new h.Uniform2f(a, t.u_dimension),
                            u_zoom: new h.Uniform1f(a, t.u_zoom),
                            u_unpack: new h.Uniform4f(a, t.u_unpack)
                        }),
                        line: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_ratio: new h.Uniform1f(a, t.u_ratio),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_units_to_pixels: new h.Uniform2f(a, t.u_units_to_pixels)
                        }),
                        lineGradient: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_ratio: new h.Uniform1f(a, t.u_ratio),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_units_to_pixels: new h.Uniform2f(a, t.u_units_to_pixels),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_image_height: new h.Uniform1f(a, t.u_image_height)
                        }),
                        linePattern: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_ratio: new h.Uniform1f(a, t.u_ratio),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_units_to_pixels: new h.Uniform2f(a, t.u_units_to_pixels),
                            u_scale: new h.Uniform3f(a, t.u_scale),
                            u_fade: new h.Uniform1f(a, t.u_fade)
                        }),
                        lineSDF: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_ratio: new h.Uniform1f(a, t.u_ratio),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_units_to_pixels: new h.Uniform2f(a, t.u_units_to_pixels),
                            u_patternscale_a: new h.Uniform2f(a, t.u_patternscale_a),
                            u_patternscale_b: new h.Uniform2f(a, t.u_patternscale_b),
                            u_sdfgamma: new h.Uniform1f(a, t.u_sdfgamma),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_tex_y_a: new h.Uniform1f(a, t.u_tex_y_a),
                            u_tex_y_b: new h.Uniform1f(a, t.u_tex_y_b),
                            u_mix: new h.Uniform1f(a, t.u_mix)
                        }),
                        raster: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_tl_parent: new h.Uniform2f(a, t.u_tl_parent),
                            u_scale_parent: new h.Uniform1f(a, t.u_scale_parent),
                            u_buffer_scale: new h.Uniform1f(a, t.u_buffer_scale),
                            u_fade_t: new h.Uniform1f(a, t.u_fade_t),
                            u_opacity: new h.Uniform1f(a, t.u_opacity),
                            u_image0: new h.Uniform1i(a, t.u_image0),
                            u_image1: new h.Uniform1i(a, t.u_image1),
                            u_brightness_low: new h.Uniform1f(a, t.u_brightness_low),
                            u_brightness_high: new h.Uniform1f(a, t.u_brightness_high),
                            u_saturation_factor: new h.Uniform1f(a, t.u_saturation_factor),
                            u_contrast_factor: new h.Uniform1f(a, t.u_contrast_factor),
                            u_spin_weights: new h.Uniform3f(a, t.u_spin_weights)
                        }),
                        symbolIcon: (a, t) => ({
                            u_is_size_zoom_constant: new h.Uniform1i(a, t.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new h.Uniform1i(a, t.u_is_size_feature_constant),
                            u_size_t: new h.Uniform1f(a, t.u_size_t),
                            u_size: new h.Uniform1f(a, t.u_size),
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_pitch: new h.Uniform1f(a, t.u_pitch),
                            u_rotate_symbol: new h.Uniform1i(a, t.u_rotate_symbol),
                            u_aspect_ratio: new h.Uniform1f(a, t.u_aspect_ratio),
                            u_fade_change: new h.Uniform1f(a, t.u_fade_change),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_label_plane_matrix: new h.UniformMatrix4f(a, t.u_label_plane_matrix),
                            u_coord_matrix: new h.UniformMatrix4f(a, t.u_coord_matrix),
                            u_is_text: new h.Uniform1i(a, t.u_is_text),
                            u_pitch_with_map: new h.Uniform1i(a, t.u_pitch_with_map),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_texture: new h.Uniform1i(a, t.u_texture)
                        }),
                        symbolSDF: (a, t) => ({
                            u_is_size_zoom_constant: new h.Uniform1i(a, t.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new h.Uniform1i(a, t.u_is_size_feature_constant),
                            u_size_t: new h.Uniform1f(a, t.u_size_t),
                            u_size: new h.Uniform1f(a, t.u_size),
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_pitch: new h.Uniform1f(a, t.u_pitch),
                            u_rotate_symbol: new h.Uniform1i(a, t.u_rotate_symbol),
                            u_aspect_ratio: new h.Uniform1f(a, t.u_aspect_ratio),
                            u_fade_change: new h.Uniform1f(a, t.u_fade_change),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_label_plane_matrix: new h.UniformMatrix4f(a, t.u_label_plane_matrix),
                            u_coord_matrix: new h.UniformMatrix4f(a, t.u_coord_matrix),
                            u_is_text: new h.Uniform1i(a, t.u_is_text),
                            u_pitch_with_map: new h.Uniform1i(a, t.u_pitch_with_map),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_texture: new h.Uniform1i(a, t.u_texture),
                            u_gamma_scale: new h.Uniform1f(a, t.u_gamma_scale),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_is_halo: new h.Uniform1i(a, t.u_is_halo)
                        }),
                        symbolTextAndIcon: (a, t) => ({
                            u_is_size_zoom_constant: new h.Uniform1i(a, t.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new h.Uniform1i(a, t.u_is_size_feature_constant),
                            u_size_t: new h.Uniform1f(a, t.u_size_t),
                            u_size: new h.Uniform1f(a, t.u_size),
                            u_camera_to_center_distance: new h.Uniform1f(a, t.u_camera_to_center_distance),
                            u_pitch: new h.Uniform1f(a, t.u_pitch),
                            u_rotate_symbol: new h.Uniform1i(a, t.u_rotate_symbol),
                            u_aspect_ratio: new h.Uniform1f(a, t.u_aspect_ratio),
                            u_fade_change: new h.Uniform1f(a, t.u_fade_change),
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_label_plane_matrix: new h.UniformMatrix4f(a, t.u_label_plane_matrix),
                            u_coord_matrix: new h.UniformMatrix4f(a, t.u_coord_matrix),
                            u_is_text: new h.Uniform1i(a, t.u_is_text),
                            u_pitch_with_map: new h.Uniform1i(a, t.u_pitch_with_map),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_texsize_icon: new h.Uniform2f(a, t.u_texsize_icon),
                            u_texture: new h.Uniform1i(a, t.u_texture),
                            u_texture_icon: new h.Uniform1i(a, t.u_texture_icon),
                            u_gamma_scale: new h.Uniform1f(a, t.u_gamma_scale),
                            u_device_pixel_ratio: new h.Uniform1f(a, t.u_device_pixel_ratio),
                            u_is_halo: new h.Uniform1i(a, t.u_is_halo)
                        }),
                        background: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_opacity: new h.Uniform1f(a, t.u_opacity),
                            u_color: new h.UniformColor(a, t.u_color)
                        }),
                        backgroundPattern: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_opacity: new h.Uniform1f(a, t.u_opacity),
                            u_image: new h.Uniform1i(a, t.u_image),
                            u_pattern_tl_a: new h.Uniform2f(a, t.u_pattern_tl_a),
                            u_pattern_br_a: new h.Uniform2f(a, t.u_pattern_br_a),
                            u_pattern_tl_b: new h.Uniform2f(a, t.u_pattern_tl_b),
                            u_pattern_br_b: new h.Uniform2f(a, t.u_pattern_br_b),
                            u_texsize: new h.Uniform2f(a, t.u_texsize),
                            u_mix: new h.Uniform1f(a, t.u_mix),
                            u_pattern_size_a: new h.Uniform2f(a, t.u_pattern_size_a),
                            u_pattern_size_b: new h.Uniform2f(a, t.u_pattern_size_b),
                            u_scale_a: new h.Uniform1f(a, t.u_scale_a),
                            u_scale_b: new h.Uniform1f(a, t.u_scale_b),
                            u_pixel_coord_upper: new h.Uniform2f(a, t.u_pixel_coord_upper),
                            u_pixel_coord_lower: new h.Uniform2f(a, t.u_pixel_coord_lower),
                            u_tile_units_to_pixels: new h.Uniform1f(a, t.u_tile_units_to_pixels)
                        }),
                        terrain: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_texture: new h.Uniform1i(a, t.u_texture),
                            u_ele_delta: new h.Uniform1f(a, t.u_ele_delta)
                        }),
                        terrainDepth: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_ele_delta: new h.Uniform1f(a, t.u_ele_delta)
                        }),
                        terrainCoords: (a, t) => ({
                            u_matrix: new h.UniformMatrix4f(a, t.u_matrix),
                            u_texture: new h.Uniform1i(a, t.u_texture),
                            u_terrain_coords_id: new h.Uniform1f(a, t.u_terrain_coords_id),
                            u_ele_delta: new h.Uniform1f(a, t.u_ele_delta)
                        })
                    };

                class io {
                    constructor(t, n, o) {
                        this.context = t;
                        const l = t.gl;
                        this.buffer = l.createBuffer(), this.dynamicDraw = Boolean(o), this.context.unbindVAO(), t.bindElementBuffer.set(this.buffer), l.bufferData(l.ELEMENT_ARRAY_BUFFER, n.arrayBuffer, this.dynamicDraw ? l.DYNAMIC_DRAW : l.STATIC_DRAW), this.dynamicDraw || delete n.arrayBuffer
                    }

                    bind() {
                        this.context.bindElementBuffer.set(this.buffer)
                    }

                    updateData(t) {
                        const n = this.context.gl;
                        if (!this.dynamicDraw) throw new Error("Attempted to update data while not in dynamic mode.");
                        this.context.unbindVAO(), this.bind(), n.bufferSubData(n.ELEMENT_ARRAY_BUFFER, 0, t.arrayBuffer)
                    }

                    destroy() {
                        this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer)
                    }
                }

                const ro = {
                    Int8: "BYTE",
                    Uint8: "UNSIGNED_BYTE",
                    Int16: "SHORT",
                    Uint16: "UNSIGNED_SHORT",
                    Int32: "INT",
                    Uint32: "UNSIGNED_INT",
                    Float32: "FLOAT"
                };

                class mn {
                    constructor(t, n, o, l) {
                        this.length = n.length, this.attributes = o, this.itemSize = n.bytesPerElement, this.dynamicDraw = l, this.context = t;
                        const p = t.gl;
                        this.buffer = p.createBuffer(), t.bindVertexBuffer.set(this.buffer), p.bufferData(p.ARRAY_BUFFER, n.arrayBuffer, this.dynamicDraw ? p.DYNAMIC_DRAW : p.STATIC_DRAW), this.dynamicDraw || delete n.arrayBuffer
                    }

                    bind() {
                        this.context.bindVertexBuffer.set(this.buffer)
                    }

                    updateData(t) {
                        if (t.length !== this.length) throw new Error(`Length of new data is ${t.length}, which doesn't match current length of ${this.length}`);
                        const n = this.context.gl;
                        this.bind(), n.bufferSubData(n.ARRAY_BUFFER, 0, t.arrayBuffer)
                    }

                    enableAttributes(t, n) {
                        for (let o = 0; o < this.attributes.length; o++) {
                            const l = n.attributes[this.attributes[o].name];
                            void 0 !== l && t.enableVertexAttribArray(l)
                        }
                    }

                    setVertexAttribPointers(t, n, o) {
                        for (let l = 0; l < this.attributes.length; l++) {
                            const p = this.attributes[l], m = n.attributes[p.name];
                            void 0 !== m && t.vertexAttribPointer(m, p.components, t[ro[p.type]], !1, this.itemSize, p.offset + this.itemSize * (o || 0))
                        }
                    }

                    destroy() {
                        this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer)
                    }
                }

                class ct {
                    constructor(t) {
                        this.gl = t.gl, this.default = this.getDefault(), this.current = this.default, this.dirty = !1
                    }

                    get() {
                        return this.current
                    }

                    set(t) {
                    }

                    getDefault() {
                        return this.default
                    }

                    setDefault() {
                        this.set(this.default)
                    }
                }

                class da extends ct {
                    getDefault() {
                        return h.Color.transparent
                    }

                    set(t) {
                        const n = this.current;
                        (t.r !== n.r || t.g !== n.g || t.b !== n.b || t.a !== n.a || this.dirty) && (this.gl.clearColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1)
                    }
                }

                class no extends ct {
                    getDefault() {
                        return 1
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.clearDepth(t), this.current = t, this.dirty = !1)
                    }
                }

                class qr extends ct {
                    getDefault() {
                        return 0
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.clearStencil(t), this.current = t, this.dirty = !1)
                    }
                }

                class ma extends ct {
                    getDefault() {
                        return [!0, !0, !0, !0]
                    }

                    set(t) {
                        const n = this.current;
                        (t[0] !== n[0] || t[1] !== n[1] || t[2] !== n[2] || t[3] !== n[3] || this.dirty) && (this.gl.colorMask(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1)
                    }
                }

                class fn extends ct {
                    getDefault() {
                        return !0
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.depthMask(t), this.current = t, this.dirty = !1)
                    }
                }

                class gn extends ct {
                    getDefault() {
                        return 255
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.stencilMask(t), this.current = t, this.dirty = !1)
                    }
                }

                class fa extends ct {
                    getDefault() {
                        return {func: this.gl.ALWAYS, ref: 0, mask: 255}
                    }

                    set(t) {
                        const n = this.current;
                        (t.func !== n.func || t.ref !== n.ref || t.mask !== n.mask || this.dirty) && (this.gl.stencilFunc(t.func, t.ref, t.mask), this.current = t, this.dirty = !1)
                    }
                }

                class so extends ct {
                    getDefault() {
                        const t = this.gl;
                        return [t.KEEP, t.KEEP, t.KEEP]
                    }

                    set(t) {
                        const n = this.current;
                        (t[0] !== n[0] || t[1] !== n[1] || t[2] !== n[2] || this.dirty) && (this.gl.stencilOp(t[0], t[1], t[2]), this.current = t, this.dirty = !1)
                    }
                }

                class _t extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        t ? n.enable(n.STENCIL_TEST) : n.disable(n.STENCIL_TEST), this.current = t, this.dirty = !1
                    }
                }

                class as extends ct {
                    getDefault() {
                        return [0, 1]
                    }

                    set(t) {
                        const n = this.current;
                        (t[0] !== n[0] || t[1] !== n[1] || this.dirty) && (this.gl.depthRange(t[0], t[1]), this.current = t, this.dirty = !1)
                    }
                }

                class cl extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        t ? n.enable(n.DEPTH_TEST) : n.disable(n.DEPTH_TEST), this.current = t, this.dirty = !1
                    }
                }

                class ga extends ct {
                    getDefault() {
                        return this.gl.LESS
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.depthFunc(t), this.current = t, this.dirty = !1)
                    }
                }

                class Un extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        t ? n.enable(n.BLEND) : n.disable(n.BLEND), this.current = t, this.dirty = !1
                    }
                }

                class hl extends ct {
                    getDefault() {
                        const t = this.gl;
                        return [t.ONE, t.ZERO]
                    }

                    set(t) {
                        const n = this.current;
                        (t[0] !== n[0] || t[1] !== n[1] || this.dirty) && (this.gl.blendFunc(t[0], t[1]), this.current = t, this.dirty = !1)
                    }
                }

                class ul extends ct {
                    getDefault() {
                        return h.Color.transparent
                    }

                    set(t) {
                        const n = this.current;
                        (t.r !== n.r || t.g !== n.g || t.b !== n.b || t.a !== n.a || this.dirty) && (this.gl.blendColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1)
                    }
                }

                class _a extends ct {
                    getDefault() {
                        return this.gl.FUNC_ADD
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.blendEquation(t), this.current = t, this.dirty = !1)
                    }
                }

                class pl extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        t ? n.enable(n.CULL_FACE) : n.disable(n.CULL_FACE), this.current = t, this.dirty = !1
                    }
                }

                class oo extends ct {
                    getDefault() {
                        return this.gl.BACK
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.cullFace(t), this.current = t, this.dirty = !1)
                    }
                }

                class ls extends ct {
                    getDefault() {
                        return this.gl.CCW
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.frontFace(t), this.current = t, this.dirty = !1)
                    }
                }

                class cs extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.useProgram(t), this.current = t, this.dirty = !1)
                    }
                }

                class ao extends ct {
                    getDefault() {
                        return this.gl.TEXTURE0
                    }

                    set(t) {
                        (t !== this.current || this.dirty) && (this.gl.activeTexture(t), this.current = t, this.dirty = !1)
                    }
                }

                class lo extends ct {
                    getDefault() {
                        const t = this.gl;
                        return [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]
                    }

                    set(t) {
                        const n = this.current;
                        (t[0] !== n[0] || t[1] !== n[1] || t[2] !== n[2] || t[3] !== n[3] || this.dirty) && (this.gl.viewport(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1)
                    }
                }

                class ya extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.bindFramebuffer(n.FRAMEBUFFER, t), this.current = t, this.dirty = !1
                    }
                }

                class hs extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.bindRenderbuffer(n.RENDERBUFFER, t), this.current = t, this.dirty = !1
                    }
                }

                class us extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.bindTexture(n.TEXTURE_2D, t), this.current = t, this.dirty = !1
                    }
                }

                class Ui extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.bindBuffer(n.ARRAY_BUFFER, t), this.current = t, this.dirty = !1
                    }
                }

                class xa extends ct {
                    getDefault() {
                        return null
                    }

                    set(t) {
                        const n = this.gl;
                        n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, t), this.current = t, this.dirty = !1
                    }
                }

                class co extends ct {
                    constructor(t) {
                        super(t), this.vao = t.extVertexArrayObject
                    }

                    getDefault() {
                        return null
                    }

                    set(t) {
                        this.vao && (t !== this.current || this.dirty) && (this.vao.bindVertexArrayOES(t), this.current = t, this.dirty = !1)
                    }
                }

                class va extends ct {
                    getDefault() {
                        return 4
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.pixelStorei(n.UNPACK_ALIGNMENT, t), this.current = t, this.dirty = !1
                    }
                }

                class _n extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t), this.current = t, this.dirty = !1
                    }
                }

                class ps extends ct {
                    getDefault() {
                        return !1
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        const n = this.gl;
                        n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL, t), this.current = t, this.dirty = !1
                    }
                }

                class ds extends ct {
                    constructor(t, n) {
                        super(t), this.context = t, this.parent = n
                    }

                    getDefault() {
                        return null
                    }
                }

                class dl extends ds {
                    setDirty() {
                        this.dirty = !0
                    }

                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        this.context.bindFramebuffer.set(this.parent);
                        const n = this.gl;
                        n.framebufferTexture2D(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0, n.TEXTURE_2D, t, 0), this.current = t, this.dirty = !1
                    }
                }

                class ho extends ds {
                    set(t) {
                        if (t === this.current && !this.dirty) return;
                        this.context.bindFramebuffer.set(this.parent);
                        const n = this.gl;
                        n.framebufferRenderbuffer(n.FRAMEBUFFER, n.DEPTH_ATTACHMENT, n.RENDERBUFFER, t), this.current = t, this.dirty = !1
                    }
                }

                class ml {
                    constructor(t, n, o, l) {
                        this.context = t, this.width = n, this.height = o;
                        const p = t.gl, m = this.framebuffer = p.createFramebuffer();
                        if (this.colorAttachment = new dl(t, m), l && (this.depthAttachment = new ho(t, m)), p.checkFramebufferStatus(p.FRAMEBUFFER) !== p.FRAMEBUFFER_COMPLETE) throw new Error("Framebuffer is not complete")
                    }

                    destroy() {
                        const t = this.context.gl, n = this.colorAttachment.get();
                        if (n && t.deleteTexture(n), this.depthAttachment) {
                            const o = this.depthAttachment.get();
                            o && t.deleteRenderbuffer(o)
                        }
                        t.deleteFramebuffer(this.framebuffer)
                    }
                }

                class Lt {
                    constructor(t, n, o) {
                        this.blendFunction = t, this.blendColor = n, this.mask = o
                    }
                }

                Lt.Replace = [1, 0], Lt.disabled = new Lt(Lt.Replace, h.Color.transparent, [!1, !1, !1, !1]), Lt.unblended = new Lt(Lt.Replace, h.Color.transparent, [!0, !0, !0, !0]), Lt.alphaBlended = new Lt([1, 771], h.Color.transparent, [!0, !0, !0, !0]);

                class ms {
                    constructor(t) {
                        this.gl = t, this.extVertexArrayObject = this.gl.getExtension("OES_vertex_array_object"), this.clearColor = new da(this), this.clearDepth = new no(this), this.clearStencil = new qr(this), this.colorMask = new ma(this), this.depthMask = new fn(this), this.stencilMask = new gn(this), this.stencilFunc = new fa(this), this.stencilOp = new so(this), this.stencilTest = new _t(this), this.depthRange = new as(this), this.depthTest = new cl(this), this.depthFunc = new ga(this), this.blend = new Un(this), this.blendFunc = new hl(this), this.blendColor = new ul(this), this.blendEquation = new _a(this), this.cullFace = new pl(this), this.cullFaceSide = new oo(this), this.frontFace = new ls(this), this.program = new cs(this), this.activeTexture = new ao(this), this.viewport = new lo(this), this.bindFramebuffer = new ya(this), this.bindRenderbuffer = new hs(this), this.bindTexture = new us(this), this.bindVertexBuffer = new Ui(this), this.bindElementBuffer = new xa(this), this.bindVertexArrayOES = this.extVertexArrayObject && new co(this), this.pixelStoreUnpack = new va(this), this.pixelStoreUnpackPremultiplyAlpha = new _n(this), this.pixelStoreUnpackFlipY = new ps(this), this.extTextureFilterAnisotropic = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.extTextureFilterAnisotropic && (this.extTextureFilterAnisotropicMax = t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)), this.extTextureHalfFloat = t.getExtension("OES_texture_half_float"), this.extTextureHalfFloat && (t.getExtension("OES_texture_half_float_linear"), this.extRenderToTextureHalfFloat = t.getExtension("EXT_color_buffer_half_float")), this.extTimerQuery = t.getExtension("EXT_disjoint_timer_query"), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE)
                    }

                    setDefault() {
                        this.unbindVAO(), this.clearColor.setDefault(), this.clearDepth.setDefault(), this.clearStencil.setDefault(), this.colorMask.setDefault(), this.depthMask.setDefault(), this.stencilMask.setDefault(), this.stencilFunc.setDefault(), this.stencilOp.setDefault(), this.stencilTest.setDefault(), this.depthRange.setDefault(), this.depthTest.setDefault(), this.depthFunc.setDefault(), this.blend.setDefault(), this.blendFunc.setDefault(), this.blendColor.setDefault(), this.blendEquation.setDefault(), this.cullFace.setDefault(), this.cullFaceSide.setDefault(), this.frontFace.setDefault(), this.program.setDefault(), this.activeTexture.setDefault(), this.bindFramebuffer.setDefault(), this.pixelStoreUnpack.setDefault(), this.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.pixelStoreUnpackFlipY.setDefault()
                    }

                    setDirty() {
                        this.clearColor.dirty = !0, this.clearDepth.dirty = !0, this.clearStencil.dirty = !0, this.colorMask.dirty = !0, this.depthMask.dirty = !0, this.stencilMask.dirty = !0, this.stencilFunc.dirty = !0, this.stencilOp.dirty = !0, this.stencilTest.dirty = !0, this.depthRange.dirty = !0, this.depthTest.dirty = !0, this.depthFunc.dirty = !0, this.blend.dirty = !0, this.blendFunc.dirty = !0, this.blendColor.dirty = !0, this.blendEquation.dirty = !0, this.cullFace.dirty = !0, this.cullFaceSide.dirty = !0, this.frontFace.dirty = !0, this.program.dirty = !0, this.activeTexture.dirty = !0, this.viewport.dirty = !0, this.bindFramebuffer.dirty = !0, this.bindRenderbuffer.dirty = !0, this.bindTexture.dirty = !0, this.bindVertexBuffer.dirty = !0, this.bindElementBuffer.dirty = !0, this.extVertexArrayObject && (this.bindVertexArrayOES.dirty = !0), this.pixelStoreUnpack.dirty = !0, this.pixelStoreUnpackPremultiplyAlpha.dirty = !0, this.pixelStoreUnpackFlipY.dirty = !0
                    }

                    createIndexBuffer(t, n) {
                        return new io(this, t, n)
                    }

                    createVertexBuffer(t, n, o) {
                        return new mn(this, t, n, o)
                    }

                    createRenderbuffer(t, n, o) {
                        const l = this.gl, p = l.createRenderbuffer();
                        return this.bindRenderbuffer.set(p), l.renderbufferStorage(l.RENDERBUFFER, t, n, o), this.bindRenderbuffer.set(null), p
                    }

                    createFramebuffer(t, n, o) {
                        return new ml(this, t, n, o)
                    }

                    clear({color: t, depth: n}) {
                        const o = this.gl;
                        let l = 0;
                        t && (l |= o.COLOR_BUFFER_BIT, this.clearColor.set(t), this.colorMask.set([!0, !0, !0, !0])), void 0 !== n && (l |= o.DEPTH_BUFFER_BIT, this.depthRange.set([0, 1]), this.clearDepth.set(n), this.depthMask.set(!0)), o.clear(l)
                    }

                    setCullFace(t) {
                        !1 === t.enable ? this.cullFace.set(!1) : (this.cullFace.set(!0), this.cullFaceSide.set(t.mode), this.frontFace.set(t.frontFace))
                    }

                    setDepthMode(t) {
                        t.func !== this.gl.ALWAYS || t.mask ? (this.depthTest.set(!0), this.depthFunc.set(t.func), this.depthMask.set(t.mask), this.depthRange.set(t.range)) : this.depthTest.set(!1)
                    }

                    setStencilMode(t) {
                        t.test.func !== this.gl.ALWAYS || t.mask ? (this.stencilTest.set(!0), this.stencilMask.set(t.mask), this.stencilOp.set([t.fail, t.depthFail, t.pass]), this.stencilFunc.set({
                            func: t.test.func,
                            ref: t.ref,
                            mask: t.test.mask
                        })) : this.stencilTest.set(!1)
                    }

                    setColorMode(t) {
                        Ze(t.blendFunction, Lt.Replace) ? this.blend.set(!1) : (this.blend.set(!0), this.blendFunc.set(t.blendFunction), this.blendColor.set(t.blendColor)), this.colorMask.set(t.mask)
                    }

                    unbindVAO() {
                        this.extVertexArrayObject && this.bindVertexArrayOES.set(null)
                    }
                }

                class Qe {
                    constructor(t, n, o) {
                        this.func = t, this.mask = n, this.range = o
                    }
                }

                Qe.ReadOnly = !1, Qe.ReadWrite = !0, Qe.disabled = new Qe(519, Qe.ReadOnly, [0, 1]);

                class At {
                    constructor(t, n, o, l, p, m) {
                        this.test = t, this.ref = n, this.mask = o, this.fail = l, this.depthFail = p, this.pass = m
                    }
                }

                At.disabled = new At({func: 519, mask: 0}, 0, 0, 7680, 7680, 7680);

                class wt {
                    constructor(t, n, o) {
                        this.enable = t, this.mode = n, this.frontFace = o
                    }
                }

                let yn;

                function uo(a, t, n, o, l, p, m) {
                    const g = a.context, y = g.gl, x = a.useProgram("collisionBox"), C = [];
                    let S = 0, M = 0;
                    for (let U = 0; U < o.length; U++) {
                        const J = o[U], te = t.getTile(J), re = te.getBucket(n);
                        if (!re) continue;
                        let ae = J.posMatrix;
                        0 === l[0] && 0 === l[1] || (ae = a.translatePosMatrix(J.posMatrix, te, l, p));
                        const ce = m ? re.textCollisionBox : re.iconCollisionBox, ge = re.collisionCircleArray;
                        if (ge.length > 0) {
                            const de = h.create(), ye = ae;
                            h.mul(de, re.placementInvProjMatrix, a.transform.glCoordMatrix), h.mul(de, de, re.placementViewportMatrix), C.push({
                                circleArray: ge,
                                circleOffset: M,
                                transform: ye,
                                invTransform: de,
                                coord: J
                            }), S += ge.length / 4, M = S
                        }
                        ce && x.draw(g, y.LINES, Qe.disabled, At.disabled, a.colorModeForRenderPass(), wt.disabled, is(ae, a.transform, te), a.style.map.terrain && a.style.map.terrain.getTerrainData(J), n.id, ce.layoutVertexBuffer, ce.indexBuffer, ce.segments, null, a.transform.zoom, null, null, ce.collisionVertexBuffer)
                    }
                    if (!m || !C.length) return;
                    const R = a.useProgram("collisionCircle"), B = new h.CollisionCircleLayoutArray;
                    B.resize(4 * S), B._trim();
                    let P = 0;
                    for (const U of C) for (let J = 0; J < U.circleArray.length / 4; J++) {
                        const te = 4 * J, re = U.circleArray[te + 0], ae = U.circleArray[te + 1],
                            ce = U.circleArray[te + 2], ge = U.circleArray[te + 3];
                        B.emplace(P++, re, ae, ce, ge, 0), B.emplace(P++, re, ae, ce, ge, 1), B.emplace(P++, re, ae, ce, ge, 2), B.emplace(P++, re, ae, ce, ge, 3)
                    }
                    (!yn || yn.length < 2 * S) && (yn = function (U) {
                        const J = 2 * U, te = new h.QuadTriangleArray;
                        te.resize(J), te._trim();
                        for (let re = 0; re < J; re++) {
                            const ae = 6 * re;
                            te.uint16[ae + 0] = 4 * re + 0, te.uint16[ae + 1] = 4 * re + 1, te.uint16[ae + 2] = 4 * re + 2, te.uint16[ae + 3] = 4 * re + 2, te.uint16[ae + 4] = 4 * re + 3, te.uint16[ae + 5] = 4 * re + 0
                        }
                        return te
                    }(S));
                    const $ = g.createIndexBuffer(yn, !0),
                        H = g.createVertexBuffer(B, h.collisionCircleLayout.members, !0);
                    for (const U of C) {
                        const J = {
                            u_matrix: U.transform,
                            u_inv_matrix: U.invTransform,
                            u_camera_to_center_distance: (X = a.transform).cameraToCenterDistance,
                            u_viewport_size: [X.width, X.height]
                        };
                        R.draw(g, y.TRIANGLES, Qe.disabled, At.disabled, a.colorModeForRenderPass(), wt.disabled, J, a.style.map.terrain && a.style.map.terrain.getTerrainData(U.coord), n.id, H, $, h.SegmentVector.simpleSegment(0, 2 * U.circleOffset, U.circleArray.length, U.circleArray.length / 2), null, a.transform.zoom, null, null, null)
                    }
                    var X;
                    H.destroy(), $.destroy()
                }

                wt.disabled = new wt(!1, 1029, 2305), wt.backCCW = new wt(!0, 1029, 2305);
                const ba = h.identity(new Float32Array(16));

                function wa(a, t, n, o, l, p) {
                    const {horizontalAlign: m, verticalAlign: g} = h.getAnchorAlignment(a), y = -(m - .5) * t,
                        x = -(g - .5) * n, C = h.evaluateVariableOffset(a, o);
                    return new h.pointGeometry((y / l + C[0]) * p, (x / l + C[1]) * p)
                }

                function Sa(a, t, n, o, l, p, m, g, y, x, C) {
                    const S = a.text.placedSymbolArray, M = a.text.dynamicLayoutVertexArray,
                        R = a.icon.dynamicLayoutVertexArray, B = {};
                    M.clear();
                    for (let P = 0; P < S.length; P++) {
                        const $ = S.get(P),
                            H = $.hidden || !$.crossTileID || a.allowVerticalPlacement && !$.placedOrientation ? null : o[$.crossTileID];
                        if (H) {
                            const X = new h.pointGeometry($.anchorX, $.anchorY), U = fi(X, n ? m : p, C),
                                J = ur(l.cameraToCenterDistance, U.signedDistanceFromCamera);
                            let te = h.evaluateSizeForFeature(a.textSizeData, y, $) * J / h.ONE_EM;
                            n && (te *= a.tilePixelRatio / g);
                            const {width: re, height: ae, anchor: ce, textOffset: ge, textBoxScale: de} = H,
                                ye = wa(ce, re, ae, ge, de, te),
                                Ae = n ? fi(X.add(ye), p, C).point : U.point.add(t ? ye.rotate(-l.angle) : ye),
                                qe = a.allowVerticalPlacement && $.placedOrientation === h.WritingMode.vertical ? Math.PI / 2 : 0;
                            for (let We = 0; We < $.numGlyphs; We++) h.addDynamicAttributes(M, Ae, qe);
                            x && $.associatedIconIndex >= 0 && (B[$.associatedIconIndex] = {
                                shiftedAnchor: Ae,
                                angle: qe
                            })
                        } else G($.numGlyphs, M)
                    }
                    if (x) {
                        R.clear();
                        const P = a.icon.placedSymbolArray;
                        for (let $ = 0; $ < P.length; $++) {
                            const H = P.get($);
                            if (H.hidden) G(H.numGlyphs, R); else {
                                const X = B[$];
                                if (X) for (let U = 0; U < H.numGlyphs; U++) h.addDynamicAttributes(R, X.shiftedAnchor, X.angle); else G(H.numGlyphs, R)
                            }
                        }
                        a.icon.dynamicLayoutVertexBuffer.updateData(R)
                    }
                    a.text.dynamicLayoutVertexBuffer.updateData(M)
                }

                function Ca(a, t, n) {
                    return n.iconsInText && t ? "symbolTextAndIcon" : a ? "symbolSDF" : "symbolIcon"
                }

                function Er(a, t, n, o, l, p, m, g, y, x, C, S) {
                    const M = a.context, R = M.gl, B = a.transform, P = "map" === g, $ = "map" === y,
                        H = "viewport" !== g && "point" !== n.layout.get("symbol-placement"), X = P && !$ && !H,
                        U = !n.layout.get("symbol-sort-key").isConstant();
                    let J = !1;
                    const te = a.depthModeForSublayer(0, Qe.ReadOnly), re = n.layout.get("text-variable-anchor"),
                        ae = [];
                    for (const ce of o) {
                        const ge = t.getTile(ce), de = ge.getBucket(n);
                        if (!de) continue;
                        const ye = l ? de.text : de.icon;
                        if (!ye || !ye.segments.get().length || !ye.hasVisibleVertices) continue;
                        const Ae = ye.programConfigurations.get(n.id), qe = l || de.sdfIcons,
                            We = l ? de.textSizeData : de.iconSizeData, ze = $ || 0 !== B.pitch,
                            ht = a.useProgram(Ca(qe, l, de), Ae), ut = h.evaluateSizeForZoom(We, B.zoom),
                            He = a.style.map.terrain && a.style.map.terrain.getTerrainData(ce);
                        let nt, xt, pt, Ni, $i = [0, 0], ni = null;
                        if (l) xt = ge.glyphAtlasTexture, pt = R.LINEAR, nt = ge.glyphAtlasTexture.size, de.iconsInText && ($i = ge.imageAtlasTexture.size, ni = ge.imageAtlasTexture, Ni = ze || a.options.rotating || a.options.zooming || "composite" === We.kind || "camera" === We.kind ? R.LINEAR : R.NEAREST); else {
                            const nr = 1 !== n.layout.get("icon-size").constantOr(0) || de.iconsNeedLinear;
                            xt = ge.imageAtlasTexture, pt = qe || a.options.rotating || a.options.zooming || nr || ze ? R.LINEAR : R.NEAREST, nt = ge.imageAtlasTexture.size
                        }
                        const Ai = oe(ge, 1, a.transform.zoom), gi = Jt(ce.posMatrix, $, P, a.transform, Ai),
                            Xi = mi(ce.posMatrix, $, P, a.transform, Ai), kr = re && de.hasTextData(),
                            Ds = "none" !== n.layout.get("icon-text-fit") && kr && de.hasIconData();
                        if (H) {
                            const nr = a.style.map.terrain ? (Vo, Yr) => a.style.map.terrain.getElevation(ce, Vo, Yr) : null,
                                Wi = "map" === n.layout.get("text-rotation-alignment");
                            I(de, ce.posMatrix, a, l, gi, Xi, $, x, Wi, nr)
                        }
                        const Nt = a.translatePosMatrix(ce.posMatrix, ge, p, m), zt = H || l && re || Ds ? ba : gi,
                            dt = a.translatePosMatrix(Xi, ge, p, m, !0),
                            _i = qe && 0 !== n.paint.get(l ? "text-halo-width" : "icon-halo-width").constantOr(1);
                        let yi;
                        yi = qe ? de.iconsInText ? al(We.kind, ut, X, $, a, Nt, zt, dt, nt, $i) : pa(We.kind, ut, X, $, a, Nt, zt, dt, l, nt, !0) : ua(We.kind, ut, X, $, a, Nt, zt, dt, l, nt);
                        const kt = {
                            program: ht,
                            buffers: ye,
                            uniformValues: yi,
                            atlasTexture: xt,
                            atlasTextureIcon: ni,
                            atlasInterpolation: pt,
                            atlasInterpolationIcon: Ni,
                            isSDF: qe,
                            hasHalo: _i
                        };
                        if (U && de.canOverlap) {
                            J = !0;
                            const nr = ye.segments.get();
                            for (const Wi of nr) ae.push({
                                segments: new h.SegmentVector([Wi]),
                                sortKey: Wi.sortKey,
                                state: kt,
                                terrainData: He
                            })
                        } else ae.push({segments: ye.segments, sortKey: 0, state: kt, terrainData: He})
                    }
                    J && ae.sort((ce, ge) => ce.sortKey - ge.sortKey);
                    for (const ce of ae) {
                        const ge = ce.state;
                        if (M.activeTexture.set(R.TEXTURE0), ge.atlasTexture.bind(ge.atlasInterpolation, R.CLAMP_TO_EDGE), ge.atlasTextureIcon && (M.activeTexture.set(R.TEXTURE1), ge.atlasTextureIcon && ge.atlasTextureIcon.bind(ge.atlasInterpolationIcon, R.CLAMP_TO_EDGE)), ge.isSDF) {
                            const de = ge.uniformValues;
                            ge.hasHalo && (de.u_is_halo = 1, po(ge.buffers, ce.segments, n, a, ge.program, te, C, S, de, ce.terrainData)), de.u_is_halo = 0
                        }
                        po(ge.buffers, ce.segments, n, a, ge.program, te, C, S, ge.uniformValues, ce.terrainData)
                    }
                }

                function po(a, t, n, o, l, p, m, g, y, x) {
                    const C = o.context;
                    l.draw(C, C.gl.TRIANGLES, p, m, g, wt.disabled, y, x, n.id, a.layoutVertexBuffer, a.indexBuffer, t, n.paint, o.transform.zoom, a.programConfigurations.get(n.id), a.dynamicLayoutVertexBuffer, a.opacityVertexBuffer)
                }

                function mo(a, t, n, o, l) {
                    if (!n || !o || !o.imageAtlas) return;
                    const p = o.imageAtlas.patternPositions;
                    let m = p[n.to.toString()], g = p[n.from.toString()];
                    if (!m || !g) {
                        const y = l.getPaintProperty(t);
                        m = p[y], g = p[y]
                    }
                    m && g && a.setConstantPatternPositions(m, g)
                }

                function fo(a, t, n, o, l, p, m) {
                    const g = a.context.gl, y = "fill-pattern", x = n.paint.get(y), C = x && x.constantOr(1),
                        S = n.getCrossfadeParameters();
                    let M, R, B, P, $;
                    m ? (R = C && !n.getPaintProperty("fill-outline-color") ? "fillOutlinePattern" : "fillOutline", M = g.LINES) : (R = C ? "fillPattern" : "fill", M = g.TRIANGLES);
                    const H = x.constantOr(null);
                    for (const X of o) {
                        const U = t.getTile(X);
                        if (C && !U.patternsLoaded()) continue;
                        const J = U.getBucket(n);
                        if (!J) continue;
                        const te = J.programConfigurations.get(n.id), re = a.useProgram(R, te),
                            ae = a.style.map.terrain && a.style.map.terrain.getTerrainData(X);
                        C && (a.context.activeTexture.set(g.TEXTURE0), U.imageAtlasTexture.bind(g.LINEAR, g.CLAMP_TO_EDGE), te.updatePaintBuffers(S)), mo(te, y, H, U, n);
                        const ce = ae ? X : null,
                            ge = a.translatePosMatrix(ce ? ce.posMatrix : X.posMatrix, U, n.paint.get("fill-translate"), n.paint.get("fill-translate-anchor"));
                        if (m) {
                            P = J.indexBuffer2, $ = J.segments2;
                            const de = [g.drawingBufferWidth, g.drawingBufferHeight];
                            B = "fillOutlinePattern" === R && C ? Mi(ge, a, S, U, de) : ca(ge, de)
                        } else P = J.indexBuffer, $ = J.segments, B = C ? dn(ge, a, S, U) : pn(ge);
                        re.draw(a.context, M, l, a.stencilModeForClipping(X), p, wt.disabled, B, ae, n.id, J.layoutVertexBuffer, P, $, n.paint, a.transform.zoom, te)
                    }
                }

                function gs(a, t, n, o, l, p, m) {
                    const g = a.context, y = g.gl, x = "fill-extrusion-pattern", C = n.paint.get(x),
                        S = C.constantOr(1), M = n.getCrossfadeParameters(), R = n.paint.get("fill-extrusion-opacity"),
                        B = C.constantOr(null);
                    for (const P of o) {
                        const $ = t.getTile(P), H = $.getBucket(n);
                        if (!H) continue;
                        const X = a.style.map.terrain && a.style.map.terrain.getTerrainData(P),
                            U = H.programConfigurations.get(n.id),
                            J = a.useProgram(S ? "fillExtrusionPattern" : "fillExtrusion", U);
                        S && (a.context.activeTexture.set(y.TEXTURE0), $.imageAtlasTexture.bind(y.LINEAR, y.CLAMP_TO_EDGE), U.updatePaintBuffers(M)), mo(U, x, B, $, n);
                        const te = a.translatePosMatrix(P.posMatrix, $, n.paint.get("fill-extrusion-translate"), n.paint.get("fill-extrusion-translate-anchor")),
                            re = n.paint.get("fill-extrusion-vertical-gradient"),
                            ae = S ? nl(te, a, re, R, P, M, $) : Ks(te, a, re, R);
                        J.draw(g, g.gl.TRIANGLES, l, p, m, wt.backCCW, ae, X, n.id, H.layoutVertexBuffer, H.indexBuffer, H.segments, n.paint, a.transform.zoom, U, a.style.map.terrain && H.centroidVertexBuffer)
                    }
                }

                function Ta(a, t, n, o, l, p, m) {
                    const g = a.context, y = g.gl, x = n.fbo;
                    if (!x) return;
                    const C = a.useProgram("hillshade"),
                        S = a.style.map.terrain && a.style.map.terrain.getTerrainData(t);
                    g.activeTexture.set(y.TEXTURE0), y.bindTexture(y.TEXTURE_2D, x.colorAttachment.get()), C.draw(g, y.TRIANGLES, l, p, m, wt.disabled, ((M, R, B, P) => {
                        const $ = B.paint.get("hillshade-shadow-color"), H = B.paint.get("hillshade-highlight-color"),
                            X = B.paint.get("hillshade-accent-color");
                        let U = B.paint.get("hillshade-illumination-direction") * (Math.PI / 180);
                        "viewport" === B.paint.get("hillshade-illumination-anchor") && (U -= M.transform.angle);
                        const J = !M.options.moving;
                        return {
                            u_matrix: P ? P.posMatrix : M.transform.calculatePosMatrix(R.tileID.toUnwrapped(), J),
                            u_image: 0,
                            u_latrange: ns(0, R.tileID),
                            u_light: [B.paint.get("hillshade-exaggeration"), U],
                            u_shadow: $,
                            u_highlight: H,
                            u_accent: X
                        }
                    })(a, n, o, S ? t : null), S, o.id, a.rasterBoundsBuffer, a.quadTriangleIndexBuffer, a.rasterBoundsSegments)
                }

                function Ia(a, t, n, o, l, p) {
                    const m = a.context, g = m.gl, y = t.dem;
                    if (y && y.data) {
                        const x = y.dim, C = y.stride, S = y.getPixels();
                        if (m.activeTexture.set(g.TEXTURE1), m.pixelStoreUnpackPremultiplyAlpha.set(!1), t.demTexture = t.demTexture || a.getTileTexture(C), t.demTexture) {
                            const R = t.demTexture;
                            R.update(S, {premultiply: !1}), R.bind(g.NEAREST, g.CLAMP_TO_EDGE)
                        } else t.demTexture = new St(m, S, g.RGBA, {premultiply: !1}), t.demTexture.bind(g.NEAREST, g.CLAMP_TO_EDGE);
                        m.activeTexture.set(g.TEXTURE0);
                        let M = t.fbo;
                        if (!M) {
                            const R = new St(m, {width: x, height: x, data: null}, g.RGBA);
                            R.bind(g.LINEAR, g.CLAMP_TO_EDGE), M = t.fbo = m.createFramebuffer(x, x, !0), M.colorAttachment.set(R.texture)
                        }
                        m.bindFramebuffer.set(M.framebuffer), m.viewport.set([0, 0, x, x]), a.useProgram("hillshadePrepare").draw(m, g.TRIANGLES, o, l, p, wt.disabled, ((R, B) => {
                            const P = B.stride, $ = h.create();
                            return h.ortho($, 0, h.EXTENT, -h.EXTENT, 0, 0, 1), h.translate($, $, [0, -h.EXTENT, 0]), {
                                u_matrix: $,
                                u_image: 1,
                                u_dimension: [P, P],
                                u_zoom: R.overscaledZ,
                                u_unpack: B.getUnpackVector()
                            }
                        })(t.tileID, y), null, n.id, a.rasterBoundsBuffer, a.quadTriangleIndexBuffer, a.rasterBoundsSegments), t.needsHillshadePrepare = !1
                    }
                }

                function Vn(a, t, n, o, l, p) {
                    const m = o.paint.get("raster-fade-duration");
                    if (!p && m > 0) {
                        const g = h.exported.now(), y = (g - a.timeAdded) / m, x = t ? (g - t.timeAdded) / m : -1,
                            C = n.getSource(), S = l.coveringZoomLevel({tileSize: C.tileSize, roundZoom: C.roundZoom}),
                            M = !t || Math.abs(t.tileID.overscaledZ - S) > Math.abs(a.tileID.overscaledZ - S),
                            R = M && a.refreshedUponExpiration ? 1 : h.clamp(M ? y : 1 - x, 0, 1);
                        return a.refreshedUponExpiration && y >= 1 && (a.refreshedUponExpiration = !1), t ? {
                            opacity: 1,
                            mix: 1 - R
                        } : {opacity: R, mix: 0}
                    }
                    return {opacity: 1, mix: 0}
                }

                const Ea = new h.Color(1, 0, 0, 1), ir = new h.Color(0, 1, 0, 1), pr = new h.Color(0, 0, 1, 1),
                    Ma = new h.Color(1, 0, 1, 1), dr = new h.Color(0, 1, 1, 1);

                function xn(a, t, n, o) {
                    _s(a, 0, t + n / 2, a.transform.width, n, o)
                }

                function Aa(a, t, n, o) {
                    _s(a, t - n / 2, 0, n, a.transform.height, o)
                }

                function _s(a, t, n, o, l, p) {
                    const m = a.context, g = m.gl;
                    g.enable(g.SCISSOR_TEST), g.scissor(t * a.pixelRatio, n * a.pixelRatio, o * a.pixelRatio, l * a.pixelRatio), m.clear({color: p}), g.disable(g.SCISSOR_TEST)
                }

                function fl(a, t, n) {
                    const o = a.context, l = o.gl, p = n.posMatrix, m = a.useProgram("debug"), g = Qe.disabled,
                        y = At.disabled, x = a.colorModeForRenderPass(), C = "$debug",
                        S = a.style.map.terrain && a.style.map.terrain.getTerrainData(n);
                    o.activeTexture.set(l.TEXTURE0), a.emptyTexture.bind(l.LINEAR, l.CLAMP_TO_EDGE);
                    const M = t.getTileByID(n.key).latestRawTileData, R = Math.floor((M && M.byteLength || 0) / 1024),
                        B = t.getTile(n).tileSize, P = 512 / Math.min(B, 512) * (n.overscaledZ / a.transform.zoom) * .5;
                    let $ = n.canonical.toString();
                    n.overscaledZ !== n.canonical.z && ($ += ` => ${n.overscaledZ}`), function (H, X) {
                        H.initDebugOverlayCanvas();
                        const U = H.debugOverlayCanvas, J = H.context.gl, te = H.debugOverlayCanvas.getContext("2d");
                        te.clearRect(0, 0, U.width, U.height), te.shadowColor = "white", te.shadowBlur = 2, te.lineWidth = 1.5, te.strokeStyle = "white", te.textBaseline = "top", te.font = "bold 36px Open Sans, sans-serif", te.fillText(X, 5, 5), te.strokeText(X, 5, 5), H.debugOverlayTexture.update(U), H.debugOverlayTexture.bind(J.LINEAR, J.CLAMP_TO_EDGE)
                    }(a, `${$} ${R}kB`), m.draw(o, l.TRIANGLES, g, y, Lt.alphaBlended, wt.disabled, Fn(p, h.Color.transparent, P), null, C, a.debugBuffer, a.quadTriangleIndexBuffer, a.debugSegments), m.draw(o, l.LINE_STRIP, g, y, x, wt.disabled, Fn(p, h.Color.red), S, C, a.debugBuffer, a.tileBorderIndexBuffer, a.debugSegments)
                }

                function go(a, t, n) {
                    const o = a.context, l = o.gl, p = a.colorModeForRenderPass(),
                        m = new Qe(l.LEQUAL, Qe.ReadWrite, a.depthRangeFor3D), g = a.useProgram("terrain"),
                        y = t.getTerrainMesh();
                    o.bindFramebuffer.set(null), o.viewport.set([0, 0, a.width, a.height]);
                    for (const x of n) {
                        const C = a.renderToTexture.getTexture(x), S = t.getTerrainData(x.tileID);
                        o.activeTexture.set(l.TEXTURE0), l.bindTexture(l.TEXTURE_2D, C.texture);
                        const M = {
                            u_matrix: a.transform.calculatePosMatrix(x.tileID.toUnwrapped()),
                            u_texture: 0,
                            u_ele_delta: t.getMeshFrameDelta(a.transform.zoom)
                        };
                        g.draw(o, l.TRIANGLES, m, At.disabled, p, wt.backCCW, M, S, "terrain", y.vertexBuffer, y.indexBuffer, y.segments)
                    }
                }

                const vn = {
                    symbol: function (a, t, n, o, l) {
                        if ("translucent" !== a.renderPass) return;
                        const p = At.disabled, m = a.colorModeForRenderPass();
                        n.layout.get("text-variable-anchor") && function (g, y, x, C, S, M, R) {
                            const B = y.transform, P = "map" === S, $ = "map" === M;
                            for (const H of g) {
                                const X = C.getTile(H), U = X.getBucket(x);
                                if (!U || !U.text || !U.text.segments.get().length) continue;
                                const J = h.evaluateSizeForZoom(U.textSizeData, B.zoom),
                                    te = oe(X, 1, y.transform.zoom), re = Jt(H.posMatrix, $, P, y.transform, te),
                                    ae = "none" !== x.layout.get("icon-text-fit") && U.hasIconData();
                                if (J) {
                                    const ce = Math.pow(2, B.zoom - X.tileID.overscaledZ);
                                    Sa(U, P, $, R, B, re, H.posMatrix, ce, J, ae, y.style.map.terrain ? (ge, de) => y.style.map.terrain.getElevation(H, ge, de) : null)
                                }
                            }
                        }(o, a, n, t, n.layout.get("text-rotation-alignment"), n.layout.get("text-pitch-alignment"), l), 0 !== n.paint.get("icon-opacity").constantOr(1) && Er(a, t, n, o, !1, n.paint.get("icon-translate"), n.paint.get("icon-translate-anchor"), n.layout.get("icon-rotation-alignment"), n.layout.get("icon-pitch-alignment"), n.layout.get("icon-keep-upright"), p, m), 0 !== n.paint.get("text-opacity").constantOr(1) && Er(a, t, n, o, !0, n.paint.get("text-translate"), n.paint.get("text-translate-anchor"), n.layout.get("text-rotation-alignment"), n.layout.get("text-pitch-alignment"), n.layout.get("text-keep-upright"), p, m), t.map.showCollisionBoxes && (uo(a, t, n, o, n.paint.get("text-translate"), n.paint.get("text-translate-anchor"), !0), uo(a, t, n, o, n.paint.get("icon-translate"), n.paint.get("icon-translate-anchor"), !1))
                    }, circle: function (a, t, n, o) {
                        if ("translucent" !== a.renderPass) return;
                        const l = n.paint.get("circle-opacity"), p = n.paint.get("circle-stroke-width"),
                            m = n.paint.get("circle-stroke-opacity"), g = !n.layout.get("circle-sort-key").isConstant();
                        if (0 === l.constantOr(1) && (0 === p.constantOr(1) || 0 === m.constantOr(1))) return;
                        const y = a.context, x = y.gl, C = a.depthModeForSublayer(0, Qe.ReadOnly), S = At.disabled,
                            M = a.colorModeForRenderPass(), R = [];
                        for (let B = 0; B < o.length; B++) {
                            const P = o[B], $ = t.getTile(P), H = $.getBucket(n);
                            if (!H) continue;
                            const X = H.programConfigurations.get(n.id), U = a.useProgram("circle", X),
                                J = H.layoutVertexBuffer, te = H.indexBuffer,
                                re = a.style.map.terrain && a.style.map.terrain.getTerrainData(P), ae = {
                                    programConfiguration: X,
                                    program: U,
                                    layoutVertexBuffer: J,
                                    indexBuffer: te,
                                    uniformValues: Ys(a, P, $, n),
                                    terrainData: re
                                };
                            if (g) {
                                const ce = H.segments.get();
                                for (const ge of ce) R.push({
                                    segments: new h.SegmentVector([ge]),
                                    sortKey: ge.sortKey,
                                    state: ae
                                })
                            } else R.push({segments: H.segments, sortKey: 0, state: ae})
                        }
                        g && R.sort((B, P) => B.sortKey - P.sortKey);
                        for (const B of R) {
                            const {
                                programConfiguration: P,
                                program: $,
                                layoutVertexBuffer: H,
                                indexBuffer: X,
                                uniformValues: U,
                                terrainData: J
                            } = B.state;
                            $.draw(y, x.TRIANGLES, C, S, M, wt.disabled, U, J, n.id, H, X, B.segments, n.paint, a.transform.zoom, P)
                        }
                    }, heatmap: function (a, t, n, o) {
                        if (0 !== n.paint.get("heatmap-opacity")) if ("offscreen" === a.renderPass) {
                            const l = a.context, p = l.gl, m = At.disabled,
                                g = new Lt([p.ONE, p.ONE], h.Color.transparent, [!0, !0, !0, !0]);
                            (function (y, x, C) {
                                const S = y.gl;
                                y.activeTexture.set(S.TEXTURE1), y.viewport.set([0, 0, x.width / 4, x.height / 4]);
                                let M = C.heatmapFbo;
                                if (M) S.bindTexture(S.TEXTURE_2D, M.colorAttachment.get()), y.bindFramebuffer.set(M.framebuffer); else {
                                    const R = S.createTexture();
                                    S.bindTexture(S.TEXTURE_2D, R), S.texParameteri(S.TEXTURE_2D, S.TEXTURE_WRAP_S, S.CLAMP_TO_EDGE), S.texParameteri(S.TEXTURE_2D, S.TEXTURE_WRAP_T, S.CLAMP_TO_EDGE), S.texParameteri(S.TEXTURE_2D, S.TEXTURE_MIN_FILTER, S.LINEAR), S.texParameteri(S.TEXTURE_2D, S.TEXTURE_MAG_FILTER, S.LINEAR), M = C.heatmapFbo = y.createFramebuffer(x.width / 4, x.height / 4, !1), function (B, P, $, H) {
                                        const X = B.gl;
                                        X.texImage2D(X.TEXTURE_2D, 0, X.RGBA, P.width / 4, P.height / 4, 0, X.RGBA, B.extRenderToTextureHalfFloat ? B.extTextureHalfFloat.HALF_FLOAT_OES : X.UNSIGNED_BYTE, null), H.colorAttachment.set($)
                                    }(y, x, R, M)
                                }
                            })(l, a, n), l.clear({color: h.Color.transparent});
                            for (let y = 0; y < o.length; y++) {
                                const x = o[y];
                                if (t.hasRenderableParent(x)) continue;
                                const C = t.getTile(x), S = C.getBucket(n);
                                if (!S) continue;
                                const M = S.programConfigurations.get(n.id),
                                    R = a.useProgram("heatmap", M), {zoom: B} = a.transform;
                                R.draw(l, p.TRIANGLES, Qe.disabled, m, g, wt.disabled, Js(x.posMatrix, C, B, n.paint.get("heatmap-intensity")), null, n.id, S.layoutVertexBuffer, S.indexBuffer, S.segments, n.paint, a.transform.zoom, M)
                            }
                            l.viewport.set([0, 0, a.width, a.height])
                        } else "translucent" === a.renderPass && (a.context.setColorMode(a.colorModeForRenderPass()), function (l, p) {
                            const m = l.context, g = m.gl, y = p.heatmapFbo;
                            if (!y) return;
                            m.activeTexture.set(g.TEXTURE0), g.bindTexture(g.TEXTURE_2D, y.colorAttachment.get()), m.activeTexture.set(g.TEXTURE1);
                            let x = p.colorRampTexture;
                            x || (x = p.colorRampTexture = new St(m, p.colorRamp, g.RGBA)), x.bind(g.LINEAR, g.CLAMP_TO_EDGE), l.useProgram("heatmapTexture").draw(m, g.TRIANGLES, Qe.disabled, At.disabled, l.colorModeForRenderPass(), wt.disabled, ((C, S, M, R) => {
                                const B = h.create();
                                h.ortho(B, 0, C.width, C.height, 0, 0, 1);
                                const P = C.context.gl;
                                return {
                                    u_matrix: B,
                                    u_world: [P.drawingBufferWidth, P.drawingBufferHeight],
                                    u_image: 0,
                                    u_color_ramp: 1,
                                    u_opacity: S.paint.get("heatmap-opacity")
                                }
                            })(l, p), null, p.id, l.viewportBuffer, l.quadTriangleIndexBuffer, l.viewportSegments, p.paint, l.transform.zoom)
                        }(a, n))
                    }, line: function (a, t, n, o) {
                        if ("translucent" !== a.renderPass) return;
                        const l = n.paint.get("line-opacity"), p = n.paint.get("line-width");
                        if (0 === l.constantOr(1) || 0 === p.constantOr(1)) return;
                        const m = a.depthModeForSublayer(0, Qe.ReadOnly), g = a.colorModeForRenderPass(),
                            y = n.paint.get("line-dasharray"), x = n.paint.get("line-pattern"), C = x.constantOr(1),
                            S = n.paint.get("line-gradient"), M = n.getCrossfadeParameters(),
                            R = C ? "linePattern" : y ? "lineSDF" : S ? "lineGradient" : "line", B = a.context,
                            P = B.gl;
                        let $ = !0;
                        for (const H of o) {
                            const X = t.getTile(H);
                            if (C && !X.patternsLoaded()) continue;
                            const U = X.getBucket(n);
                            if (!U) continue;
                            const J = U.programConfigurations.get(n.id), te = a.context.program.get(),
                                re = a.useProgram(R, J), ae = $ || re.program !== te,
                                ce = a.style.map.terrain && a.style.map.terrain.getTerrainData(H),
                                ge = x.constantOr(null);
                            if (ge && X.imageAtlas) {
                                const Ae = X.imageAtlas, qe = Ae.patternPositions[ge.to.toString()],
                                    We = Ae.patternPositions[ge.from.toString()];
                                qe && We && J.setConstantPatternPositions(qe, We)
                            }
                            const de = ce ? H : null,
                                ye = C ? ss(a, X, n, M, de) : y ? ha(a, X, n, y, M, de) : S ? Qs(a, X, n, U.lineClipsArray.length, de) : On(a, X, n, de);
                            if (C) B.activeTexture.set(P.TEXTURE0), X.imageAtlasTexture.bind(P.LINEAR, P.CLAMP_TO_EDGE), J.updatePaintBuffers(M); else if (y && (ae || a.lineAtlas.dirty)) B.activeTexture.set(P.TEXTURE0), a.lineAtlas.bind(B); else if (S) {
                                const Ae = U.gradients[n.id];
                                let qe = Ae.texture;
                                if (n.gradientVersion !== Ae.version) {
                                    let We = 256;
                                    if (n.stepInterpolant) {
                                        const ze = t.getSource().maxzoom,
                                            ht = H.canonical.z === ze ? Math.ceil(1 << a.transform.maxZoom - H.canonical.z) : 1;
                                        We = h.clamp(h.nextPowerOfTwo(U.maxLineLength / h.EXTENT * 1024 * ht), 256, B.maxTextureSize)
                                    }
                                    Ae.gradient = h.renderColorRamp({
                                        expression: n.gradientExpression(),
                                        evaluationKey: "lineProgress",
                                        resolution: We,
                                        image: Ae.gradient || void 0,
                                        clips: U.lineClipsArray
                                    }), Ae.texture ? Ae.texture.update(Ae.gradient) : Ae.texture = new St(B, Ae.gradient, P.RGBA), Ae.version = n.gradientVersion, qe = Ae.texture
                                }
                                B.activeTexture.set(P.TEXTURE0), qe.bind(n.stepInterpolant ? P.NEAREST : P.LINEAR, P.CLAMP_TO_EDGE)
                            }
                            re.draw(B, P.TRIANGLES, m, a.stencilModeForClipping(H), g, wt.disabled, ye, ce, n.id, U.layoutVertexBuffer, U.indexBuffer, U.segments, n.paint, a.transform.zoom, J, U.layoutVertexBuffer2), $ = !1
                        }
                    }, fill: function (a, t, n, o) {
                        const l = n.paint.get("fill-color"), p = n.paint.get("fill-opacity");
                        if (0 === p.constantOr(1)) return;
                        const m = a.colorModeForRenderPass(), g = n.paint.get("fill-pattern"),
                            y = a.opaquePassEnabledForLayer() && !g.constantOr(1) && 1 === l.constantOr(h.Color.transparent).a && 1 === p.constantOr(0) ? "opaque" : "translucent";
                        if (a.renderPass === y) {
                            const x = a.depthModeForSublayer(1, "opaque" === a.renderPass ? Qe.ReadWrite : Qe.ReadOnly);
                            fo(a, t, n, o, x, m, !1)
                        }
                        if ("translucent" === a.renderPass && n.paint.get("fill-antialias")) {
                            const x = a.depthModeForSublayer(n.getPaintProperty("fill-outline-color") ? 2 : 0, Qe.ReadOnly);
                            fo(a, t, n, o, x, m, !0)
                        }
                    }, "fill-extrusion": function (a, t, n, o) {
                        const l = n.paint.get("fill-extrusion-opacity");
                        if (0 !== l && "translucent" === a.renderPass) {
                            const p = new Qe(a.context.gl.LEQUAL, Qe.ReadWrite, a.depthRangeFor3D);
                            if (1 !== l || n.paint.get("fill-extrusion-pattern").constantOr(1)) gs(a, t, n, o, p, At.disabled, Lt.disabled), gs(a, t, n, o, p, a.stencilModeFor3D(), a.colorModeForRenderPass()); else {
                                const m = a.colorModeForRenderPass();
                                gs(a, t, n, o, p, At.disabled, m)
                            }
                        }
                    }, hillshade: function (a, t, n, o) {
                        if ("offscreen" !== a.renderPass && "translucent" !== a.renderPass) return;
                        const l = a.context, p = a.depthModeForSublayer(0, Qe.ReadOnly),
                            m = a.colorModeForRenderPass(), [g, y] = "translucent" === a.renderPass ? a.stencilConfigForOverlap(o) : [{}, o];
                        for (const x of y) {
                            const C = t.getTile(x);
                            void 0 !== C.needsHillshadePrepare && C.needsHillshadePrepare && "offscreen" === a.renderPass ? Ia(a, C, n, p, At.disabled, m) : "translucent" === a.renderPass && Ta(a, x, C, n, p, g[x.overscaledZ], m)
                        }
                        l.viewport.set([0, 0, a.width, a.height])
                    }, raster: function (a, t, n, o) {
                        if ("translucent" !== a.renderPass || 0 === n.paint.get("raster-opacity") || !o.length) return;
                        const l = a.context, p = l.gl, m = t.getSource(), g = a.useProgram("raster"),
                            y = a.colorModeForRenderPass(), [x, C] = m instanceof pe ? [{}, o] : a.stencilConfigForOverlap(o),
                            S = C[C.length - 1].overscaledZ, M = !a.options.moving;
                        for (const R of C) {
                            const B = a.depthModeForSublayer(R.overscaledZ - S, 1 === n.paint.get("raster-opacity") ? Qe.ReadWrite : Qe.ReadOnly, p.LESS),
                                P = t.getTile(R);
                            P.registerFadeDuration(n.paint.get("raster-fade-duration"));
                            const $ = t.findLoadedParent(R, 0), H = Vn(P, $, t, n, a.transform, a.style.map.terrain);
                            let X, U;
                            const J = "nearest" === n.paint.get("raster-resampling") ? p.NEAREST : p.LINEAR;
                            l.activeTexture.set(p.TEXTURE0), P.texture.bind(J, p.CLAMP_TO_EDGE, p.LINEAR_MIPMAP_NEAREST), l.activeTexture.set(p.TEXTURE1), $ ? ($.texture.bind(J, p.CLAMP_TO_EDGE, p.LINEAR_MIPMAP_NEAREST), X = Math.pow(2, $.tileID.overscaledZ - P.tileID.overscaledZ), U = [P.tileID.canonical.x * X % 1, P.tileID.canonical.y * X % 1]) : P.texture.bind(J, p.CLAMP_TO_EDGE, p.LINEAR_MIPMAP_NEAREST);
                            const te = a.style.map.terrain && a.style.map.terrain.getTerrainData(R), re = te ? R : null,
                                ae = re ? re.posMatrix : a.transform.calculatePosMatrix(R.toUnwrapped(), M),
                                ce = sl(ae, U || [0, 0], X || 1, H, n);
                            m instanceof pe ? g.draw(l, p.TRIANGLES, B, At.disabled, y, wt.disabled, ce, te, n.id, m.boundsBuffer, a.quadTriangleIndexBuffer, m.boundsSegments) : g.draw(l, p.TRIANGLES, B, x[R.overscaledZ], y, wt.disabled, ce, te, n.id, a.rasterBoundsBuffer, a.quadTriangleIndexBuffer, a.rasterBoundsSegments)
                        }
                    }, background: function (a, t, n, o) {
                        const l = n.paint.get("background-color"), p = n.paint.get("background-opacity");
                        if (0 === p) return;
                        const m = a.context, g = m.gl, y = a.transform, x = y.tileSize,
                            C = n.paint.get("background-pattern");
                        if (a.isPatternMissing(C)) return;
                        const S = !C && 1 === l.a && 1 === p && a.opaquePassEnabledForLayer() ? "opaque" : "translucent";
                        if (a.renderPass !== S) return;
                        const M = At.disabled,
                            R = a.depthModeForSublayer(0, "opaque" === S ? Qe.ReadWrite : Qe.ReadOnly),
                            B = a.colorModeForRenderPass(), P = a.useProgram(C ? "backgroundPattern" : "background"),
                            $ = o || y.coveringTiles({tileSize: x, terrain: a.style.map.terrain});
                        C && (m.activeTexture.set(g.TEXTURE0), a.imageManager.bind(a.context));
                        const H = n.getCrossfadeParameters();
                        for (const X of $) {
                            const U = o ? X.posMatrix : a.transform.calculatePosMatrix(X.toUnwrapped()),
                                J = C ? to(U, p, a, C, {tileID: X, tileSize: x}, H) : ll(U, p, l),
                                te = a.style.map.terrain && a.style.map.terrain.getTerrainData(X);
                            P.draw(m, g.TRIANGLES, R, M, B, wt.disabled, J, te, n.id, a.tileExtentBuffer, a.quadTriangleIndexBuffer, a.tileExtentSegments)
                        }
                    }, debug: function (a, t, n) {
                        for (let o = 0; o < n.length; o++) fl(a, t, n[o])
                    }, custom: function (a, t, n) {
                        const o = a.context, l = n.implementation;
                        if ("offscreen" === a.renderPass) {
                            const p = l.prerender;
                            p && (a.setCustomLayerDefaults(), o.setColorMode(a.colorModeForRenderPass()), p.call(l, o.gl, a.transform.customLayerMatrix()), o.setDirty(), a.setBaseState())
                        } else if ("translucent" === a.renderPass) {
                            a.setCustomLayerDefaults(), o.setColorMode(a.colorModeForRenderPass()), o.setStencilMode(At.disabled);
                            const p = "3d" === l.renderingMode ? new Qe(a.context.gl.LEQUAL, Qe.ReadWrite, a.depthRangeFor3D) : a.depthModeForSublayer(0, Qe.ReadOnly);
                            o.setDepthMode(p), l.render(o.gl, a.transform.customLayerMatrix()), o.setDirty(), a.setBaseState(), o.bindFramebuffer.set(null)
                        }
                    }
                };

                class Mr {
                    constructor(t, n) {
                        this.context = new ms(t), this.transform = n, this._tileTextures = {}, this.terrainFacilitator = {
                            dirty: !0,
                            matrix: h.create(),
                            renderTime: 0
                        }, this.setup(), this.numSublayers = $e.maxUnderzooming + $e.maxOverzooming + 1, this.depthEpsilon = 1 / Math.pow(2, 16), this.crossTileSymbolIndex = new Mt, this.gpuTimers = {}
                    }

                    resize(t, n, o) {
                        if (this.width = t * o, this.height = n * o, this.pixelRatio = o, this.context.viewport.set([0, 0, this.width, this.height]), this.style) for (const l of this.style._order) this.style._layers[l].resize()
                    }

                    setup() {
                        const t = this.context, n = new h.PosArray;
                        n.emplaceBack(0, 0), n.emplaceBack(h.EXTENT, 0), n.emplaceBack(0, h.EXTENT), n.emplaceBack(h.EXTENT, h.EXTENT), this.tileExtentBuffer = t.createVertexBuffer(n, ts.members), this.tileExtentSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2);
                        const o = new h.PosArray;
                        o.emplaceBack(0, 0), o.emplaceBack(h.EXTENT, 0), o.emplaceBack(0, h.EXTENT), o.emplaceBack(h.EXTENT, h.EXTENT), this.debugBuffer = t.createVertexBuffer(o, ts.members), this.debugSegments = h.SegmentVector.simpleSegment(0, 0, 4, 5);
                        const l = new h.RasterBoundsArray;
                        l.emplaceBack(0, 0, 0, 0), l.emplaceBack(h.EXTENT, 0, h.EXTENT, 0), l.emplaceBack(0, h.EXTENT, 0, h.EXTENT), l.emplaceBack(h.EXTENT, h.EXTENT, h.EXTENT, h.EXTENT), this.rasterBoundsBuffer = t.createVertexBuffer(l, xe.members), this.rasterBoundsSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2);
                        const p = new h.PosArray;
                        p.emplaceBack(0, 0), p.emplaceBack(1, 0), p.emplaceBack(0, 1), p.emplaceBack(1, 1), this.viewportBuffer = t.createVertexBuffer(p, ts.members), this.viewportSegments = h.SegmentVector.simpleSegment(0, 0, 4, 2);
                        const m = new h.LineStripIndexArray;
                        m.emplaceBack(0), m.emplaceBack(1), m.emplaceBack(3), m.emplaceBack(2), m.emplaceBack(0), this.tileBorderIndexBuffer = t.createIndexBuffer(m);
                        const g = new h.TriangleIndexArray;
                        g.emplaceBack(0, 1, 2), g.emplaceBack(2, 1, 3), this.quadTriangleIndexBuffer = t.createIndexBuffer(g), this.emptyTexture = new St(t, {
                            width: 1,
                            height: 1,
                            data: new Uint8Array([0, 0, 0, 0])
                        }, t.gl.RGBA);
                        const y = this.context.gl;
                        this.stencilClearMode = new At({func: y.ALWAYS, mask: 0}, 0, 255, y.ZERO, y.ZERO, y.ZERO)
                    }

                    clearStencil() {
                        const t = this.context, n = t.gl;
                        this.nextStencilID = 1, this.currentStencilSource = void 0;
                        const o = h.create();
                        h.ortho(o, 0, this.width, this.height, 0, 0, 1), h.scale(o, o, [n.drawingBufferWidth, n.drawingBufferHeight, 0]), this.useProgram("clippingMask").draw(t, n.TRIANGLES, Qe.disabled, this.stencilClearMode, Lt.disabled, wt.disabled, rs(o), null, "$clipping", this.viewportBuffer, this.quadTriangleIndexBuffer, this.viewportSegments)
                    }

                    _renderTileClippingMasks(t, n) {
                        if (this.currentStencilSource === t.source || !t.isTileClipped() || !n || !n.length) return;
                        this.currentStencilSource = t.source;
                        const o = this.context, l = o.gl;
                        this.nextStencilID + n.length > 256 && this.clearStencil(), o.setColorMode(Lt.disabled), o.setDepthMode(Qe.disabled);
                        const p = this.useProgram("clippingMask");
                        this._tileClippingMaskIDs = {};
                        for (const m of n) {
                            const g = this._tileClippingMaskIDs[m.key] = this.nextStencilID++,
                                y = this.style.map.terrain && this.style.map.terrain.getTerrainData(m);
                            p.draw(o, l.TRIANGLES, Qe.disabled, new At({
                                func: l.ALWAYS,
                                mask: 0
                            }, g, 255, l.KEEP, l.KEEP, l.REPLACE), Lt.disabled, wt.disabled, rs(m.posMatrix), y, "$clipping", this.tileExtentBuffer, this.quadTriangleIndexBuffer, this.tileExtentSegments)
                        }
                    }

                    stencilModeFor3D() {
                        this.currentStencilSource = void 0, this.nextStencilID + 1 > 256 && this.clearStencil();
                        const t = this.nextStencilID++, n = this.context.gl;
                        return new At({func: n.NOTEQUAL, mask: 255}, t, 255, n.KEEP, n.KEEP, n.REPLACE)
                    }

                    stencilModeForClipping(t) {
                        const n = this.context.gl;
                        return new At({
                            func: n.EQUAL,
                            mask: 255
                        }, this._tileClippingMaskIDs[t.key], 0, n.KEEP, n.KEEP, n.REPLACE)
                    }

                    stencilConfigForOverlap(t) {
                        const n = this.context.gl, o = t.sort((m, g) => g.overscaledZ - m.overscaledZ),
                            l = o[o.length - 1].overscaledZ, p = o[0].overscaledZ - l + 1;
                        if (p > 1) {
                            this.currentStencilSource = void 0, this.nextStencilID + p > 256 && this.clearStencil();
                            const m = {};
                            for (let g = 0; g < p; g++) m[g + l] = new At({
                                func: n.GEQUAL,
                                mask: 255
                            }, g + this.nextStencilID, 255, n.KEEP, n.KEEP, n.REPLACE);
                            return this.nextStencilID += p, [m, o]
                        }
                        return [{[l]: At.disabled}, o]
                    }

                    colorModeForRenderPass() {
                        const t = this.context.gl;
                        return this._showOverdrawInspector ? new Lt([t.CONSTANT_COLOR, t.ONE], new h.Color(.125, .125, .125, 0), [!0, !0, !0, !0]) : "opaque" === this.renderPass ? Lt.unblended : Lt.alphaBlended
                    }

                    depthModeForSublayer(t, n, o) {
                        if (!this.opaquePassEnabledForLayer()) return Qe.disabled;
                        const l = 1 - ((1 + this.currentLayer) * this.numSublayers + t) * this.depthEpsilon;
                        return new Qe(o || this.context.gl.LEQUAL, n, [l, l])
                    }

                    opaquePassEnabledForLayer() {
                        return this.currentLayer < this.opaquePassCutoff
                    }

                    render(t, n) {
                        this.style = t, this.options = n, this.lineAtlas = t.lineAtlas, this.imageManager = t.imageManager, this.glyphManager = t.glyphManager, this.symbolFadeChange = t.placement.symbolFadeChange(h.exported.now()), this.imageManager.beginFrame();
                        const o = this.style._order, l = this.style.sourceCaches, p = {}, m = {}, g = {};
                        for (const y in l) {
                            const x = l[y];
                            x.used && x.prepare(this.context), p[y] = x.getVisibleCoordinates(), m[y] = p[y].slice().reverse(), g[y] = x.getVisibleCoordinates(!0).reverse()
                        }
                        this.opaquePassCutoff = 1 / 0;
                        for (let y = 0; y < o.length; y++) if (this.style._layers[o[y]].is3D()) {
                            this.opaquePassCutoff = y;
                            break
                        }
                        if (this.renderToTexture) {
                            this.renderToTexture.prepareForRender(this.style, this.transform.zoom), this.opaquePassCutoff = 0;
                            const y = this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);
                            (this.terrainFacilitator.dirty || !h.equals(this.terrainFacilitator.matrix, this.transform.projMatrix) || y.length) && (h.copy(this.terrainFacilitator.matrix, this.transform.projMatrix), this.terrainFacilitator.renderTime = Date.now(), this.terrainFacilitator.dirty = !1, function (x, C) {
                                const S = x.context, M = S.gl, R = Lt.unblended,
                                    B = new Qe(M.LEQUAL, Qe.ReadWrite, [0, 1]), P = C.getTerrainMesh(),
                                    $ = C.sourceCache.getRenderableTiles(), H = x.useProgram("terrainDepth");
                                S.bindFramebuffer.set(C.getFramebuffer("depth").framebuffer), S.viewport.set([0, 0, x.width / devicePixelRatio, x.height / devicePixelRatio]), S.clear({
                                    color: h.Color.transparent,
                                    depth: 1
                                });
                                for (const X of $) {
                                    const U = C.getTerrainData(X.tileID), J = {
                                        u_matrix: x.transform.calculatePosMatrix(X.tileID.toUnwrapped()),
                                        u_ele_delta: C.getMeshFrameDelta(x.transform.zoom)
                                    };
                                    H.draw(S, M.TRIANGLES, B, At.disabled, R, wt.backCCW, J, U, "terrain", P.vertexBuffer, P.indexBuffer, P.segments)
                                }
                                S.bindFramebuffer.set(null), S.viewport.set([0, 0, x.width, x.height])
                            }(this, this.style.map.terrain), function (x, C) {
                                const S = x.context, M = S.gl, R = Lt.unblended,
                                    B = new Qe(M.LEQUAL, Qe.ReadWrite, [0, 1]), P = C.getTerrainMesh(),
                                    $ = C.getCoordsTexture(), H = C.sourceCache.getRenderableTiles(),
                                    X = x.useProgram("terrainCoords");
                                S.bindFramebuffer.set(C.getFramebuffer("coords").framebuffer), S.viewport.set([0, 0, x.width / devicePixelRatio, x.height / devicePixelRatio]), S.clear({
                                    color: h.Color.transparent,
                                    depth: 1
                                }), C.coordsIndex = [];
                                for (const U of H) {
                                    const J = C.getTerrainData(U.tileID);
                                    S.activeTexture.set(M.TEXTURE0), M.bindTexture(M.TEXTURE_2D, $.texture);
                                    const te = {
                                        u_matrix: x.transform.calculatePosMatrix(U.tileID.toUnwrapped()),
                                        u_terrain_coords_id: (255 - C.coordsIndex.length) / 255,
                                        u_texture: 0,
                                        u_ele_delta: C.getMeshFrameDelta(x.transform.zoom)
                                    };
                                    X.draw(S, M.TRIANGLES, B, At.disabled, R, wt.backCCW, te, J, "terrain", P.vertexBuffer, P.indexBuffer, P.segments), C.coordsIndex.push(U.tileID.key)
                                }
                                S.bindFramebuffer.set(null), S.viewport.set([0, 0, x.width, x.height])
                            }(this, this.style.map.terrain))
                        }
                        this.renderPass = "offscreen";
                        for (const y of o) {
                            const x = this.style._layers[y];
                            if (!x.hasOffscreenPass() || x.isHidden(this.transform.zoom)) continue;
                            const C = m[x.source];
                            ("custom" === x.type || C.length) && this.renderLayer(this, l[x.source], x, C)
                        }
                        if (this.context.bindFramebuffer.set(null), this.context.clear({
                            color: n.showOverdrawInspector ? h.Color.black : h.Color.transparent,
                            depth: 1
                        }), this.clearStencil(), this._showOverdrawInspector = n.showOverdrawInspector, this.depthRangeFor3D = [0, 1 - (t._order.length + 2) * this.numSublayers * this.depthEpsilon], !this.renderToTexture) for (this.renderPass = "opaque", this.currentLayer = o.length - 1; this.currentLayer >= 0; this.currentLayer--) {
                            const y = this.style._layers[o[this.currentLayer]], x = l[y.source], C = p[y.source];
                            this._renderTileClippingMasks(y, C), this.renderLayer(this, x, y, C)
                        }
                        for (this.renderPass = "translucent", this.currentLayer = 0; this.currentLayer < o.length; this.currentLayer++) {
                            const y = this.style._layers[o[this.currentLayer]], x = l[y.source];
                            if (this.renderToTexture && this.renderToTexture.renderLayer(y)) continue;
                            const C = ("symbol" === y.type ? g : m)[y.source];
                            this._renderTileClippingMasks(y, p[y.source]), this.renderLayer(this, x, y, C)
                        }
                        if (this.options.showTileBoundaries) {
                            const y = function (x, C) {
                                let S = null;
                                const M = Object.values(x._layers).flatMap($ => $.source && !$.isHidden(C) ? [x.sourceCaches[$.source]] : []),
                                    R = M.filter($ => "vector" === $.getSource().type),
                                    B = M.filter($ => "vector" !== $.getSource().type), P = $ => {
                                        (!S || S.getSource().maxzoom < $.getSource().maxzoom) && (S = $)
                                    };
                                return R.forEach($ => P($)), S || B.forEach($ => P($)), S
                            }(this.style, this.transform.zoom);
                            y && vn.debug(this, y, y.getVisibleCoordinates())
                        }
                        this.options.showPadding && function (y) {
                            const x = y.transform.padding;
                            xn(y, y.transform.height - (x.top || 0), 3, Ea), xn(y, x.bottom || 0, 3, ir), Aa(y, x.left || 0, 3, pr), Aa(y, y.transform.width - (x.right || 0), 3, Ma);
                            const C = y.transform.centerPoint;
                            var S, M, R, B;
                            _s(S = y, (M = C.x) - 1, (R = y.transform.height - C.y) - 10, 2, 20, B = dr), _s(S, M - 10, R - 1, 20, 2, B)
                        }(this), this.context.setDefault()
                    }

                    renderLayer(t, n, o, l) {
                        o.isHidden(this.transform.zoom) || ("background" === o.type || "custom" === o.type || (l || []).length) && (this.id = o.id, this.gpuTimingStart(o), vn[o.type](t, n, o, l, this.style.placement.variableOffsets), this.gpuTimingEnd())
                    }

                    gpuTimingStart(t) {
                        if (!this.options.gpuTiming) return;
                        const n = this.context.extTimerQuery;
                        let o = this.gpuTimers[t.id];
                        o || (o = this.gpuTimers[t.id] = {
                            calls: 0,
                            cpuTime: 0,
                            query: n.createQueryEXT()
                        }), o.calls++, n.beginQueryEXT(n.TIME_ELAPSED_EXT, o.query)
                    }

                    gpuTimingEnd() {
                        if (!this.options.gpuTiming) return;
                        const t = this.context.extTimerQuery;
                        t.endQueryEXT(t.TIME_ELAPSED_EXT)
                    }

                    collectGpuTimers() {
                        const t = this.gpuTimers;
                        return this.gpuTimers = {}, t
                    }

                    queryGpuTimers(t) {
                        const n = {};
                        for (const o in t) {
                            const l = t[o], p = this.context.extTimerQuery,
                                m = p.getQueryObjectEXT(l.query, p.QUERY_RESULT_EXT) / 1e6;
                            p.deleteQueryEXT(l.query), n[o] = m
                        }
                        return n
                    }

                    translatePosMatrix(t, n, o, l, p) {
                        if (!o[0] && !o[1]) return t;
                        const m = p ? "map" === l ? this.transform.angle : 0 : "viewport" === l ? -this.transform.angle : 0;
                        if (m) {
                            const x = Math.sin(m), C = Math.cos(m);
                            o = [o[0] * C - o[1] * x, o[0] * x + o[1] * C]
                        }
                        const g = [p ? o[0] : oe(n, o[0], this.transform.zoom), p ? o[1] : oe(n, o[1], this.transform.zoom), 0],
                            y = new Float32Array(16);
                        return h.translate(y, t, g), y
                    }

                    saveTileTexture(t) {
                        const n = this._tileTextures[t.size[0]];
                        n ? n.push(t) : this._tileTextures[t.size[0]] = [t]
                    }

                    getTileTexture(t) {
                        const n = this._tileTextures[t];
                        return n && n.length > 0 ? n.pop() : null
                    }

                    isPatternMissing(t) {
                        if (!t) return !1;
                        if (!t.from || !t.to) return !0;
                        const n = this.imageManager.getPattern(t.from.toString()),
                            o = this.imageManager.getPattern(t.to.toString());
                        return !n || !o
                    }

                    useProgram(t, n) {
                        this.cache = this.cache || {};
                        const o = t + (n ? n.cacheKey : "") + (this._showOverdrawInspector ? "/overdraw" : "") + (this.style.map.terrain ? "/terrain" : "");
                        return this.cache[o] || (this.cache[o] = new Ws(this.context, t, Rn[t], n, os[t], this._showOverdrawInspector, this.style.map.terrain)), this.cache[o]
                    }

                    setCustomLayerDefaults() {
                        this.context.unbindVAO(), this.context.cullFace.setDefault(), this.context.activeTexture.setDefault(), this.context.pixelStoreUnpack.setDefault(), this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.context.pixelStoreUnpackFlipY.setDefault()
                    }

                    setBaseState() {
                        const t = this.context.gl;
                        this.context.cullFace.set(!1), this.context.viewport.set([0, 0, this.width, this.height]), this.context.blendEquation.set(t.FUNC_ADD)
                    }

                    initDebugOverlayCanvas() {
                        null == this.debugOverlayCanvas && (this.debugOverlayCanvas = document.createElement("canvas"), this.debugOverlayCanvas.width = 512, this.debugOverlayCanvas.height = 512, this.debugOverlayTexture = new St(this.context, this.debugOverlayCanvas, this.context.gl.RGBA))
                    }

                    destroy() {
                        this.emptyTexture.destroy(), this.debugOverlayTexture && this.debugOverlayTexture.destroy()
                    }
                }

                class Me {
                    constructor(t, n) {
                        this.points = t, this.planes = n
                    }

                    static fromInvProjectionMatrix(t, n, o) {
                        const l = Math.pow(2, o),
                            p = [[-1, 1, -1, 1], [1, 1, -1, 1], [1, -1, -1, 1], [-1, -1, -1, 1], [-1, 1, 1, 1], [1, 1, 1, 1], [1, -1, 1, 1], [-1, -1, 1, 1]].map(g => {
                                const y = 1 / (g = h.transformMat4([], g, t))[3] / n * l;
                                return h.mul$1(g, g, [y, y, 1 / g[3], y])
                            }), m = [[0, 1, 2], [6, 5, 4], [0, 3, 7], [2, 1, 5], [3, 2, 6], [0, 4, 5]].map(g => {
                                const y = function (M, R) {
                                        var B = R[0], P = R[1], $ = R[2], H = B * B + P * P + $ * $;
                                        return H > 0 && (H = 1 / Math.sqrt(H)), M[0] = R[0] * H, M[1] = R[1] * H, M[2] = R[2] * H, M
                                    }([], (M = [], R = er([], p[g[0]], p[g[1]]), B = er([], p[g[2]], p[g[1]]), P = R[0], X = B[0], M[0] = ($ = R[1]) * (J = B[2]) - (H = R[2]) * (U = B[1]), M[1] = H * X - P * J, M[2] = P * U - $ * X, M)),
                                    x = -((C = y)[0] * (S = p[g[1]])[0] + C[1] * S[1] + C[2] * S[2]);
                                var M, R, B, P, $, H, X, U, J, C, S;
                                return y.concat(x)
                            });
                        return new Me(p, m)
                    }
                }

                class Nn {
                    constructor(t, n) {
                        var o, l, p;
                        this.min = t, this.max = n, this.center = function (o, l, p) {
                            return o[0] = .5 * l[0], o[1] = .5 * l[1], o[2] = .5 * l[2], o
                        }([], ((o = [])[0] = (l = this.min)[0] + (p = this.max)[0], o[1] = l[1] + p[1], o[2] = l[2] + p[2], o))
                    }

                    quadrant(t) {
                        const n = [t % 2 == 0, t < 2], o = Rr(this.min), l = Rr(this.max);
                        for (let p = 0; p < n.length; p++) o[p] = n[p] ? this.min[p] : this.center[p], l[p] = n[p] ? this.center[p] : this.max[p];
                        return l[2] = this.max[2], new Nn(o, l)
                    }

                    distanceX(t) {
                        return Math.max(Math.min(this.max[0], t[0]), this.min[0]) - t[0]
                    }

                    distanceY(t) {
                        return Math.max(Math.min(this.max[1], t[1]), this.min[1]) - t[1]
                    }

                    intersects(t) {
                        const n = [[this.min[0], this.min[1], this.min[2], 1], [this.max[0], this.min[1], this.min[2], 1], [this.max[0], this.max[1], this.min[2], 1], [this.min[0], this.max[1], this.min[2], 1], [this.min[0], this.min[1], this.max[2], 1], [this.max[0], this.min[1], this.max[2], 1], [this.max[0], this.max[1], this.max[2], 1], [this.min[0], this.max[1], this.max[2], 1]];
                        let o = !0;
                        for (let l = 0; l < t.planes.length; l++) {
                            const p = t.planes[l];
                            let m = 0;
                            for (let g = 0; g < n.length; g++) h.dot(p, n[g]) >= 0 && m++;
                            if (0 === m) return 0;
                            m !== n.length && (o = !1)
                        }
                        if (o) return 2;
                        for (let l = 0; l < 3; l++) {
                            let p = Number.MAX_VALUE, m = -Number.MAX_VALUE;
                            for (let g = 0; g < t.points.length; g++) {
                                const y = t.points[g][l] - this.min[l];
                                p = Math.min(p, y), m = Math.max(m, y)
                            }
                            if (m < 0 || p > this.max[l] - this.min[l]) return 0
                        }
                        return 1
                    }
                }

                class Xr {
                    constructor(t = 0, n = 0, o = 0, l = 0) {
                        if (isNaN(t) || t < 0 || isNaN(n) || n < 0 || isNaN(o) || o < 0 || isNaN(l) || l < 0) throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");
                        this.top = t, this.bottom = n, this.left = o, this.right = l
                    }

                    interpolate(t, n, o) {
                        return null != n.top && null != t.top && (this.top = h.number(t.top, n.top, o)), null != n.bottom && null != t.bottom && (this.bottom = h.number(t.bottom, n.bottom, o)), null != n.left && null != t.left && (this.left = h.number(t.left, n.left, o)), null != n.right && null != t.right && (this.right = h.number(t.right, n.right, o)), this
                    }

                    getCenter(t, n) {
                        const o = h.clamp((this.left + t - this.right) / 2, 0, t),
                            l = h.clamp((this.top + n - this.bottom) / 2, 0, n);
                        return new h.pointGeometry(o, l)
                    }

                    equals(t) {
                        return this.top === t.top && this.bottom === t.bottom && this.left === t.left && this.right === t.right
                    }

                    clone() {
                        return new Xr(this.top, this.bottom, this.left, this.right)
                    }

                    toJSON() {
                        return {top: this.top, bottom: this.bottom, left: this.left, right: this.right}
                    }
                }

                class Wr {
                    constructor(t, n, o, l, p) {
                        this.tileSize = 512, this.maxValidLatitude = 85.051129, this.freezeElevation = !1, this._renderWorldCopies = void 0 === p || !!p, this._minZoom = t || 0, this._maxZoom = n || 22, this._minPitch = o ?? 0, this._maxPitch = l ?? 60, this.setMaxBounds(), this.width = 0, this.height = 0, this._center = new h.LngLat(0, 0), this._elevation = 0, this.zoom = 0, this.angle = 0, this._fov = .6435011087932844, this._pitch = 0, this._unmodified = !0, this._edgeInsets = new Xr, this._posMatrixCache = {}, this._alignedPosMatrixCache = {}
                    }

                    clone() {
                        const t = new Wr(this._minZoom, this._maxZoom, this._minPitch, this.maxPitch, this._renderWorldCopies);
                        return t.tileSize = this.tileSize, t.latRange = this.latRange, t.width = this.width, t.height = this.height, t._center = this._center, t._elevation = this._elevation, t.zoom = this.zoom, t.angle = this.angle, t._fov = this._fov, t._pitch = this._pitch, t._unmodified = this._unmodified, t._edgeInsets = this._edgeInsets.clone(), t._calcMatrices(), t
                    }

                    get minZoom() {
                        return this._minZoom
                    }

                    set minZoom(t) {
                        this._minZoom !== t && (this._minZoom = t, this.zoom = Math.max(this.zoom, t))
                    }

                    get maxZoom() {
                        return this._maxZoom
                    }

                    set maxZoom(t) {
                        this._maxZoom !== t && (this._maxZoom = t, this.zoom = Math.min(this.zoom, t))
                    }

                    get minPitch() {
                        return this._minPitch
                    }

                    set minPitch(t) {
                        this._minPitch !== t && (this._minPitch = t, this.pitch = Math.max(this.pitch, t))
                    }

                    get maxPitch() {
                        return this._maxPitch
                    }

                    set maxPitch(t) {
                        this._maxPitch !== t && (this._maxPitch = t, this.pitch = Math.min(this.pitch, t))
                    }

                    get renderWorldCopies() {
                        return this._renderWorldCopies
                    }

                    set renderWorldCopies(t) {
                        void 0 === t ? t = !0 : null === t && (t = !1), this._renderWorldCopies = t
                    }

                    get worldSize() {
                        return this.tileSize * this.scale
                    }

                    get centerOffset() {
                        return this.centerPoint._sub(this.size._div(2))
                    }

                    get size() {
                        return new h.pointGeometry(this.width, this.height)
                    }

                    get bearing() {
                        return -this.angle / Math.PI * 180
                    }

                    set bearing(t) {
                        const n = -h.wrap(t, -180, 180) * Math.PI / 180;
                        var o;
                        this.angle !== n && (this._unmodified = !1, this.angle = n, this._calcMatrices(), this.rotationMatrix = (o = new h.ARRAY_TYPE(4), h.ARRAY_TYPE != Float32Array && (o[1] = 0, o[2] = 0), o[0] = 1, o[3] = 1, o), function (o, l, p) {
                            var m = l[0], g = l[1], y = l[2], x = l[3], C = Math.sin(p), S = Math.cos(p);
                            o[0] = m * S + y * C, o[1] = g * S + x * C, o[2] = m * -C + y * S, o[3] = g * -C + x * S
                        }(this.rotationMatrix, this.rotationMatrix, this.angle))
                    }

                    get pitch() {
                        return this._pitch / Math.PI * 180
                    }

                    set pitch(t) {
                        const n = h.clamp(t, this.minPitch, this.maxPitch) / 180 * Math.PI;
                        this._pitch !== n && (this._unmodified = !1, this._pitch = n, this._calcMatrices())
                    }

                    get fov() {
                        return this._fov / Math.PI * 180
                    }

                    set fov(t) {
                        t = Math.max(.01, Math.min(60, t)), this._fov !== t && (this._unmodified = !1, this._fov = t / 180 * Math.PI, this._calcMatrices())
                    }

                    get zoom() {
                        return this._zoom
                    }

                    set zoom(t) {
                        const n = Math.min(Math.max(t, this.minZoom), this.maxZoom);
                        this._zoom !== n && (this._unmodified = !1, this._zoom = n, this.tileZoom = Math.max(0, Math.floor(n)), this.scale = this.zoomScale(n), this._constrain(), this._calcMatrices())
                    }

                    get center() {
                        return this._center
                    }

                    set center(t) {
                        t.lat === this._center.lat && t.lng === this._center.lng || (this._unmodified = !1, this._center = t, this._constrain(), this._calcMatrices())
                    }

                    get elevation() {
                        return this._elevation
                    }

                    set elevation(t) {
                        t !== this._elevation && (this._elevation = t, this._constrain(), this._calcMatrices())
                    }

                    get padding() {
                        return this._edgeInsets.toJSON()
                    }

                    set padding(t) {
                        this._edgeInsets.equals(t) || (this._unmodified = !1, this._edgeInsets.interpolate(this._edgeInsets, t, 1), this._calcMatrices())
                    }

                    get centerPoint() {
                        return this._edgeInsets.getCenter(this.width, this.height)
                    }

                    isPaddingEqual(t) {
                        return this._edgeInsets.equals(t)
                    }

                    interpolatePadding(t, n, o) {
                        this._unmodified = !1, this._edgeInsets.interpolate(t, n, o), this._constrain(), this._calcMatrices()
                    }

                    coveringZoomLevel(t) {
                        const n = (t.roundZoom ? Math.round : Math.floor)(this.zoom + this.scaleZoom(this.tileSize / t.tileSize));
                        return Math.max(0, n)
                    }

                    getVisibleUnwrappedCoordinates(t) {
                        const n = [new h.UnwrappedTileID(0, t)];
                        if (this._renderWorldCopies) {
                            const o = this.pointCoordinate(new h.pointGeometry(0, 0)),
                                l = this.pointCoordinate(new h.pointGeometry(this.width, 0)),
                                p = this.pointCoordinate(new h.pointGeometry(this.width, this.height)),
                                m = this.pointCoordinate(new h.pointGeometry(0, this.height)),
                                g = Math.floor(Math.min(o.x, l.x, p.x, m.x)),
                                y = Math.floor(Math.max(o.x, l.x, p.x, m.x)), x = 1;
                            for (let C = g - x; C <= y + x; C++) 0 !== C && n.push(new h.UnwrappedTileID(C, t))
                        }
                        return n
                    }

                    coveringTiles(t) {
                        var n, o;
                        let l = this.coveringZoomLevel(t);
                        const p = l;
                        if (void 0 !== t.minzoom && l < t.minzoom) return [];
                        void 0 !== t.maxzoom && l > t.maxzoom && (l = t.maxzoom);
                        const m = this.pointCoordinate(this.getCameraPoint()),
                            g = h.MercatorCoordinate.fromLngLat(this.center), y = Math.pow(2, l),
                            x = [y * m.x, y * m.y, 0], C = [y * g.x, y * g.y, 0],
                            S = Me.fromInvProjectionMatrix(this.invProjMatrix, this.worldSize, l);
                        let M = t.minzoom || 0;
                        !t.terrain && this.pitch <= 60 && this._edgeInsets.top < .1 && (M = l);
                        const R = t.terrain ? 2 / Math.min(this.tileSize, t.tileSize) * this.tileSize : 3, B = U => ({
                            aabb: new Nn([U * y, 0, 0], [(U + 1) * y, y, 0]),
                            zoom: 0,
                            x: 0,
                            y: 0,
                            wrap: U,
                            fullyVisible: !1
                        }), P = [], $ = [], H = l, X = t.reparseOverscaled ? p : l;
                        if (this._renderWorldCopies) for (let U = 1; U <= 3; U++) P.push(B(-U)), P.push(B(U));
                        for (P.push(B(0)); P.length > 0;) {
                            const U = P.pop(), J = U.x, te = U.y;
                            let re = U.fullyVisible;
                            if (!re) {
                                const ye = U.aabb.intersects(S);
                                if (0 === ye) continue;
                                re = 2 === ye
                            }
                            const ae = t.terrain ? x : C, ce = U.aabb.distanceX(ae), ge = U.aabb.distanceY(ae),
                                de = Math.max(Math.abs(ce), Math.abs(ge));
                            if (U.zoom === H || de > R + (1 << H - U.zoom) - 2 && U.zoom >= M) {
                                const ye = H - U.zoom, Ae = x[0] - .5 - (J << ye), qe = x[1] - .5 - (te << ye);
                                $.push({
                                    tileID: new h.OverscaledTileID(U.zoom === H ? X : U.zoom, U.wrap, U.zoom, J, te),
                                    distanceSq: nn([C[0] - .5 - J, C[1] - .5 - te]),
                                    tileDistanceToCamera: Math.sqrt(Ae * Ae + qe * qe)
                                })
                            } else for (let ye = 0; ye < 4; ye++) {
                                const Ae = (J << 1) + ye % 2, qe = (te << 1) + (ye >> 1), We = U.zoom + 1;
                                let ze = U.aabb.quadrant(ye);
                                if (t.terrain) {
                                    const ht = new h.OverscaledTileID(We, U.wrap, We, Ae, qe),
                                        ut = t.terrain.getMinMaxElevation(ht),
                                        He = null !== (n = ut.minElevation) && void 0 !== n ? n : this.elevation,
                                        nt = null !== (o = ut.maxElevation) && void 0 !== o ? o : this.elevation;
                                    ze = new Nn([ze.min[0], ze.min[1], He], [ze.max[0], ze.max[1], nt])
                                }
                                P.push({aabb: ze, zoom: We, x: Ae, y: qe, wrap: U.wrap, fullyVisible: re})
                            }
                        }
                        return $.sort((U, J) => U.distanceSq - J.distanceSq).map(U => U.tileID)
                    }

                    resize(t, n) {
                        this.width = t, this.height = n, this.pixelsToGLUnits = [2 / t, -2 / n], this._constrain(), this._calcMatrices()
                    }

                    get unmodified() {
                        return this._unmodified
                    }

                    zoomScale(t) {
                        return Math.pow(2, t)
                    }

                    scaleZoom(t) {
                        return Math.log(t) / Math.LN2
                    }

                    project(t) {
                        const n = h.clamp(t.lat, -this.maxValidLatitude, this.maxValidLatitude);
                        return new h.pointGeometry(h.mercatorXfromLng(t.lng) * this.worldSize, h.mercatorYfromLat(n) * this.worldSize)
                    }

                    unproject(t) {
                        return new h.MercatorCoordinate(t.x / this.worldSize, t.y / this.worldSize).toLngLat()
                    }

                    get point() {
                        return this.project(this.center)
                    }

                    updateElevation(t) {
                        this.freezeElevation || (this.elevation = t ? this.getElevation(this._center, t) : 0)
                    }

                    getElevation(t, n) {
                        const o = h.MercatorCoordinate.fromLngLat(t), l = (1 << this.tileZoom) * h.EXTENT, p = o.x * l,
                            m = o.y * l, g = Math.floor(p / h.EXTENT), y = Math.floor(m / h.EXTENT),
                            x = new h.OverscaledTileID(this.tileZoom, 0, this.tileZoom, g, y);
                        return n.getElevation(x, p % h.EXTENT, m % h.EXTENT, h.EXTENT)
                    }

                    getCameraPosition() {
                        return {
                            lngLat: this.pointLocation(this.getCameraPoint()),
                            altitude: Math.cos(this._pitch) * this.cameraToCenterDistance / this._pixelPerMeter + this.elevation
                        }
                    }

                    recalculateZoom(t) {
                        const n = this.pointLocation(this.centerPoint, t), o = this.getElevation(n, t);
                        if (!(this.elevation - o)) return;
                        const l = this.getCameraPosition(), p = h.MercatorCoordinate.fromLngLat(l.lngLat, l.altitude),
                            m = h.MercatorCoordinate.fromLngLat(n, o), g = p.x - m.x, y = p.y - m.y, x = p.z - m.z,
                            C = Math.sqrt(g * g + y * y + x * x),
                            S = this.scaleZoom(this.cameraToCenterDistance / C / this.tileSize);
                        this._elevation = o, this._center = n, this.zoom = S
                    }

                    setLocationAtPoint(t, n) {
                        const o = this.pointCoordinate(n), l = this.pointCoordinate(this.centerPoint),
                            p = this.locationCoordinate(t),
                            m = new h.MercatorCoordinate(p.x - (o.x - l.x), p.y - (o.y - l.y));
                        this.center = this.coordinateLocation(m), this._renderWorldCopies && (this.center = this.center.wrap())
                    }

                    locationPoint(t, n) {
                        return n ? this.coordinatePoint(this.locationCoordinate(t), this.getElevation(t, n), this.pixelMatrix3D) : this.coordinatePoint(this.locationCoordinate(t))
                    }

                    pointLocation(t, n) {
                        return this.coordinateLocation(this.pointCoordinate(t, n))
                    }

                    locationCoordinate(t) {
                        return h.MercatorCoordinate.fromLngLat(t)
                    }

                    coordinateLocation(t) {
                        return t && t.toLngLat()
                    }

                    pointCoordinate(t, n) {
                        if (n) {
                            const M = n.pointCoordinate(t);
                            if (null != M) return M
                        }
                        const o = [t.x, t.y, 0, 1], l = [t.x, t.y, 1, 1];
                        h.transformMat4(o, o, this.pixelMatrixInverse), h.transformMat4(l, l, this.pixelMatrixInverse);
                        const p = o[3], m = l[3], g = o[1] / p, y = l[1] / m, x = o[2] / p, C = l[2] / m,
                            S = x === C ? 0 : (0 - x) / (C - x);
                        return new h.MercatorCoordinate(h.number(o[0] / p, l[0] / m, S) / this.worldSize, h.number(g, y, S) / this.worldSize)
                    }

                    coordinatePoint(t, n = 0, o = this.pixelMatrix) {
                        const l = [t.x * this.worldSize, t.y * this.worldSize, n, 1];
                        return h.transformMat4(l, l, o), new h.pointGeometry(l[0] / l[3], l[1] / l[3])
                    }

                    getBounds() {
                        const t = Math.max(0, this.height / 2 - this.getHorizon());
                        return (new h.LngLatBounds).extend(this.pointLocation(new h.pointGeometry(0, t))).extend(this.pointLocation(new h.pointGeometry(this.width, t))).extend(this.pointLocation(new h.pointGeometry(this.width, this.height))).extend(this.pointLocation(new h.pointGeometry(0, this.height)))
                    }

                    getMaxBounds() {
                        return this.latRange && 2 === this.latRange.length && this.lngRange && 2 === this.lngRange.length ? new h.LngLatBounds([this.lngRange[0], this.latRange[0]], [this.lngRange[1], this.latRange[1]]) : null
                    }

                    getHorizon() {
                        return Math.tan(Math.PI / 2 - this._pitch) * this.cameraToCenterDistance * .85
                    }

                    setMaxBounds(t) {
                        t ? (this.lngRange = [t.getWest(), t.getEast()], this.latRange = [t.getSouth(), t.getNorth()], this._constrain()) : (this.lngRange = null, this.latRange = [-this.maxValidLatitude, this.maxValidLatitude])
                    }

                    calculatePosMatrix(t, n = !1) {
                        const o = t.key, l = n ? this._alignedPosMatrixCache : this._posMatrixCache;
                        if (l[o]) return l[o];
                        const p = t.canonical, m = this.worldSize / this.zoomScale(p.z),
                            g = p.x + Math.pow(2, p.z) * t.wrap, y = h.identity(new Float64Array(16));
                        return h.translate(y, y, [g * m, p.y * m, 0]), h.scale(y, y, [m / h.EXTENT, m / h.EXTENT, 1]), h.multiply(y, n ? this.alignedProjMatrix : this.projMatrix, y), l[o] = new Float32Array(y), l[o]
                    }

                    customLayerMatrix() {
                        return this.mercatorMatrix.slice()
                    }

                    _constrain() {
                        if (!this.center || !this.width || !this.height || this._constraining) return;
                        this._constraining = !0;
                        let t, n, o, l, p = -90, m = 90, g = -180, y = 180;
                        const x = this.size, C = this._unmodified;
                        if (this.latRange) {
                            const R = this.latRange;
                            p = h.mercatorYfromLat(R[1]) * this.worldSize, m = h.mercatorYfromLat(R[0]) * this.worldSize, t = m - p < x.y ? x.y / (m - p) : 0
                        }
                        if (this.lngRange) {
                            const R = this.lngRange;
                            g = h.wrap(h.mercatorXfromLng(R[0]) * this.worldSize, 0, this.worldSize), y = h.wrap(h.mercatorXfromLng(R[1]) * this.worldSize, 0, this.worldSize), y < g && (y += this.worldSize), n = y - g < x.x ? x.x / (y - g) : 0
                        }
                        const S = this.point, M = Math.max(n || 0, t || 0);
                        if (M) return this.center = this.unproject(new h.pointGeometry(n ? (y + g) / 2 : S.x, t ? (m + p) / 2 : S.y)), this.zoom += this.scaleZoom(M), this._unmodified = C, void (this._constraining = !1);
                        if (this.latRange) {
                            const R = S.y, B = x.y / 2;
                            R - B < p && (l = p + B), R + B > m && (l = m - B)
                        }
                        if (this.lngRange) {
                            const R = (g + y) / 2, B = h.wrap(S.x, R - this.worldSize / 2, R + this.worldSize / 2),
                                P = x.x / 2;
                            B - P < g && (o = g + P), B + P > y && (o = y - P)
                        }
                        void 0 === o && void 0 === l || (this.center = this.unproject(new h.pointGeometry(void 0 !== o ? o : S.x, void 0 !== l ? l : S.y)).wrap()), this._unmodified = C, this._constraining = !1
                    }

                    _calcMatrices() {
                        if (!this.height) return;
                        const t = this.centerOffset, n = this.point.x, o = this.point.y;
                        this.cameraToCenterDistance = .5 / Math.tan(this._fov / 2) * this.height, this._pixelPerMeter = h.mercatorZfromAltitude(1, this.center.lat) * this.worldSize;
                        let l = h.identity(new Float64Array(16));
                        h.scale(l, l, [this.width / 2, -this.height / 2, 1]), h.translate(l, l, [1, -1, 0]), this.labelPlaneMatrix = l, l = h.identity(new Float64Array(16)), h.scale(l, l, [1, -1, 1]), h.translate(l, l, [-1, -1, 0]), h.scale(l, l, [2 / this.width, 2 / this.height, 1]), this.glCoordMatrix = l, this.cameraToSeaLevelDistance = this.cameraToCenterDistance + this._elevation * this._pixelPerMeter / Math.cos(this._pitch);
                        const p = this._elevation < 0 ? this.cameraToCenterDistance : this.cameraToSeaLevelDistance,
                            m = Math.PI / 2 + this._pitch, g = this._fov * (.5 + t.y / this.height),
                            y = Math.sin(g) * p / Math.sin(h.clamp(Math.PI - m - g, .01, Math.PI - .01)),
                            x = this.getHorizon(),
                            C = 2 * Math.atan(x / this.cameraToCenterDistance) * (.5 + t.y / (2 * x)),
                            S = Math.sin(C) * p / Math.sin(h.clamp(Math.PI - m - C, .01, Math.PI - .01)),
                            M = Math.min(y, S), R = 1.01 * (Math.cos(Math.PI / 2 - this._pitch) * M + p),
                            B = this.height / 50;
                        l = new Float64Array(16), h.perspective(l, this._fov, this.width / this.height, B, R), l[8] = 2 * -t.x / this.width, l[9] = 2 * t.y / this.height, h.scale(l, l, [1, -1, 1]), h.translate(l, l, [0, 0, -this.cameraToCenterDistance]), h.rotateX(l, l, this._pitch), h.rotateZ(l, l, this.angle), h.translate(l, l, [-n, -o, 0]), this.mercatorMatrix = h.scale([], l, [this.worldSize, this.worldSize, this.worldSize]), h.scale(l, l, [1, 1, this._pixelPerMeter]), this.pixelMatrix = h.multiply(new Float64Array(16), this.labelPlaneMatrix, l), h.translate(l, l, [0, 0, -this.elevation]), this.projMatrix = l, this.invProjMatrix = h.invert([], l), this.pixelMatrix3D = h.multiply(new Float64Array(16), this.labelPlaneMatrix, l);
                        const P = this.width % 2 / 2, $ = this.height % 2 / 2, H = Math.cos(this.angle),
                            X = Math.sin(this.angle), U = n - Math.round(n) + H * P + X * $,
                            J = o - Math.round(o) + H * $ + X * P, te = new Float64Array(l);
                        if (h.translate(te, te, [U > .5 ? U - 1 : U, J > .5 ? J - 1 : J, 0]), this.alignedProjMatrix = te, l = h.invert(new Float64Array(16), this.pixelMatrix), !l) throw new Error("failed to invert matrix");
                        this.pixelMatrixInverse = l, this._posMatrixCache = {}, this._alignedPosMatrixCache = {}
                    }

                    maxPitchScaleFactor() {
                        if (!this.pixelMatrixInverse) return 1;
                        const t = this.pointCoordinate(new h.pointGeometry(0, 0)),
                            n = [t.x * this.worldSize, t.y * this.worldSize, 0, 1];
                        return h.transformMat4(n, n, this.pixelMatrix)[3] / this.cameraToCenterDistance
                    }

                    getCameraPoint() {
                        const t = Math.tan(this._pitch) * (this.cameraToCenterDistance || 1);
                        return this.centerPoint.add(new h.pointGeometry(0, t))
                    }

                    getCameraQueryGeometry(t) {
                        const n = this.getCameraPoint();
                        if (1 === t.length) return [t[0], n];
                        {
                            let o = n.x, l = n.y, p = n.x, m = n.y;
                            for (const g of t) o = Math.min(o, g.x), l = Math.min(l, g.y), p = Math.max(p, g.x), m = Math.max(m, g.y);
                            return [new h.pointGeometry(o, l), new h.pointGeometry(p, l), new h.pointGeometry(p, m), new h.pointGeometry(o, m), new h.pointGeometry(o, l)]
                        }
                    }
                }

                class za {
                    constructor(t) {
                        this._hashName = t && encodeURIComponent(t), h.bindAll(["_getCurrentHash", "_onHashChange", "_updateHash"], this), this._updateHash = function (n, o) {
                            let l = !1, p = null;
                            const m = () => {
                                p = null, l && (n(), p = setTimeout(m, 300), l = !1)
                            };
                            return () => (l = !0, p || m(), p)
                        }(this._updateHashUnthrottled.bind(this))
                    }

                    addTo(t) {
                        return this._map = t, addEventListener("hashchange", this._onHashChange, !1), this._map.on("moveend", this._updateHash), this
                    }

                    remove() {
                        return removeEventListener("hashchange", this._onHashChange, !1), this._map.off("moveend", this._updateHash), clearTimeout(this._updateHash()), delete this._map, this
                    }

                    getHashString(t) {
                        const n = this._map.getCenter(), o = Math.round(100 * this._map.getZoom()) / 100,
                            l = Math.ceil((o * Math.LN2 + Math.log(512 / 360 / .5)) / Math.LN10), p = Math.pow(10, l),
                            m = Math.round(n.lng * p) / p, g = Math.round(n.lat * p) / p, y = this._map.getBearing(),
                            x = this._map.getPitch();
                        let C = "";
                        if (C += t ? `/${m}/${g}/${o}` : `${o}/${g}/${m}`, (y || x) && (C += "/" + Math.round(10 * y) / 10), x && (C += `/${Math.round(x)}`), this._hashName) {
                            const S = this._hashName;
                            let M = !1;
                            const R = window.location.hash.slice(1).split("&").map(B => {
                                const P = B.split("=")[0];
                                return P === S ? (M = !0, `${P}=${C}`) : B
                            }).filter(B => B);
                            return M || R.push(`${S}=${C}`), `#${R.join("&")}`
                        }
                        return `#${C}`
                    }

                    _getCurrentHash() {
                        const t = window.location.hash.replace("#", "");
                        if (this._hashName) {
                            let n;
                            return t.split("&").map(o => o.split("=")).forEach(o => {
                                o[0] === this._hashName && (n = o)
                            }), (n && n[1] || "").split("/")
                        }
                        return t.split("/")
                    }

                    _onHashChange() {
                        const t = this._getCurrentHash();
                        if (t.length >= 3 && !t.some(n => isNaN(n))) {
                            const n = this._map.dragRotate.isEnabled() && this._map.touchZoomRotate.isEnabled() ? +(t[3] || 0) : this._map.getBearing();
                            return this._map.jumpTo({
                                center: [+t[2], +t[1]],
                                zoom: +t[0],
                                bearing: n,
                                pitch: +(t[4] || 0)
                            }), !0
                        }
                        return !1
                    }

                    _updateHashUnthrottled() {
                        const t = window.location.href.replace(/(#.+)?$/, this.getHashString());
                        try {
                            window.history.replaceState(window.history.state, null, t)
                        } catch {
                        }
                    }
                }

                const Se = {linearity: .3, easing: h.bezier(0, 0, .3, 1)},
                    _o = h.extend({deceleration: 2500, maxSpeed: 1400}, Se),
                    gl = h.extend({deceleration: 20, maxSpeed: 1400}, Se),
                    _l = h.extend({deceleration: 1e3, maxSpeed: 360}, Se),
                    yo = h.extend({deceleration: 1e3, maxSpeed: 90}, Se);

                class ka {
                    constructor(t) {
                        this._map = t, this.clear()
                    }

                    clear() {
                        this._inertiaBuffer = []
                    }

                    record(t) {
                        this._drainInertiaBuffer(), this._inertiaBuffer.push({time: h.exported.now(), settings: t})
                    }

                    _drainInertiaBuffer() {
                        const t = this._inertiaBuffer, n = h.exported.now();
                        for (; t.length > 0 && n - t[0].time > 160;) t.shift()
                    }

                    _onMoveEnd(t) {
                        if (this._drainInertiaBuffer(), this._inertiaBuffer.length < 2) return;
                        const n = {
                            zoom: 0,
                            bearing: 0,
                            pitch: 0,
                            pan: new h.pointGeometry(0, 0),
                            pinchAround: void 0,
                            around: void 0
                        };
                        for (const {settings: p} of this._inertiaBuffer) n.zoom += p.zoomDelta || 0, n.bearing += p.bearingDelta || 0, n.pitch += p.pitchDelta || 0, p.panDelta && n.pan._add(p.panDelta), p.around && (n.around = p.around), p.pinchAround && (n.pinchAround = p.pinchAround);
                        const o = this._inertiaBuffer[this._inertiaBuffer.length - 1].time - this._inertiaBuffer[0].time,
                            l = {};
                        if (n.pan.mag()) {
                            const p = ys(n.pan.mag(), o, h.extend({}, _o, t || {}));
                            l.offset = n.pan.mult(p.amount / n.pan.mag()), l.center = this._map.transform.center, $n(l, p)
                        }
                        if (n.zoom) {
                            const p = ys(n.zoom, o, gl);
                            l.zoom = this._map.transform.zoom + p.amount, $n(l, p)
                        }
                        if (n.bearing) {
                            const p = ys(n.bearing, o, _l);
                            l.bearing = this._map.transform.bearing + h.clamp(p.amount, -179, 179), $n(l, p)
                        }
                        if (n.pitch) {
                            const p = ys(n.pitch, o, yo);
                            l.pitch = this._map.transform.pitch + p.amount, $n(l, p)
                        }
                        if (l.zoom || l.bearing) {
                            const p = void 0 === n.pinchAround ? n.around : n.pinchAround;
                            l.around = p ? this._map.unproject(p) : this._map.getCenter()
                        }
                        return this.clear(), h.extend(l, {noMoveStart: !0})
                    }
                }

                function $n(a, t) {
                    (!a.duration || a.duration < t.duration) && (a.duration = t.duration, a.easing = t.easing)
                }

                function ys(a, t, n) {
                    const {maxSpeed: o, linearity: l, deceleration: p} = n, m = h.clamp(a * l / (t / 1e3), -o, o),
                        g = Math.abs(m) / (p * l);
                    return {easing: n.easing, duration: 1e3 * g, amount: m * (g / 2)}
                }

                class Vi extends h.Event {
                    preventDefault() {
                        this._defaultPrevented = !0
                    }

                    get defaultPrevented() {
                        return this._defaultPrevented
                    }

                    constructor(t, n, o, l = {}) {
                        const p = ie.mousePos(n.getCanvasContainer(), o), m = n.unproject(p);
                        super(t, h.extend({
                            point: p,
                            lngLat: m,
                            originalEvent: o
                        }, l)), this._defaultPrevented = !1, this.target = n
                    }
                }

                class bn extends h.Event {
                    preventDefault() {
                        this._defaultPrevented = !0
                    }

                    get defaultPrevented() {
                        return this._defaultPrevented
                    }

                    constructor(t, n, o) {
                        const l = "touchend" === t ? o.changedTouches : o.touches,
                            p = ie.touchPos(n.getCanvasContainer(), l), m = p.map(y => n.unproject(y)),
                            g = p.reduce((y, x, C, S) => y.add(x.div(S.length)), new h.pointGeometry(0, 0));
                        super(t, {
                            points: p,
                            point: g,
                            lngLats: m,
                            lngLat: n.unproject(g),
                            originalEvent: o
                        }), this._defaultPrevented = !1
                    }
                }

                class xo extends h.Event {
                    preventDefault() {
                        this._defaultPrevented = !0
                    }

                    get defaultPrevented() {
                        return this._defaultPrevented
                    }

                    constructor(t, n, o) {
                        super(t, {originalEvent: o}), this._defaultPrevented = !1
                    }
                }

                class vo {
                    constructor(t, n) {
                        this._map = t, this._clickTolerance = n.clickTolerance
                    }

                    reset() {
                        delete this._mousedownPos
                    }

                    wheel(t) {
                        return this._firePreventable(new xo(t.type, this._map, t))
                    }

                    mousedown(t, n) {
                        return this._mousedownPos = n, this._firePreventable(new Vi(t.type, this._map, t))
                    }

                    mouseup(t) {
                        this._map.fire(new Vi(t.type, this._map, t))
                    }

                    click(t, n) {
                        this._mousedownPos && this._mousedownPos.dist(n) >= this._clickTolerance || this._map.fire(new Vi(t.type, this._map, t))
                    }

                    dblclick(t) {
                        return this._firePreventable(new Vi(t.type, this._map, t))
                    }

                    mouseover(t) {
                        this._map.fire(new Vi(t.type, this._map, t))
                    }

                    mouseout(t) {
                        this._map.fire(new Vi(t.type, this._map, t))
                    }

                    touchstart(t) {
                        return this._firePreventable(new bn(t.type, this._map, t))
                    }

                    touchmove(t) {
                        this._map.fire(new bn(t.type, this._map, t))
                    }

                    touchend(t) {
                        this._map.fire(new bn(t.type, this._map, t))
                    }

                    touchcancel(t) {
                        this._map.fire(new bn(t.type, this._map, t))
                    }

                    _firePreventable(t) {
                        if (this._map.fire(t), t.defaultPrevented) return {}
                    }

                    isEnabled() {
                        return !0
                    }

                    isActive() {
                        return !1
                    }

                    enable() {
                    }

                    disable() {
                    }
                }

                class bo {
                    constructor(t) {
                        this._map = t
                    }

                    reset() {
                        this._delayContextMenu = !1, this._ignoreContextMenu = !0, delete this._contextMenuEvent
                    }

                    mousemove(t) {
                        this._map.fire(new Vi(t.type, this._map, t))
                    }

                    mousedown() {
                        this._delayContextMenu = !0, this._ignoreContextMenu = !1
                    }

                    mouseup() {
                        this._delayContextMenu = !1, this._contextMenuEvent && (this._map.fire(new Vi("contextmenu", this._map, this._contextMenuEvent)), delete this._contextMenuEvent)
                    }

                    contextmenu(t) {
                        this._delayContextMenu ? this._contextMenuEvent = t : this._ignoreContextMenu || this._map.fire(new Vi(t.type, this._map, t)), this._map.listens("contextmenu") && t.preventDefault()
                    }

                    isEnabled() {
                        return !0
                    }

                    isActive() {
                        return !1
                    }

                    enable() {
                    }

                    disable() {
                    }
                }

                class wi {
                    constructor(t, n) {
                        this._map = t, this._el = t.getCanvasContainer(), this._container = t.getContainer(), this._clickTolerance = n.clickTolerance || 1
                    }

                    isEnabled() {
                        return !!this._enabled
                    }

                    isActive() {
                        return !!this._active
                    }

                    enable() {
                        this.isEnabled() || (this._enabled = !0)
                    }

                    disable() {
                        this.isEnabled() && (this._enabled = !1)
                    }

                    mousedown(t, n) {
                        this.isEnabled() && t.shiftKey && 0 === t.button && (ie.disableDrag(), this._startPos = this._lastPos = n, this._active = !0)
                    }

                    mousemoveWindow(t, n) {
                        if (!this._active) return;
                        const o = n;
                        if (this._lastPos.equals(o) || !this._box && o.dist(this._startPos) < this._clickTolerance) return;
                        const l = this._startPos;
                        this._lastPos = o, this._box || (this._box = ie.create("div", "maplibregl-boxzoom", this._container), this._container.classList.add("maplibregl-crosshair"), this._fireEvent("boxzoomstart", t));
                        const p = Math.min(l.x, o.x), m = Math.max(l.x, o.x), g = Math.min(l.y, o.y),
                            y = Math.max(l.y, o.y);
                        ie.setTransform(this._box, `translate(${p}px,${g}px)`), this._box.style.width = m - p + "px", this._box.style.height = y - g + "px"
                    }

                    mouseupWindow(t, n) {
                        if (!this._active || 0 !== t.button) return;
                        const o = this._startPos, l = n;
                        if (this.reset(), ie.suppressClick(), o.x !== l.x || o.y !== l.y) return this._map.fire(new h.Event("boxzoomend", {originalEvent: t})), {cameraAnimation: p => p.fitScreenCoordinates(o, l, this._map.getBearing(), {linear: !0})};
                        this._fireEvent("boxzoomcancel", t)
                    }

                    keydown(t) {
                        this._active && 27 === t.keyCode && (this.reset(), this._fireEvent("boxzoomcancel", t))
                    }

                    reset() {
                        this._active = !1, this._container.classList.remove("maplibregl-crosshair"), this._box && (ie.remove(this._box), this._box = null), ie.enableDrag(), delete this._startPos, delete this._lastPos
                    }

                    _fireEvent(t, n) {
                        return this._map.fire(new h.Event(t, {originalEvent: n}))
                    }
                }

                function rr(a, t) {
                    if (a.length !== t.length) throw new Error(`The number of touches and points are not equal - touches ${a.length}, points ${t.length}`);
                    const n = {};
                    for (let o = 0; o < a.length; o++) n[a[o].identifier] = t[o];
                    return n
                }

                class Pa {
                    constructor(t) {
                        this.reset(), this.numTouches = t.numTouches
                    }

                    reset() {
                        delete this.centroid, delete this.startTime, delete this.touches, this.aborted = !1
                    }

                    touchstart(t, n, o) {
                        (this.centroid || o.length > this.numTouches) && (this.aborted = !0), this.aborted || (void 0 === this.startTime && (this.startTime = t.timeStamp), o.length === this.numTouches && (this.centroid = function (l) {
                            const p = new h.pointGeometry(0, 0);
                            for (const m of l) p._add(m);
                            return p.div(l.length)
                        }(n), this.touches = rr(o, n)))
                    }

                    touchmove(t, n, o) {
                        if (this.aborted || !this.centroid) return;
                        const l = rr(o, n);
                        for (const p in this.touches) {
                            const m = l[p];
                            (!m || m.dist(this.touches[p]) > 30) && (this.aborted = !0)
                        }
                    }

                    touchend(t, n, o) {
                        if ((!this.centroid || t.timeStamp - this.startTime > 500) && (this.aborted = !0), 0 === o.length) {
                            const l = !this.aborted && this.centroid;
                            if (this.reset(), l) return l
                        }
                    }
                }

                class Zn {
                    constructor(t) {
                        this.singleTap = new Pa(t), this.numTaps = t.numTaps, this.reset()
                    }

                    reset() {
                        this.lastTime = 1 / 0, delete this.lastTap, this.count = 0, this.singleTap.reset()
                    }

                    touchstart(t, n, o) {
                        this.singleTap.touchstart(t, n, o)
                    }

                    touchmove(t, n, o) {
                        this.singleTap.touchmove(t, n, o)
                    }

                    touchend(t, n, o) {
                        const l = this.singleTap.touchend(t, n, o);
                        if (l) {
                            const p = t.timeStamp - this.lastTime < 500, m = !this.lastTap || this.lastTap.dist(l) < 30;
                            if (p && m || this.reset(), this.count++, this.lastTime = t.timeStamp, this.lastTap = l, this.count === this.numTaps) return this.reset(), l
                        }
                    }
                }

                class wo {
                    constructor() {
                        this._zoomIn = new Zn({numTouches: 1, numTaps: 2}), this._zoomOut = new Zn({
                            numTouches: 2,
                            numTaps: 1
                        }), this.reset()
                    }

                    reset() {
                        this._active = !1, this._zoomIn.reset(), this._zoomOut.reset()
                    }

                    touchstart(t, n, o) {
                        this._zoomIn.touchstart(t, n, o), this._zoomOut.touchstart(t, n, o)
                    }

                    touchmove(t, n, o) {
                        this._zoomIn.touchmove(t, n, o), this._zoomOut.touchmove(t, n, o)
                    }

                    touchend(t, n, o) {
                        const l = this._zoomIn.touchend(t, n, o), p = this._zoomOut.touchend(t, n, o);
                        return l ? (this._active = !0, t.preventDefault(), setTimeout(() => this.reset(), 0), {
                            cameraAnimation: m => m.easeTo({
                                duration: 300,
                                zoom: m.getZoom() + 1,
                                around: m.unproject(l)
                            }, {originalEvent: t})
                        }) : p ? (this._active = !0, t.preventDefault(), setTimeout(() => this.reset(), 0), {
                            cameraAnimation: m => m.easeTo({
                                duration: 300,
                                zoom: m.getZoom() - 1,
                                around: m.unproject(p)
                            }, {originalEvent: t})
                        }) : void 0
                    }

                    touchcancel() {
                        this.reset()
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }
                }

                class Hr {
                    constructor(t) {
                        this._enabled = !!t.enable, this._moveStateManager = t.moveStateManager, this._clickTolerance = t.clickTolerance || 1, this._moveFunction = t.move, this._activateOnStart = !!t.activateOnStart, t.assignEvents(this), this.reset()
                    }

                    reset(t) {
                        this._active = !1, this._moved = !1, delete this._lastPoint, this._moveStateManager.endMove(t)
                    }

                    _move(...t) {
                        const n = this._moveFunction(...t);
                        if (n.bearingDelta || n.pitchDelta || n.around || n.panDelta) return this._active = !0, n
                    }

                    dragStart(t, n) {
                        this.isEnabled() && !this._lastPoint && this._moveStateManager.isValidStartEvent(t) && (this._moveStateManager.startMove(t), this._lastPoint = n.length ? n[0] : n, this._activateOnStart && this._lastPoint && (this._active = !0))
                    }

                    dragMove(t, n) {
                        if (!this.isEnabled()) return;
                        const o = this._lastPoint;
                        if (!o) return;
                        if (t.preventDefault(), !this._moveStateManager.isValidMoveEvent(t)) return void this.reset(t);
                        const l = n.length ? n[0] : n;
                        return !this._moved && l.dist(o) < this._clickTolerance ? void 0 : (this._moved = !0, this._lastPoint = l, this._move(o, l))
                    }

                    dragEnd(t) {
                        this.isEnabled() && this._lastPoint && this._moveStateManager.isValidEndEvent(t) && (this._moved && ie.suppressClick(), this.reset(t))
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }

                    getClickTolerance() {
                        return this._clickTolerance
                    }
                }

                const Da = {0: 1, 2: 2};

                class Si {
                    constructor(t) {
                        this._correctEvent = t.checkCorrectEvent
                    }

                    startMove(t) {
                        const n = ie.mouseButton(t);
                        this._eventButton = n
                    }

                    endMove(t) {
                        delete this._eventButton
                    }

                    isValidStartEvent(t) {
                        return this._correctEvent(t)
                    }

                    isValidMoveEvent(t) {
                        return !function (n, o) {
                            const l = Da[o];
                            return void 0 === n.buttons || (n.buttons & l) !== l
                        }(t, this._eventButton)
                    }

                    isValidEndEvent(t) {
                        return ie.mouseButton(t) === this._eventButton
                    }
                }

                class Tt {
                    constructor() {
                        this._firstTouch = void 0
                    }

                    _isOneFingerTouch(t) {
                        return 1 === t.targetTouches.length
                    }

                    _isSameTouchEvent(t) {
                        return t.targetTouches[0].identifier === this._firstTouch
                    }

                    startMove(t) {
                        this._firstTouch = t.targetTouches[0].identifier
                    }

                    endMove(t) {
                        delete this._firstTouch
                    }

                    isValidStartEvent(t) {
                        return this._isOneFingerTouch(t)
                    }

                    isValidMoveEvent(t) {
                        return this._isOneFingerTouch(t) && this._isSameTouchEvent(t)
                    }

                    isValidEndEvent(t) {
                        return this._isOneFingerTouch(t) && this._isSameTouchEvent(t)
                    }
                }

                const wn = a => {
                    a.mousedown = a.dragStart, a.mousemoveWindow = a.dragMove, a.mouseup = a.dragEnd, a.contextmenu = function (t) {
                        t.preventDefault()
                    }
                }, xs = ({enable: a, clickTolerance: t, bearingDegreesPerPixelMoved: n = .8}) => {
                    const o = new Si({checkCorrectEvent: l => 0 === ie.mouseButton(l) && l.ctrlKey || 2 === ie.mouseButton(l)});
                    return new Hr({
                        clickTolerance: t,
                        move: (l, p) => ({bearingDelta: (p.x - l.x) * n}),
                        moveStateManager: o,
                        enable: a,
                        assignEvents: wn
                    })
                }, So = ({enable: a, clickTolerance: t, pitchDegreesPerPixelMoved: n = -.5}) => {
                    const o = new Si({checkCorrectEvent: l => 0 === ie.mouseButton(l) && l.ctrlKey || 2 === ie.mouseButton(l)});
                    return new Hr({
                        clickTolerance: t,
                        move: (l, p) => ({pitchDelta: (p.y - l.y) * n}),
                        moveStateManager: o,
                        enable: a,
                        assignEvents: wn
                    })
                };

                class La {
                    constructor(t, n) {
                        this._minTouches = t.cooperativeGestures ? 2 : 1, this._clickTolerance = t.clickTolerance || 1, this._map = n, this.reset()
                    }

                    reset() {
                        this._active = !1, this._touches = {}, this._sum = new h.pointGeometry(0, 0), setTimeout(() => {
                            this._cancelCooperativeMessage = !1
                        }, 200)
                    }

                    touchstart(t, n, o) {
                        return this._calculateTransform(t, n, o)
                    }

                    touchmove(t, n, o) {
                        if (this._map._cooperativeGestures && (2 === this._minTouches && o.length < 2 && !this._cancelCooperativeMessage ? this._map._onCooperativeGesture(t, !1, o.length) : this._cancelCooperativeMessage || (this._cancelCooperativeMessage = !0)), this._active && !(o.length < this._minTouches)) return t.preventDefault(), this._calculateTransform(t, n, o)
                    }

                    touchend(t, n, o) {
                        this._calculateTransform(t, n, o), this._active && o.length < this._minTouches && this.reset()
                    }

                    touchcancel() {
                        this.reset()
                    }

                    _calculateTransform(t, n, o) {
                        o.length > 0 && (this._active = !0);
                        const l = rr(o, n), p = new h.pointGeometry(0, 0), m = new h.pointGeometry(0, 0);
                        let g = 0;
                        for (const x in l) {
                            const C = l[x], S = this._touches[x];
                            S && (p._add(C), m._add(C.sub(S)), g++, l[x] = C)
                        }
                        if (this._touches = l, g < this._minTouches || !m.mag()) return;
                        const y = m.div(g);
                        return this._sum._add(y), this._sum.mag() < this._clickTolerance ? void 0 : {
                            around: p.div(g),
                            panDelta: y
                        }
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }
                }

                class vs {
                    constructor() {
                        this.reset()
                    }

                    reset() {
                        this._active = !1, delete this._firstTwoTouches
                    }

                    _start(t) {
                    }

                    _move(t, n, o) {
                        return {}
                    }

                    touchstart(t, n, o) {
                        this._firstTwoTouches || o.length < 2 || (this._firstTwoTouches = [o[0].identifier, o[1].identifier], this._start([n[0], n[1]]))
                    }

                    touchmove(t, n, o) {
                        if (!this._firstTwoTouches) return;
                        t.preventDefault();
                        const [l, p] = this._firstTwoTouches, m = bs(o, n, l), g = bs(o, n, p);
                        if (!m || !g) return;
                        const y = this._aroundCenter ? null : m.add(g).div(2);
                        return this._move([m, g], y, t)
                    }

                    touchend(t, n, o) {
                        if (!this._firstTwoTouches) return;
                        const [l, p] = this._firstTwoTouches, m = bs(o, n, l), g = bs(o, n, p);
                        m && g || (this._active && ie.suppressClick(), this.reset())
                    }

                    touchcancel() {
                        this.reset()
                    }

                    enable(t) {
                        this._enabled = !0, this._aroundCenter = !!t && "center" === t.around
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }
                }

                function bs(a, t, n) {
                    for (let o = 0; o < a.length; o++) if (a[o].identifier === n) return t[o]
                }

                function ji(a, t) {
                    return Math.log(a / t) / Math.LN2
                }

                class ws extends vs {
                    reset() {
                        super.reset(), delete this._distance, delete this._startDistance
                    }

                    _start(t) {
                        this._startDistance = this._distance = t[0].dist(t[1])
                    }

                    _move(t, n) {
                        const o = this._distance;
                        if (this._distance = t[0].dist(t[1]), this._active || !(Math.abs(ji(this._distance, this._startDistance)) < .1)) return this._active = !0, {
                            zoomDelta: ji(this._distance, o),
                            pinchAround: n
                        }
                    }
                }

                function Le(a, t) {
                    return 180 * a.angleWith(t) / Math.PI
                }

                class Ge extends vs {
                    reset() {
                        super.reset(), delete this._minDiameter, delete this._startVector, delete this._vector
                    }

                    _start(t) {
                        this._startVector = this._vector = t[0].sub(t[1]), this._minDiameter = t[0].dist(t[1])
                    }

                    _move(t, n) {
                        const o = this._vector;
                        if (this._vector = t[0].sub(t[1]), this._active || !this._isBelowThreshold(this._vector)) return this._active = !0, {
                            bearingDelta: Le(this._vector, o),
                            pinchAround: n
                        }
                    }

                    _isBelowThreshold(t) {
                        this._minDiameter = Math.min(this._minDiameter, t.mag());
                        const n = 25 / (Math.PI * this._minDiameter) * 360, o = Le(t, this._startVector);
                        return Math.abs(o) < n
                    }
                }

                function Sn(a) {
                    return Math.abs(a.y) > Math.abs(a.x)
                }

                class Co extends vs {
                    constructor(t) {
                        super(), this._map = t
                    }

                    reset() {
                        super.reset(), this._valid = void 0, delete this._firstMove, delete this._lastPoints
                    }

                    touchstart(t, n, o) {
                        super.touchstart(t, n, o), this._currentTouchCount = o.length
                    }

                    _start(t) {
                        this._lastPoints = t, Sn(t[0].sub(t[1])) && (this._valid = !1)
                    }

                    _move(t, n, o) {
                        if (this._map._cooperativeGestures && this._currentTouchCount < 3) return;
                        const l = t[0].sub(this._lastPoints[0]), p = t[1].sub(this._lastPoints[1]);
                        return this._valid = this.gestureBeginsVertically(l, p, o.timeStamp), this._valid ? (this._lastPoints = t, this._active = !0, {pitchDelta: (l.y + p.y) / 2 * -.5}) : void 0
                    }

                    gestureBeginsVertically(t, n, o) {
                        if (void 0 !== this._valid) return this._valid;
                        const l = t.mag() >= 2, p = n.mag() >= 2;
                        if (!l && !p) return;
                        if (!l || !p) return void 0 === this._firstMove && (this._firstMove = o), o - this._firstMove < 100 && void 0;
                        const m = t.y > 0 == n.y > 0;
                        return Sn(t) && Sn(n) && m
                    }
                }

                const To = {panStep: 100, bearingStep: 15, pitchStep: 10};

                class Ci {
                    constructor() {
                        const t = To;
                        this._panStep = t.panStep, this._bearingStep = t.bearingStep, this._pitchStep = t.pitchStep, this._rotationDisabled = !1
                    }

                    reset() {
                        this._active = !1
                    }

                    keydown(t) {
                        if (t.altKey || t.ctrlKey || t.metaKey) return;
                        let n = 0, o = 0, l = 0, p = 0, m = 0;
                        switch (t.keyCode) {
                            case 61:
                            case 107:
                            case 171:
                            case 187:
                                n = 1;
                                break;
                            case 189:
                            case 109:
                            case 173:
                                n = -1;
                                break;
                            case 37:
                                t.shiftKey ? o = -1 : (t.preventDefault(), p = -1);
                                break;
                            case 39:
                                t.shiftKey ? o = 1 : (t.preventDefault(), p = 1);
                                break;
                            case 38:
                                t.shiftKey ? l = 1 : (t.preventDefault(), m = -1);
                                break;
                            case 40:
                                t.shiftKey ? l = -1 : (t.preventDefault(), m = 1);
                                break;
                            default:
                                return
                        }
                        return this._rotationDisabled && (o = 0, l = 0), {
                            cameraAnimation: g => {
                                const y = g.getZoom();
                                g.easeTo({
                                    duration: 300,
                                    easeId: "keyboardHandler",
                                    easing: Ss,
                                    zoom: n ? Math.round(y) + n * (t.shiftKey ? 2 : 1) : y,
                                    bearing: g.getBearing() + o * this._bearingStep,
                                    pitch: g.getPitch() + l * this._pitchStep,
                                    offset: [-p * this._panStep, -m * this._panStep],
                                    center: g.getCenter()
                                }, {originalEvent: t})
                            }
                        }
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }

                    disableRotation() {
                        this._rotationDisabled = !0
                    }

                    enableRotation() {
                        this._rotationDisabled = !1
                    }
                }

                function Ss(a) {
                    return a * (2 - a)
                }

                const qi = 4.000244140625;

                class yl {
                    constructor(t, n) {
                        this._map = t, this._el = t.getCanvasContainer(), this._handler = n, this._delta = 0, this._defaultZoomRate = .01, this._wheelZoomRate = .0022222222222222222, h.bindAll(["_onTimeout"], this)
                    }

                    setZoomRate(t) {
                        this._defaultZoomRate = t
                    }

                    setWheelZoomRate(t) {
                        this._wheelZoomRate = t
                    }

                    isEnabled() {
                        return !!this._enabled
                    }

                    isActive() {
                        return !!this._active || void 0 !== this._finishTimeout
                    }

                    isZooming() {
                        return !!this._zooming
                    }

                    enable(t) {
                        this.isEnabled() || (this._enabled = !0, this._aroundCenter = t && "center" === t.around)
                    }

                    disable() {
                        this.isEnabled() && (this._enabled = !1)
                    }

                    wheel(t) {
                        if (!this.isEnabled()) return;
                        if (this._map._cooperativeGestures) {
                            if (!this._map._metaPress) return;
                            t.preventDefault()
                        }
                        let n = t.deltaMode === WheelEvent.DOM_DELTA_LINE ? 40 * t.deltaY : t.deltaY;
                        const o = h.exported.now(), l = o - (this._lastWheelEventTime || 0);
                        this._lastWheelEventTime = o, 0 !== n && n % qi == 0 ? this._type = "wheel" : 0 !== n && Math.abs(n) < 4 ? this._type = "trackpad" : l > 400 ? (this._type = null, this._lastValue = n, this._timeout = setTimeout(this._onTimeout, 40, t)) : this._type || (this._type = Math.abs(l * n) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, n += this._lastValue)), t.shiftKey && n && (n /= 4), this._type && (this._lastWheelEvent = t, this._delta -= n, this._active || this._start(t)), t.preventDefault()
                    }

                    _onTimeout(t) {
                        this._type = "wheel", this._delta -= this._lastValue, this._active || this._start(t)
                    }

                    _start(t) {
                        if (!this._delta) return;
                        this._frameId && (this._frameId = null), this._active = !0, this.isZooming() || (this._zooming = !0), this._finishTimeout && (clearTimeout(this._finishTimeout), delete this._finishTimeout);
                        const n = ie.mousePos(this._el, t);
                        this._around = h.LngLat.convert(this._aroundCenter ? this._map.getCenter() : this._map.unproject(n)), this._aroundPoint = this._map.transform.locationPoint(this._around), this._frameId || (this._frameId = !0, this._handler._triggerRenderFrame())
                    }

                    renderFrame() {
                        if (!this._frameId || (this._frameId = null, !this.isActive())) return;
                        const t = this._map.transform;
                        if (0 !== this._delta) {
                            const g = "wheel" === this._type && Math.abs(this._delta) > qi ? this._wheelZoomRate : this._defaultZoomRate;
                            let y = 2 / (1 + Math.exp(-Math.abs(this._delta * g)));
                            this._delta < 0 && 0 !== y && (y = 1 / y);
                            const x = "number" == typeof this._targetZoom ? t.zoomScale(this._targetZoom) : t.scale;
                            this._targetZoom = Math.min(t.maxZoom, Math.max(t.minZoom, t.scaleZoom(x * y))), "wheel" === this._type && (this._startZoom = t.zoom, this._easing = this._smoothOutEasing(200)), this._delta = 0
                        }
                        const n = "number" == typeof this._targetZoom ? this._targetZoom : t.zoom, o = this._startZoom,
                            l = this._easing;
                        let p, m = !1;
                        if ("wheel" === this._type && o && l) {
                            const g = Math.min((h.exported.now() - this._lastWheelEventTime) / 200, 1), y = l(g);
                            p = h.number(o, n, y), g < 1 ? this._frameId || (this._frameId = !0) : m = !0
                        } else p = n, m = !0;
                        return this._active = !0, m && (this._active = !1, this._finishTimeout = setTimeout(() => {
                            this._zooming = !1, this._handler._triggerRenderFrame(), delete this._targetZoom, delete this._finishTimeout
                        }, 200)), {
                            noInertia: !0,
                            needsRenderFrame: !m,
                            zoomDelta: p - t.zoom,
                            around: this._aroundPoint,
                            originalEvent: this._lastWheelEvent
                        }
                    }

                    _smoothOutEasing(t) {
                        let n = h.ease;
                        if (this._prevEase) {
                            const o = this._prevEase, l = (h.exported.now() - o.start) / o.duration,
                                p = o.easing(l + .01) - o.easing(l), m = .27 / Math.sqrt(p * p + 1e-4) * .01,
                                g = Math.sqrt(.0729 - m * m);
                            n = h.bezier(m, g, .25, 1)
                        }
                        return this._prevEase = {start: h.exported.now(), duration: t, easing: n}, n
                    }

                    reset() {
                        this._active = !1
                    }
                }

                class Cs {
                    constructor(t, n) {
                        this._clickZoom = t, this._tapZoom = n
                    }

                    enable() {
                        this._clickZoom.enable(), this._tapZoom.enable()
                    }

                    disable() {
                        this._clickZoom.disable(), this._tapZoom.disable()
                    }

                    isEnabled() {
                        return this._clickZoom.isEnabled() && this._tapZoom.isEnabled()
                    }

                    isActive() {
                        return this._clickZoom.isActive() || this._tapZoom.isActive()
                    }
                }

                class Rt {
                    constructor() {
                        this.reset()
                    }

                    reset() {
                        this._active = !1
                    }

                    dblclick(t, n) {
                        return t.preventDefault(), {
                            cameraAnimation: o => {
                                o.easeTo({
                                    duration: 300,
                                    zoom: o.getZoom() + (t.shiftKey ? -1 : 1),
                                    around: o.unproject(n)
                                }, {originalEvent: t})
                            }
                        }
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }
                }

                class Vt {
                    constructor() {
                        this._tap = new Zn({numTouches: 1, numTaps: 1}), this.reset()
                    }

                    reset() {
                        this._active = !1, delete this._swipePoint, delete this._swipeTouch, delete this._tapTime, this._tap.reset()
                    }

                    touchstart(t, n, o) {
                        this._swipePoint || (this._tapTime && t.timeStamp - this._tapTime > 500 && this.reset(), this._tapTime ? o.length > 0 && (this._swipePoint = n[0], this._swipeTouch = o[0].identifier) : this._tap.touchstart(t, n, o))
                    }

                    touchmove(t, n, o) {
                        if (this._tapTime) {
                            if (this._swipePoint) {
                                if (o[0].identifier !== this._swipeTouch) return;
                                const l = n[0], p = l.y - this._swipePoint.y;
                                return this._swipePoint = l, t.preventDefault(), this._active = !0, {zoomDelta: p / 128}
                            }
                        } else this._tap.touchmove(t, n, o)
                    }

                    touchend(t, n, o) {
                        this._tapTime ? this._swipePoint && 0 === o.length && this.reset() : this._tap.touchend(t, n, o) && (this._tapTime = t.timeStamp)
                    }

                    touchcancel() {
                        this.reset()
                    }

                    enable() {
                        this._enabled = !0
                    }

                    disable() {
                        this._enabled = !1, this.reset()
                    }

                    isEnabled() {
                        return this._enabled
                    }

                    isActive() {
                        return this._active
                    }
                }

                class Ra {
                    constructor(t, n, o) {
                        this._el = t, this._mousePan = n, this._touchPan = o
                    }

                    enable(t) {
                        this._inertiaOptions = t || {}, this._mousePan.enable(), this._touchPan.enable(), this._el.classList.add("maplibregl-touch-drag-pan")
                    }

                    disable() {
                        this._mousePan.disable(), this._touchPan.disable(), this._el.classList.remove("maplibregl-touch-drag-pan")
                    }

                    isEnabled() {
                        return this._mousePan.isEnabled() && this._touchPan.isEnabled()
                    }

                    isActive() {
                        return this._mousePan.isActive() || this._touchPan.isActive()
                    }
                }

                class Gn {
                    constructor(t, n, o) {
                        this._pitchWithRotate = t.pitchWithRotate, this._mouseRotate = n, this._mousePitch = o
                    }

                    enable() {
                        this._mouseRotate.enable(), this._pitchWithRotate && this._mousePitch.enable()
                    }

                    disable() {
                        this._mouseRotate.disable(), this._mousePitch.disable()
                    }

                    isEnabled() {
                        return this._mouseRotate.isEnabled() && (!this._pitchWithRotate || this._mousePitch.isEnabled())
                    }

                    isActive() {
                        return this._mouseRotate.isActive() || this._mousePitch.isActive()
                    }
                }

                class Ts {
                    constructor(t, n, o, l) {
                        this._el = t, this._touchZoom = n, this._touchRotate = o, this._tapDragZoom = l, this._rotationDisabled = !1, this._enabled = !0
                    }

                    enable(t) {
                        this._touchZoom.enable(t), this._rotationDisabled || this._touchRotate.enable(t), this._tapDragZoom.enable(), this._el.classList.add("maplibregl-touch-zoom-rotate")
                    }

                    disable() {
                        this._touchZoom.disable(), this._touchRotate.disable(), this._tapDragZoom.disable(), this._el.classList.remove("maplibregl-touch-zoom-rotate")
                    }

                    isEnabled() {
                        return this._touchZoom.isEnabled() && (this._rotationDisabled || this._touchRotate.isEnabled()) && this._tapDragZoom.isEnabled()
                    }

                    isActive() {
                        return this._touchZoom.isActive() || this._touchRotate.isActive() || this._tapDragZoom.isActive()
                    }

                    disableRotation() {
                        this._rotationDisabled = !0, this._touchRotate.disable()
                    }

                    enableRotation() {
                        this._rotationDisabled = !1, this._touchZoom.isEnabled() && this._touchRotate.enable()
                    }
                }

                const Cn = a => a.zoom || a.drag || a.pitch || a.rotate;

                class Io extends h.Event {
                }

                function jn(a) {
                    return a.panDelta && a.panDelta.mag() || a.zoomDelta || a.bearingDelta || a.pitchDelta
                }

                class qn {
                    constructor(t, n) {
                        this._map = t, this._el = this._map.getCanvasContainer(), this._handlers = [], this._handlersById = {}, this._changes = [], this._inertia = new ka(t), this._bearingSnap = n.bearingSnap, this._previousActiveHandlers = {}, this._eventsInProgress = {}, this._addDefaultHandlers(n), h.bindAll(["handleEvent", "handleWindowEvent"], this);
                        const o = this._el;
                        this._listeners = [[o, "touchstart", {passive: !0}], [o, "touchmove", {passive: !1}], [o, "touchend", void 0], [o, "touchcancel", void 0], [o, "mousedown", void 0], [o, "mousemove", void 0], [o, "mouseup", void 0], [document, "mousemove", {capture: !0}], [document, "mouseup", void 0], [o, "mouseover", void 0], [o, "mouseout", void 0], [o, "dblclick", void 0], [o, "click", void 0], [o, "keydown", {capture: !1}], [o, "keyup", void 0], [o, "wheel", {passive: !1}], [o, "contextmenu", void 0], [window, "blur", void 0]];
                        for (const [l, p, m] of this._listeners) ie.addEventListener(l, p, l === document ? this.handleWindowEvent : this.handleEvent, m)
                    }

                    destroy() {
                        for (const [t, n, o] of this._listeners) ie.removeEventListener(t, n, t === document ? this.handleWindowEvent : this.handleEvent, o)
                    }

                    _addDefaultHandlers(t) {
                        const n = this._map, o = n.getCanvasContainer();
                        this._add("mapEvent", new vo(n, t));
                        const l = n.boxZoom = new wi(n, t);
                        this._add("boxZoom", l);
                        const p = new wo, m = new Rt;
                        n.doubleClickZoom = new Cs(m, p), this._add("tapZoom", p), this._add("clickZoom", m);
                        const g = new Vt;
                        this._add("tapDragZoom", g);
                        const y = n.touchPitch = new Co(n);
                        this._add("touchPitch", y);
                        const x = xs(t), C = So(t);
                        n.dragRotate = new Gn(t, x, C), this._add("mouseRotate", x, ["mousePitch"]), this._add("mousePitch", C, ["mouseRotate"]);
                        const S = (({enable: H, clickTolerance: X}) => {
                            const U = new Si({checkCorrectEvent: J => 0 === ie.mouseButton(J) && !J.ctrlKey});
                            return new Hr({
                                clickTolerance: X,
                                move: (J, te) => ({around: te, panDelta: te.sub(J)}),
                                activateOnStart: !0,
                                moveStateManager: U,
                                enable: H,
                                assignEvents: wn
                            })
                        })(t), M = new La(t, n);
                        n.dragPan = new Ra(o, S, M), this._add("mousePan", S), this._add("touchPan", M, ["touchZoom", "touchRotate"]);
                        const R = new Ge, B = new ws;
                        n.touchZoomRotate = new Ts(o, B, R, g), this._add("touchRotate", R, ["touchPan", "touchZoom"]), this._add("touchZoom", B, ["touchPan", "touchRotate"]);
                        const P = n.scrollZoom = new yl(n, this);
                        this._add("scrollZoom", P, ["mousePan"]);
                        const $ = n.keyboard = new Ci;
                        this._add("keyboard", $), this._add("blockableMapEvent", new bo(n));
                        for (const H of ["boxZoom", "doubleClickZoom", "tapDragZoom", "touchPitch", "dragRotate", "dragPan", "touchZoomRotate", "scrollZoom", "keyboard"]) t.interactive && t[H] && n[H].enable(t[H])
                    }

                    _add(t, n, o) {
                        this._handlers.push({handlerName: t, handler: n, allowed: o}), this._handlersById[t] = n
                    }

                    stop(t) {
                        if (!this._updatingCamera) {
                            for (const {handler: n} of this._handlers) n.reset();
                            this._inertia.clear(), this._fireEvents({}, {}, t), this._changes = []
                        }
                    }

                    isActive() {
                        for (const {handler: t} of this._handlers) if (t.isActive()) return !0;
                        return !1
                    }

                    isZooming() {
                        return !!this._eventsInProgress.zoom || this._map.scrollZoom.isZooming()
                    }

                    isRotating() {
                        return !!this._eventsInProgress.rotate
                    }

                    isMoving() {
                        return Boolean(Cn(this._eventsInProgress)) || this.isZooming()
                    }

                    _blockedByActive(t, n, o) {
                        for (const l in t) if (l !== o && (!n || n.indexOf(l) < 0)) return !0;
                        return !1
                    }

                    handleWindowEvent(t) {
                        this.handleEvent(t, `${t.type}Window`)
                    }

                    _getMapTouches(t) {
                        const n = [];
                        for (const o of t) this._el.contains(o.target) && n.push(o);
                        return n
                    }

                    handleEvent(t, n) {
                        if ("blur" === t.type) return void this.stop(!0);
                        this._updatingCamera = !0;
                        const o = "renderFrame" === t.type ? void 0 : t, l = {needsRenderFrame: !1}, p = {}, m = {},
                            g = t.touches, y = g ? this._getMapTouches(g) : void 0,
                            x = y ? ie.touchPos(this._el, y) : ie.mousePos(this._el, t);
                        for (const {handlerName: M, handler: R, allowed: B} of this._handlers) {
                            if (!R.isEnabled()) continue;
                            let P;
                            this._blockedByActive(m, B, M) ? R.reset() : R[n || t.type] && (P = R[n || t.type](t, x, y), this.mergeHandlerResult(l, p, P, M, o), P && P.needsRenderFrame && this._triggerRenderFrame()), (P || R.isActive()) && (m[M] = R)
                        }
                        const C = {};
                        for (const M in this._previousActiveHandlers) m[M] || (C[M] = o);
                        this._previousActiveHandlers = m, (Object.keys(C).length || jn(l)) && (this._changes.push([l, p, C]), this._triggerRenderFrame()), (Object.keys(m).length || jn(l)) && this._map._stop(!0), this._updatingCamera = !1;
                        const {cameraAnimation: S} = l;
                        S && (this._inertia.clear(), this._fireEvents({}, {}, !0), this._changes = [], S(this._map))
                    }

                    mergeHandlerResult(t, n, o, l, p) {
                        if (!o) return;
                        h.extend(t, o);
                        const m = {handlerName: l, originalEvent: o.originalEvent || p};
                        void 0 !== o.zoomDelta && (n.zoom = m), void 0 !== o.panDelta && (n.drag = m), void 0 !== o.pitchDelta && (n.pitch = m), void 0 !== o.bearingDelta && (n.rotate = m)
                    }

                    _applyChanges() {
                        const t = {}, n = {}, o = {};
                        for (const [l, p, m] of this._changes) l.panDelta && (t.panDelta = (t.panDelta || new h.pointGeometry(0, 0))._add(l.panDelta)), l.zoomDelta && (t.zoomDelta = (t.zoomDelta || 0) + l.zoomDelta), l.bearingDelta && (t.bearingDelta = (t.bearingDelta || 0) + l.bearingDelta), l.pitchDelta && (t.pitchDelta = (t.pitchDelta || 0) + l.pitchDelta), void 0 !== l.around && (t.around = l.around), void 0 !== l.pinchAround && (t.pinchAround = l.pinchAround), l.noInertia && (t.noInertia = l.noInertia), h.extend(n, p), h.extend(o, m);
                        this._updateMapTransform(t, n, o), this._changes = []
                    }

                    _updateMapTransform(t, n, o) {
                        const l = this._map, p = l.transform, m = l.terrain;
                        if (!(jn(t) || m && this._terrainMovement)) return this._fireEvents(n, o, !0);
                        let {panDelta: g, zoomDelta: y, bearingDelta: x, pitchDelta: C, around: S, pinchAround: M} = t;
                        void 0 !== M && (S = M), l._stop(!0), S = S || l.transform.centerPoint;
                        const R = p.pointLocation(g ? S.sub(g) : S);
                        x && (p.bearing += x), C && (p.pitch += C), y && (p.zoom += y), m ? this._terrainMovement || !n.drag && !n.zoom ? n.drag && this._terrainMovement ? p.center = p.pointLocation(p.centerPoint.sub(g)) : p.setLocationAtPoint(R, S) : (this._terrainMovement = !0, p.freezeElevation = !0, p.setLocationAtPoint(R, S), this._map.once("moveend", () => {
                            p.freezeElevation = !1, this._terrainMovement = !1, p.recalculateZoom(l.terrain)
                        })) : p.setLocationAtPoint(R, S), this._map._update(), t.noInertia || this._inertia.record(t), this._fireEvents(n, o, !0)
                    }

                    _fireEvents(t, n, o) {
                        const l = Cn(this._eventsInProgress), p = Cn(t), m = {};
                        for (const C in t) {
                            const {originalEvent: S} = t[C];
                            this._eventsInProgress[C] || (m[`${C}start`] = S), this._eventsInProgress[C] = t[C]
                        }
                        !l && p && this._fireEvent("movestart", p.originalEvent);
                        for (const C in m) this._fireEvent(C, m[C]);
                        p && this._fireEvent("move", p.originalEvent);
                        for (const C in t) {
                            const {originalEvent: S} = t[C];
                            this._fireEvent(C, S)
                        }
                        const g = {};
                        let y;
                        for (const C in this._eventsInProgress) {
                            const {handlerName: S, originalEvent: M} = this._eventsInProgress[C];
                            this._handlersById[S].isActive() || (delete this._eventsInProgress[C], y = n[S] || M, g[`${C}end`] = y)
                        }
                        for (const C in g) this._fireEvent(C, g[C]);
                        const x = Cn(this._eventsInProgress);
                        if (o && (l || p) && !x) {
                            this._updatingCamera = !0;
                            const C = this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),
                                S = M => 0 !== M && -this._bearingSnap < M && M < this._bearingSnap;
                            C ? (S(C.bearing || this._map.getBearing()) && (C.bearing = 0), C.freezeElevation = !0, this._map.easeTo(C, {originalEvent: y})) : (this._map.fire(new h.Event("moveend", {originalEvent: y})), S(this._map.getBearing()) && this._map.resetNorth()), this._updatingCamera = !1
                        }
                    }

                    _fireEvent(t, n) {
                        this._map.fire(new h.Event(t, n ? {originalEvent: n} : {}))
                    }

                    _requestFrame() {
                        return this._map.triggerRepaint(), this._map._renderTaskQueue.add(t => {
                            delete this._frameId, this.handleEvent(new Io("renderFrame", {timeStamp: t})), this._applyChanges()
                        })
                    }

                    _triggerRenderFrame() {
                        void 0 === this._frameId && (this._frameId = this._requestFrame())
                    }
                }

                const Eo = {
                    extend: (a, ...t) => h.extend(a, ...t), run(a) {
                        a()
                    }, logToElement(a, t = !1, n = "log") {
                        const o = window.document.getElementById(n);
                        o && (t && (o.innerHTML = ""), o.innerHTML += `<br>${a}`)
                    }
                };

                class Mo extends h.Evented {
                    constructor(t, n) {
                        super(), this._moving = !1, this._zooming = !1, this.transform = t, this._bearingSnap = n.bearingSnap, h.bindAll(["_renderFrameCallback"], this)
                    }

                    getCenter() {
                        return new h.LngLat(this.transform.center.lng, this.transform.center.lat)
                    }

                    setCenter(t, n) {
                        return this.jumpTo({center: t}, n)
                    }

                    panBy(t, n, o) {
                        return t = h.pointGeometry.convert(t).mult(-1), this.panTo(this.transform.center, h.extend({offset: t}, n), o)
                    }

                    panTo(t, n, o) {
                        return this.easeTo(h.extend({center: t}, n), o)
                    }

                    getZoom() {
                        return this.transform.zoom
                    }

                    setZoom(t, n) {
                        return this.jumpTo({zoom: t}, n), this
                    }

                    zoomTo(t, n, o) {
                        return this.easeTo(h.extend({zoom: t}, n), o)
                    }

                    zoomIn(t, n) {
                        return this.zoomTo(this.getZoom() + 1, t, n), this
                    }

                    zoomOut(t, n) {
                        return this.zoomTo(this.getZoom() - 1, t, n), this
                    }

                    getBearing() {
                        return this.transform.bearing
                    }

                    setBearing(t, n) {
                        return this.jumpTo({bearing: t}, n), this
                    }

                    getPadding() {
                        return this.transform.padding
                    }

                    setPadding(t, n) {
                        return this.jumpTo({padding: t}, n), this
                    }

                    rotateTo(t, n, o) {
                        return this.easeTo(h.extend({bearing: t}, n), o)
                    }

                    resetNorth(t, n) {
                        return this.rotateTo(0, h.extend({duration: 1e3}, t), n), this
                    }

                    resetNorthPitch(t, n) {
                        return this.easeTo(h.extend({bearing: 0, pitch: 0, duration: 1e3}, t), n), this
                    }

                    snapToNorth(t, n) {
                        return Math.abs(this.getBearing()) < this._bearingSnap ? this.resetNorth(t, n) : this
                    }

                    getPitch() {
                        return this.transform.pitch
                    }

                    setPitch(t, n) {
                        return this.jumpTo({pitch: t}, n), this
                    }

                    cameraForBounds(t, n) {
                        t = h.LngLatBounds.convert(t);
                        const o = n && n.bearing || 0;
                        return this._cameraForBoxAndBearing(t.getNorthWest(), t.getSouthEast(), o, n)
                    }

                    _cameraForBoxAndBearing(t, n, o, l) {
                        const p = {top: 0, bottom: 0, right: 0, left: 0};
                        if ("number" == typeof (l = h.extend({
                            padding: p,
                            offset: [0, 0],
                            maxZoom: this.transform.maxZoom
                        }, l)).padding) {
                            const te = l.padding;
                            l.padding = {top: te, bottom: te, right: te, left: te}
                        }
                        l.padding = h.extend(p, l.padding);
                        const m = this.transform, g = m.padding, y = m.project(h.LngLat.convert(t)),
                            x = m.project(h.LngLat.convert(n)), C = y.rotate(-o * Math.PI / 180),
                            S = x.rotate(-o * Math.PI / 180),
                            M = new h.pointGeometry(Math.max(C.x, S.x), Math.max(C.y, S.y)),
                            R = new h.pointGeometry(Math.min(C.x, S.x), Math.min(C.y, S.y)), B = M.sub(R),
                            P = (m.width - (g.left + g.right + l.padding.left + l.padding.right)) / B.x,
                            $ = (m.height - (g.top + g.bottom + l.padding.top + l.padding.bottom)) / B.y;
                        if ($ < 0 || P < 0) return void h.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");
                        const H = Math.min(m.scaleZoom(m.scale * Math.min(P, $)), l.maxZoom),
                            X = h.pointGeometry.convert(l.offset),
                            U = new h.pointGeometry((l.padding.left - l.padding.right) / 2, (l.padding.top - l.padding.bottom) / 2).rotate(o * Math.PI / 180),
                            J = X.add(U).mult(m.scale / m.zoomScale(H));
                        return {center: m.unproject(y.add(x).div(2).sub(J)), zoom: H, bearing: o}
                    }

                    fitBounds(t, n, o) {
                        return this._fitInternal(this.cameraForBounds(t, n), n, o)
                    }

                    fitScreenCoordinates(t, n, o, l, p) {
                        return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(h.pointGeometry.convert(t)), this.transform.pointLocation(h.pointGeometry.convert(n)), o, l), l, p)
                    }

                    _fitInternal(t, n, o) {
                        return t ? (delete (n = h.extend(t, n)).padding, n.linear ? this.easeTo(n, o) : this.flyTo(n, o)) : this
                    }

                    jumpTo(t, n) {
                        this.stop();
                        const o = this.transform;
                        let l = !1, p = !1, m = !1;
                        return "zoom" in t && o.zoom !== +t.zoom && (l = !0, o.zoom = +t.zoom), void 0 !== t.center && (o.center = h.LngLat.convert(t.center)), "bearing" in t && o.bearing !== +t.bearing && (p = !0, o.bearing = +t.bearing), "pitch" in t && o.pitch !== +t.pitch && (m = !0, o.pitch = +t.pitch), null == t.padding || o.isPaddingEqual(t.padding) || (o.padding = t.padding), this.fire(new h.Event("movestart", n)).fire(new h.Event("move", n)), l && this.fire(new h.Event("zoomstart", n)).fire(new h.Event("zoom", n)).fire(new h.Event("zoomend", n)), p && this.fire(new h.Event("rotatestart", n)).fire(new h.Event("rotate", n)).fire(new h.Event("rotateend", n)), m && this.fire(new h.Event("pitchstart", n)).fire(new h.Event("pitch", n)).fire(new h.Event("pitchend", n)), this.fire(new h.Event("moveend", n))
                    }

                    calculateCameraOptionsFromTo(t, n, o, l = 0) {
                        const p = h.MercatorCoordinate.fromLngLat(t, n), m = h.MercatorCoordinate.fromLngLat(o, l),
                            g = m.x - p.x, y = m.y - p.y, x = m.z - p.z, C = Math.hypot(g, y, x);
                        if (0 === C) throw new Error("Can't calculate camera options with same From and To");
                        const S = Math.hypot(g, y),
                            M = this.transform.scaleZoom(this.transform.cameraToCenterDistance / C / this.transform.tileSize),
                            R = 180 * Math.atan2(g, -y) / Math.PI;
                        let B = 180 * Math.acos(S / C) / Math.PI;
                        return B = x < 0 ? 90 - B : 90 + B, {center: m.toLngLat(), zoom: M, pitch: B, bearing: R}
                    }

                    easeTo(t, n) {
                        this._stop(!1, t.easeId), (!1 === (t = h.extend({
                            offset: [0, 0],
                            duration: 500,
                            easing: h.ease
                        }, t)).animate || !t.essential && h.exported.prefersReducedMotion) && (t.duration = 0);
                        const o = this.transform, l = this.getZoom(), p = this.getBearing(), m = this.getPitch(),
                            g = this.getPadding(), y = "zoom" in t ? +t.zoom : l,
                            x = "bearing" in t ? this._normalizeBearing(t.bearing, p) : p,
                            C = "pitch" in t ? +t.pitch : m, S = "padding" in t ? t.padding : o.padding,
                            M = h.pointGeometry.convert(t.offset);
                        let R = o.centerPoint.add(M);
                        const B = o.pointLocation(R), P = h.LngLat.convert(t.center || B);
                        this._normalizeCenter(P);
                        const $ = o.project(B), H = o.project(P).sub($), X = o.zoomScale(y - l);
                        let U, J;
                        t.around && (U = h.LngLat.convert(t.around), J = o.locationPoint(U));
                        const te = {
                            moving: this._moving,
                            zooming: this._zooming,
                            rotating: this._rotating,
                            pitching: this._pitching
                        };
                        return this._zooming = this._zooming || y !== l, this._rotating = this._rotating || p !== x, this._pitching = this._pitching || C !== m, this._padding = !o.isPaddingEqual(S), this._easeId = t.easeId, this._prepareEase(n, t.noMoveStart, te), this.terrain && this._prepareElevation(P), this._ease(re => {
                            if (this._zooming && (o.zoom = h.number(l, y, re)), this._rotating && (o.bearing = h.number(p, x, re)), this._pitching && (o.pitch = h.number(m, C, re)), this._padding && (o.interpolatePadding(g, S, re), R = o.centerPoint.add(M)), this.terrain && !t.freezeElevation && this._updateElevation(re), U) o.setLocationAtPoint(U, J); else {
                                const ae = o.zoomScale(o.zoom - l), ce = y > l ? Math.min(2, X) : Math.max(.5, X),
                                    ge = Math.pow(ce, 1 - re), de = o.unproject($.add(H.mult(re * ge)).mult(ae));
                                o.setLocationAtPoint(o.renderWorldCopies ? de.wrap() : de, R)
                            }
                            this._fireMoveEvents(n)
                        }, re => {
                            this.terrain && this._finalizeElevation(), this._afterEase(n, re)
                        }, t), this
                    }

                    _prepareEase(t, n, o = {}) {
                        this._moving = !0, n || o.moving || this.fire(new h.Event("movestart", t)), this._zooming && !o.zooming && this.fire(new h.Event("zoomstart", t)), this._rotating && !o.rotating && this.fire(new h.Event("rotatestart", t)), this._pitching && !o.pitching && this.fire(new h.Event("pitchstart", t))
                    }

                    _prepareElevation(t) {
                        this._elevationCenter = t, this._elevationStart = this.transform.elevation, this._elevationTarget = this.transform.getElevation(t, this.terrain), this.transform.freezeElevation = !0
                    }

                    _updateElevation(t) {
                        const n = this.transform.getElevation(this._elevationCenter, this.terrain);
                        if (t < 1 && n !== this._elevationTarget) {
                            const o = this._elevationTarget - this._elevationStart;
                            this._elevationStart += t * (o - (n - (o * t + this._elevationStart)) / (1 - t)), this._elevationTarget = n
                        }
                        this.transform.elevation = h.number(this._elevationStart, this._elevationTarget, t)
                    }

                    _finalizeElevation() {
                        this.transform.freezeElevation = !1, this.transform.recalculateZoom(this.terrain)
                    }

                    _fireMoveEvents(t) {
                        this.fire(new h.Event("move", t)), this._zooming && this.fire(new h.Event("zoom", t)), this._rotating && this.fire(new h.Event("rotate", t)), this._pitching && this.fire(new h.Event("pitch", t))
                    }

                    _afterEase(t, n) {
                        if (this._easeId && n && this._easeId === n) return;
                        delete this._easeId;
                        const o = this._zooming, l = this._rotating, p = this._pitching;
                        this._moving = !1, this._zooming = !1, this._rotating = !1, this._pitching = !1, this._padding = !1, o && this.fire(new h.Event("zoomend", t)), l && this.fire(new h.Event("rotateend", t)), p && this.fire(new h.Event("pitchend", t)), this.fire(new h.Event("moveend", t))
                    }

                    flyTo(t, n) {
                        if (!t.essential && h.exported.prefersReducedMotion) {
                            const ze = h.pick(t, ["center", "zoom", "bearing", "pitch", "around"]);
                            return this.jumpTo(ze, n)
                        }
                        this.stop(), t = h.extend({offset: [0, 0], speed: 1.2, curve: 1.42, easing: h.ease}, t);
                        const o = this.transform, l = this.getZoom(), p = this.getBearing(), m = this.getPitch(),
                            g = this.getPadding(), y = "zoom" in t ? h.clamp(+t.zoom, o.minZoom, o.maxZoom) : l,
                            x = "bearing" in t ? this._normalizeBearing(t.bearing, p) : p,
                            C = "pitch" in t ? +t.pitch : m, S = "padding" in t ? t.padding : o.padding,
                            M = o.zoomScale(y - l), R = h.pointGeometry.convert(t.offset);
                        let B = o.centerPoint.add(R);
                        const P = o.pointLocation(B), $ = h.LngLat.convert(t.center || P);
                        this._normalizeCenter($);
                        const H = o.project(P), X = o.project($).sub(H);
                        let U = t.curve;
                        const J = Math.max(o.width, o.height), te = J / M, re = X.mag();
                        if ("minZoom" in t) {
                            const ze = h.clamp(Math.min(t.minZoom, l, y), o.minZoom, o.maxZoom),
                                ht = J / o.zoomScale(ze - l);
                            U = Math.sqrt(ht / re * 2)
                        }
                        const ae = U * U;

                        function ce(ze) {
                            const ht = (te * te - J * J + (ze ? -1 : 1) * ae * ae * re * re) / (2 * (ze ? te : J) * ae * re);
                            return Math.log(Math.sqrt(ht * ht + 1) - ht)
                        }

                        function ge(ze) {
                            return (Math.exp(ze) - Math.exp(-ze)) / 2
                        }

                        function de(ze) {
                            return (Math.exp(ze) + Math.exp(-ze)) / 2
                        }

                        const ye = ce(0);
                        let Ae = function (ze) {
                            return de(ye) / de(ye + U * ze)
                        }, qe = function (ze) {
                            return J * ((de(ye) * (ge(ht = ye + U * ze) / de(ht)) - ge(ye)) / ae) / re;
                            var ht
                        }, We = (ce(1) - ye) / U;
                        if (Math.abs(re) < 1e-6 || !isFinite(We)) {
                            if (Math.abs(J - te) < 1e-6) return this.easeTo(t, n);
                            const ze = te < J ? -1 : 1;
                            We = Math.abs(Math.log(te / J)) / U, qe = function () {
                                return 0
                            }, Ae = function (ht) {
                                return Math.exp(ze * U * ht)
                            }
                        }
                        return t.duration = "duration" in t ? +t.duration : 1e3 * We / ("screenSpeed" in t ? +t.screenSpeed / U : +t.speed), t.maxDuration && t.duration > t.maxDuration && (t.duration = 0), this._zooming = !0, this._rotating = p !== x, this._pitching = C !== m, this._padding = !o.isPaddingEqual(S), this._prepareEase(n, !1), this.terrain && this._prepareElevation($), this._ease(ze => {
                            const ht = ze * We, ut = 1 / Ae(ht);
                            o.zoom = 1 === ze ? y : l + o.scaleZoom(ut), this._rotating && (o.bearing = h.number(p, x, ze)), this._pitching && (o.pitch = h.number(m, C, ze)), this._padding && (o.interpolatePadding(g, S, ze), B = o.centerPoint.add(R)), this.terrain && !t.freezeElevation && this._updateElevation(ze);
                            const He = 1 === ze ? $ : o.unproject(H.add(X.mult(qe(ht))).mult(ut));
                            o.setLocationAtPoint(o.renderWorldCopies ? He.wrap() : He, B), this._fireMoveEvents(n)
                        }, () => {
                            this.terrain && this._finalizeElevation(), this._afterEase(n)
                        }, t), this
                    }

                    isEasing() {
                        return !!this._easeFrameId
                    }

                    stop() {
                        return this._stop()
                    }

                    _stop(t, n) {
                        if (this._easeFrameId && (this._cancelRenderFrame(this._easeFrameId), delete this._easeFrameId, delete this._onEaseFrame), this._onEaseEnd) {
                            const o = this._onEaseEnd;
                            delete this._onEaseEnd, o.call(this, n)
                        }
                        if (!t) {
                            const o = this.handlers;
                            o && o.stop(!1)
                        }
                        return this
                    }

                    _ease(t, n, o) {
                        !1 === o.animate || 0 === o.duration ? (t(1), n()) : (this._easeStart = h.exported.now(), this._easeOptions = o, this._onEaseFrame = t, this._onEaseEnd = n, this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback))
                    }

                    _renderFrameCallback() {
                        const t = Math.min((h.exported.now() - this._easeStart) / this._easeOptions.duration, 1);
                        this._onEaseFrame(this._easeOptions.easing(t)), t < 1 ? this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback) : this.stop()
                    }

                    _normalizeBearing(t, n) {
                        t = h.wrap(t, -180, 180);
                        const o = Math.abs(t - n);
                        return Math.abs(t - 360 - n) < o && (t -= 360), Math.abs(t + 360 - n) < o && (t += 360), t
                    }

                    _normalizeCenter(t) {
                        const n = this.transform;
                        if (!n.renderWorldCopies || n.lngRange) return;
                        const o = t.lng - n.center.lng;
                        t.lng += o > 180 ? -360 : o < -180 ? 360 : 0
                    }
                }

                class Is {
                    constructor(t = {}) {
                        this.options = t, h.bindAll(["_toggleAttribution", "_updateData", "_updateCompact", "_updateCompactMinimize"], this)
                    }

                    getDefaultPosition() {
                        return "bottom-right"
                    }

                    onAdd(t) {
                        return this._map = t, this._compact = this.options && this.options.compact, this._container = ie.create("details", "maplibregl-ctrl maplibregl-ctrl-attrib"), this._compactButton = ie.create("summary", "maplibregl-ctrl-attrib-button", this._container), this._compactButton.addEventListener("click", this._toggleAttribution), this._setElementTitle(this._compactButton, "ToggleAttribution"), this._innerContainer = ie.create("div", "maplibregl-ctrl-attrib-inner", this._container), this._updateAttributions(), this._updateCompact(), this._map.on("styledata", this._updateData), this._map.on("sourcedata", this._updateData), this._map.on("terrain", this._updateData), this._map.on("resize", this._updateCompact), this._map.on("drag", this._updateCompactMinimize), this._container
                    }

                    onRemove() {
                        ie.remove(this._container), this._map.off("styledata", this._updateData), this._map.off("sourcedata", this._updateData), this._map.off("terrain", this._updateData), this._map.off("resize", this._updateCompact), this._map.off("drag", this._updateCompactMinimize), this._map = void 0, this._compact = void 0, this._attribHTML = void 0
                    }

                    _setElementTitle(t, n) {
                        const o = this._map._getUIString(`AttributionControl.${n}`);
                        t.title = o, t.setAttribute("aria-label", o)
                    }

                    _toggleAttribution() {
                        this._container.classList.contains("maplibregl-compact") && (this._container.classList.contains("maplibregl-compact-show") ? (this._container.setAttribute("open", ""), this._container.classList.remove("maplibregl-compact-show")) : (this._container.classList.add("maplibregl-compact-show"), this._container.removeAttribute("open")))
                    }

                    _updateData(t) {
                        !t || "metadata" !== t.sourceDataType && "visibility" !== t.sourceDataType && "style" !== t.dataType && "terrain" !== t.type || this._updateAttributions()
                    }

                    _updateAttributions() {
                        if (!this._map.style) return;
                        let t = [];
                        if (this.options.customAttribution && (Array.isArray(this.options.customAttribution) ? t = t.concat(this.options.customAttribution.map(l => "string" != typeof l ? "" : l)) : "string" == typeof this.options.customAttribution && t.push(this.options.customAttribution)), this._map.style.stylesheet) {
                            const l = this._map.style.stylesheet;
                            this.styleOwner = l.owner, this.styleId = l.id
                        }
                        const n = this._map.style.sourceCaches;
                        for (const l in n) {
                            const p = n[l];
                            if (p.used || p.usedForTerrain) {
                                const m = p.getSource();
                                m.attribution && t.indexOf(m.attribution) < 0 && t.push(m.attribution)
                            }
                        }
                        t = t.filter(l => String(l).trim()), t.sort((l, p) => l.length - p.length), t = t.filter((l, p) => {
                            for (let m = p + 1; m < t.length; m++) if (t[m].indexOf(l) >= 0) return !1;
                            return !0
                        });
                        const o = t.join(" | ");
                        o !== this._attribHTML && (this._attribHTML = o, t.length ? (this._innerContainer.innerHTML = o, this._container.classList.remove("maplibregl-attrib-empty")) : this._container.classList.add("maplibregl-attrib-empty"), this._updateCompact(), this._editLink = null)
                    }

                    _updateCompact() {
                        this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? !1 === this._compact ? this._container.setAttribute("open", "") : this._container.classList.contains("maplibregl-compact") || this._container.classList.contains("maplibregl-attrib-empty") || (this._container.setAttribute("open", ""), this._container.classList.add("maplibregl-compact", "maplibregl-compact-show")) : (this._container.setAttribute("open", ""), this._container.classList.contains("maplibregl-compact") && this._container.classList.remove("maplibregl-compact", "maplibregl-compact-show"))
                    }

                    _updateCompactMinimize() {
                        this._container.classList.contains("maplibregl-compact") && this._container.classList.contains("maplibregl-compact-show") && this._container.classList.remove("maplibregl-compact-show")
                    }
                }

                class Es {
                    constructor(t = {}) {
                        this.options = t, h.bindAll(["_updateCompact"], this)
                    }

                    getDefaultPosition() {
                        return "bottom-left"
                    }

                    onAdd(t) {
                        this._map = t, this._compact = this.options && this.options.compact, this._container = ie.create("div", "maplibregl-ctrl");
                        const n = ie.create("a", "maplibregl-ctrl-logo");
                        return n.target = "_blank", n.rel = "noopener nofollow", n.href = "https://maplibre.org/", n.setAttribute("aria-label", this._map._getUIString("LogoControl.Title")), n.setAttribute("rel", "noopener nofollow"), this._container.appendChild(n), this._container.style.display = "block", this._map.on("resize", this._updateCompact), this._updateCompact(), this._container
                    }

                    onRemove() {
                        ie.remove(this._container), this._map.off("resize", this._updateCompact), this._map = void 0, this._compact = void 0
                    }

                    _updateCompact() {
                        const t = this._container.children;
                        if (t.length) {
                            const n = t[0];
                            this._map.getCanvasContainer().offsetWidth <= 640 || this._compact ? !1 !== this._compact && n.classList.add("maplibregl-compact") : n.classList.remove("maplibregl-compact")
                        }
                    }
                }

                class Ao {
                    constructor() {
                        this._queue = [], this._id = 0, this._cleared = !1, this._currentlyRunning = !1
                    }

                    add(t) {
                        const n = ++this._id;
                        return this._queue.push({callback: t, id: n, cancelled: !1}), n
                    }

                    remove(t) {
                        const n = this._currentlyRunning, o = n ? this._queue.concat(n) : this._queue;
                        for (const l of o) if (l.id === t) return void (l.cancelled = !0)
                    }

                    run(t = 0) {
                        if (this._currentlyRunning) throw new Error("Attempting to run(), but is already running.");
                        const n = this._currentlyRunning = this._queue;
                        this._queue = [];
                        for (const o of n) if (!o.cancelled && (o.callback(t), this._cleared)) break;
                        this._cleared = !1, this._currentlyRunning = !1
                    }

                    clear() {
                        this._currentlyRunning && (this._cleared = !0), this._queue = []
                    }
                }

                const zo = {
                    "AttributionControl.ToggleAttribution": "Toggle attribution",
                    "AttributionControl.MapFeedback": "Map feedback",
                    "FullscreenControl.Enter": "Enter fullscreen",
                    "FullscreenControl.Exit": "Exit fullscreen",
                    "GeolocateControl.FindMyLocation": "Find my location",
                    "GeolocateControl.LocationNotAvailable": "Location not available",
                    "LogoControl.Title": "Mapbox logo",
                    "NavigationControl.ResetBearing": "Reset bearing to north",
                    "NavigationControl.ZoomIn": "Zoom in",
                    "NavigationControl.ZoomOut": "Zoom out",
                    "ScaleControl.Feet": "ft",
                    "ScaleControl.Meters": "m",
                    "ScaleControl.Kilometers": "km",
                    "ScaleControl.Miles": "mi",
                    "ScaleControl.NauticalMiles": "nm",
                    "TerrainControl.enableTerrain": "Enable terrain",
                    "TerrainControl.disableTerrain": "Disable terrain"
                };
                var ko = h.createLayout([{name: "a_pos3d", type: "Int16", components: 3}]);

                class Po extends h.Evented {
                    constructor(t) {
                        super(), this.sourceCache = t, this._tiles = {}, this._renderableTilesKeys = [], this._sourceTileCache = {}, this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.deltaZoom = 1, t.usedForTerrain = !0, t.tileSize = this.tileSize * 2 ** this.deltaZoom
                    }

                    destruct() {
                        this.sourceCache.usedForTerrain = !1, this.sourceCache.tileSize = null
                    }

                    update(t, n) {
                        this.sourceCache.update(t, n), this._renderableTilesKeys = [];
                        const o = {};
                        for (const l of t.coveringTiles({
                            tileSize: this.tileSize,
                            minzoom: this.minzoom,
                            maxzoom: this.maxzoom,
                            reparseOverscaled: !1,
                            terrain: n
                        })) o[l.key] = !0, this._renderableTilesKeys.push(l.key), this._tiles[l.key] || (l.posMatrix = new Float64Array(16), h.ortho(l.posMatrix, 0, h.EXTENT, 0, h.EXTENT, 0, 1), this._tiles[l.key] = new je(l, this.tileSize));
                        for (const l in this._tiles) o[l] || delete this._tiles[l]
                    }

                    freeRtt(t) {
                        for (const n in this._tiles) {
                            const o = this._tiles[n];
                            (!t || o.tileID.equals(t) || o.tileID.isChildOf(t) || t.isChildOf(o.tileID)) && (o.rtt = [])
                        }
                    }

                    getRenderableTiles() {
                        return this._renderableTilesKeys.map(t => this.getTileByID(t))
                    }

                    getTileByID(t) {
                        return this._tiles[t]
                    }

                    getTerrainCoords(t) {
                        const n = {};
                        for (const o of this._renderableTilesKeys) {
                            const l = this._tiles[o].tileID;
                            if (l.canonical.equals(t.canonical)) {
                                const p = t.clone();
                                p.posMatrix = new Float64Array(16), h.ortho(p.posMatrix, 0, h.EXTENT, 0, h.EXTENT, 0, 1), n[o] = p
                            } else if (l.canonical.isChildOf(t.canonical)) {
                                const p = t.clone();
                                p.posMatrix = new Float64Array(16);
                                const m = l.canonical.z - t.canonical.z, g = l.canonical.x - (l.canonical.x >> m << m),
                                    y = l.canonical.y - (l.canonical.y >> m << m), x = h.EXTENT >> m;
                                h.ortho(p.posMatrix, 0, x, 0, x, 0, 1), h.translate(p.posMatrix, p.posMatrix, [-g * x, -y * x, 0]), n[o] = p
                            } else if (t.canonical.isChildOf(l.canonical)) {
                                const p = t.clone();
                                p.posMatrix = new Float64Array(16);
                                const m = t.canonical.z - l.canonical.z, g = t.canonical.x - (t.canonical.x >> m << m),
                                    y = t.canonical.y - (t.canonical.y >> m << m), x = h.EXTENT >> m;
                                h.ortho(p.posMatrix, 0, h.EXTENT, 0, h.EXTENT, 0, 1), h.translate(p.posMatrix, p.posMatrix, [g * x, y * x, 0]), h.scale(p.posMatrix, p.posMatrix, [1 / 2 ** m, 1 / 2 ** m, 0]), n[o] = p
                            }
                        }
                        return n
                    }

                    getSourceTile(t, n) {
                        const o = this.sourceCache._source;
                        let l = t.overscaledZ - this.deltaZoom;
                        if (l > o.maxzoom && (l = o.maxzoom), l < o.minzoom) return null;
                        this._sourceTileCache[t.key] || (this._sourceTileCache[t.key] = t.scaledTo(l).key);
                        let p = this.sourceCache.getTileByID(this._sourceTileCache[t.key]);
                        if ((!p || !p.dem) && n) for (; l >= o.minzoom && (!p || !p.dem);) p = this.sourceCache.getTileByID(t.scaledTo(l--).key);
                        return p
                    }

                    tilesAfterTime(t = Date.now()) {
                        return Object.values(this._tiles).filter(n => n.timeAdded >= t)
                    }
                }

                class Ms {
                    constructor(t, n, o) {
                        this.painter = t, this.sourceCache = new Po(n), this.options = o, this.exaggeration = "number" == typeof o.exaggeration ? o.exaggeration : 1, this.qualityFactor = 2, this.meshSize = 128, this._demMatrixCache = {}, this.coordsIndex = [], this._coordsTextureSize = 1024
                    }

                    getDEMElevation(t, n, o, l = h.EXTENT) {
                        if (!(n >= 0 && n < l && o >= 0 && o < l)) return 0;
                        let p = 0;
                        const m = this.getTerrainData(t);
                        if (m.tile && m.tile.dem) {
                            const g = ((B = [])[0] = ($ = m.u_terrain_matrix)[0] * (H = (P = [n / l * h.EXTENT, o / l * h.EXTENT])[0]) + $[4] * (X = P[1]) + $[12], B[1] = $[1] * H + $[5] * X + $[13], B),
                                y = [g[0] * m.tile.dem.dim, g[1] * m.tile.dem.dim],
                                x = [Math.floor(y[0]), Math.floor(y[1])], C = m.tile.dem.get(x[0], x[1]),
                                S = m.tile.dem.get(x[0], x[1] + 1), M = m.tile.dem.get(x[0] + 1, x[1]),
                                R = m.tile.dem.get(x[0] + 1, x[1] + 1);
                            p = h.number(h.number(C, S, y[0] - x[0]), h.number(M, R, y[0] - x[0]), y[1] - x[1])
                        }
                        var B, P, $, H, X;
                        return p
                    }

                    getElevation(t, n, o, l = h.EXTENT) {
                        return this.getDEMElevation(t, n, o, l) * this.exaggeration
                    }

                    getTerrainData(t) {
                        if (!this._emptyDemTexture) {
                            const l = this.painter.context,
                                p = new h.RGBAImage({width: 1, height: 1}, new Uint8Array(4));
                            this._emptyDepthTexture = new St(l, p, l.gl.RGBA, {premultiply: !1}), this._emptyDemUnpack = [0, 0, 0, 0], this._emptyDemTexture = new St(l, new h.RGBAImage({
                                width: 1,
                                height: 1
                            }), l.gl.RGBA, {premultiply: !1}), this._emptyDemTexture.bind(l.gl.NEAREST, l.gl.CLAMP_TO_EDGE), this._emptyDemMatrix = h.identity([])
                        }
                        const n = this.sourceCache.getSourceTile(t, !0);
                        if (n && n.dem && (!n.demTexture || n.needsTerrainPrepare)) {
                            const l = this.painter.context;
                            n.demTexture = this.painter.getTileTexture(n.dem.stride), n.demTexture ? n.demTexture.update(n.dem.getPixels(), {premultiply: !1}) : n.demTexture = new St(l, n.dem.getPixels(), l.gl.RGBA, {premultiply: !1}), n.demTexture.bind(l.gl.NEAREST, l.gl.CLAMP_TO_EDGE), n.needsTerrainPrepare = !1
                        }
                        const o = n && n + n.tileID.key + t.key;
                        if (o && !this._demMatrixCache[o]) {
                            const l = this.sourceCache.sourceCache._source.maxzoom;
                            let p = t.canonical.z - n.tileID.canonical.z;
                            t.overscaledZ > t.canonical.z && (t.canonical.z >= l ? p = t.canonical.z - l : h.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));
                            const m = t.canonical.x - (t.canonical.x >> p << p),
                                g = t.canonical.y - (t.canonical.y >> p << p),
                                y = h.fromScaling(new Float64Array(16), [1 / (h.EXTENT << p), 1 / (h.EXTENT << p), 0]);
                            h.translate(y, y, [m * h.EXTENT, g * h.EXTENT, 0]), this._demMatrixCache[t.key] = {
                                matrix: y,
                                coord: t
                            }
                        }
                        return {
                            u_depth: 2,
                            u_terrain: 3,
                            u_terrain_dim: n && n.dem && n.dem.dim || 1,
                            u_terrain_matrix: o ? this._demMatrixCache[t.key].matrix : this._emptyDemMatrix,
                            u_terrain_unpack: n && n.dem && n.dem.getUnpackVector() || this._emptyDemUnpack,
                            u_terrain_exaggeration: this.exaggeration,
                            texture: (n && n.demTexture || this._emptyDemTexture).texture,
                            depthTexture: (this._fboDepthTexture || this._emptyDepthTexture).texture,
                            tile: n
                        }
                    }

                    getFramebuffer(t) {
                        const n = this.painter, o = n.width / devicePixelRatio, l = n.height / devicePixelRatio;
                        return !this._fbo || this._fbo.width === o && this._fbo.height === l || (this._fbo.destroy(), this._fboCoordsTexture.destroy(), this._fboDepthTexture.destroy(), delete this._fbo, delete this._fboDepthTexture, delete this._fboCoordsTexture), this._fboCoordsTexture || (this._fboCoordsTexture = new St(n.context, {
                            width: o,
                            height: l,
                            data: null
                        }, n.context.gl.RGBA, {premultiply: !1}), this._fboCoordsTexture.bind(n.context.gl.NEAREST, n.context.gl.CLAMP_TO_EDGE)), this._fboDepthTexture || (this._fboDepthTexture = new St(n.context, {
                            width: o,
                            height: l,
                            data: null
                        }, n.context.gl.RGBA, {premultiply: !1}), this._fboDepthTexture.bind(n.context.gl.NEAREST, n.context.gl.CLAMP_TO_EDGE)), this._fbo || (this._fbo = n.context.createFramebuffer(o, l, !0), this._fbo.depthAttachment.set(n.context.createRenderbuffer(n.context.gl.DEPTH_COMPONENT16, o, l))), this._fbo.colorAttachment.set("coords" === t ? this._fboCoordsTexture.texture : this._fboDepthTexture.texture), this._fbo
                    }

                    getCoordsTexture() {
                        const t = this.painter.context;
                        if (this._coordsTexture) return this._coordsTexture;
                        const n = new Uint8Array(this._coordsTextureSize * this._coordsTextureSize * 4);
                        for (let p = 0, m = 0; p < this._coordsTextureSize; p++) for (let g = 0; g < this._coordsTextureSize; g++, m += 4) n[m + 0] = 255 & g, n[m + 1] = 255 & p, n[m + 2] = g >> 8 << 4 | p >> 8, n[m + 3] = 0;
                        const o = new h.RGBAImage({
                            width: this._coordsTextureSize,
                            height: this._coordsTextureSize
                        }, new Uint8Array(n.buffer)), l = new St(t, o, t.gl.RGBA, {premultiply: !1});
                        return l.bind(t.gl.NEAREST, t.gl.CLAMP_TO_EDGE), this._coordsTexture = l, l
                    }

                    pointCoordinate(t) {
                        const n = new Uint8Array(4), o = this.painter.context, l = o.gl;
                        o.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer), l.readPixels(t.x, this.painter.height / devicePixelRatio - t.y - 1, 1, 1, l.RGBA, l.UNSIGNED_BYTE, n), o.bindFramebuffer.set(null);
                        const p = n[0] + (n[2] >> 4 << 8), m = n[1] + ((15 & n[2]) << 8),
                            g = this.coordsIndex[255 - n[3]], y = g && this.sourceCache.getTileByID(g);
                        if (!y) return null;
                        const x = this._coordsTextureSize, C = (1 << y.tileID.canonical.z) * x;
                        return new h.MercatorCoordinate((y.tileID.canonical.x * x + p) / C, (y.tileID.canonical.y * x + m) / C, this.getElevation(y.tileID, p, m, x))
                    }

                    getTerrainMesh() {
                        if (this._mesh) return this._mesh;
                        const t = this.painter.context, n = new h.Pos3dArray, o = new h.TriangleIndexArray,
                            l = this.meshSize, p = h.EXTENT / l, m = l * l;
                        for (let S = 0; S <= l; S++) for (let M = 0; M <= l; M++) n.emplaceBack(M * p, S * p, 0);
                        for (let S = 0; S < m; S += l + 1) for (let M = 0; M < l; M++) o.emplaceBack(M + S, l + M + S + 1, l + M + S + 2), o.emplaceBack(M + S, l + M + S + 2, M + S + 1);
                        const g = n.length, y = g + 2 * (l + 1);
                        for (const S of [0, 1]) for (let M = 0; M <= l; M++) for (const R of [0, 1]) n.emplaceBack(M * p, S * h.EXTENT, R);
                        for (let S = 0; S < 2 * l; S += 2) o.emplaceBack(y + S, y + S + 1, y + S + 3), o.emplaceBack(y + S, y + S + 3, y + S + 2), o.emplaceBack(g + S, g + S + 3, g + S + 1), o.emplaceBack(g + S, g + S + 2, g + S + 3);
                        const x = n.length, C = x + 2 * (l + 1);
                        for (const S of [0, 1]) for (let M = 0; M <= l; M++) for (const R of [0, 1]) n.emplaceBack(S * h.EXTENT, M * p, R);
                        for (let S = 0; S < 2 * l; S += 2) o.emplaceBack(x + S, x + S + 1, x + S + 3), o.emplaceBack(x + S, x + S + 3, x + S + 2), o.emplaceBack(C + S, C + S + 3, C + S + 1), o.emplaceBack(C + S, C + S + 2, C + S + 3);
                        return this._mesh = {
                            indexBuffer: t.createIndexBuffer(o),
                            vertexBuffer: t.createVertexBuffer(n, ko.members),
                            segments: h.SegmentVector.simpleSegment(0, 0, n.length, o.length)
                        }, this._mesh
                    }

                    getMeshFrameDelta(t) {
                        return 2 * Math.PI * h.earthRadius / Math.pow(2, t) / 5
                    }

                    getMinMaxElevation(t) {
                        const n = this.getTerrainData(t).tile, o = {minElevation: null, maxElevation: null};
                        return n && n.dem && (o.minElevation = n.dem.min * this.exaggeration, o.maxElevation = n.dem.max * this.exaggeration), o
                    }
                }

                class Do {
                    constructor(t, n, o) {
                        this._context = t, this._size = n, this._tileSize = o, this._objects = [], this._recentlyUsed = [], this._stamp = 0
                    }

                    destruct() {
                        for (const t of this._objects) t.texture.destroy(), t.fbo.destroy()
                    }

                    _createObject(t) {
                        const n = this._context.createFramebuffer(this._tileSize, this._tileSize, !0),
                            o = new St(this._context, {
                                width: this._tileSize,
                                height: this._tileSize,
                                data: null
                            }, this._context.gl.RGBA);
                        return o.bind(this._context.gl.LINEAR, this._context.gl.CLAMP_TO_EDGE), n.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_COMPONENT16, this._tileSize, this._tileSize)), n.colorAttachment.set(o.texture), {
                            id: t,
                            fbo: n,
                            texture: o,
                            stamp: -1,
                            inUse: !1
                        }
                    }

                    getObjectForId(t) {
                        return this._objects[t]
                    }

                    useObject(t) {
                        t.inUse = !0, this._recentlyUsed = this._recentlyUsed.filter(n => t.id !== n), this._recentlyUsed.push(t.id)
                    }

                    stampObject(t) {
                        t.stamp = ++this._stamp
                    }

                    getOrCreateFreeObject() {
                        for (const n of this._recentlyUsed) if (!this._objects[n].inUse) return this._objects[n];
                        if (this._objects.length >= this._size) throw new Error("No free RenderPool available, call freeAllObjects() required!");
                        const t = this._createObject(this._objects.length);
                        return this._objects.push(t), t
                    }

                    freeObject(t) {
                        t.inUse = !1
                    }

                    freeAllObjects() {
                        for (const t of this._objects) this.freeObject(t)
                    }

                    isFull() {
                        return !(this._objects.length < this._size) && !1 === this._objects.some(t => !t.inUse)
                    }
                }

                const Ar = {background: !0, fill: !0, line: !0, raster: !0, hillshade: !0};

                class As {
                    constructor(t, n) {
                        this.painter = t, this.terrain = n, this.pool = new Do(t.context, 30, n.sourceCache.tileSize * n.qualityFactor)
                    }

                    destruct() {
                        this.pool.destruct()
                    }

                    getTexture(t) {
                        return this.pool.getObjectForId(t.rtt[this._stacks.length - 1].id).texture
                    }

                    prepareForRender(t, n) {
                        this._stacks = [], this._prevType = null, this._rttTiles = [], this._renderableTiles = this.terrain.sourceCache.getRenderableTiles(), this._renderableLayerIds = t._order.filter(o => !t._layers[o].isHidden(n)), this._coordsDescendingInv = {};
                        for (const o in t.sourceCaches) {
                            this._coordsDescendingInv[o] = {};
                            const l = t.sourceCaches[o].getVisibleCoordinates();
                            for (const p of l) {
                                const m = this.terrain.sourceCache.getTerrainCoords(p);
                                for (const g in m) this._coordsDescendingInv[o][g] || (this._coordsDescendingInv[o][g] = []), this._coordsDescendingInv[o][g].push(m[g])
                            }
                        }
                        this._coordsDescendingInvStr = {};
                        for (const o of t._order) {
                            const l = t._layers[o], p = l.source;
                            if (Ar[l.type] && !this._coordsDescendingInvStr[p]) {
                                this._coordsDescendingInvStr[p] = {};
                                for (const m in this._coordsDescendingInv[p]) this._coordsDescendingInvStr[p][m] = this._coordsDescendingInv[p][m].map(g => g.key).sort().join()
                            }
                        }
                        for (const o of this._renderableTiles) for (const l in this._coordsDescendingInvStr) {
                            const p = this._coordsDescendingInvStr[l][o.tileID.key];
                            p && p !== o.rttCoords[l] && (o.rtt = [])
                        }
                    }

                    renderLayer(t) {
                        if (t.isHidden(this.painter.transform.zoom)) return !1;
                        const n = t.type, o = this.painter,
                            l = this._renderableLayerIds[this._renderableLayerIds.length - 1] === t.id;
                        if (Ar[n] && (this._prevType && Ar[this._prevType] || this._stacks.push([]), this._prevType = n, this._stacks[this._stacks.length - 1].push(t.id), !l)) return !0;
                        if (Ar[this._prevType] || Ar[n] && l) {
                            this._prevType = n;
                            const p = this._stacks.length - 1, m = this._stacks[p] || [];
                            for (const g of this._renderableTiles) {
                                if (this.pool.isFull() && (go(this.painter, this.terrain, this._rttTiles), this._rttTiles = [], this.pool.freeAllObjects()), this._rttTiles.push(g), g.rtt[p]) {
                                    const x = this.pool.getObjectForId(g.rtt[p].id);
                                    if (x.stamp === g.rtt[p].stamp) {
                                        this.pool.useObject(x);
                                        continue
                                    }
                                }
                                const y = this.pool.getOrCreateFreeObject();
                                this.pool.useObject(y), this.pool.stampObject(y), g.rtt[p] = {
                                    id: y.id,
                                    stamp: y.stamp
                                }, o.context.bindFramebuffer.set(y.fbo.framebuffer), o.context.clear({color: h.Color.transparent});
                                for (let x = 0; x < m.length; x++) {
                                    const C = o.style._layers[m[x]],
                                        S = C.source ? this._coordsDescendingInv[C.source][g.tileID.key] : [g.tileID];
                                    o.context.viewport.set([0, 0, y.fbo.width, y.fbo.height]), o._renderTileClippingMasks(C, S), o.renderLayer(o, o.style.sourceCaches[C.source], C, S), C.source && (g.rttCoords[C.source] = this._coordsDescendingInvStr[C.source][g.tileID.key])
                                }
                            }
                            return go(this.painter, this.terrain, this._rttTiles), this._rttTiles = [], this.pool.freeAllObjects(), Ar[n]
                        }
                        return !1
                    }
                }

                const Lo = Ht, Ro = {
                    center: [0, 0],
                    zoom: 0,
                    bearing: 0,
                    pitch: 0,
                    minZoom: -2,
                    maxZoom: 22,
                    minPitch: 0,
                    maxPitch: 60,
                    interactive: !0,
                    scrollZoom: !0,
                    boxZoom: !0,
                    dragRotate: !0,
                    dragPan: !0,
                    keyboard: !0,
                    doubleClickZoom: !0,
                    touchZoomRotate: !0,
                    touchPitch: !0,
                    cooperativeGestures: void 0,
                    bearingSnap: 7,
                    clickTolerance: 3,
                    pitchWithRotate: !0,
                    hash: !1,
                    attributionControl: !0,
                    maplibreLogo: !1,
                    failIfMajorPerformanceCaveat: !1,
                    preserveDrawingBuffer: !1,
                    trackResize: !0,
                    renderWorldCopies: !0,
                    refreshExpiredTiles: !0,
                    maxTileCacheSize: null,
                    localIdeographFontFamily: "sans-serif",
                    transformRequest: null,
                    fadeDuration: 300,
                    crossSourceCollisions: !0
                }, zs = a => {
                    a.touchstart = a.dragStart, a.touchmoveWindow = a.dragMove, a.touchend = a.dragEnd
                }, Bo = {showCompass: !0, showZoom: !0, visualizePitch: !1};

                class Ba {
                    constructor(t, n, o = !1) {
                        this._clickTolerance = 10;
                        const l = t.dragRotate._mouseRotate.getClickTolerance(),
                            p = t.dragRotate._mousePitch.getClickTolerance();
                        this.element = n, this.mouseRotate = xs({
                            clickTolerance: l,
                            enable: !0
                        }), this.touchRotate = (({
                                                     enable: m,
                                                     clickTolerance: g,
                                                     bearingDegreesPerPixelMoved: y = .8
                                                 }) => {
                            const x = new Tt;
                            return new Hr({
                                clickTolerance: g,
                                move: (C, S) => ({bearingDelta: (S.x - C.x) * y}),
                                moveStateManager: x,
                                enable: m,
                                assignEvents: zs
                            })
                        })({
                            clickTolerance: l,
                            enable: !0
                        }), this.map = t, o && (this.mousePitch = So({
                            clickTolerance: p,
                            enable: !0
                        }), this.touchPitch = (({enable: m, clickTolerance: g, pitchDegreesPerPixelMoved: y = -.5}) => {
                            const x = new Tt;
                            return new Hr({
                                clickTolerance: g,
                                move: (C, S) => ({pitchDelta: (S.y - C.y) * y}),
                                moveStateManager: x,
                                enable: m,
                                assignEvents: zs
                            })
                        })({
                            clickTolerance: p,
                            enable: !0
                        })), h.bindAll(["mousedown", "mousemove", "mouseup", "touchstart", "touchmove", "touchend", "reset"], this), ie.addEventListener(n, "mousedown", this.mousedown), ie.addEventListener(n, "touchstart", this.touchstart, {passive: !1}), ie.addEventListener(n, "touchcancel", this.reset)
                    }

                    startMouse(t, n) {
                        this.mouseRotate.dragStart(t, n), this.mousePitch && this.mousePitch.dragStart(t, n), ie.disableDrag()
                    }

                    startTouch(t, n) {
                        this.touchRotate.dragStart(t, n), this.touchPitch && this.touchPitch.dragStart(t, n), ie.disableDrag()
                    }

                    moveMouse(t, n) {
                        const o = this.map, {bearingDelta: l} = this.mouseRotate.dragMove(t, n) || {};
                        if (l && o.setBearing(o.getBearing() + l), this.mousePitch) {
                            const {pitchDelta: p} = this.mousePitch.dragMove(t, n) || {};
                            p && o.setPitch(o.getPitch() + p)
                        }
                    }

                    moveTouch(t, n) {
                        const o = this.map, {bearingDelta: l} = this.touchRotate.dragMove(t, n) || {};
                        if (l && o.setBearing(o.getBearing() + l), this.touchPitch) {
                            const {pitchDelta: p} = this.touchPitch.dragMove(t, n) || {};
                            p && o.setPitch(o.getPitch() + p)
                        }
                    }

                    off() {
                        const t = this.element;
                        ie.removeEventListener(t, "mousedown", this.mousedown), ie.removeEventListener(t, "touchstart", this.touchstart, {passive: !1}), ie.removeEventListener(window, "touchmove", this.touchmove, {passive: !1}), ie.removeEventListener(window, "touchend", this.touchend), ie.removeEventListener(t, "touchcancel", this.reset), this.offTemp()
                    }

                    offTemp() {
                        ie.enableDrag(), ie.removeEventListener(window, "mousemove", this.mousemove), ie.removeEventListener(window, "mouseup", this.mouseup), ie.removeEventListener(window, "touchmove", this.touchmove, {passive: !1}), ie.removeEventListener(window, "touchend", this.touchend)
                    }

                    mousedown(t) {
                        this.startMouse(h.extend({}, t, {
                            ctrlKey: !0,
                            preventDefault: () => t.preventDefault()
                        }), ie.mousePos(this.element, t)), ie.addEventListener(window, "mousemove", this.mousemove), ie.addEventListener(window, "mouseup", this.mouseup)
                    }

                    mousemove(t) {
                        this.moveMouse(t, ie.mousePos(this.element, t))
                    }

                    mouseup(t) {
                        this.mouseRotate.dragEnd(t), this.mousePitch && this.mousePitch.dragEnd(t), this.offTemp()
                    }

                    touchstart(t) {
                        1 !== t.targetTouches.length ? this.reset() : (this._startPos = this._lastPos = ie.touchPos(this.element, t.targetTouches)[0], this.startTouch(t, this._startPos), ie.addEventListener(window, "touchmove", this.touchmove, {passive: !1}), ie.addEventListener(window, "touchend", this.touchend))
                    }

                    touchmove(t) {
                        1 !== t.targetTouches.length ? this.reset() : (this._lastPos = ie.touchPos(this.element, t.targetTouches)[0], this.moveTouch(t, this._lastPos))
                    }

                    touchend(t) {
                        0 === t.targetTouches.length && this._startPos && this._lastPos && this._startPos.dist(this._lastPos) < this._clickTolerance && this.element.click(), delete this._startPos, delete this._lastPos, this.offTemp()
                    }

                    reset() {
                        this.mouseRotate.reset(), this.mousePitch && this.mousePitch.reset(), this.touchRotate.reset(), this.touchPitch && this.touchPitch.reset(), delete this._startPos, delete this._lastPos, this.offTemp()
                    }
                }

                function Fo(a, t, n) {
                    if (a = new h.LngLat(a.lng, a.lat), t) {
                        const o = new h.LngLat(a.lng - 360, a.lat), l = new h.LngLat(a.lng + 360, a.lat),
                            p = n.locationPoint(a).distSqr(t);
                        n.locationPoint(o).distSqr(t) < p ? a = o : n.locationPoint(l).distSqr(t) < p && (a = l)
                    }
                    for (; Math.abs(a.lng - n.center.lng) > 180;) {
                        const o = n.locationPoint(a);
                        if (o.x >= 0 && o.y >= 0 && o.x <= n.width && o.y <= n.height) break;
                        a.lng > n.center.lng ? a.lng -= 360 : a.lng += 360
                    }
                    return a
                }

                const ks = {
                    center: "translate(-50%,-50%)",
                    top: "translate(-50%,0)",
                    "top-left": "translate(0,0)",
                    "top-right": "translate(-100%,0)",
                    bottom: "translate(-50%,-100%)",
                    "bottom-left": "translate(0,-100%)",
                    "bottom-right": "translate(-100%,-100%)",
                    left: "translate(0,-50%)",
                    right: "translate(-100%,-50%)"
                };

                function Oo(a, t, n) {
                    const o = a.classList;
                    for (const l in ks) o.remove(`maplibregl-${n}-anchor-${l}`);
                    o.add(`maplibregl-${n}-anchor-${t}`)
                }

                class Ps extends h.Evented {
                    constructor(t, n) {
                        if (super(), (t instanceof HTMLElement || n) && (t = h.extend({element: t}, n)), h.bindAll(["_update", "_onMove", "_onUp", "_addDragHandler", "_onMapClick", "_onKeyPress"], this), this._anchor = t && t.anchor || "center", this._color = t && t.color || "#3FB1CE", this._scale = t && t.scale || 1, this._draggable = t && t.draggable || !1, this._clickTolerance = t && t.clickTolerance || 0, this._isDragging = !1, this._state = "inactive", this._rotation = t && t.rotation || 0, this._rotationAlignment = t && t.rotationAlignment || "auto", this._pitchAlignment = t && t.pitchAlignment && "auto" !== t.pitchAlignment ? t.pitchAlignment : this._rotationAlignment, t && t.element) this._element = t.element, this._offset = h.pointGeometry.convert(t && t.offset || [0, 0]); else {
                            this._defaultMarker = !0, this._element = ie.create("div"), this._element.setAttribute("aria-label", "Map marker");
                            const o = ie.createNS("http://www.w3.org/2000/svg", "svg"), l = 41, p = 27;
                            o.setAttributeNS(null, "display", "block"), o.setAttributeNS(null, "height", `${l}px`), o.setAttributeNS(null, "width", `${p}px`), o.setAttributeNS(null, "viewBox", `0 0 ${p} ${l}`);
                            const m = ie.createNS("http://www.w3.org/2000/svg", "g");
                            m.setAttributeNS(null, "stroke", "none"), m.setAttributeNS(null, "stroke-width", "1"), m.setAttributeNS(null, "fill", "none"), m.setAttributeNS(null, "fill-rule", "evenodd");
                            const g = ie.createNS("http://www.w3.org/2000/svg", "g");
                            g.setAttributeNS(null, "fill-rule", "nonzero");
                            const y = ie.createNS("http://www.w3.org/2000/svg", "g");
                            y.setAttributeNS(null, "transform", "translate(3.0, 29.0)"), y.setAttributeNS(null, "fill", "#000000");
                            const x = [{rx: "10.5", ry: "5.25002273"}, {rx: "10.5", ry: "5.25002273"}, {
                                rx: "9.5",
                                ry: "4.77275007"
                            }, {rx: "8.5", ry: "4.29549936"}, {rx: "7.5", ry: "3.81822308"}, {
                                rx: "6.5",
                                ry: "3.34094679"
                            }, {rx: "5.5", ry: "2.86367051"}, {rx: "4.5", ry: "2.38636864"}];
                            for (const X of x) {
                                const U = ie.createNS("http://www.w3.org/2000/svg", "ellipse");
                                U.setAttributeNS(null, "opacity", "0.04"), U.setAttributeNS(null, "cx", "10.5"), U.setAttributeNS(null, "cy", "5.80029008"), U.setAttributeNS(null, "rx", X.rx), U.setAttributeNS(null, "ry", X.ry), y.appendChild(U)
                            }
                            const C = ie.createNS("http://www.w3.org/2000/svg", "g");
                            C.setAttributeNS(null, "fill", this._color);
                            const S = ie.createNS("http://www.w3.org/2000/svg", "path");
                            S.setAttributeNS(null, "d", "M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"), C.appendChild(S);
                            const M = ie.createNS("http://www.w3.org/2000/svg", "g");
                            M.setAttributeNS(null, "opacity", "0.25"), M.setAttributeNS(null, "fill", "#000000");
                            const R = ie.createNS("http://www.w3.org/2000/svg", "path");
                            R.setAttributeNS(null, "d", "M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"), M.appendChild(R);
                            const B = ie.createNS("http://www.w3.org/2000/svg", "g");
                            B.setAttributeNS(null, "transform", "translate(6.0, 7.0)"), B.setAttributeNS(null, "fill", "#FFFFFF");
                            const P = ie.createNS("http://www.w3.org/2000/svg", "g");
                            P.setAttributeNS(null, "transform", "translate(8.0, 8.0)");
                            const $ = ie.createNS("http://www.w3.org/2000/svg", "circle");
                            $.setAttributeNS(null, "fill", "#000000"), $.setAttributeNS(null, "opacity", "0.25"), $.setAttributeNS(null, "cx", "5.5"), $.setAttributeNS(null, "cy", "5.5"), $.setAttributeNS(null, "r", "5.4999962");
                            const H = ie.createNS("http://www.w3.org/2000/svg", "circle");
                            H.setAttributeNS(null, "fill", "#FFFFFF"), H.setAttributeNS(null, "cx", "5.5"), H.setAttributeNS(null, "cy", "5.5"), H.setAttributeNS(null, "r", "5.4999962"), P.appendChild($), P.appendChild(H), g.appendChild(y), g.appendChild(C), g.appendChild(M), g.appendChild(B), g.appendChild(P), o.appendChild(g), o.setAttributeNS(null, "height", l * this._scale + "px"), o.setAttributeNS(null, "width", p * this._scale + "px"), this._element.appendChild(o), this._offset = h.pointGeometry.convert(t && t.offset || [0, -14])
                        }
                        this._element.classList.add("maplibregl-marker"), this._element.addEventListener("dragstart", o => {
                            o.preventDefault()
                        }), this._element.addEventListener("mousedown", o => {
                            o.preventDefault()
                        }), Oo(this._element, this._anchor, "marker"), this._popup = null
                    }

                    addTo(t) {
                        return this.remove(), this._map = t, t.getCanvasContainer().appendChild(this._element), t.on("move", this._update), t.on("moveend", this._update), this.setDraggable(this._draggable), this._update(), this._map.on("click", this._onMapClick), this
                    }

                    remove() {
                        return this._opacityTimeout && (clearTimeout(this._opacityTimeout), delete this._opacityTimeout), this._map && (this._map.off("click", this._onMapClick), this._map.off("move", this._update), this._map.off("moveend", this._update), this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler), this._map.off("mouseup", this._onUp), this._map.off("touchend", this._onUp), this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), delete this._map), ie.remove(this._element), this._popup && this._popup.remove(), this
                    }

                    getLngLat() {
                        return this._lngLat
                    }

                    setLngLat(t) {
                        return this._lngLat = h.LngLat.convert(t), this._pos = null, this._popup && this._popup.setLngLat(this._lngLat), this._update(), this
                    }

                    getElement() {
                        return this._element
                    }

                    setPopup(t) {
                        if (this._popup && (this._popup.remove(), this._popup = null, this._element.removeEventListener("keypress", this._onKeyPress), this._originalTabIndex || this._element.removeAttribute("tabindex")), t) {
                            if (!("offset" in t.options)) {
                                const l = Math.sqrt(Math.pow(13.5, 2) / 2);
                                t.options.offset = this._defaultMarker ? {
                                    top: [0, 0],
                                    "top-left": [0, 0],
                                    "top-right": [0, 0],
                                    bottom: [0, -38.1],
                                    "bottom-left": [l, -1 * (24.6 + l)],
                                    "bottom-right": [-l, -1 * (24.6 + l)],
                                    left: [13.5, -24.6],
                                    right: [-13.5, -24.6]
                                } : this._offset
                            }
                            this._popup = t, this._lngLat && this._popup.setLngLat(this._lngLat), this._originalTabIndex = this._element.getAttribute("tabindex"), this._originalTabIndex || this._element.setAttribute("tabindex", "0"), this._element.addEventListener("keypress", this._onKeyPress)
                        }
                        return this
                    }

                    _onKeyPress(t) {
                        const n = t.code, o = t.charCode || t.keyCode;
                        "Space" !== n && "Enter" !== n && 32 !== o && 13 !== o || this.togglePopup()
                    }

                    _onMapClick(t) {
                        const n = t.originalEvent.target, o = this._element;
                        this._popup && (n === o || o.contains(n)) && this.togglePopup()
                    }

                    getPopup() {
                        return this._popup
                    }

                    togglePopup() {
                        const t = this._popup;
                        return t ? (t.isOpen() ? t.remove() : t.addTo(this._map), this) : this
                    }

                    _update(t) {
                        if (!this._map) return;
                        this._map.transform.renderWorldCopies && (this._lngLat = Fo(this._lngLat, this._pos, this._map.transform)), this._pos = this._map.project(this._lngLat)._add(this._offset);
                        let n = "";
                        "viewport" === this._rotationAlignment || "auto" === this._rotationAlignment ? n = `rotateZ(${this._rotation}deg)` : "map" === this._rotationAlignment && (n = `rotateZ(${this._rotation - this._map.getBearing()}deg)`);
                        let o = "";
                        "viewport" === this._pitchAlignment || "auto" === this._pitchAlignment ? o = "rotateX(0deg)" : "map" === this._pitchAlignment && (o = `rotateX(${this._map.getPitch()}deg)`), t && "moveend" !== t.type || (this._pos = this._pos.round()), ie.setTransform(this._element, `${ks[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${o} ${n}`), this._map.terrain && !this._opacityTimeout && (this._opacityTimeout = setTimeout(() => {
                            const l = this._map.unproject(this._pos),
                                p = 40075016.686 * Math.abs(Math.cos(this._lngLat.lat * Math.PI / 180)) / Math.pow(2, this._map.transform.tileZoom + 8);
                            this._element.style.opacity = l.distanceTo(this._lngLat) > 20 * p ? "0.2" : "1.0", this._opacityTimeout = null
                        }, 100))
                    }

                    getOffset() {
                        return this._offset
                    }

                    setOffset(t) {
                        return this._offset = h.pointGeometry.convert(t), this._update(), this
                    }

                    _onMove(t) {
                        if (!this._isDragging) {
                            const n = this._clickTolerance || this._map._clickTolerance;
                            this._isDragging = t.point.dist(this._pointerdownPos) >= n
                        }
                        this._isDragging && (this._pos = t.point.sub(this._positionDelta), this._lngLat = this._map.unproject(this._pos), this.setLngLat(this._lngLat), this._element.style.pointerEvents = "none", "pending" === this._state && (this._state = "active", this.fire(new h.Event("dragstart"))), this.fire(new h.Event("drag")))
                    }

                    _onUp() {
                        this._element.style.pointerEvents = "auto", this._positionDelta = null, this._pointerdownPos = null, this._isDragging = !1, this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), "active" === this._state && this.fire(new h.Event("dragend")), this._state = "inactive"
                    }

                    _addDragHandler(t) {
                        this._element.contains(t.originalEvent.target) && (t.preventDefault(), this._positionDelta = t.point.sub(this._pos).add(this._offset), this._pointerdownPos = t.point, this._state = "pending", this._map.on("mousemove", this._onMove), this._map.on("touchmove", this._onMove), this._map.once("mouseup", this._onUp), this._map.once("touchend", this._onUp))
                    }

                    setDraggable(t) {
                        return this._draggable = !!t, this._map && (t ? (this._map.on("mousedown", this._addDragHandler), this._map.on("touchstart", this._addDragHandler)) : (this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler))), this
                    }

                    isDraggable() {
                        return this._draggable
                    }

                    setRotation(t) {
                        return this._rotation = t || 0, this._update(), this
                    }

                    getRotation() {
                        return this._rotation
                    }

                    setRotationAlignment(t) {
                        return this._rotationAlignment = t || "auto", this._update(), this
                    }

                    getRotationAlignment() {
                        return this._rotationAlignment
                    }

                    setPitchAlignment(t) {
                        return this._pitchAlignment = t && "auto" !== t ? t : this._rotationAlignment, this._update(), this
                    }

                    getPitchAlignment() {
                        return this._pitchAlignment
                    }
                }

                const Fa = {
                    positionOptions: {enableHighAccuracy: !1, maximumAge: 0, timeout: 6e3},
                    fitBoundsOptions: {maxZoom: 15},
                    trackUserLocation: !1,
                    showAccuracyCircle: !0,
                    showUserLocation: !0
                };
                let Kr, Xn = 0, Tn = !1;
                const Oa = {maxWidth: 100, unit: "metric"};

                function Uo(a, t, n) {
                    const o = n && n.maxWidth || 100, l = a._container.clientHeight / 2, p = a.unproject([0, l]),
                        m = a.unproject([o, l]), g = p.distanceTo(m);
                    if (n && "imperial" === n.unit) {
                        const y = 3.2808 * g;
                        y > 5280 ? Wn(t, o, y / 5280, a._getUIString("ScaleControl.Miles")) : Wn(t, o, y, a._getUIString("ScaleControl.Feet"))
                    } else n && "nautical" === n.unit ? Wn(t, o, g / 1852, a._getUIString("ScaleControl.NauticalMiles")) : g >= 1e3 ? Wn(t, o, g / 1e3, a._getUIString("ScaleControl.Kilometers")) : Wn(t, o, g, a._getUIString("ScaleControl.Meters"))
                }

                function Wn(a, t, n, o) {
                    const l = function (p) {
                        const m = Math.pow(10, `${Math.floor(p)}`.length - 1);
                        let g = p / m;
                        return g = g >= 10 ? 10 : g >= 5 ? 5 : g >= 3 ? 3 : g >= 2 ? 2 : g >= 1 ? 1 : function (y) {
                            const x = Math.pow(10, Math.ceil(-Math.log(y) / Math.LN10));
                            return Math.round(y * x) / x
                        }(g), m * g
                    }(n);
                    a.style.width = t * (l / n) + "px", a.innerHTML = `${l}&nbsp;${o}`
                }

                const xl = {closeButton: !0, closeOnClick: !0, focusAfterOpen: !0, className: "", maxWidth: "240px"},
                    vl = ["a[href]", "[tabindex]:not([tabindex='-1'])", "[contenteditable]:not([contenteditable='false'])", "button:not([disabled])", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].join(", ");

                function Ua(a) {
                    if (a) {
                        if ("number" == typeof a) {
                            const t = Math.round(Math.sqrt(.5 * Math.pow(a, 2)));
                            return {
                                center: new h.pointGeometry(0, 0),
                                top: new h.pointGeometry(0, a),
                                "top-left": new h.pointGeometry(t, t),
                                "top-right": new h.pointGeometry(-t, t),
                                bottom: new h.pointGeometry(0, -a),
                                "bottom-left": new h.pointGeometry(t, -t),
                                "bottom-right": new h.pointGeometry(-t, -t),
                                left: new h.pointGeometry(a, 0),
                                right: new h.pointGeometry(-a, 0)
                            }
                        }
                        if (a instanceof h.pointGeometry || Array.isArray(a)) {
                            const t = h.pointGeometry.convert(a);
                            return {
                                center: t,
                                top: t,
                                "top-left": t,
                                "top-right": t,
                                bottom: t,
                                "bottom-left": t,
                                "bottom-right": t,
                                left: t,
                                right: t
                            }
                        }
                        return {
                            center: h.pointGeometry.convert(a.center || [0, 0]),
                            top: h.pointGeometry.convert(a.top || [0, 0]),
                            "top-left": h.pointGeometry.convert(a["top-left"] || [0, 0]),
                            "top-right": h.pointGeometry.convert(a["top-right"] || [0, 0]),
                            bottom: h.pointGeometry.convert(a.bottom || [0, 0]),
                            "bottom-left": h.pointGeometry.convert(a["bottom-left"] || [0, 0]),
                            "bottom-right": h.pointGeometry.convert(a["bottom-right"] || [0, 0]),
                            left: h.pointGeometry.convert(a.left || [0, 0]),
                            right: h.pointGeometry.convert(a.right || [0, 0])
                        }
                    }
                    return Ua(new h.pointGeometry(0, 0))
                }

                const bl = Ht, zr = {
                    supported: ft,
                    setRTLTextPlugin: h.setRTLTextPlugin,
                    getRTLTextPluginStatus: h.getRTLTextPluginStatus,
                    Map: class extends Mo {
                        constructor(a) {
                            var t;
                            if (h.PerformanceUtils.mark(h.PerformanceMarkers.create), null != (a = h.extend({}, Ro, a)).minZoom && null != a.maxZoom && a.minZoom > a.maxZoom) throw new Error("maxZoom must be greater than or equal to minZoom");
                            if (null != a.minPitch && null != a.maxPitch && a.minPitch > a.maxPitch) throw new Error("maxPitch must be greater than or equal to minPitch");
                            if (null != a.minPitch && a.minPitch < 0) throw new Error("minPitch must be greater than or equal to 0");
                            if (null != a.maxPitch && a.maxPitch > 85) throw new Error("maxPitch must be less than or equal to 85");
                            if (super(new Wr(a.minZoom, a.maxZoom, a.minPitch, a.maxPitch, a.renderWorldCopies), {bearingSnap: a.bearingSnap}), this._interactive = a.interactive, this._cooperativeGestures = a.cooperativeGestures, this._maxTileCacheSize = a.maxTileCacheSize, this._failIfMajorPerformanceCaveat = a.failIfMajorPerformanceCaveat, this._preserveDrawingBuffer = a.preserveDrawingBuffer, this._antialias = a.antialias, this._trackResize = a.trackResize, this._bearingSnap = a.bearingSnap, this._refreshExpiredTiles = a.refreshExpiredTiles, this._fadeDuration = a.fadeDuration, this._crossSourceCollisions = a.crossSourceCollisions, this._crossFadingFactor = 1, this._collectResourceTiming = a.collectResourceTiming, this._renderTaskQueue = new Ao, this._controls = [], this._mapId = h.uniqueId(), this._locale = h.extend({}, zo, a.locale), this._clickTolerance = a.clickTolerance, this._pixelRatio = null !== (t = a.pixelRatio) && void 0 !== t ? t : devicePixelRatio, this._imageQueueHandle = Et.addThrottleControl(() => this.isMoving()), this._requestManager = new zn(a.transformRequest), "string" == typeof a.container) {
                                if (this._container = document.getElementById(a.container), !this._container) throw new Error(`Container '${a.container}' not found.`)
                            } else {
                                if (!(a.container instanceof HTMLElement)) throw new Error("Invalid type: 'container' must be a String or HTMLElement.");
                                this._container = a.container
                            }
                            a.maxBounds && this.setMaxBounds(a.maxBounds), h.bindAll(["_onWindowOnline", "_onWindowResize", "_onMapScroll", "_contextLost", "_contextRestored"], this), this._setupContainer(), this._setupPainter(), this.on("move", () => this._update(!1)), this.on("moveend", () => this._update(!1)), this.on("zoom", () => this._update(!0)), this.on("terrain", () => {
                                this.painter.terrainFacilitator.dirty = !0, this._update(!0)
                            }), typeof window < "u" && (addEventListener("online", this._onWindowOnline, !1), addEventListener("resize", this._onWindowResize, !1), addEventListener("orientationchange", this._onWindowResize, !1)), this.handlers = new qn(this, a), this._cooperativeGestures && this._setupCooperativeGestures(), this._hash = a.hash && new za("string" == typeof a.hash && a.hash || void 0).addTo(this), this._hash && this._hash._onHashChange() || (this.jumpTo({
                                center: a.center,
                                zoom: a.zoom,
                                bearing: a.bearing,
                                pitch: a.pitch
                            }), a.bounds && (this.resize(), this.fitBounds(a.bounds, h.extend({}, a.fitBoundsOptions, {duration: 0})))), this.resize(), this._localIdeographFontFamily = a.localIdeographFontFamily, a.style && this.setStyle(a.style, {localIdeographFontFamily: a.localIdeographFontFamily}), a.attributionControl && this.addControl(new Is({customAttribution: a.customAttribution})), a.maplibreLogo && this.addControl(new Es, a.logoPosition), this.on("style.load", () => {
                                this.transform.unmodified && this.jumpTo(this.style.stylesheet)
                            }), this.on("data", n => {
                                this._update("style" === n.dataType), this.fire(new h.Event(`${n.dataType}data`, n))
                            }), this.on("dataloading", n => {
                                this.fire(new h.Event(`${n.dataType}dataloading`, n))
                            }), this.on("dataabort", n => {
                                this.fire(new h.Event("sourcedataabort", n))
                            })
                        }

                        _getMapId() {
                            return this._mapId
                        }

                        addControl(a, t) {
                            if (void 0 === t && (t = a.getDefaultPosition ? a.getDefaultPosition() : "top-right"), !a || !a.onAdd) return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));
                            const n = a.onAdd(this);
                            this._controls.push(a);
                            const o = this._controlPositions[t];
                            return -1 !== t.indexOf("bottom") ? o.insertBefore(n, o.firstChild) : o.appendChild(n), this
                        }

                        removeControl(a) {
                            if (!a || !a.onRemove) return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));
                            const t = this._controls.indexOf(a);
                            return t > -1 && this._controls.splice(t, 1), a.onRemove(this), this
                        }

                        hasControl(a) {
                            return this._controls.indexOf(a) > -1
                        }

                        calculateCameraOptionsFromTo(a, t, n, o) {
                            return null == o && this.terrain && (o = this.transform.getElevation(n, this.terrain)), super.calculateCameraOptionsFromTo(a, t, n, o)
                        }

                        resize(a) {
                            const t = this._containerDimensions(), n = t[0], o = t[1];
                            this._resizeCanvas(n, o, this.getPixelRatio()), this.transform.resize(n, o), this.painter.resize(n, o, this.getPixelRatio());
                            const l = !this._moving;
                            return l && (this.stop(), this.fire(new h.Event("movestart", a)).fire(new h.Event("move", a))), this.fire(new h.Event("resize", a)), l && this.fire(new h.Event("moveend", a)), this
                        }

                        getPixelRatio() {
                            return this._pixelRatio
                        }

                        setPixelRatio(a) {
                            const [t, n] = this._containerDimensions();
                            this._pixelRatio = a, this._resizeCanvas(t, n, a), this.painter.resize(t, n, a)
                        }

                        getBounds() {
                            return this.transform.getBounds()
                        }

                        getMaxBounds() {
                            return this.transform.getMaxBounds()
                        }

                        setMaxBounds(a) {
                            return this.transform.setMaxBounds(h.LngLatBounds.convert(a)), this._update()
                        }

                        setMinZoom(a) {
                            if ((a = a ?? -2) >= -2 && a <= this.transform.maxZoom) return this.transform.minZoom = a, this._update(), this.getZoom() < a && this.setZoom(a), this;
                            throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")
                        }

                        getMinZoom() {
                            return this.transform.minZoom
                        }

                        setMaxZoom(a) {
                            if ((a = a ?? 22) >= this.transform.minZoom) return this.transform.maxZoom = a, this._update(), this.getZoom() > a && this.setZoom(a), this;
                            throw new Error("maxZoom must be greater than the current minZoom")
                        }

                        getMaxZoom() {
                            return this.transform.maxZoom
                        }

                        setMinPitch(a) {
                            if ((a = a ?? 0) < 0) throw new Error("minPitch must be greater than or equal to 0");
                            if (a >= 0 && a <= this.transform.maxPitch) return this.transform.minPitch = a, this._update(), this.getPitch() < a && this.setPitch(a), this;
                            throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")
                        }

                        getMinPitch() {
                            return this.transform.minPitch
                        }

                        setMaxPitch(a) {
                            if ((a = a ?? 60) > 85) throw new Error("maxPitch must be less than or equal to 85");
                            if (a >= this.transform.minPitch) return this.transform.maxPitch = a, this._update(), this.getPitch() > a && this.setPitch(a), this;
                            throw new Error("maxPitch must be greater than the current minPitch")
                        }

                        getMaxPitch() {
                            return this.transform.maxPitch
                        }

                        getRenderWorldCopies() {
                            return this.transform.renderWorldCopies
                        }

                        setRenderWorldCopies(a) {
                            return this.transform.renderWorldCopies = a, this._update()
                        }

                        project(a) {
                            return this.transform.locationPoint(h.LngLat.convert(a), this.style && this.terrain)
                        }

                        unproject(a) {
                            return this.transform.pointLocation(h.pointGeometry.convert(a), this.terrain)
                        }

                        isMoving() {
                            var a;
                            return this._moving || (null === (a = this.handlers) || void 0 === a ? void 0 : a.isMoving())
                        }

                        isZooming() {
                            var a;
                            return this._zooming || (null === (a = this.handlers) || void 0 === a ? void 0 : a.isZooming())
                        }

                        isRotating() {
                            var a;
                            return this._rotating || (null === (a = this.handlers) || void 0 === a ? void 0 : a.isRotating())
                        }

                        _createDelegatedListener(a, t, n) {
                            if ("mouseenter" === a || "mouseover" === a) {
                                let o = !1;
                                return {
                                    layer: t, listener: n, delegates: {
                                        mousemove: p => {
                                            const m = this.getLayer(t) ? this.queryRenderedFeatures(p.point, {layers: [t]}) : [];
                                            m.length ? o || (o = !0, n.call(this, new Vi(a, this, p.originalEvent, {features: m}))) : o = !1
                                        }, mouseout: () => {
                                            o = !1
                                        }
                                    }
                                }
                            }
                            if ("mouseleave" === a || "mouseout" === a) {
                                let o = !1;
                                return {
                                    layer: t, listener: n, delegates: {
                                        mousemove: m => {
                                            (this.getLayer(t) ? this.queryRenderedFeatures(m.point, {layers: [t]}) : []).length ? o = !0 : o && (o = !1, n.call(this, new Vi(a, this, m.originalEvent)))
                                        }, mouseout: m => {
                                            o && (o = !1, n.call(this, new Vi(a, this, m.originalEvent)))
                                        }
                                    }
                                }
                            }
                            {
                                const o = l => {
                                    const p = this.getLayer(t) ? this.queryRenderedFeatures(l.point, {layers: [t]}) : [];
                                    p.length && (l.features = p, n.call(this, l), delete l.features)
                                };
                                return {layer: t, listener: n, delegates: {[a]: o}}
                            }
                        }

                        on(a, t, n) {
                            if (void 0 === n) return super.on(a, t);
                            const o = this._createDelegatedListener(a, t, n);
                            this._delegatedListeners = this._delegatedListeners || {}, this._delegatedListeners[a] = this._delegatedListeners[a] || [], this._delegatedListeners[a].push(o);
                            for (const l in o.delegates) this.on(l, o.delegates[l]);
                            return this
                        }

                        once(a, t, n) {
                            if (void 0 === n) return super.once(a, t);
                            const o = this._createDelegatedListener(a, t, n);
                            for (const l in o.delegates) this.once(l, o.delegates[l]);
                            return this
                        }

                        off(a, t, n) {
                            return void 0 === n ? super.off(a, t) : (this._delegatedListeners && this._delegatedListeners[a] && (o => {
                                const l = this._delegatedListeners[a];
                                for (let p = 0; p < l.length; p++) {
                                    const m = l[p];
                                    if (m.layer === t && m.listener === n) {
                                        for (const g in m.delegates) this.off(g, m.delegates[g]);
                                        return l.splice(p, 1), this
                                    }
                                }
                            })(), this)
                        }

                        queryRenderedFeatures(a, t) {
                            if (!this.style) return [];
                            let n;
                            const o = a instanceof h.pointGeometry || Array.isArray(a),
                                l = o ? a : [[0, 0], [this.transform.width, this.transform.height]];
                            if (t = t || (o ? {} : a) || {}, l instanceof h.pointGeometry || "number" == typeof l[0]) n = [h.pointGeometry.convert(l)]; else {
                                const p = h.pointGeometry.convert(l[0]), m = h.pointGeometry.convert(l[1]);
                                n = [p, new h.pointGeometry(m.x, p.y), m, new h.pointGeometry(p.x, m.y), p]
                            }
                            return this.style.queryRenderedFeatures(n, t, this.transform)
                        }

                        querySourceFeatures(a, t) {
                            return this.style.querySourceFeatures(a, t)
                        }

                        setStyle(a, t) {
                            return !1 !== (t = h.extend({}, {localIdeographFontFamily: this._localIdeographFontFamily}, t)).diff && t.localIdeographFontFamily === this._localIdeographFontFamily && this.style && a ? (this._diffStyle(a, t), this) : (this._localIdeographFontFamily = t.localIdeographFontFamily, this._updateStyle(a, t))
                        }

                        setTransformRequest(a) {
                            return this._requestManager.setTransformRequest(a), this
                        }

                        _getUIString(a) {
                            const t = this._locale[a];
                            if (null == t) throw new Error(`Missing UI string '${a}'`);
                            return t
                        }

                        _updateStyle(a, t) {
                            if (t.transformStyle && this.style && !this.style._loaded) return void this.style.once("style.load", () => this._updateStyle(a, t));
                            const n = this.style && t.transformStyle ? this.style.serialize() : void 0;
                            return this.style && (this.style.setEventedParent(null), this.style._remove(!a)), a ? (this.style = new Oi(this, t || {}), this.style.setEventedParent(this, {style: this.style}), "string" == typeof a ? this.style.loadURL(a, t, n) : this.style.loadJSON(a, t, n), this) : (delete this.style, this)
                        }

                        _lazyInitEmptyStyle() {
                            this.style || (this.style = new Oi(this, {}), this.style.setEventedParent(this, {style: this.style}), this.style.loadEmpty())
                        }

                        _diffStyle(a, t) {
                            if ("string" == typeof a) {
                                const n = this._requestManager.transformRequest(a, at.Style);
                                h.getJSON(n, (o, l) => {
                                    o ? this.fire(new h.ErrorEvent(o)) : l && this._updateDiff(l, t)
                                })
                            } else "object" == typeof a && this._updateDiff(a, t)
                        }

                        _updateDiff(a, t) {
                            try {
                                this.style.setState(a, t) && this._update(!0)
                            } catch (n) {
                                h.warnOnce(`Unable to perform style diff: ${n.message || n.error || n}.  Rebuilding the style from scratch.`), this._updateStyle(a, t)
                            }
                        }

                        getStyle() {
                            if (this.style) return this.style.serialize()
                        }

                        isStyleLoaded() {
                            return this.style ? this.style.loaded() : h.warnOnce("There is no style added to the map.")
                        }

                        addSource(a, t) {
                            return this._lazyInitEmptyStyle(), this.style.addSource(a, t), this._update(!0)
                        }

                        isSourceLoaded(a) {
                            const t = this.style && this.style.sourceCaches[a];
                            if (void 0 !== t) return t.loaded();
                            this.fire(new h.ErrorEvent(new Error(`There is no source with ID '${a}'`)))
                        }

                        setTerrain(a) {
                            if (this.style._checkLoaded(), this._terrainDataCallback && this.style.off("data", this._terrainDataCallback), a) {
                                const t = this.style.sourceCaches[a.source];
                                if (!t) throw new Error(`cannot load terrain, because there exists no source with ID: ${a.source}`);
                                this.terrain = new Ms(this.painter, t, a), this.painter.renderToTexture = new As(this.painter, this.terrain), this.transform.updateElevation(this.terrain), this._terrainDataCallback = n => {
                                    "style" === n.dataType ? this.terrain.sourceCache.freeRtt() : "source" === n.dataType && n.tile && (n.sourceId === a.source && this.transform.updateElevation(this.terrain), this.terrain.sourceCache.freeRtt(n.tile.tileID))
                                }, this.style.on("data", this._terrainDataCallback)
                            } else this.terrain && this.terrain.sourceCache.destruct(), this.terrain = null, this.painter.renderToTexture && this.painter.renderToTexture.destruct(), this.painter.renderToTexture = null, this.transform.updateElevation(this.terrain);
                            return this.fire(new h.Event("terrain", {terrain: a})), this
                        }

                        getTerrain() {
                            return this.terrain && this.terrain.options
                        }

                        areTilesLoaded() {
                            const a = this.style && this.style.sourceCaches;
                            for (const t in a) {
                                const n = a[t]._tiles;
                                for (const o in n) {
                                    const l = n[o];
                                    if ("loaded" !== l.state && "errored" !== l.state) return !1
                                }
                            }
                            return !0
                        }

                        addSourceType(a, t, n) {
                            return this._lazyInitEmptyStyle(), this.style.addSourceType(a, t, n)
                        }

                        removeSource(a) {
                            return this.style.removeSource(a), this._update(!0)
                        }

                        getSource(a) {
                            return this.style.getSource(a)
                        }

                        addImage(a, t, {pixelRatio: n = 1, sdf: o = !1, stretchX: l, stretchY: p, content: m} = {}) {
                            if (this._lazyInitEmptyStyle(), t instanceof HTMLImageElement || h.isImageBitmap(t)) {
                                const {width: g, height: y, data: x} = h.exported.getImageData(t);
                                this.style.addImage(a, {
                                    data: new h.RGBAImage({width: g, height: y}, x),
                                    pixelRatio: n,
                                    stretchX: l,
                                    stretchY: p,
                                    content: m,
                                    sdf: o,
                                    version: 0
                                })
                            } else {
                                if (void 0 === t.width || void 0 === t.height) return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
                                {
                                    const {width: g, height: y, data: x} = t, C = t;
                                    this.style.addImage(a, {
                                        data: new h.RGBAImage({
                                            width: g,
                                            height: y
                                        }, new Uint8Array(x)),
                                        pixelRatio: n,
                                        stretchX: l,
                                        stretchY: p,
                                        content: m,
                                        sdf: o,
                                        version: 0,
                                        userImage: C
                                    }), C.onAdd && C.onAdd(this, a)
                                }
                            }
                        }

                        updateImage(a, t) {
                            const n = this.style.getImage(a);
                            if (!n) return this.fire(new h.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));
                            const o = t instanceof HTMLImageElement || h.isImageBitmap(t) ? h.exported.getImageData(t) : t, {
                                width: l,
                                height: p,
                                data: m
                            } = o;
                            if (void 0 === l || void 0 === p) return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
                            if (l !== n.data.width || p !== n.data.height) return this.fire(new h.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));
                            const g = !(t instanceof HTMLImageElement || h.isImageBitmap(t));
                            n.data.replace(m, g), this.style.updateImage(a, n)
                        }

                        hasImage(a) {
                            return a ? !!this.style.getImage(a) : (this.fire(new h.ErrorEvent(new Error("Missing required image id"))), !1)
                        }

                        removeImage(a) {
                            this.style.removeImage(a)
                        }

                        loadImage(a, t) {
                            Et.getImage(this._requestManager.transformRequest(a, at.Image), t)
                        }

                        listImages() {
                            return this.style.listImages()
                        }

                        addLayer(a, t) {
                            return this._lazyInitEmptyStyle(), this.style.addLayer(a, t), this._update(!0)
                        }

                        moveLayer(a, t) {
                            return this.style.moveLayer(a, t), this._update(!0)
                        }

                        removeLayer(a) {
                            return this.style.removeLayer(a), this._update(!0)
                        }

                        getLayer(a) {
                            return this.style.getLayer(a)
                        }

                        setLayerZoomRange(a, t, n) {
                            return this.style.setLayerZoomRange(a, t, n), this._update(!0)
                        }

                        setFilter(a, t, n = {}) {
                            return this.style.setFilter(a, t, n), this._update(!0)
                        }

                        getFilter(a) {
                            return this.style.getFilter(a)
                        }

                        setPaintProperty(a, t, n, o = {}) {
                            return this.style.setPaintProperty(a, t, n, o), this._update(!0)
                        }

                        getPaintProperty(a, t) {
                            return this.style.getPaintProperty(a, t)
                        }

                        setLayoutProperty(a, t, n, o = {}) {
                            return this.style.setLayoutProperty(a, t, n, o), this._update(!0)
                        }

                        getLayoutProperty(a, t) {
                            return this.style.getLayoutProperty(a, t)
                        }

                        setGlyphs(a, t = {}) {
                            return this._lazyInitEmptyStyle(), this.style.setGlyphs(a, t), this._update(!0)
                        }

                        getGlyphs() {
                            return this.style.getGlyphsUrl()
                        }

                        addSprite(a, t, n = {}) {
                            return this._lazyInitEmptyStyle(), this.style.addSprite(a, t, n, o => {
                                o || this._update(!0)
                            }), this
                        }

                        removeSprite(a) {
                            return this._lazyInitEmptyStyle(), this.style.removeSprite(a), this._update(!0)
                        }

                        getSprite() {
                            return this.style.getSprite()
                        }

                        setSprite(a, t = {}) {
                            return this._lazyInitEmptyStyle(), this.style.setSprite(a, t, n => {
                                n || this._update(!0)
                            }), this
                        }

                        setLight(a, t = {}) {
                            return this._lazyInitEmptyStyle(), this.style.setLight(a, t), this._update(!0)
                        }

                        getLight() {
                            return this.style.getLight()
                        }

                        setFeatureState(a, t) {
                            return this.style.setFeatureState(a, t), this._update()
                        }

                        removeFeatureState(a, t) {
                            return this.style.removeFeatureState(a, t), this._update()
                        }

                        getFeatureState(a) {
                            return this.style.getFeatureState(a)
                        }

                        getContainer() {
                            return this._container
                        }

                        getCanvasContainer() {
                            return this._canvasContainer
                        }

                        getCanvas() {
                            return this._canvas
                        }

                        _containerDimensions() {
                            let a = 0, t = 0;
                            return this._container && (a = this._container.clientWidth || 400, t = this._container.clientHeight || 300), [a, t]
                        }

                        _setupContainer() {
                            const a = this._container;
                            a.classList.add("maplibregl-map");
                            const t = this._canvasContainer = ie.create("div", "maplibregl-canvas-container", a);
                            this._interactive && t.classList.add("maplibregl-interactive"), this._canvas = ie.create("canvas", "maplibregl-canvas", t), this._canvas.addEventListener("webglcontextlost", this._contextLost, !1), this._canvas.addEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.setAttribute("tabindex", "0"), this._canvas.setAttribute("aria-label", "Map"), this._canvas.setAttribute("role", "region");
                            const n = this._containerDimensions();
                            this._resizeCanvas(n[0], n[1], this.getPixelRatio());
                            const o = this._controlContainer = ie.create("div", "maplibregl-control-container", a),
                                l = this._controlPositions = {};
                            ["top-left", "top-right", "bottom-left", "bottom-right"].forEach(p => {
                                l[p] = ie.create("div", `maplibregl-ctrl-${p} `, o)
                            }), this._container.addEventListener("scroll", this._onMapScroll, !1)
                        }

                        _setupCooperativeGestures() {
                            const a = this._container;
                            this._metaPress = !1, this._cooperativeGesturesScreen = ie.create("div", "maplibregl-cooperative-gesture-screen", a);
                            let t = "Control",
                                n = "boolean" != typeof this._cooperativeGestures && this._cooperativeGestures.windowsHelpText ? this._cooperativeGestures.windowsHelpText : "Use Ctrl + scroll to zoom the map";
                            0 === navigator.platform.indexOf("Mac") && (n = "boolean" != typeof this._cooperativeGestures && this._cooperativeGestures.macHelpText ? this._cooperativeGestures.macHelpText : "Use \u2318 + scroll to zoom the map", t = "Meta"), this._cooperativeGesturesScreen.innerHTML = `\n            <div class="maplibregl-desktop-message">${n}</div>\n            <div class="maplibregl-mobile-message">${"boolean" != typeof this._cooperativeGestures && this._cooperativeGestures.mobileHelpText ? this._cooperativeGestures.mobileHelpText : "Use two fingers to move the map"}</div>\n        `, document.addEventListener("keydown", o => {
                                o.key === t && (this._metaPress = !0)
                            }), document.addEventListener("keyup", o => {
                                o.key === t && (this._metaPress = !1)
                            }), this._canvasContainer.addEventListener("wheel", o => {
                                this._onCooperativeGesture(o, this._metaPress, 1)
                            }, !1), this._canvasContainer.classList.remove("maplibregl-touch-drag-pan")
                        }

                        _resizeCanvas(a, t, n) {
                            this._canvas.width = n * a, this._canvas.height = n * t, this._canvas.style.width = `${a}px`, this._canvas.style.height = `${t}px`
                        }

                        _setupPainter() {
                            const a = h.extend({}, ft.webGLContextAttributes, {
                                failIfMajorPerformanceCaveat: this._failIfMajorPerformanceCaveat,
                                preserveDrawingBuffer: this._preserveDrawingBuffer,
                                antialias: this._antialias || !1
                            });
                            let t = null;
                            this._canvas.addEventListener("webglcontextcreationerror", o => {
                                t = {requestedAttributes: a}, o && (t.statusMessage = o.statusMessage, t.type = o.type)
                            }, {once: !0});
                            const n = this._canvas.getContext("webgl", a) || this._canvas.getContext("experimental-webgl", a);
                            if (!n) {
                                const o = "Failed to initialize WebGL";
                                throw t ? (t.message = o, new Error(JSON.stringify(t))) : new Error(o)
                            }
                            this.painter = new Mr(n, this.transform), ot.testSupport(n)
                        }

                        _contextLost(a) {
                            a.preventDefault(), this._frame && (this._frame.cancel(), this._frame = null), this.fire(new h.Event("webglcontextlost", {originalEvent: a}))
                        }

                        _contextRestored(a) {
                            this._setupPainter(), this.resize(), this._update(), this.fire(new h.Event("webglcontextrestored", {originalEvent: a}))
                        }

                        _onMapScroll(a) {
                            if (a.target === this._container) return this._container.scrollTop = 0, this._container.scrollLeft = 0, !1
                        }

                        _onCooperativeGesture(a, t, n) {
                            return !t && n < 2 && (this._cooperativeGesturesScreen.classList.add("maplibregl-show"), setTimeout(() => {
                                this._cooperativeGesturesScreen.classList.remove("maplibregl-show")
                            }, 100)), !1
                        }

                        loaded() {
                            return !this._styleDirty && !this._sourcesDirty && !!this.style && this.style.loaded()
                        }

                        _update(a) {
                            return this.style ? (this._styleDirty = this._styleDirty || a, this._sourcesDirty = !0, this.triggerRepaint(), this) : this
                        }

                        _requestRenderFrame(a) {
                            return this._update(), this._renderTaskQueue.add(a)
                        }

                        _cancelRenderFrame(a) {
                            this._renderTaskQueue.remove(a)
                        }

                        _render(a) {
                            let t, n = 0;
                            const o = this.painter.context.extTimerQuery;
                            if (this.listens("gpu-timing-frame") && (t = o.createQueryEXT(), o.beginQueryEXT(o.TIME_ELAPSED_EXT, t), n = h.exported.now()), this.painter.context.setDirty(), this.painter.setBaseState(), this._renderTaskQueue.run(a), this._removed) return;
                            let l = !1;
                            if (this.style && this._styleDirty) {
                                this._styleDirty = !1;
                                const m = this.transform.zoom, g = h.exported.now();
                                this.style.zoomHistory.update(m, g);
                                const y = new h.EvaluationParameters(m, {
                                    now: g,
                                    fadeDuration: this._fadeDuration,
                                    zoomHistory: this.style.zoomHistory,
                                    transition: this.style.getTransition()
                                }), x = y.crossFadingFactor();
                                1 === x && x === this._crossFadingFactor || (l = !0, this._crossFadingFactor = x), this.style.update(y)
                            }
                            if (this.style && this._sourcesDirty && (this._sourcesDirty = !1, this.style._updateSources(this.transform)), this.terrain && this.terrain.sourceCache.update(this.transform, this.terrain), this.transform.updateElevation(this.terrain), this._imageQueueDirty = Et.processQueue() > 0, this._placementDirty = this.style && this.style._updatePlacement(this.painter.transform, this.showCollisionBoxes, this._fadeDuration, this._crossSourceCollisions), this.painter.render(this.style, {
                                showTileBoundaries: this.showTileBoundaries,
                                showOverdrawInspector: this._showOverdrawInspector,
                                rotating: this.isRotating(),
                                zooming: this.isZooming(),
                                moving: this.isMoving(),
                                fadeDuration: this._fadeDuration,
                                showPadding: this.showPadding,
                                gpuTiming: !!this.listens("gpu-timing-layer")
                            }), this.fire(new h.Event("render")), this.loaded() && !this._loaded && (this._loaded = !0, h.PerformanceUtils.mark(h.PerformanceMarkers.load), this.fire(new h.Event("load"))), this.style && (this.style.hasTransitions() || l) && (this._styleDirty = !0), this.style && !this._placementDirty && this.style._releaseSymbolFadeTiles(), this.listens("gpu-timing-frame")) {
                                const m = h.exported.now() - n;
                                o.endQueryEXT(o.TIME_ELAPSED_EXT, t), setTimeout(() => {
                                    const g = o.getQueryObjectEXT(t, o.QUERY_RESULT_EXT) / 1e6;
                                    o.deleteQueryEXT(t), this.fire(new h.Event("gpu-timing-frame", {
                                        cpuTime: m,
                                        gpuTime: g
                                    }))
                                }, 50)
                            }
                            if (this.listens("gpu-timing-layer")) {
                                const m = this.painter.collectGpuTimers();
                                setTimeout(() => {
                                    const g = this.painter.queryGpuTimers(m);
                                    this.fire(new h.Event("gpu-timing-layer", {layerTimes: g}))
                                }, 50)
                            }
                            const p = this._sourcesDirty || this._styleDirty || this._placementDirty || this._imageQueueDirty;
                            return p || this._repaint ? this.triggerRepaint() : !this.isMoving() && this.loaded() && this.fire(new h.Event("idle")), !this._loaded || this._fullyLoaded || p || (this._fullyLoaded = !0, h.PerformanceUtils.mark(h.PerformanceMarkers.fullLoad)), this
                        }

                        redraw() {
                            return this.style && (this._frame && (this._frame.cancel(), this._frame = null), this._render(0)), this
                        }

                        remove() {
                            this._hash && this._hash.remove();
                            for (const t of this._controls) t.onRemove(this);
                            this._controls = [], this._frame && (this._frame.cancel(), this._frame = null), this._renderTaskQueue.clear(), this.painter.destroy(), this.handlers.destroy(), delete this.handlers, this.setStyle(null), typeof window < "u" && (removeEventListener("resize", this._onWindowResize, !1), removeEventListener("orientationchange", this._onWindowResize, !1), removeEventListener("online", this._onWindowOnline, !1)), Et.removeThrottleControl(this._imageQueueHandle);
                            const a = this.painter.context.gl.getExtension("WEBGL_lose_context");
                            a && a.loseContext(), this._canvas.removeEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.removeEventListener("webglcontextlost", this._contextLost, !1), ie.remove(this._canvasContainer), ie.remove(this._controlContainer), this._cooperativeGestures && ie.remove(this._cooperativeGesturesScreen), this._container.classList.remove("maplibregl-map"), h.PerformanceUtils.clearMetrics(), this._removed = !0, this.fire(new h.Event("remove"))
                        }

                        triggerRepaint() {
                            this.style && !this._frame && (this._frame = h.exported.frame(a => {
                                h.PerformanceUtils.frame(a), this._frame = null, this._render(a)
                            }))
                        }

                        _onWindowOnline() {
                            this._update()
                        }

                        _onWindowResize(a) {
                            this._trackResize && this.resize({originalEvent: a})._update()
                        }

                        get showTileBoundaries() {
                            return !!this._showTileBoundaries
                        }

                        set showTileBoundaries(a) {
                            this._showTileBoundaries !== a && (this._showTileBoundaries = a, this._update())
                        }

                        get showPadding() {
                            return !!this._showPadding
                        }

                        set showPadding(a) {
                            this._showPadding !== a && (this._showPadding = a, this._update())
                        }

                        get showCollisionBoxes() {
                            return !!this._showCollisionBoxes
                        }

                        set showCollisionBoxes(a) {
                            this._showCollisionBoxes !== a && (this._showCollisionBoxes = a, a ? this.style._generateCollisionBoxes() : this._update())
                        }

                        get showOverdrawInspector() {
                            return !!this._showOverdrawInspector
                        }

                        set showOverdrawInspector(a) {
                            this._showOverdrawInspector !== a && (this._showOverdrawInspector = a, this._update())
                        }

                        get repaint() {
                            return !!this._repaint
                        }

                        set repaint(a) {
                            this._repaint !== a && (this._repaint = a, this.triggerRepaint())
                        }

                        get vertices() {
                            return !!this._vertices
                        }

                        set vertices(a) {
                            this._vertices = a, this._update()
                        }

                        get version() {
                            return Lo
                        }

                        getCameraTargetElevation() {
                            return this.transform.elevation
                        }
                    },
                    NavigationControl: class {
                        constructor(a) {
                            this.options = h.extend({}, Bo, a), this._container = ie.create("div", "maplibregl-ctrl maplibregl-ctrl-group"), this._container.addEventListener("contextmenu", t => t.preventDefault()), this.options.showZoom && (h.bindAll(["_setButtonTitle", "_updateZoomButtons"], this), this._zoomInButton = this._createButton("maplibregl-ctrl-zoom-in", t => this._map.zoomIn({}, {originalEvent: t})), ie.create("span", "maplibregl-ctrl-icon", this._zoomInButton).setAttribute("aria-hidden", "true"), this._zoomOutButton = this._createButton("maplibregl-ctrl-zoom-out", t => this._map.zoomOut({}, {originalEvent: t})), ie.create("span", "maplibregl-ctrl-icon", this._zoomOutButton).setAttribute("aria-hidden", "true")), this.options.showCompass && (h.bindAll(["_rotateCompassArrow"], this), this._compass = this._createButton("maplibregl-ctrl-compass", t => {
                                this.options.visualizePitch ? this._map.resetNorthPitch({}, {originalEvent: t}) : this._map.resetNorth({}, {originalEvent: t})
                            }), this._compassIcon = ie.create("span", "maplibregl-ctrl-icon", this._compass), this._compassIcon.setAttribute("aria-hidden", "true"))
                        }

                        _updateZoomButtons() {
                            const a = this._map.getZoom(), t = a === this._map.getMaxZoom(),
                                n = a === this._map.getMinZoom();
                            this._zoomInButton.disabled = t, this._zoomOutButton.disabled = n, this._zoomInButton.setAttribute("aria-disabled", t.toString()), this._zoomOutButton.setAttribute("aria-disabled", n.toString())
                        }

                        _rotateCompassArrow() {
                            const a = this.options.visualizePitch ? `scale(${1 / Math.pow(Math.cos(this._map.transform.pitch * (Math.PI / 180)), .5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle * (180 / Math.PI)}deg)` : `rotate(${this._map.transform.angle * (180 / Math.PI)}deg)`;
                            this._compassIcon.style.transform = a
                        }

                        onAdd(a) {
                            return this._map = a, this.options.showZoom && (this._setButtonTitle(this._zoomInButton, "ZoomIn"), this._setButtonTitle(this._zoomOutButton, "ZoomOut"), this._map.on("zoom", this._updateZoomButtons), this._updateZoomButtons()), this.options.showCompass && (this._setButtonTitle(this._compass, "ResetBearing"), this.options.visualizePitch && this._map.on("pitch", this._rotateCompassArrow), this._map.on("rotate", this._rotateCompassArrow), this._rotateCompassArrow(), this._handler = new Ba(this._map, this._compass, this.options.visualizePitch)), this._container
                        }

                        onRemove() {
                            ie.remove(this._container), this.options.showZoom && this._map.off("zoom", this._updateZoomButtons), this.options.showCompass && (this.options.visualizePitch && this._map.off("pitch", this._rotateCompassArrow), this._map.off("rotate", this._rotateCompassArrow), this._handler.off(), delete this._handler), delete this._map
                        }

                        _createButton(a, t) {
                            const n = ie.create("button", a, this._container);
                            return n.type = "button", n.addEventListener("click", t), n
                        }

                        _setButtonTitle(a, t) {
                            const n = this._map._getUIString(`NavigationControl.${t}`);
                            a.title = n, a.setAttribute("aria-label", n)
                        }
                    },
                    GeolocateControl: class extends h.Evented {
                        constructor(a) {
                            super(), this.options = h.extend({}, Fa, a), h.bindAll(["_onSuccess", "_onError", "_onZoom", "_finish", "_setupUI", "_updateCamera", "_updateMarker"], this)
                        }

                        onAdd(a) {
                            var t;
                            return this._map = a, this._container = ie.create("div", "maplibregl-ctrl maplibregl-ctrl-group"), t = this._setupUI, void 0 !== Kr ? t(Kr) : void 0 !== window.navigator.permissions ? window.navigator.permissions.query({name: "geolocation"}).then(n => {
                                Kr = "denied" !== n.state, t(Kr)
                            }) : (Kr = !!window.navigator.geolocation, t(Kr)), this._container
                        }

                        onRemove() {
                            void 0 !== this._geolocationWatchID && (window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0), this.options.showUserLocation && this._userLocationDotMarker && this._userLocationDotMarker.remove(), this.options.showAccuracyCircle && this._accuracyCircleMarker && this._accuracyCircleMarker.remove(), ie.remove(this._container), this._map.off("zoom", this._onZoom), this._map = void 0, Xn = 0, Tn = !1
                        }

                        _isOutOfMapMaxBounds(a) {
                            const t = this._map.getMaxBounds(), n = a.coords;
                            return t && (n.longitude < t.getWest() || n.longitude > t.getEast() || n.latitude < t.getSouth() || n.latitude > t.getNorth())
                        }

                        _setErrorState() {
                            switch (this._watchState) {
                                case"WAITING_ACTIVE":
                                    this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");
                                    break;
                                case"ACTIVE_LOCK":
                                    this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");
                                    break;
                                case"BACKGROUND":
                                    this._watchState = "BACKGROUND_ERROR", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");
                                    break;
                                case"ACTIVE_ERROR":
                                    break;
                                default:
                                    throw new Error(`Unexpected watchState ${this._watchState}`)
                            }
                        }

                        _onSuccess(a) {
                            if (this._map) {
                                if (this._isOutOfMapMaxBounds(a)) return this._setErrorState(), this.fire(new h.Event("outofmaxbounds", a)), this._updateMarker(), void this._finish();
                                if (this.options.trackUserLocation) switch (this._lastKnownPosition = a, this._watchState) {
                                    case"WAITING_ACTIVE":
                                    case"ACTIVE_LOCK":
                                    case"ACTIVE_ERROR":
                                        this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");
                                        break;
                                    case"BACKGROUND":
                                    case"BACKGROUND_ERROR":
                                        this._watchState = "BACKGROUND", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");
                                        break;
                                    default:
                                        throw new Error(`Unexpected watchState ${this._watchState}`)
                                }
                                this.options.showUserLocation && "OFF" !== this._watchState && this._updateMarker(a), this.options.trackUserLocation && "ACTIVE_LOCK" !== this._watchState || this._updateCamera(a), this.options.showUserLocation && this._dotElement.classList.remove("maplibregl-user-location-dot-stale"), this.fire(new h.Event("geolocate", a)), this._finish()
                            }
                        }

                        _updateCamera(a) {
                            const t = new h.LngLat(a.coords.longitude, a.coords.latitude), n = a.coords.accuracy,
                                o = this._map.getBearing(), l = h.extend({bearing: o}, this.options.fitBoundsOptions);
                            this._map.fitBounds(t.toBounds(n), l, {geolocateSource: !0})
                        }

                        _updateMarker(a) {
                            if (a) {
                                const t = new h.LngLat(a.coords.longitude, a.coords.latitude);
                                this._accuracyCircleMarker.setLngLat(t).addTo(this._map), this._userLocationDotMarker.setLngLat(t).addTo(this._map), this._accuracy = a.coords.accuracy, this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius()
                            } else this._userLocationDotMarker.remove(), this._accuracyCircleMarker.remove()
                        }

                        _updateCircleRadius() {
                            const a = this._map._container.clientHeight / 2, t = this._map.unproject([0, a]),
                                n = this._map.unproject([1, a]), o = t.distanceTo(n),
                                l = Math.ceil(2 * this._accuracy / o);
                            this._circleElement.style.width = `${l}px`, this._circleElement.style.height = `${l}px`
                        }

                        _onZoom() {
                            this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius()
                        }

                        _onError(a) {
                            if (this._map) {
                                if (this.options.trackUserLocation) if (1 === a.code) {
                                    this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"), this._geolocateButton.disabled = !0;
                                    const t = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                                    this._geolocateButton.title = t, this._geolocateButton.setAttribute("aria-label", t), void 0 !== this._geolocationWatchID && this._clearWatch()
                                } else {
                                    if (3 === a.code && Tn) return;
                                    this._setErrorState()
                                }
                                "OFF" !== this._watchState && this.options.showUserLocation && this._dotElement.classList.add("maplibregl-user-location-dot-stale"), this.fire(new h.Event("error", a)), this._finish()
                            }
                        }

                        _finish() {
                            this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = void 0
                        }

                        _setupUI(a) {
                            if (this._container.addEventListener("contextmenu", t => t.preventDefault()), this._geolocateButton = ie.create("button", "maplibregl-ctrl-geolocate", this._container), ie.create("span", "maplibregl-ctrl-icon", this._geolocateButton).setAttribute("aria-hidden", "true"), this._geolocateButton.type = "button", !1 === a) {
                                h.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");
                                const t = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                                this._geolocateButton.disabled = !0, this._geolocateButton.title = t, this._geolocateButton.setAttribute("aria-label", t)
                            } else {
                                const t = this._map._getUIString("GeolocateControl.FindMyLocation");
                                this._geolocateButton.title = t, this._geolocateButton.setAttribute("aria-label", t)
                            }
                            this.options.trackUserLocation && (this._geolocateButton.setAttribute("aria-pressed", "false"), this._watchState = "OFF"), this.options.showUserLocation && (this._dotElement = ie.create("div", "maplibregl-user-location-dot"), this._userLocationDotMarker = new Ps(this._dotElement), this._circleElement = ie.create("div", "maplibregl-user-location-accuracy-circle"), this._accuracyCircleMarker = new Ps({
                                element: this._circleElement,
                                pitchAlignment: "map"
                            }), this.options.trackUserLocation && (this._watchState = "OFF"), this._map.on("zoom", this._onZoom)), this._geolocateButton.addEventListener("click", this.trigger.bind(this)), this._setup = !0, this.options.trackUserLocation && this._map.on("movestart", t => {
                                t.geolocateSource || "ACTIVE_LOCK" !== this._watchState || t.originalEvent && "resize" === t.originalEvent.type || (this._watchState = "BACKGROUND", this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"), this.fire(new h.Event("trackuserlocationend")))
                            })
                        }

                        trigger() {
                            if (!this._setup) return h.warnOnce("Geolocate control triggered before added to a map"), !1;
                            if (this.options.trackUserLocation) {
                                switch (this._watchState) {
                                    case"OFF":
                                        this._watchState = "WAITING_ACTIVE", this.fire(new h.Event("trackuserlocationstart"));
                                        break;
                                    case"WAITING_ACTIVE":
                                    case"ACTIVE_LOCK":
                                    case"ACTIVE_ERROR":
                                    case"BACKGROUND_ERROR":
                                        Xn--, Tn = !1, this._watchState = "OFF", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"), this.fire(new h.Event("trackuserlocationend"));
                                        break;
                                    case"BACKGROUND":
                                        this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"), this._lastKnownPosition && this._updateCamera(this._lastKnownPosition), this.fire(new h.Event("trackuserlocationstart"));
                                        break;
                                    default:
                                        throw new Error(`Unexpected watchState ${this._watchState}`)
                                }
                                switch (this._watchState) {
                                    case"WAITING_ACTIVE":
                                        this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");
                                        break;
                                    case"ACTIVE_LOCK":
                                        this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");
                                        break;
                                    case"OFF":
                                        break;
                                    default:
                                        throw new Error(`Unexpected watchState ${this._watchState}`)
                                }
                                if ("OFF" === this._watchState && void 0 !== this._geolocationWatchID) this._clearWatch(); else if (void 0 === this._geolocationWatchID) {
                                    let a;
                                    this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "true"), Xn++, Xn > 1 ? (a = {
                                        maximumAge: 6e5,
                                        timeout: 0
                                    }, Tn = !0) : (a = this.options.positionOptions, Tn = !1), this._geolocationWatchID = window.navigator.geolocation.watchPosition(this._onSuccess, this._onError, a)
                                }
                            } else window.navigator.geolocation.getCurrentPosition(this._onSuccess, this._onError, this.options.positionOptions), this._timeoutId = setTimeout(this._finish, 1e4);
                            return !0
                        }

                        _clearWatch() {
                            window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0, this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "false"), this.options.showUserLocation && this._updateMarker(null)
                        }
                    },
                    AttributionControl: Is,
                    LogoControl: Es,
                    ScaleControl: class {
                        constructor(a) {
                            this.options = h.extend({}, Oa, a), h.bindAll(["_onMove", "setUnit"], this)
                        }

                        getDefaultPosition() {
                            return "bottom-left"
                        }

                        _onMove() {
                            Uo(this._map, this._container, this.options)
                        }

                        onAdd(a) {
                            return this._map = a, this._container = ie.create("div", "maplibregl-ctrl maplibregl-ctrl-scale", a.getContainer()), this._map.on("move", this._onMove), this._onMove(), this._container
                        }

                        onRemove() {
                            ie.remove(this._container), this._map.off("move", this._onMove), this._map = void 0
                        }

                        setUnit(a) {
                            this.options.unit = a, Uo(this._map, this._container, this.options)
                        }
                    },
                    FullscreenControl: class extends h.Evented {
                        constructor(a = {}) {
                            super(), this._onFullscreenChange = () => {
                                (window.document.fullscreenElement || window.document.mozFullScreenElement || window.document.webkitFullscreenElement || window.document.msFullscreenElement) === this._container !== this._fullscreen && this._handleFullscreenChange()
                            }, this._onClickFullscreen = () => {
                                this._isFullscreen() ? this._exitFullscreen() : this._requestFullscreen()
                            }, this._fullscreen = !1, a && a.container && (a.container instanceof HTMLElement ? this._container = a.container : h.warnOnce("Full screen control 'container' must be a DOM element.")), "onfullscreenchange" in document ? this._fullscreenchange = "fullscreenchange" : "onmozfullscreenchange" in document ? this._fullscreenchange = "mozfullscreenchange" : "onwebkitfullscreenchange" in document ? this._fullscreenchange = "webkitfullscreenchange" : "onmsfullscreenchange" in document && (this._fullscreenchange = "MSFullscreenChange")
                        }

                        onAdd(a) {
                            return this._map = a, this._container || (this._container = this._map.getContainer()), this._controlContainer = ie.create("div", "maplibregl-ctrl maplibregl-ctrl-group"), this._setupUI(), this._controlContainer
                        }

                        onRemove() {
                            ie.remove(this._controlContainer), this._map = null, window.document.removeEventListener(this._fullscreenchange, this._onFullscreenChange)
                        }

                        _setupUI() {
                            const a = this._fullscreenButton = ie.create("button", "maplibregl-ctrl-fullscreen", this._controlContainer);
                            ie.create("span", "maplibregl-ctrl-icon", a).setAttribute("aria-hidden", "true"), a.type = "button", this._updateTitle(), this._fullscreenButton.addEventListener("click", this._onClickFullscreen), window.document.addEventListener(this._fullscreenchange, this._onFullscreenChange)
                        }

                        _updateTitle() {
                            const a = this._getTitle();
                            this._fullscreenButton.setAttribute("aria-label", a), this._fullscreenButton.title = a
                        }

                        _getTitle() {
                            return this._map._getUIString(this._isFullscreen() ? "FullscreenControl.Exit" : "FullscreenControl.Enter")
                        }

                        _isFullscreen() {
                            return this._fullscreen
                        }

                        _handleFullscreenChange() {
                            this._fullscreen = !this._fullscreen, this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"), this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"), this._updateTitle(), this.fire(new h.Event(this._fullscreen ? "fullscreenstart" : "fullscreenend"))
                        }

                        _exitFullscreen() {
                            window.document.exitFullscreen ? window.document.exitFullscreen() : window.document.mozCancelFullScreen ? window.document.mozCancelFullScreen() : window.document.msExitFullscreen ? window.document.msExitFullscreen() : window.document.webkitCancelFullScreen ? window.document.webkitCancelFullScreen() : this._togglePseudoFullScreen()
                        }

                        _requestFullscreen() {
                            this._container.requestFullscreen ? this._container.requestFullscreen() : this._container.mozRequestFullScreen ? this._container.mozRequestFullScreen() : this._container.msRequestFullscreen ? this._container.msRequestFullscreen() : this._container.webkitRequestFullscreen ? this._container.webkitRequestFullscreen() : this._togglePseudoFullScreen()
                        }

                        _togglePseudoFullScreen() {
                            this._container.classList.toggle("maplibregl-pseudo-fullscreen"), this._handleFullscreenChange(), this._map.resize()
                        }
                    },
                    TerrainControl: class {
                        constructor(a) {
                            this.options = a, h.bindAll(["_toggleTerrain", "_updateTerrainIcon"], this)
                        }

                        onAdd(a) {
                            return this._map = a, this._container = ie.create("div", "maplibregl-ctrl maplibregl-ctrl-group"), this._terrainButton = ie.create("button", "maplibregl-ctrl-terrain", this._container), ie.create("span", "maplibregl-ctrl-icon", this._terrainButton).setAttribute("aria-hidden", "true"), this._terrainButton.type = "button", this._terrainButton.addEventListener("click", this._toggleTerrain), this._updateTerrainIcon(), this._map.on("terrain", this._updateTerrainIcon), this._container
                        }

                        onRemove() {
                            ie.remove(this._container), this._map.off("terrain", this._updateTerrainIcon), this._map = void 0
                        }

                        _toggleTerrain() {
                            this._map.getTerrain() ? this._map.setTerrain(null) : this._map.setTerrain(this.options), this._updateTerrainIcon()
                        }

                        _updateTerrainIcon() {
                            this._terrainButton.classList.remove("maplibregl-ctrl-terrain"), this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"), this._map.terrain ? (this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"), this._terrainButton.title = this._map._getUIString("TerrainControl.disableTerrain")) : (this._terrainButton.classList.add("maplibregl-ctrl-terrain"), this._terrainButton.title = this._map._getUIString("TerrainControl.enableTerrain"))
                        }
                    },
                    Popup: class extends h.Evented {
                        constructor(a) {
                            super(), this.options = h.extend(Object.create(xl), a), h.bindAll(["_update", "_onClose", "remove", "_onMouseMove", "_onMouseUp", "_onDrag"], this)
                        }

                        addTo(a) {
                            return this._map && this.remove(), this._map = a, this.options.closeOnClick && this._map.on("click", this._onClose), this.options.closeOnMove && this._map.on("move", this._onClose), this._map.on("remove", this.remove), this._update(), this._focusFirstElement(), this._trackPointer ? (this._map.on("mousemove", this._onMouseMove), this._map.on("mouseup", this._onMouseUp), this._container && this._container.classList.add("maplibregl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer")) : this._map.on("move", this._update), this.fire(new h.Event("open")), this
                        }

                        isOpen() {
                            return !!this._map
                        }

                        remove() {
                            return this._content && ie.remove(this._content), this._container && (ie.remove(this._container), delete this._container), this._map && (this._map.off("move", this._update), this._map.off("move", this._onClose), this._map.off("click", this._onClose), this._map.off("remove", this.remove), this._map.off("mousemove", this._onMouseMove), this._map.off("mouseup", this._onMouseUp), this._map.off("drag", this._onDrag), delete this._map), this.fire(new h.Event("close")), this
                        }

                        getLngLat() {
                            return this._lngLat
                        }

                        setLngLat(a) {
                            return this._lngLat = h.LngLat.convert(a), this._pos = null, this._trackPointer = !1, this._update(), this._map && (this._map.on("move", this._update), this._map.off("mousemove", this._onMouseMove), this._container && this._container.classList.remove("maplibregl-popup-track-pointer"), this._map._canvasContainer.classList.remove("maplibregl-track-pointer")), this
                        }

                        trackPointer() {
                            return this._trackPointer = !0, this._pos = null, this._update(), this._map && (this._map.off("move", this._update), this._map.on("mousemove", this._onMouseMove), this._map.on("drag", this._onDrag), this._container && this._container.classList.add("maplibregl-popup-track-pointer"), this._map._canvasContainer.classList.add("maplibregl-track-pointer")), this
                        }

                        getElement() {
                            return this._container
                        }

                        setText(a) {
                            return this.setDOMContent(document.createTextNode(a))
                        }

                        setHTML(a) {
                            const t = document.createDocumentFragment(), n = document.createElement("body");
                            let o;
                            for (n.innerHTML = a; o = n.firstChild, o;) t.appendChild(o);
                            return this.setDOMContent(t)
                        }

                        getMaxWidth() {
                            return this._container && this._container.style.maxWidth
                        }

                        setMaxWidth(a) {
                            return this.options.maxWidth = a, this._update(), this
                        }

                        setDOMContent(a) {
                            if (this._content) for (; this._content.hasChildNodes();) this._content.firstChild && this._content.removeChild(this._content.firstChild); else this._content = ie.create("div", "maplibregl-popup-content", this._container);
                            return this._content.appendChild(a), this._createCloseButton(), this._update(), this._focusFirstElement(), this
                        }

                        addClassName(a) {
                            this._container && this._container.classList.add(a)
                        }

                        removeClassName(a) {
                            this._container && this._container.classList.remove(a)
                        }

                        setOffset(a) {
                            return this.options.offset = a, this._update(), this
                        }

                        toggleClassName(a) {
                            if (this._container) return this._container.classList.toggle(a)
                        }

                        _createCloseButton() {
                            this.options.closeButton && (this._closeButton = ie.create("button", "maplibregl-popup-close-button", this._content), this._closeButton.type = "button", this._closeButton.setAttribute("aria-label", "Close popup"), this._closeButton.innerHTML = "&#215;", this._closeButton.addEventListener("click", this._onClose))
                        }

                        _onMouseUp(a) {
                            this._update(a.point)
                        }

                        _onMouseMove(a) {
                            this._update(a.point)
                        }

                        _onDrag(a) {
                            this._update(a.point)
                        }

                        _update(a) {
                            if (!this._map || !this._lngLat && !this._trackPointer || !this._content || (this._container || (this._container = ie.create("div", "maplibregl-popup", this._map.getContainer()), this._tip = ie.create("div", "maplibregl-popup-tip", this._container), this._container.appendChild(this._content), this.options.className && this.options.className.split(" ").forEach(p => this._container.classList.add(p)), this._trackPointer && this._container.classList.add("maplibregl-popup-track-pointer")), this.options.maxWidth && this._container.style.maxWidth !== this.options.maxWidth && (this._container.style.maxWidth = this.options.maxWidth), this._map.transform.renderWorldCopies && !this._trackPointer && (this._lngLat = Fo(this._lngLat, this._pos, this._map.transform)), this._trackPointer && !a)) return;
                            const t = this._pos = this._trackPointer && a ? a : this._map.project(this._lngLat);
                            let n = this.options.anchor;
                            const o = Ua(this.options.offset);
                            if (!n) {
                                const p = this._container.offsetWidth, m = this._container.offsetHeight;
                                let g;
                                g = t.y + o.bottom.y < m ? ["top"] : t.y > this._map.transform.height - m ? ["bottom"] : [], t.x < p / 2 ? g.push("left") : t.x > this._map.transform.width - p / 2 && g.push("right"), n = 0 === g.length ? "bottom" : g.join("-")
                            }
                            const l = t.add(o[n]).round();
                            ie.setTransform(this._container, `${ks[n]} translate(${l.x}px,${l.y}px)`), Oo(this._container, n, "popup")
                        }

                        _focusFirstElement() {
                            if (!this.options.focusAfterOpen || !this._container) return;
                            const a = this._container.querySelector(vl);
                            a && a.focus()
                        }

                        _onClose() {
                            this.remove()
                        }
                    },
                    Marker: Ps,
                    Style: Oi,
                    LngLat: h.LngLat,
                    LngLatBounds: h.LngLatBounds,
                    Point: h.pointGeometry,
                    MercatorCoordinate: h.MercatorCoordinate,
                    Evented: h.Evented,
                    AJAXError: h.AJAXError,
                    config: h.config,
                    CanvasSource: F,
                    GeoJSONSource: Or,
                    ImageSource: pe,
                    RasterDEMTileSource: be,
                    RasterTileSource: cr,
                    VectorTileSource: wr,
                    VideoSource: b,
                    prewarm: function () {
                        on().acquire(Ur)
                    },
                    clearPrewarmedResources: function () {
                        const a = mt;
                        a && (a.isPreloaded() && 1 === a.numActive() ? (a.release(Ur), mt = null) : console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))
                    },
                    get version() {
                        return bl
                    },
                    get workerCount() {
                        return Ei.workerCount
                    },
                    set workerCount(a) {
                        Ei.workerCount = a
                    },
                    get maxParallelImageRequests() {
                        return h.config.MAX_PARALLEL_IMAGE_REQUESTS
                    },
                    set maxParallelImageRequests(a) {
                        h.config.MAX_PARALLEL_IMAGE_REQUESTS = a
                    },
                    workerUrl: "",
                    addProtocol(a, t) {
                        h.config.REGISTERED_PROTOCOLS[a] = t
                    },
                    removeProtocol(a) {
                        delete h.config.REGISTERED_PROTOCOLS[a]
                    }
                };
                return Eo.extend(zr, {
                    isSafari: h.isSafari,
                    getPerformanceMetrics: h.PerformanceUtils.getPerformanceMetrics
                }), zr
            }), st
        }()
    }, 7945: (Lr, Gt, Ke) => {
        "use strict";
        Ke.d(Gt, {Fr: () => pi, Gd: () => tr, SM: () => Et, CI: () => Ri, yM: () => nn, Nn: () => Or, RX: () => lr});
        var st = Ke(9671), Wt = Ke(6895), le = Ke(4650), h = Ke(1943), ft = Ke(7579);

        class yt extends ft.x {
            constructor() {
                super(...arguments), this._value = null, this._hasValue = !1, this._isComplete = !1
            }

            _checkFinalizedStatuses(pe) {
                const {hasError: b, _hasValue: F, _value: Ee, thrownError: Be, isStopped: fe, _isComplete: Oe} = this;
                b ? pe.error(Be) : (fe || Oe) && (F && pe.next(Ee), pe.complete())
            }

            next(pe) {
                this.isStopped || (this._value = pe, this._hasValue = !0)
            }

            complete() {
                const {_hasValue: pe, _value: b, _isComplete: F} = this;
                F || (this._isComplete = !0, pe && super.next(b), super.complete())
            }
        }

        var Dt = Ke(727), Ht = Ke(590);
        const Ze = ["content"], ie = ["*"], ot = ["container"];
        let Et = (() => {
            class xe {
                constructor(b) {
                    this.zone = b, this.mapCreated = new yt, this.mapLoaded = new yt, this.markersToRemove = [], this.popupsToRemove = [], this.imageIdsToRemove = [], this.subscription = new Dt.w0, this.mapCreated$ = this.mapCreated.asObservable(), this.mapLoaded$ = this.mapLoaded.asObservable()
                }

                setup(b) {
                    this.zone.onStable.pipe((0, Ht.P)()).subscribe(() => {
                        this.createMap(b.mapOptions), this.hookEvents(b.mapEvents), this.mapEvents = b.mapEvents, this.mapCreated.next(void 0), this.mapCreated.complete()
                    })
                }

                destroyMap() {
                    this.mapInstance && (this.subscription.unsubscribe(), this.mapInstance.remove())
                }

                updateMinZoom(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setMinZoom(b)
                    })
                }

                updateMaxZoom(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setMaxZoom(b)
                    })
                }

                updateMinPitch(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setMinPitch(b)
                    })
                }

                updateMaxPitch(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setMaxPitch(b)
                    })
                }

                updateRenderWorldCopies(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setRenderWorldCopies(b)
                    })
                }

                updateScrollZoom(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.scrollZoom.enable() : this.mapInstance.scrollZoom.disable()
                    })
                }

                updateDragRotate(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.dragRotate.enable() : this.mapInstance.dragRotate.disable()
                    })
                }

                updateTouchPitch(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.touchPitch.enable() : this.mapInstance.touchPitch.disable()
                    })
                }

                updateTouchZoomRotate(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.touchZoomRotate.enable() : this.mapInstance.touchZoomRotate.disable()
                    })
                }

                updateDoubleClickZoom(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.doubleClickZoom.enable() : this.mapInstance.doubleClickZoom.disable()
                    })
                }

                updateKeyboard(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.keyboard.enable() : this.mapInstance.keyboard.disable()
                    })
                }

                updateDragPan(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.dragPan.enable() : this.mapInstance.dragPan.disable()
                    })
                }

                updateBoxZoom(b) {
                    return this.zone.runOutsideAngular(() => {
                        b ? this.mapInstance.boxZoom.enable() : this.mapInstance.boxZoom.disable()
                    })
                }

                updateStyle(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setStyle(b)
                    })
                }

                updateMaxBounds(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setMaxBounds(b)
                    })
                }

                changeCanvasCursor(b) {
                    this.mapInstance.getCanvasContainer().style.cursor = b
                }

                queryRenderedFeatures(b, F) {
                    return this.mapInstance.queryRenderedFeatures(b, F)
                }

                panTo(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.panTo(b, F)
                    })
                }

                move(b, F, Ee, Be, fe, Oe) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance[b]({
                            ...F,
                            zoom: Ee ?? this.mapInstance.getZoom(),
                            center: Be ?? this.mapInstance.getCenter(),
                            bearing: fe ?? this.mapInstance.getBearing(),
                            pitch: Oe ?? this.mapInstance.getPitch()
                        })
                    })
                }

                addLayer(b, F, Ee) {
                    this.zone.runOutsideAngular(() => {
                        Object.keys(b.layerOptions).forEach(Be => {
                            void 0 === b.layerOptions[Be] && delete b.layerOptions[Be]
                        }), this.mapInstance.addLayer(b.layerOptions, Ee), F && (b.layerEvents.layerClick.observers.length && this.mapInstance.on("click", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerClick.emit(Be)
                            })
                        }), b.layerEvents.layerDblClick.observers.length && this.mapInstance.on("dblclick", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerDblClick.emit(Be)
                            })
                        }), b.layerEvents.layerMouseDown.observers.length && this.mapInstance.on("mousedown", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseDown.emit(Be)
                            })
                        }), b.layerEvents.layerMouseUp.observers.length && this.mapInstance.on("mouseup", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseUp.emit(Be)
                            })
                        }), b.layerEvents.layerMouseEnter.observers.length && this.mapInstance.on("mouseenter", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseEnter.emit(Be)
                            })
                        }), b.layerEvents.layerMouseLeave.observers.length && this.mapInstance.on("mouseleave", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseLeave.emit(Be)
                            })
                        }), b.layerEvents.layerMouseMove.observers.length && this.mapInstance.on("mousemove", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseMove.emit(Be)
                            })
                        }), b.layerEvents.layerMouseOver.observers.length && this.mapInstance.on("mouseover", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseOver.emit(Be)
                            })
                        }), b.layerEvents.layerMouseOut.observers.length && this.mapInstance.on("mouseout", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerMouseOut.emit(Be)
                            })
                        }), b.layerEvents.layerContextMenu.observers.length && this.mapInstance.on("contextmenu", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerContextMenu.emit(Be)
                            })
                        }), b.layerEvents.layerTouchStart.observers.length && this.mapInstance.on("touchstart", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerTouchStart.emit(Be)
                            })
                        }), b.layerEvents.layerTouchEnd.observers.length && this.mapInstance.on("touchend", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerTouchEnd.emit(Be)
                            })
                        }), b.layerEvents.layerTouchCancel.observers.length && this.mapInstance.on("touchcancel", b.layerOptions.id, Be => {
                            this.zone.run(() => {
                                b.layerEvents.layerTouchCancel.emit(Be)
                            })
                        }))
                    })
                }

                removeLayer(b) {
                    this.zone.runOutsideAngular(() => {
                        null != this.mapInstance.getLayer(b) && this.mapInstance.removeLayer(b)
                    })
                }

                addMarker(b) {
                    const F = {
                        offset: b.markersOptions.offset,
                        anchor: b.markersOptions.anchor,
                        draggable: !!b.markersOptions.draggable,
                        rotationAlignment: b.markersOptions.rotationAlignment,
                        pitchAlignment: b.markersOptions.pitchAlignment,
                        clickTolerance: b.markersOptions.clickTolerance
                    };
                    b.markersOptions.element.childNodes.length > 0 && (F.element = b.markersOptions.element);
                    const Ee = new h.Marker(F);
                    return b.markersEvents.markerDragStart.observers.length && Ee.on("dragstart", fe => {
                        if (fe) {
                            const {target: Oe} = fe;
                            this.zone.run(() => {
                                b.markersEvents.markerDragStart.emit(Oe)
                            })
                        }
                    }), b.markersEvents.markerDrag.observers.length && Ee.on("drag", fe => {
                        if (fe) {
                            const {target: Oe} = fe;
                            this.zone.run(() => {
                                b.markersEvents.markerDrag.emit(Oe)
                            })
                        }
                    }), b.markersEvents.markerDragEnd.observers.length && Ee.on("dragend", fe => {
                        if (fe) {
                            const {target: Oe} = fe;
                            this.zone.run(() => {
                                b.markersEvents.markerDragEnd.emit(Oe)
                            })
                        }
                    }), Ee.setLngLat(b.markersOptions.feature ? b.markersOptions.feature.geometry.coordinates : b.markersOptions.lngLat), this.zone.runOutsideAngular(() => (Ee.addTo(this.mapInstance), Ee))
                }

                removeMarker(b) {
                    this.markersToRemove.push(b)
                }

                createPopup(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        Object.keys(b.popupOptions).forEach(Be => void 0 === b.popupOptions[Be] && delete b.popupOptions[Be]);
                        const Ee = new h.Popup(b.popupOptions);
                        return Ee.setDOMContent(F), b.popupEvents.popupClose.observers.length && Ee.on("close", () => {
                            this.zone.run(() => {
                                b.popupEvents.popupClose.emit()
                            })
                        }), b.popupEvents.popupOpen.observers.length && Ee.on("open", () => {
                            this.zone.run(() => {
                                b.popupEvents.popupOpen.emit()
                            })
                        }), Ee
                    })
                }

                addPopupToMap(b, F, Ee = !1) {
                    return this.zone.runOutsideAngular(() => {
                        Ee && b._listeners && delete b._listeners.open, b.setLngLat(F), b.addTo(this.mapInstance)
                    })
                }

                addPopupToMarker(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        b.setPopup(F)
                    })
                }

                removePopupFromMap(b, F = !1) {
                    F && b._listeners && delete b._listeners.close, this.popupsToRemove.push(b)
                }

                removePopupFromMarker(b) {
                    return this.zone.runOutsideAngular(() => {
                        b.setPopup(void 0)
                    })
                }

                addControl(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.addControl(b, F)
                    })
                }

                removeControl(b) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.removeControl(b)
                    })
                }

                loadAndAddImage(b, F, Ee) {
                    var Be = this;
                    return (0, st.Z)(function* () {
                        return Be.zone.runOutsideAngular(() => new Promise((fe, Oe) => {
                            Be.mapInstance.loadImage(F, (je, Yt) => {
                                je ? Oe(je) : (Be.addImage(b, Yt, Ee), fe())
                            })
                        }))
                    })()
                }

                addImage(b, F, Ee) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.addImage(b, F, Ee)
                    })
                }

                removeImage(b) {
                    this.imageIdsToRemove.push(b)
                }

                addSource(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        Object.keys(F).forEach(Ee => void 0 === F[Ee] && delete F[Ee]), this.mapInstance.addSource(b, F)
                    })
                }

                getSource(b) {
                    return this.mapInstance.getSource(b)
                }

                removeSource(b) {
                    this.zone.runOutsideAngular(() => {
                        this.findLayersBySourceId(b).forEach(F => this.mapInstance.removeLayer(F.id)), this.mapInstance.removeSource(b)
                    })
                }

                setAllLayerPaintProperty(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        Object.keys(F).forEach(Ee => {
                            this.mapInstance.setPaintProperty(b, Ee, F[Ee])
                        })
                    })
                }

                setAllLayerLayoutProperty(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        Object.keys(F).forEach(Ee => {
                            this.mapInstance.setLayoutProperty(b, Ee, F[Ee])
                        })
                    })
                }

                setLayerFilter(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setFilter(b, F)
                    })
                }

                setLayerBefore(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.moveLayer(b, F)
                    })
                }

                setLayerZoomRange(b, F, Ee) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.setLayerZoomRange(b, F || 0, Ee || 20)
                    })
                }

                fitBounds(b, F) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.fitBounds(b, F)
                    })
                }

                fitScreenCoordinates(b, F, Ee) {
                    return this.zone.runOutsideAngular(() => {
                        this.mapInstance.fitScreenCoordinates(b[0], b[1], F, Ee)
                    })
                }

                applyChanges() {
                    this.zone.runOutsideAngular(() => {
                        this.removeMarkers(), this.removePopups(), this.removeImages()
                    })
                }

                createMap(b) {
                    le.R0b.assertNotInAngularZone(), Object.keys(b).forEach(Ee => {
                        void 0 === b[Ee] && delete b[Ee]
                    }), this.mapInstance = new h.Map(b), window && /msie\s|trident\/|edge\//i.test(window.navigator.userAgent) && this.mapInstance.setStyle(b.style), this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(() => this.applyChanges()))
                }

                removeMarkers() {
                    for (const b of this.markersToRemove) b.remove();
                    this.markersToRemove = []
                }

                removePopups() {
                    for (const b of this.popupsToRemove) b.remove();
                    this.popupsToRemove = []
                }

                removeImages() {
                    for (const b of this.imageIdsToRemove) this.mapInstance.removeImage(b);
                    this.imageIdsToRemove = []
                }

                findLayersBySourceId(b) {
                    const F = this.mapInstance.getStyle().layers;
                    return null == F ? [] : F.filter(Ee => "source" in Ee && Ee.source === b)
                }

                hookEvents(b) {
                    this.mapInstance.on("load", F => {
                        this.mapLoaded.next(void 0), this.mapLoaded.complete(), this.zone.run(() => {
                            b.mapLoad.emit(F.target)
                        })
                    }), b.mapResize.observers.length && this.mapInstance.on("resize", F => this.zone.run(() => {
                        b.mapResize.emit(F)
                    })), b.mapRemove.observers.length && this.mapInstance.on("remove", F => this.zone.run(() => {
                        b.mapRemove.emit(F)
                    })), b.mapMouseDown.observers.length && this.mapInstance.on("mousedown", F => this.zone.run(() => {
                        b.mapMouseDown.emit(F)
                    })), b.mapMouseUp.observers.length && this.mapInstance.on("mouseup", F => this.zone.run(() => {
                        b.mapMouseUp.emit(F)
                    })), b.mapMouseMove.observers.length && this.mapInstance.on("mousemove", F => this.zone.run(() => {
                        b.mapMouseMove.emit(F)
                    })), b.mapClick.observers.length && this.mapInstance.on("click", F => this.zone.run(() => {
                        b.mapClick.emit(F)
                    })), b.mapDblClick.observers.length && this.mapInstance.on("dblclick", F => this.zone.run(() => {
                        b.mapDblClick.emit(F)
                    })), b.mapMouseOver.observers.length && this.mapInstance.on("mouseover", F => this.zone.run(() => {
                        b.mapMouseOver.emit(F)
                    })), b.mapMouseOut.observers.length && this.mapInstance.on("mouseout", F => this.zone.run(() => {
                        b.mapMouseOut.emit(F)
                    })), b.mapContextMenu.observers.length && this.mapInstance.on("contextmenu", F => this.zone.run(() => {
                        b.mapContextMenu.emit(F)
                    })), b.mapTouchStart.observers.length && this.mapInstance.on("touchstart", F => this.zone.run(() => {
                        b.mapTouchStart.emit(F)
                    })), b.mapTouchEnd.observers.length && this.mapInstance.on("touchend", F => this.zone.run(() => {
                        b.mapTouchEnd.emit(F)
                    })), b.mapTouchMove.observers.length && this.mapInstance.on("touchmove", F => this.zone.run(() => {
                        b.mapTouchMove.emit(F)
                    })), b.mapTouchCancel.observers.length && this.mapInstance.on("touchcancel", F => this.zone.run(() => {
                        b.mapTouchCancel.emit(F)
                    })), b.mapWheel.observers.length && this.mapInstance.on("wheel", F => this.zone.run(() => {
                        b.mapWheel.emit(F)
                    })), b.moveStart.observers.length && this.mapInstance.on("movestart", F => this.zone.run(() => b.moveStart.emit(F))), b.move.observers.length && this.mapInstance.on("move", F => this.zone.run(() => b.move.emit(F))), b.moveEnd.observers.length && this.mapInstance.on("moveend", F => this.zone.run(() => b.moveEnd.emit(F))), b.mapDragStart.observers.length && this.mapInstance.on("dragstart", F => this.zone.run(() => {
                        b.mapDragStart.emit(F)
                    })), b.mapDrag.observers.length && this.mapInstance.on("drag", F => this.zone.run(() => {
                        b.mapDrag.emit(F)
                    })), b.mapDragEnd.observers.length && this.mapInstance.on("dragend", F => this.zone.run(() => {
                        b.mapDragEnd.emit(F)
                    })), b.zoomStart.observers.length && this.mapInstance.on("zoomstart", F => this.zone.run(() => b.zoomStart.emit(F))), b.zoomEvt.observers.length && this.mapInstance.on("zoom", F => this.zone.run(() => b.zoomEvt.emit(F))), b.zoomEnd.observers.length && this.mapInstance.on("zoomend", F => this.zone.run(() => b.zoomEnd.emit(F))), b.rotateStart.observers.length && this.mapInstance.on("rotatestart", F => this.zone.run(() => b.rotateStart.emit(F))), b.rotate.observers.length && this.mapInstance.on("rotate", F => this.zone.run(() => b.rotate.emit(F))), b.rotateEnd.observers.length && this.mapInstance.on("rotateend", F => this.zone.run(() => b.rotateEnd.emit(F))), b.pitchStart.observers.length && this.mapInstance.on("pitchstart", F => this.zone.run(() => b.pitchStart.emit(F))), b.pitchEvt.observers.length && this.mapInstance.on("pitch", F => this.zone.run(() => b.pitchEvt.emit(F))), b.pitchEnd.observers.length && this.mapInstance.on("pitchend", F => this.zone.run(() => b.pitchEnd.emit(F))), b.boxZoomStart.observers.length && this.mapInstance.on("boxzoomstart", F => this.zone.run(() => b.boxZoomStart.emit(F))), b.boxZoomEnd.observers.length && this.mapInstance.on("boxzoomend", F => this.zone.run(() => b.boxZoomEnd.emit(F))), b.boxZoomCancel.observers.length && this.mapInstance.on("boxzoomcancel", F => this.zone.run(() => b.boxZoomCancel.emit(F))), b.webGlContextLost.observers.length && this.mapInstance.on("webglcontextlost", F => this.zone.run(() => b.webGlContextLost.emit(F))), b.webGlContextRestored.observers.length && this.mapInstance.on("webglcontextrestored", F => this.zone.run(() => b.webGlContextRestored.emit(F))), b.render.observers.length && this.mapInstance.on("render", F => this.zone.run(() => b.render.emit(F))), b.mapError.observers.length && this.mapInstance.on("error", F => this.zone.run(() => {
                        b.mapError.emit(F)
                    })), b.data.observers.length && this.mapInstance.on("data", F => this.zone.run(() => b.data.emit(F))), b.styleData.observers.length && this.mapInstance.on("styledata", F => this.zone.run(() => b.styleData.emit(F))), b.sourceData.observers.length && this.mapInstance.on("sourcedata", F => this.zone.run(() => b.sourceData.emit(F))), b.dataLoading.observers.length && this.mapInstance.on("dataloading", F => this.zone.run(() => b.dataLoading.emit(F))), b.styleDataLoading.observers.length && this.mapInstance.on("styledataloading", F => this.zone.run(() => b.styleDataLoading.emit(F))), b.sourceDataLoading.observers.length && this.mapInstance.on("sourcedataloading", F => this.zone.run(() => b.sourceDataLoading.emit(F))), b.styleImageMissing.observers.length && this.mapInstance.on("styleimagemissing", F => this.zone.run(() => b.styleImageMissing.emit(F))), b.idle.observers.length && this.mapInstance.on("idle", F => this.zone.run(() => b.idle.emit(F)))
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.LFG(le.R0b))
            }, xe.\u0275prov = le.Yz7({token: xe, factory: xe.\u0275fac}), xe
        })();

        class zn {
            constructor(pe) {
                this.container = pe
            }

            onAdd() {
                return this.container
            }

            onRemove() {
                return this.container.parentNode.removeChild(this.container)
            }

            getDefaultPosition() {
                return "top-right"
            }
        }

        let pi = (() => {
            class xe {
                constructor(b) {
                    this.mapService = b, this.controlAdded = !1
                }

                ngAfterContentInit() {
                    this.content.nativeElement.childNodes.length && (this.control = new zn(this.content.nativeElement), this.mapService.mapCreated$.subscribe(() => {
                        this.mapService.addControl(this.control, this.position), this.controlAdded = !0
                    }))
                }

                ngOnDestroy() {
                    this.controlAdded && this.mapService.removeControl(this.control)
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.Y36(Et))
            }, xe.\u0275cmp = le.Xpm({
                type: xe,
                selectors: [["mgl-control"]],
                viewQuery: function (b, F) {
                    if (1 & b && le.Gf(Ze, 7), 2 & b) {
                        let Ee;
                        le.iGM(Ee = le.CRH()) && (F.content = Ee.first)
                    }
                },
                inputs: {position: "position"},
                ngContentSelectors: ie,
                decls: 3,
                vars: 0,
                consts: [[1, "maplibregl-ctrl"], ["content", ""]],
                template: function (b, F) {
                    1 & b && (le.F$t(), le.TgZ(0, "div", 0, 1), le.Hsn(2), le.qZA())
                },
                encapsulation: 2,
                changeDetection: 0
            }), xe
        })(), nn = (() => {
            class xe {
                constructor(b, F) {
                    this.mapService = b, this.controlComponent = F
                }

                ngAfterContentInit() {
                    this.mapService.mapCreated$.subscribe(() => {
                        if (this.controlComponent.control) throw new Error("Another control is already set for this control");
                        const b = {};
                        void 0 !== this.showCompass && (b.showCompass = this.showCompass), void 0 !== this.showZoom && (b.showZoom = this.showZoom), this.controlComponent.control = new h.NavigationControl(b), this.mapService.addControl(this.controlComponent.control, this.controlComponent.position)
                    })
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.Y36(Et), le.Y36(pi, 1))
            }, xe.\u0275dir = le.lG2({
                type: xe,
                selectors: [["", "mglNavigation", ""]],
                inputs: {showCompass: "showCompass", showZoom: "showZoom"}
            }), xe
        })(), tr = (() => {
            class xe {
                constructor(b) {
                    this.mapService = b, this.movingMethod = "flyTo", this.mapResize = new le.vpe, this.mapRemove = new le.vpe, this.mapMouseDown = new le.vpe, this.mapMouseUp = new le.vpe, this.mapMouseMove = new le.vpe, this.mapClick = new le.vpe, this.mapDblClick = new le.vpe, this.mapMouseOver = new le.vpe, this.mapMouseOut = new le.vpe, this.mapContextMenu = new le.vpe, this.mapTouchStart = new le.vpe, this.mapTouchEnd = new le.vpe, this.mapTouchMove = new le.vpe, this.mapTouchCancel = new le.vpe, this.mapWheel = new le.vpe, this.moveStart = new le.vpe, this.move = new le.vpe, this.moveEnd = new le.vpe, this.mapDragStart = new le.vpe, this.mapDrag = new le.vpe, this.mapDragEnd = new le.vpe, this.zoomStart = new le.vpe, this.zoomEvt = new le.vpe, this.zoomEnd = new le.vpe, this.rotateStart = new le.vpe, this.rotate = new le.vpe, this.rotateEnd = new le.vpe, this.pitchStart = new le.vpe, this.pitchEvt = new le.vpe, this.pitchEnd = new le.vpe, this.boxZoomStart = new le.vpe, this.boxZoomEnd = new le.vpe, this.boxZoomCancel = new le.vpe, this.webGlContextLost = new le.vpe, this.webGlContextRestored = new le.vpe, this.mapLoad = new le.vpe, this.idle = new le.vpe, this.render = new le.vpe, this.mapError = new le.vpe, this.data = new le.vpe, this.styleData = new le.vpe, this.sourceData = new le.vpe, this.dataLoading = new le.vpe, this.styleDataLoading = new le.vpe, this.sourceDataLoading = new le.vpe, this.styleImageMissing = new le.vpe
                }

                get mapInstance() {
                    return this.mapService.mapInstance
                }

                ngAfterViewInit() {
                    this.mapService.setup({
                        mapOptions: {
                            collectResourceTiming: this.collectResourceTiming,
                            container: this.mapContainer.nativeElement,
                            crossSourceCollisions: this.crossSourceCollisions,
                            fadeDuration: this.fadeDuration,
                            minZoom: this.minZoom,
                            maxZoom: this.maxZoom,
                            minPitch: this.minPitch,
                            maxPitch: this.maxPitch,
                            style: this.style,
                            hash: this.hash,
                            interactive: this.interactive,
                            bearingSnap: this.bearingSnap,
                            pitchWithRotate: this.pitchWithRotate,
                            clickTolerance: this.clickTolerance,
                            attributionControl: this.attributionControl,
                            logoPosition: this.logoPosition,
                            failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,
                            preserveDrawingBuffer: this.preserveDrawingBuffer,
                            refreshExpiredTiles: this.refreshExpiredTiles,
                            maxBounds: this.maxBounds,
                            scrollZoom: this.scrollZoom,
                            boxZoom: this.boxZoom,
                            dragRotate: this.dragRotate,
                            dragPan: this.dragPan,
                            keyboard: this.keyboard,
                            doubleClickZoom: this.doubleClickZoom,
                            touchPitch: this.touchPitch,
                            touchZoomRotate: this.touchZoomRotate,
                            trackResize: this.trackResize,
                            center: this.center,
                            zoom: this.zoom,
                            bearing: this.bearing,
                            pitch: this.pitch,
                            renderWorldCopies: this.renderWorldCopies,
                            maxTileCacheSize: this.maxTileCacheSize,
                            localIdeographFontFamily: this.localIdeographFontFamily,
                            transformRequest: this.transformRequest,
                            bounds: this.bounds ? this.bounds : this.fitBounds,
                            fitBoundsOptions: this.fitBoundsOptions,
                            antialias: this.antialias,
                            locale: this.locale,
                            cooperativeGestures: this.cooperativeGestures
                        }, mapEvents: this
                    }), this.cursorStyle && this.mapService.changeCanvasCursor(this.cursorStyle)
                }

                ngOnDestroy() {
                    this.mapService.destroyMap()
                }

                ngOnChanges(b) {
                    var F = this;
                    return (0, st.Z)(function* () {
                        yield F.mapService.mapCreated$.toPromise(), b.cursorStyle && !b.cursorStyle.isFirstChange() && F.mapService.changeCanvasCursor(b.cursorStyle.currentValue), b.minZoom && !b.minZoom.isFirstChange() && F.mapService.updateMinZoom(b.minZoom.currentValue), b.maxZoom && !b.maxZoom.isFirstChange() && F.mapService.updateMaxZoom(b.maxZoom.currentValue), b.minPitch && !b.minPitch.isFirstChange() && F.mapService.updateMinPitch(b.minPitch.currentValue), b.maxPitch && !b.maxPitch.isFirstChange() && F.mapService.updateMaxPitch(b.maxPitch.currentValue), b.renderWorldCopies && !b.renderWorldCopies.isFirstChange() && F.mapService.updateRenderWorldCopies(b.renderWorldCopies.currentValue), b.scrollZoom && !b.scrollZoom.isFirstChange() && F.mapService.updateScrollZoom(b.scrollZoom.currentValue), b.dragRotate && !b.dragRotate.isFirstChange() && F.mapService.updateDragRotate(b.dragRotate.currentValue), b.touchPitch && !b.touchPitch.isFirstChange() && F.mapService.updateTouchPitch(b.touchPitch.currentValue), b.touchZoomRotate && !b.touchZoomRotate.isFirstChange() && F.mapService.updateTouchZoomRotate(b.touchZoomRotate.currentValue), b.doubleClickZoom && !b.doubleClickZoom.isFirstChange() && F.mapService.updateDoubleClickZoom(b.doubleClickZoom.currentValue), b.keyboard && !b.keyboard.isFirstChange() && F.mapService.updateKeyboard(b.keyboard.currentValue), b.dragPan && !b.dragPan.isFirstChange() && F.mapService.updateDragPan(b.dragPan.currentValue), b.boxZoom && !b.boxZoom.isFirstChange() && F.mapService.updateBoxZoom(b.boxZoom.currentValue), b.style && !b.style.isFirstChange() && F.mapService.updateStyle(b.style.currentValue), b.maxBounds && !b.maxBounds.isFirstChange() && F.mapService.updateMaxBounds(b.maxBounds.currentValue), b.fitBounds && b.fitBounds.currentValue && !b.fitBounds.isFirstChange() && F.mapService.fitBounds(b.fitBounds.currentValue, F.fitBoundsOptions), b.fitScreenCoordinates && b.fitScreenCoordinates.currentValue && ((F.center || F.zoom || F.pitch || F.fitBounds) && b.fitScreenCoordinates.isFirstChange() && console.warn("[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"), F.mapService.fitScreenCoordinates(b.fitScreenCoordinates.currentValue, F.bearing ? F.bearing[0] : 0, F.movingOptions)), !F.centerWithPanTo || !b.center || b.center.isFirstChange() || b.zoom || b.bearing || b.pitch ? (b.center && !b.center.isFirstChange() || b.zoom && !b.zoom.isFirstChange() || b.bearing && !b.bearing.isFirstChange() && !b.fitScreenCoordinates || b.pitch && !b.pitch.isFirstChange()) && F.mapService.move(F.movingMethod, F.movingOptions, b.zoom && F.zoom ? F.zoom[0] : void 0, b.center ? F.center : void 0, b.bearing && F.bearing ? F.bearing[0] : void 0, b.pitch && F.pitch ? F.pitch[0] : void 0) : F.mapService.panTo(F.center, F.panToOptions)
                    })()
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.Y36(Et))
            }, xe.\u0275cmp = le.Xpm({
                type: xe,
                selectors: [["mgl-map"]],
                viewQuery: function (b, F) {
                    if (1 & b && le.Gf(ot, 7), 2 & b) {
                        let Ee;
                        le.iGM(Ee = le.CRH()) && (F.mapContainer = Ee.first)
                    }
                },
                inputs: {
                    collectResourceTiming: "collectResourceTiming",
                    crossSourceCollisions: "crossSourceCollisions",
                    customMapboxApiUrl: "customMapboxApiUrl",
                    fadeDuration: "fadeDuration",
                    hash: "hash",
                    refreshExpiredTiles: "refreshExpiredTiles",
                    failIfMajorPerformanceCaveat: "failIfMajorPerformanceCaveat",
                    bearingSnap: "bearingSnap",
                    interactive: "interactive",
                    pitchWithRotate: "pitchWithRotate",
                    clickTolerance: "clickTolerance",
                    attributionControl: "attributionControl",
                    logoPosition: "logoPosition",
                    maxTileCacheSize: "maxTileCacheSize",
                    localIdeographFontFamily: "localIdeographFontFamily",
                    preserveDrawingBuffer: "preserveDrawingBuffer",
                    trackResize: "trackResize",
                    transformRequest: "transformRequest",
                    bounds: "bounds",
                    antialias: "antialias",
                    locale: "locale",
                    cooperativeGestures: "cooperativeGestures",
                    minZoom: "minZoom",
                    maxZoom: "maxZoom",
                    minPitch: "minPitch",
                    maxPitch: "maxPitch",
                    scrollZoom: "scrollZoom",
                    dragRotate: "dragRotate",
                    touchPitch: "touchPitch",
                    touchZoomRotate: "touchZoomRotate",
                    doubleClickZoom: "doubleClickZoom",
                    keyboard: "keyboard",
                    dragPan: "dragPan",
                    boxZoom: "boxZoom",
                    style: "style",
                    center: "center",
                    maxBounds: "maxBounds",
                    zoom: "zoom",
                    bearing: "bearing",
                    pitch: "pitch",
                    fitBoundsOptions: "fitBoundsOptions",
                    renderWorldCopies: "renderWorldCopies",
                    movingMethod: "movingMethod",
                    movingOptions: "movingOptions",
                    fitBounds: "fitBounds",
                    fitScreenCoordinates: "fitScreenCoordinates",
                    centerWithPanTo: "centerWithPanTo",
                    panToOptions: "panToOptions",
                    cursorStyle: "cursorStyle"
                },
                outputs: {
                    mapResize: "mapResize",
                    mapRemove: "mapRemove",
                    mapMouseDown: "mapMouseDown",
                    mapMouseUp: "mapMouseUp",
                    mapMouseMove: "mapMouseMove",
                    mapClick: "mapClick",
                    mapDblClick: "mapDblClick",
                    mapMouseOver: "mapMouseOver",
                    mapMouseOut: "mapMouseOut",
                    mapContextMenu: "mapContextMenu",
                    mapTouchStart: "mapTouchStart",
                    mapTouchEnd: "mapTouchEnd",
                    mapTouchMove: "mapTouchMove",
                    mapTouchCancel: "mapTouchCancel",
                    mapWheel: "mapWheel",
                    moveStart: "moveStart",
                    move: "move",
                    moveEnd: "moveEnd",
                    mapDragStart: "mapDragStart",
                    mapDrag: "mapDrag",
                    mapDragEnd: "mapDragEnd",
                    zoomStart: "zoomStart",
                    zoomEvt: "zoomEvt",
                    zoomEnd: "zoomEnd",
                    rotateStart: "rotateStart",
                    rotate: "rotate",
                    rotateEnd: "rotateEnd",
                    pitchStart: "pitchStart",
                    pitchEvt: "pitchEvt",
                    pitchEnd: "pitchEnd",
                    boxZoomStart: "boxZoomStart",
                    boxZoomEnd: "boxZoomEnd",
                    boxZoomCancel: "boxZoomCancel",
                    webGlContextLost: "webGlContextLost",
                    webGlContextRestored: "webGlContextRestored",
                    mapLoad: "mapLoad",
                    idle: "idle",
                    render: "render",
                    mapError: "mapError",
                    data: "data",
                    styleData: "styleData",
                    sourceData: "sourceData",
                    dataLoading: "dataLoading",
                    styleDataLoading: "styleDataLoading",
                    sourceDataLoading: "sourceDataLoading",
                    styleImageMissing: "styleImageMissing"
                },
                features: [le._Bn([Et]), le.TTD],
                decls: 2,
                vars: 0,
                consts: [["container", ""]],
                template: function (b, F) {
                    1 & b && le._UZ(0, "div", null, 0)
                },
                styles: ["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],
                changeDetection: 0
            }), xe
        })(), Ri = (() => {
            class xe {
                constructor(b) {
                    this.mapService = b, this.markerDragStart = new le.vpe, this.markerDragEnd = new le.vpe, this.markerDrag = new le.vpe
                }

                ngOnInit() {
                    if (this.feature && this.lngLat) throw new Error("feature and lngLat input are mutually exclusive")
                }

                ngOnChanges(b) {
                    b.lngLat && !b.lngLat.isFirstChange() && this.markerInstance.setLngLat(this.lngLat), b.feature && !b.feature.isFirstChange() && this.markerInstance.setLngLat(this.feature.geometry.coordinates), b.draggable && !b.draggable.isFirstChange() && this.markerInstance.setDraggable(!!this.draggable), b.popupShown && !b.popupShown.isFirstChange() && (b.popupShown.currentValue ? this.markerInstance.getPopup().addTo(this.mapService.mapInstance) : this.markerInstance.getPopup().remove()), b.pitchAlignment && !b.pitchAlignment.isFirstChange() && this.markerInstance.setPitchAlignment(b.pitchAlignment.currentValue), b.rotationAlignment && !b.rotationAlignment.isFirstChange() && this.markerInstance.setRotationAlignment(b.rotationAlignment.currentValue)
                }

                ngAfterViewInit() {
                    this.mapService.mapCreated$.subscribe(() => {
                        this.markerInstance = this.mapService.addMarker({
                            markersOptions: {
                                offset: this.offset,
                                anchor: this.anchor,
                                pitchAlignment: this.pitchAlignment,
                                rotationAlignment: this.rotationAlignment,
                                draggable: !!this.draggable,
                                element: this.content.nativeElement,
                                feature: this.feature,
                                lngLat: this.lngLat,
                                clickTolerance: this.clickTolerance
                            },
                            markersEvents: {
                                markerDragStart: this.markerDragStart,
                                markerDrag: this.markerDrag,
                                markerDragEnd: this.markerDragEnd
                            }
                        })
                    })
                }

                ngOnDestroy() {
                    this.mapService.removeMarker(this.markerInstance), this.markerInstance = void 0
                }

                togglePopup() {
                    this.markerInstance.togglePopup()
                }

                updateCoordinates(b) {
                    this.markerInstance.setLngLat(b)
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.Y36(Et))
            }, xe.\u0275cmp = le.Xpm({
                type: xe,
                selectors: [["mgl-marker"]],
                viewQuery: function (b, F) {
                    if (1 & b && le.Gf(Ze, 7), 2 & b) {
                        let Ee;
                        le.iGM(Ee = le.CRH()) && (F.content = Ee.first)
                    }
                },
                inputs: {
                    offset: "offset",
                    anchor: "anchor",
                    clickTolerance: "clickTolerance",
                    feature: "feature",
                    lngLat: "lngLat",
                    draggable: "draggable",
                    popupShown: "popupShown",
                    className: "className",
                    pitchAlignment: "pitchAlignment",
                    rotationAlignment: "rotationAlignment"
                },
                outputs: {markerDragStart: "markerDragStart", markerDragEnd: "markerDragEnd", markerDrag: "markerDrag"},
                features: [le.TTD],
                ngContentSelectors: ie,
                decls: 3,
                vars: 2,
                consts: [["content", ""]],
                template: function (b, F) {
                    1 & b && (le.F$t(), le.TgZ(0, "div", null, 0), le.Hsn(2), le.qZA()), 2 & b && le.Tol(F.className)
                },
                encapsulation: 2,
                changeDetection: 0
            }), xe
        })(), lr = (() => {
            class xe {
                constructor(b) {
                    this.mapService = b, this.popupClose = new le.vpe, this.popupOpen = new le.vpe
                }

                ngOnInit() {
                    if (this.lngLat && this.marker || this.feature && this.lngLat || this.feature && this.marker) throw new Error("marker, lngLat, feature input are mutually exclusive")
                }

                ngOnChanges(b) {
                    if (b.lngLat && !b.lngLat.isFirstChange() || b.feature && !b.feature.isFirstChange()) {
                        const F = b.lngLat ? this.lngLat : this.feature.geometry.coordinates;
                        this.mapService.removePopupFromMap(this.popupInstance, !0);
                        const Ee = this.createPopup();
                        this.mapService.addPopupToMap(Ee, F, this.popupInstance.isOpen()), this.popupInstance = Ee
                    }
                    if (b.marker && !b.marker.isFirstChange()) {
                        const F = b.marker.previousValue;
                        F.markerInstance && this.mapService.removePopupFromMarker(F.markerInstance), this.marker && this.marker.markerInstance && this.popupInstance && this.mapService.addPopupToMarker(this.marker.markerInstance, this.popupInstance)
                    }
                    b.offset && !b.offset.isFirstChange() && this.popupInstance && this.popupInstance.setOffset(this.offset)
                }

                ngAfterViewInit() {
                    this.popupInstance = this.createPopup(), this.addPopup(this.popupInstance)
                }

                ngOnDestroy() {
                    this.popupInstance && (this.lngLat || this.feature ? this.mapService.removePopupFromMap(this.popupInstance) : this.marker && this.marker.markerInstance && this.mapService.removePopupFromMarker(this.marker.markerInstance)), this.popupInstance = void 0
                }

                createPopup() {
                    return this.mapService.createPopup({
                        popupOptions: {
                            closeButton: this.closeButton,
                            closeOnClick: this.closeOnClick,
                            closeOnMove: this.closeOnMove,
                            focusAfterOpen: this.focusAfterOpen,
                            anchor: this.anchor,
                            offset: this.offset,
                            className: this.className,
                            maxWidth: this.maxWidth
                        }, popupEvents: {popupOpen: this.popupOpen, popupClose: this.popupClose}
                    }, this.content.nativeElement)
                }

                addPopup(b) {
                    this.mapService.mapCreated$.subscribe(() => {
                        if (this.lngLat || this.feature) this.mapService.addPopupToMap(b, this.lngLat ? this.lngLat : this.feature.geometry.coordinates); else {
                            if (!this.marker || !this.marker.markerInstance) throw new Error("mgl-popup need either lngLat/marker/feature to be set");
                            this.mapService.addPopupToMarker(this.marker.markerInstance, b)
                        }
                    })
                }
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)(le.Y36(Et))
            }, xe.\u0275cmp = le.Xpm({
                type: xe,
                selectors: [["mgl-popup"]],
                viewQuery: function (b, F) {
                    if (1 & b && le.Gf(Ze, 7), 2 & b) {
                        let Ee;
                        le.iGM(Ee = le.CRH()) && (F.content = Ee.first)
                    }
                },
                inputs: {
                    closeButton: "closeButton",
                    closeOnClick: "closeOnClick",
                    closeOnMove: "closeOnMove",
                    focusAfterOpen: "focusAfterOpen",
                    anchor: "anchor",
                    className: "className",
                    maxWidth: "maxWidth",
                    feature: "feature",
                    lngLat: "lngLat",
                    marker: "marker",
                    offset: "offset"
                },
                outputs: {popupClose: "popupClose", popupOpen: "popupOpen"},
                features: [le.TTD],
                ngContentSelectors: ie,
                decls: 3,
                vars: 0,
                consts: [["content", ""]],
                template: function (b, F) {
                    1 & b && (le.F$t(), le.TgZ(0, "div", null, 0), le.Hsn(2), le.qZA())
                },
                encapsulation: 2,
                changeDetection: 0
            }), xe
        })(), Or = (() => {
            class xe {
            }

            return xe.\u0275fac = function (b) {
                return new (b || xe)
            }, xe.\u0275mod = le.oAB({type: xe}), xe.\u0275inj = le.cJS({imports: [Wt.ez]}), xe
        })()
    }
}]);
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["main"], {
    5: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            aw: () => Qe,
            RE: () => Fe,
            PV: () => At,
            tf: () => _n,
            xG: () => cn,
            fG: () => Pt,
            t6: () => Et,
            DO: () => Ge,
            Gi: () => Wr,
            W_: () => we,
            iv: () => Re
        });

        class a extends Error {
            constructor(He, Yr) {
                super(Yr), this.key = He
            }
        }

        class V extends a {
            constructor(He) {
                super("code_insee", `Le code insee ${He} n'est pas valide`)
            }
        }

        class K extends a {
            constructor(He) {
                super("code_postal", `Le code postal ${He} n'est pas valide`)
            }
        }

        class k extends a {
            constructor(He) {
                super("commune", `La commune ${He} n'est pas valide`)
            }
        }

        class ue extends a {
            constructor(He) {
                super("voie", `La voie ${He} n'est pas valide`)
            }
        }

        const de = /^\d{5}$/u, be = /^(?:[013-9]\d|2[AB1-9])(?:0?\d{3}|-\d-\d{2}-\d{3})$/u,
            Te = /^[A-Za-z\d\xc0-\xd6\xd8-\xf6\xf8-\xff\u0153-\u0178\u0152\-'\u2019\s]+$/u,
            Se = /^[0-9A-Za-z\d\xc0-\xd6\xd8-\xf6\xf8-\xff\u0153-\u0178\u0152\-,()\xb0.&:+\u2013|;'\u2019/\s]+$/u,
            me = g => de.test(g), ce = g => be.test(g), Q = g => Te.test(g), Oe = g => g.length > 0 && Se.test(g),
            mt = g => (g => Oe(g.voie) && me(g.code_postal) && (null == g.code_insee || ce(g.code_insee)) && Q(g.commune))(g) ? {...g} : (g => {
                throw Oe(g.voie) ? me(g.code_postal) ? null == g.code_insee || ce(g.code_insee) ? Q(g.commune) ? new Error : new k(g.commune) : new V(g.code_insee) : new K(g.code_postal) : new ue(g.voie)
            })(g);

        class ye extends a {
            constructor(He) {
                super("cle_ban", `Le CleBan ${He} n'est pas valide`)
            }
        }

        const $e = /^\d[\dAB]\d{3}_[a-z\d]{4,}_\d{5}$/u, We = g => (g => $e.test(g))(g) ? g : (g => {
            throw new ye(g)
        })(g);

        class pe extends a {
            constructor(He) {
                super("conditions_acces", `La condition d'acc\xe8s '${He}' n'est pas une valeur admise`)
            }
        }

        var Qe = (() => {
            return (g = Qe || (Qe = {})).Adhesion = "Adh\xe9sion : L'acc\xe8s au lieu et/ou \xe0 ses services n\xe9cessite d'y adh\xe9rer", g.Gratuit = "Gratuit : Je peux acc\xe9der gratuitement au lieu et \xe0 ses services", g.GratuitSousCondition = "Gratuit sous condition : La gratuit\xe9 est conditionn\xe9e \xe0 des crit\xe8res (situation familiale, convention avec un organisme social...)", g.AccepteLePassNumerique = "Accepte le Pass num\xe9rique : Il est possible d'utiliser un Pass num\xe9rique pour acc\xe9der au lieu", g.Payant = "Payant : L'acc\xe8s au lieu et/ou \xe0 ses services est payant", Qe;
            var g
        })();
        const nt = g => !Object.values(Qe).includes(g), se = g => (g => null == g.find(nt))(g) ? g : (g => {
            throw new pe(g.find(nt) ?? "condition d'acc\xe8s ind\xe9finie")
        })(g);

        class Fe extends a {
            constructor(He) {
                super("courriel", `Le courriel ${He} n'est pas valide`)
            }
        }

        class Ge extends a {
            constructor(He) {
                super("telephone", `Le telephone ${He} n'est pas valide`)
            }
        }

        const at = /^(?:(?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}])|(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\-\d]+\.)+[a-zA-Z]{2,}))$/,
            Ye = /^(?:(?:\+|00)(?:33|594|262|596|269|687|689|590|508|681)[\s.-]{0,3}(?:\(0\)[\s.-]{0,3})?|0)(?:(?:[1-9](?:[\s.-]?\d{2}){4}|\d{2}(?:[\s.-]\d{3}){2})|\s\d{3}(?:\s\d{2}){3})$/u,
            we = g => at.test(g), Re = g => Ye.test(g),
            Ve = g => (g => (null == g.courriel || we(g.courriel)) && (null == g.telephone || Re(g.telephone)))(g) ? {...g} : (g => {
                throw null == g.courriel || we(g.courriel) ? null == g.telephone || Re(g.telephone) ? new Error : new Ge(g.telephone) : new Fe(g.courriel)
            })(g);

        class Ae extends a {
            constructor(He) {
                super("id", `L'Id ${He} n'est pas valide`)
            }
        }

        const rt = g => null != g && "" !== g, Ut = g => rt(g) ? g : (g => {
            throw rt(g) ? new Error : new Ae(g)
        })(g);

        class Dt extends a {
            constructor(He) {
                super("labels_nationaux", `La label national '${He}' n'est pas une valeur admise`)
            }
        }

        var At = (() => {
            return (g = At || (At = {})).AidantsConnect = "Aidants Connect", g.APTIC = "APTIC", g.CampusConnecte = "Campus connect\xe9", g.CNFS = "CNFS", g.FabriquesDeTerritoire = "Fabriques de Territoire", g.FranceServices = "France Services", g.FrenchTech = "French Tech", g.GrandesEcolesDuNumerique = "Grandes \xe9coles du num\xe9rique", g.PointNumeriqueCAF = "Point num\xe9rique CAF", g.PointRelaisCAF = "Point relais CAF", g.RelaisPoleEmploi = "Relais p\xf4le emploi", At;
            var g
        })();
        const Bt = g => !Object.values(At).includes(g), Mn = g => (g => null == g.find(Bt))(g) ? g : (g => {
            throw new Dt(g.find(Bt) ?? "label national ind\xe9fini")
        })(g);

        class Hn extends a {
            constructor(He) {
                super("latitude", `La latitude ${He} n'est pas valide`)
            }
        }

        class Bn extends a {
            constructor(He) {
                super("longitude", `La longitude ${He} n'est pas valide`)
            }
        }

        const zt = g => g.latitude >= -90 && g.latitude <= 90, An = g => g.longitude >= -180 && g.longitude <= 180,
            _n = g => (g => zt(g) && An(g))(g) ? {...g} : (g => {
                throw zt(g) ? An(g) ? new Error : new Bn(g.longitude) : new Hn(g.latitude)
            })(g);

        class gn extends a {
            constructor(He) {
                super("modalites_accompagnement", `La modalite d'accompagnement '${He}' n'est pas une valeur admise`)
            }
        }

        var cn = (() => {
            return (g = cn || (cn = {})).AMaPlace = "A ma place : une personne habilit\xe9e fait les d\xe9marches \xe0 ma place", g.AvecDeLAide = "Avec de l'aide : je suis accompagn\xe9 seul dans l'usage du num\xe9rique", g.DansUnAtelier = "Dans un atelier : j'apprends collectivement \xe0 utiliser le num\xe9rique", g.Seul = "Seul : j'ai acc\xe8s \xe0 du mat\xe9riel et une connexion", cn;
            var g
        })();
        const Gt = g => !Object.values(cn).includes(g), Nn = g => (g => null == g.find(Gt))(g) ? g : (g => {
            throw new gn(g.find(Gt) ?? "modalit\xe9 d'accompagnement ind\xe9finie")
        })(g);

        class hr extends a {
            constructor(He) {
                super("nom", `Le Nom ${He} n'est pas valide`)
            }
        }

        const Tr = g => null != g && "" !== g, $t = g => Tr(g) ? g : (g => {
            throw Tr(g) ? new Error : new hr(g)
        })(g);

        class Lt extends a {
            constructor(He) {
                super("pivot", `Le Pivot ${He} n'est pas valide`)
            }
        }

        const $n = /^W[a-zA-Z0-9]{9}$/u, yn = g => (g => 14 === g.length)(g) || (g => $n.test(g))(g) ? g : (g => {
            throw new Lt(g)
        })(g);

        class Yt extends a {
            constructor(He) {
                super("publics_accueillis", `Le public accueilli '${He}' n'est pas une valeur admise`)
            }
        }

        var Pt = (() => {
            return (g = Pt || (Pt = {})).Adultes = "Adultes", g.DeficienceVisuelle = "D\xe9ficience visuelle", g.FamillesEnfants = "Familles/enfants", g.HandicapsPsychiques = "Handicaps psychiques : troubles psychiatriques donnant lieu \xe0 des atteintes comportementales", g.Jeunes = "Jeunes (16-26 ans)", g.LanguesEtrangeres = "Public langues \xe9trang\xe8res", g.Seniors = "Seniors (+ 65 ans)", g.Surdite = "Surdit\xe9", g.UniquementFemmes = "Uniquement femmes", g.HandicapsMentaux = "Handicaps mentaux : d\xe9ficiences limitant les activit\xe9s d'une personne", g.Illettrisme = "Personnes en situation d'illettrisme", Pt;
            var g
        })();
        const Ce = g => !Object.values(Pt).includes(g), Je = g => (g => null == g.find(Ce))(g) ? g : (g => {
            throw new Yt(g.find(Ce) ?? "public accueilli ind\xe9fini")
        })(g);

        class st extends a {
            constructor(He) {
                super("services", `Le service '${He}' n'est pas une valeur admise`)
            }
        }

        var Et = (() => {
            return (g = Et || (Et = {})).AccederADuMateriel = "Acc\xe9der \xe0 du mat\xe9riel", g.AccederAUneConnexionInternet = "Acc\xe9der \xe0 une connexion internet", g.AccompagnerLesDemarchesDeSante = "Accompagner les d\xe9marches de sant\xe9", g.ApprofondirMaCultureNumerique = "Approfondir ma culture num\xe9rique", g.CreerAvecLeNumerique = "Cr\xe9er avec le num\xe9rique", g.CreerEtDevelopperMonEntreprise = "Cr\xe9er et d\xe9velopper mon entreprise", g.DevenirAutonomeDansLesDemarchesAdministratives = "Devenir autonome dans les d\xe9marches administratives", g.FavoriserMonInsertionProfessionnelle = "Favoriser mon insertion professionnelle", g.PrendreEnMainUnOrdinateur = "Prendre en main un ordinateur", g.PrendreEnMainUnSmartphoneOuUneTablette = "Prendre en main un smartphone ou une tablette", g.PromouvoirLaCitoyenneteNumerique = "Promouvoir la citoyennet\xe9 num\xe9rique", g.RealiserDesDemarchesAdministratives = "R\xe9aliser des d\xe9marches administratives avec un accompagnement", g.EquiperEnMaterielInformatique = "S'\xe9quiper en mat\xe9riel informatique", g.UtiliserLeNumerique = "Utiliser le num\xe9rique au quotidien", g.SoutenirLaParentalite = "Soutenir la parentalit\xe9 et l'\xe9ducation avec le num\xe9rique", Et;
            var g
        })();
        const vn = g => !Object.values(Et).includes(g),
            G = g => (g => g.length > 0 && null == g.find(vn))(g) ? g : (g => {
                throw new st(g.find(vn) ?? "service ind\xe9fini")
            })(g);

        class O extends a {
            constructor(He) {
                super("typologies", `La typologie '${He}' n'est pas une valeur admise`)
            }
        }

        var w = (() => {
            return (g = w || (w = {})).ACI = "ACI", g.ACIPHC = "ACIPHC", g.AFPA = "AFPA", g.AI = "AI", g.ASE = "ASE", g.ASSO_CHOMEUR = "ASSO_CHOMEUR", g.ASSO = "ASSO", g.AUTRE = "Autre", g.BIB = "BIB", g.CAARUD = "CAARUD", g.CADA = "CADA", g.CAF = "CAF", g.CAP_EMPLOI = "CAP_EMPLOI", g.CAVA = "CAVA", g.CC = "CC", g.CCAS = "CCAS", g.CCONS = "CCONS", g.CD = "CD", g.CHRS = "CHRS", g.CHU = "CHU", g.CIAS = "CIAS", g.CIDFF = "CIDFF", g.CITMET = "CITMET", g.CPH = "CPH", g.CS = "CS", g.CSAPA = "CSAPA", g.DEETS = "DEETS", g.DEPT = "DEPT", g.DIPLP = "DIPLP", g.E2C = "E2C", g.EA = "EA", g.EATT = "EATT", g.EI = "EI", g.EITI = "EITI", g.EPCI = "EPCI", g.EPIDE = "EPIDE", g.ESS = "ESS", g.ETTI = "ETTI", g.FAIS = "FAIS", g.GEIQ = "GEIQ", g.HUDA = "HUDA", g.MDE = "MDE", g.MDEF = "MDEF", g.MDPH = "MDPH", g.MDS = "MDS", g.MJC = "MJC", g.ML = "ML", g.MQ = "MQ", g.MSA = "MSA", g.MUNI = "MUNI", g.OACAS = "OACAS", g.ODC = "ODC", g.OF = "OF", g.OIL = "OIL", g.OPCS = "OPCS", g.PAD = "PAD", g.PE = "PE", g.PENSION = "PENSION", g.PIJ_BIJ = "PIJ_BIJ", g.PIMMS = "PIMMS", g.PJJ = "PJJ", g.PLIE = "PLIE", g.PREF = "PREF", g.PREVENTION = "PREVENTION", g.REG = "REG", g.RFS = "RFS", g.RS_FJT = "RS_FJT", g.SCP = "SCP", g.SPIP = "SPIP", g.TIERS_LIEUX = "TIERS_LIEUX", g.UDAF = "UDAF", w;
            var g
        })();
        const z = g => !Object.values(w).includes(g), P = g => (g => null == g.find(z))(g) ? g : (g => {
            throw new O(g.find(z) ?? "typologie ind\xe9finie")
        })(g);

        class ae extends a {
            constructor(He) {
                super("url", `Le format de l'url ${He} n'est pas valide`)
            }
        }

        const ve = /^[A-Za-z]{3,9}:(?:\/\/)?(?:[;:&=+$,\w-]+@)?[A-Za-z0-9.-]+(?:(?:\/[+~,%/.\w_-]*)?\??[-+=&;%@.\w_]*#?[.!/\\\w]*)?$/u,
            vt = g => (g => ve.test(g))(g) ? g : (g => {
                throw new ae(g)
            })(g);

        class Mt extends Error {
            constructor() {
                super("Le SIRET ou le RNA est obligatoire")
            }
        }

        const L = g => g, ne = g => g.split(";").map(L),
            Ne = (g, He) => null == g || null == He ? {} : {localisation: _n({latitude: g, longitude: He})},
            tt = g => null == g ? {} : {cle_ban: We(g)}, tn = g => ({
                adresse: mt({
                    code_postal: g.code_postal,
                    commune: g.commune,
                    voie: g.adresse, ...Wn(g.code_insee), ...Vr(g.complement_adresse)
                })
            }), Wn = g => null == g ? {} : {code_insee: g}, Vr = g => null == g ? {} : {complement_adresse: g},
            Pr = g => null == g ? {} : {typologies: P(ne(g))}, si = g => null == g ? {} : {telephone: g},
            li = g => null == g ? {} : {courriel: g}, or = g => null == g ? {} : {site_web: ne(g)},
            Hr = g => null == g.telephone && null == g.courriel && null == g.site_web ? {} : {contact: Ve({...si(g.telephone), ...li(g.courriel), ...or(g.site_web)})},
            ei = g => null == g ? {} : {horaires: g}, Br = g => null == g ? {} : {resume: g},
            Fr = g => null == g ? {} : {detail: g},
            ui = g => null == g.presentation_resume && null == g.presentation_detail ? {} : {presentation: {...Br(g.presentation_resume), ...Fr(g.presentation_detail)}},
            Zr = g => null == g ? {} : {source: g}, di = g => null == g ? {} : {structure_parente: g},
            bi = g => null == g ? {} : {publics_accueillis: Je(ne(g))},
            Ki = g => null == g ? {} : {conditions_acces: se(ne(g))},
            xi = g => null == g ? {} : {labels_nationaux: Mn(ne(g))}, mi = g => null == g ? {} : {labels_autres: ne(g)},
            Pi = g => null == g ? {} : {modalites_accompagnement: Nn(ne(g))},
            Oi = g => null == g ? {} : {accessibilite: vt(g)}, $i = g => null == g ? {} : {prise_rdv: vt(g)},
            Ni = g => ({...Ne(g.latitude, g.longitude), ...tt(g.cle_ban), ...Pr(g.typologie), ...Hr(g), ...ei(g.horaires), ...ui(g), ...Zr(g.source), ...di(g.structure_parente), ...bi(g.publics_accueillis), ...Ki(g.conditions_acces), ...xi(g.labels_nationaux), ...mi(g.labels_autres), ...Pi(g.modalites_accompagnement), ...Oi(g.accessibilite), ...$i(g.prise_rdv)}),
            Wr = g => ({
                id: Ut(g.id),
                pivot: yn(g.pivot),
                nom: $t(g.nom), ...tn(g),
                services: G(ne(g.services)),
                date_maj: new Date(g.date_maj), ...Ni(g)
            })
    }, 177: (Pe, he, D) => {
        "use strict";
        D.d(he, {r: () => Qe});
        var a = D(4650), V = D(4006), K = D(6895), k = D(1135);
        const ue = ["results"], de = ["appDropdownPane", ""];

        function be(nt, Ke) {
            1 & nt && (a.ynx(0), a.Hsn(1), a.BQk())
        }

        const Te = ["*"];
        let me = (() => {
            class nt {
                constructor() {
                    this._expanded = !1, this._expanded$ = new k.X(this._expanded), this.activeIndex = -1, this.expanded$ = this._expanded$.asObservable(), this.indexChange = new a.vpe, this.reduced = new a.vpe
                }

                set expanded(ge) {
                    this._expanded$.next(ge), this._expanded = ge
                }

                expand() {
                    this._expanded$.next(!0), this._expanded = !0, this.activeIndex = 0
                }

                reduce() {
                    setTimeout(() => {
                        this._expanded$.next(!1), this._expanded = !1, this.reduced.emit()
                    }, 100)
                }

                setIndex(ge) {
                    this.activeIndex = ge, this.indexChange.next(this.activeIndex)
                }

                nextIndex() {
                    var ge;
                    null != (null === (ge = this.results) || void 0 === ge ? void 0 : ge.first) && this.setIndex(this.activeIndex === this.results.length - 1 ? 0 : this.activeIndex + 1)
                }

                previousIndex() {
                    var ge;
                    null != (null === (ge = this.results) || void 0 === ge ? void 0 : ge.first) && this.setIndex(0 === this.activeIndex ? this.results.length - 1 : this.activeIndex - 1)
                }

                focus() {
                    var ge;
                    null != (null === (ge = this.results) || void 0 === ge ? void 0 : ge.first) && this.results.first.nativeElement.firstChild.focus()
                }
            }

            return nt.\u0275fac = function (ge) {
                return new (ge || nt)
            }, nt.\u0275cmp = a.Xpm({
                type: nt,
                selectors: [["", "appDropdownPane", ""]],
                contentQueries: function (ge, se, Fe) {
                    if (1 & ge && a.Suo(Fe, ue, 4), 2 & ge) {
                        let Ge;
                        a.iGM(Ge = a.CRH()) && (se.results = Ge)
                    }
                },
                inputs: {expanded: "expanded"},
                outputs: {indexChange: "indexChange", reduced: "reduced"},
                exportAs: ["dropdownPane"],
                attrs: de,
                ngContentSelectors: Te,
                decls: 2,
                vars: 3,
                consts: [[4, "ngIf"]],
                template: function (ge, se) {
                    1 & ge && (a.F$t(), a.YNc(0, be, 2, 0, "ng-container", 0), a.ALo(1, "async")), 2 & ge && a.Q6J("ngIf", a.lcZ(1, 1, se.expanded$))
                },
                dependencies: [K.O5, K.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), nt
        })(), Q = (() => {
            class nt {
                transform(ge, se) {
                    return ((nt, Ke) => nt.replace(";", " ").replace(new RegExp(Ke, "gi"), ";$&;").split(";").filter(ge => "" != ge).map(ge => ({
                        matchString: ge.toLowerCase() === Ke.toLowerCase(),
                        value: ge
                    })))(ge, se)
                }
            }

            return nt.\u0275fac = function (ge) {
                return new (ge || nt)
            }, nt.\u0275pipe = a.Yjl({name: "highlight", type: nt, pure: !0}), nt
        })();

        function Oe(nt, Ke) {
            if (1 & nt) {
                const ge = a.EpF();
                a.TgZ(0, "button", 10), a.NdJ("click", function () {
                    a.CHM(ge);
                    const Fe = a.oxw();
                    return a.KtG(Fe.clear())
                }), a.TgZ(1, "span", 11), a._uU(2, "Effacer"), a.qZA(), a._UZ(3, "i", 12), a.qZA()
            }
        }

        function xe(nt, Ke) {
            1 & nt && (a.ynx(0), a._uU(1, "Lieu d'inclusion num\xe9rique"), a.BQk())
        }

        function Be(nt, Ke) {
            1 & nt && (a.ynx(0), a._uU(1, "Commune"), a.BQk())
        }

        function mt(nt, Ke) {
            1 & nt && (a.ynx(0), a._uU(1, "Consiller Num\xe9rique"), a.BQk())
        }

        function ye(nt, Ke) {
            1 & nt && (a.ynx(0), a._uU(1, "Adresse"), a.BQk())
        }

        const Ue = function (nt) {
            return {"fw-bold": nt}
        };

        function $e(nt, Ke) {
            if (1 & nt && (a.ynx(0), a.TgZ(1, "span", 23), a._uU(2), a.qZA(), a.BQk()), 2 & nt) {
                const ge = Ke.$implicit;
                a.xp6(1), a.Q6J("ngClass", a.VKq(2, Ue, ge.matchString)), a.xp6(1), a.Oqu(ge.value)
            }
        }

        function yt(nt, Ke) {
            if (1 & nt && (a.ynx(0), a.TgZ(1, "span", 23), a._uU(2), a.qZA(), a.BQk()), 2 & nt) {
                const ge = Ke.$implicit;
                a.xp6(1), a.Q6J("ngClass", a.VKq(2, Ue, ge.matchString)), a.xp6(1), a.Oqu(ge.value)
            }
        }

        function We(nt, Ke) {
            if (1 & nt) {
                const ge = a.EpF();
                a.TgZ(0, "li", null, 13)(2, "button", 14), a.NdJ("focusin", function () {
                    const Ge = a.CHM(ge).index;
                    a.oxw();
                    const at = a.MAs(11);
                    return a.KtG(at.setIndex(Ge))
                })("focusout", function () {
                    a.CHM(ge), a.oxw();
                    const Fe = a.MAs(11);
                    return a.KtG(Fe.setIndex(-1))
                })("mousedown", function () {
                    const Ge = a.CHM(ge).$implicit, at = a.oxw(), Ye = a.MAs(11);
                    return at.setSuggestion(Ge), a.KtG(Ye.reduce())
                }), a.TgZ(3, "i", 15), a.YNc(4, xe, 2, 0, "ng-container", 16), a.YNc(5, Be, 2, 0, "ng-container", 16), a.YNc(6, mt, 2, 0, "ng-container", 16), a.YNc(7, ye, 2, 0, "ng-container", 17), a.qZA(), a._UZ(8, "br"), a.TgZ(9, "span", 18), a._UZ(10, "i", 19), a.TgZ(11, "span", 20), a.YNc(12, $e, 3, 4, "ng-container", 21), a.ALo(13, "highlight"), a._UZ(14, "br"), a.TgZ(15, "span", 22), a.YNc(16, yt, 3, 4, "ng-container", 21), a.ALo(17, "highlight"), a.qZA()()()()()
            }
            if (2 & nt) {
                const ge = Ke.$implicit, se = Ke.index, Fe = Ke.last;
                a.oxw();
                const Ge = a.MAs(11), at = a.MAs(6);
                a.xp6(2), a.ekj("border-bottom", !Fe)("active", Ge.activeIndex === se), a.uIk("aria-current", Ge.activeIndex === se || null), a.xp6(1), a.Q6J("ngSwitch", ge.payload.type), a.xp6(1), a.Q6J("ngSwitchCase", "place"), a.xp6(1), a.Q6J("ngSwitchCase", "municipality"), a.xp6(1), a.Q6J("ngSwitchCase", "conseiller"), a.xp6(4), a.ekj("ri-community-line", "municipality" === ge.payload.type)("ri-map-pin-2-line", "place" === ge.payload.type)("ri-account-circle-fill", "conseiller" === ge.payload.type), a.xp6(2), a.Q6J("ngForOf", a.xi3(13, 17, ge.label, at.value)), a.xp6(4), a.Q6J("ngForOf", a.xi3(17, 20, ge.context, at.value))
            }
        }

        const pe = ["*"];
        let Qe = (() => {
            class nt {
                constructor() {
                    this.suggestions = [], this.isNotFound = !1, this.displayReset = !1, this.placeholder = "Entrez une adresse", this.selected = new a.vpe, this.resetSearch = new a.vpe, this.search = new a.vpe, this.formGroup = new V.cw({search: new V.NI}), this.previousSuggestions = []
                }

                ngOnChanges(ge) {
                    var se, Fe;
                    ge.defaultValue && (null === (se = this.formGroup.get("search")) || void 0 === se || se.setValue(null !== (Fe = this.defaultValue) && void 0 !== Fe ? Fe : ""))
                }

                setSuggestion(ge) {
                    var se;
                    null === (se = this.formGroup.get("search")) || void 0 === se || se.setValue(ge.label), this.search.next(ge.label), this.selected.next(ge)
                }

                trackBySuggestionName(ge, se) {
                    return `${se.label}-${se.context}`
                }

                clear() {
                    var ge;
                    null === (ge = this.formGroup.get("search")) || void 0 === ge || ge.reset(), this.resetSearch.emit()
                }

                onReduced() {
                    this.suggestions.length > 0 && (this.previousSuggestions = this.suggestions), this.suggestions = []
                }
            }

            return nt.\u0275fac = function (ge) {
                return new (ge || nt)
            }, nt.\u0275cmp = a.Xpm({
                type: nt,
                selectors: [["app-search-field"]],
                inputs: {
                    suggestions: "suggestions",
                    isNotFound: "isNotFound",
                    displayReset: "displayReset",
                    placeholder: "placeholder",
                    defaultValue: "defaultValue"
                },
                outputs: {selected: "selected", resetSearch: "resetSearch", search: "search"},
                features: [a.TTD],
                ngContentSelectors: pe,
                decls: 14,
                vars: 13,
                consts: [[1, "position-relative", 3, "formGroup"], ["for", "search", 1, "visually-hidden"], ["aria-hidden", "true", 1, "text-muted", "ri-search-line", "ri-lg", "position-absolute", "mt-2", "ms-2", "ps-1", "z-index-elevated"], [1, "input-group"], ["type", "search", "name", "search", "id", "search", "autocomplete", "off", "aria-describedby", "search", "aria-haspopup", "true", "formControlName", "search", 1, "form-control", "ps-5", 3, "placeholder", "input", "focus", "focusout", "keydown.escape", "keydown.arrowDown", "keydown.arrowUp", "keydown.enter"], ["searchInput", ""], ["type", "button", "class", "btn input-group-btn", 3, "click", 4, "ngIf"], ["appDropdownPane", "", "role", "listbox", "aria-labelledby", "search", 1, "dropdown-menu", "position-absolute", "mt-1", 3, "reduced"], ["dropdownPane", "dropdownPane"], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["type", "button", 1, "btn", "input-group-btn", 3, "click"], [1, "visually-hidden"], ["aria-hidden", "true", 1, "ri-close-line"], ["results", ""], ["type", "button", "tabindex", "-1", "role", "option", 1, "dropdown-item", 3, "focusin", "focusout", "mousedown"], [1, "small", "text-primary", 3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"], [1, "d-inline-flex"], ["aria-hidden", "true", 1, "text-primary", "ri-2x", "me-2", "ri-focus-3-line", 2, "margin-top", "-5px"], [1, "lh-sm"], [4, "ngFor", "ngForOf"], [1, "text-muted"], [3, "ngClass"]],
                template: function (ge, se) {
                    if (1 & ge) {
                        const Fe = a.EpF();
                        a.F$t(), a.TgZ(0, "form", 0)(1, "label", 1), a._uU(2, "Quelle est votre adresse ?"), a.qZA(), a._UZ(3, "i", 2), a.TgZ(4, "div", 3)(5, "input", 4, 5), a.NdJ("input", function () {
                            a.CHM(Fe);
                            const at = a.MAs(6), Ye = a.MAs(11);
                            return se.search.next(at.value), a.KtG(at.value.length <= 2 ? Ye.reduce() : Ye.expand())
                        })("focus", function () {
                            a.CHM(Fe);
                            const at = a.MAs(6), Ye = a.MAs(11);
                            return se.suggestions = se.previousSuggestions, a.KtG(at.value.length <= 2 ? Ye.reduce() : Ye.expand())
                        })("focusout", function () {
                            a.CHM(Fe);
                            const at = a.MAs(11);
                            return a.KtG(at.reduce())
                        })("keydown.escape", function () {
                            a.CHM(Fe);
                            const at = a.MAs(11);
                            return a.KtG(at.reduce())
                        })("keydown.arrowDown", function (at) {
                            a.CHM(Fe);
                            const Ye = a.MAs(11);
                            return at.preventDefault(), a.KtG(Ye.nextIndex())
                        })("keydown.arrowUp", function (at) {
                            a.CHM(Fe);
                            const Ye = a.MAs(11);
                            return at.preventDefault(), a.KtG(Ye.previousIndex())
                        })("keydown.enter", function () {
                            a.CHM(Fe);
                            const at = a.MAs(11);
                            return se.setSuggestion(se.suggestions[at.activeIndex]), a.KtG(at.reduce())
                        }), a.ALo(7, "async"), a.qZA(), a.YNc(8, Oe, 4, 0, "button", 6), a.Hsn(9), a.qZA(), a.TgZ(10, "ul", 7, 8), a.NdJ("reduced", function () {
                            return se.onReduced()
                        }), a.ALo(12, "async"), a.YNc(13, We, 18, 23, "li", 9), a.qZA()()
                    }
                    if (2 & ge) {
                        const Fe = a.MAs(6), Ge = a.MAs(11);
                        a.Q6J("formGroup", se.formGroup), a.xp6(5), a.Q6J("placeholder", se.placeholder), a.uIk("aria-describedby", se.isNotFound ? "search-desc-error" : null)("aria-expanded", a.lcZ(7, 9, Ge.expanded$)), a.xp6(3), a.Q6J("ngIf", Fe.value && se.displayReset), a.xp6(2), a.ekj("show", a.lcZ(12, 11, Ge.expanded$) && se.suggestions.length > 0), a.xp6(3), a.Q6J("ngForOf", se.suggestions)("ngForTrackBy", se.trackBySuggestionName)
                    }
                },
                dependencies: [K.mk, K.sg, K.O5, K.RF, K.n9, K.ED, V._Y, V.Fj, V.JJ, V.JL, V.sg, V.u, me, K.Ov, Q],
                encapsulation: 2,
                changeDetection: 0
            }), nt
        })()
    }, 7188: (Pe, he, D) => {
        "use strict";
        D.d(he, {W: () => nt});
        var a = D(4650), V = D(1135), K = D(7579), k = D(9646), ue = D(9300), de = D(8372), be = D(1884), Te = D(3900),
            Se = D(4128), me = D(8505), ce = D(4004), Q = D(5), Oe = D(3215), xe = D(7854), Be = D(4928), mt = D(4931);

        function ye(Ke, ge) {
            1 & Ke && (a.ynx(0), a.TgZ(1, "span", 7), a._uU(2, "G\xe9olocalisation en cours..."), a.qZA(), a._UZ(3, "span", 8), a.BQk())
        }

        function Ue(Ke, ge) {
            1 & Ke && (a.TgZ(0, "span", 7), a._uU(1, "G\xe9olocalisation"), a.qZA(), a._UZ(2, "i", 9))
        }

        function $e(Ke, ge) {
            if (1 & Ke) {
                const se = a.EpF();
                a.TgZ(0, "button", 3), a.NdJ("click", function () {
                    a.CHM(se);
                    const Ge = a.oxw();
                    return a.KtG(Ge.onGeoLocate())
                }), a._UZ(1, "span", 4), a.YNc(2, ye, 4, 0, "ng-container", 5), a.ALo(3, "async"), a.YNc(4, Ue, 3, 0, "ng-template", null, 6, a.W1O), a.qZA()
            }
            if (2 & Ke) {
                const se = a.MAs(5), Fe = a.oxw();
                a.xp6(2), a.Q6J("ngIf", a.lcZ(3, 2, Fe.loadingState$))("ngIfElse", se)
            }
        }

        const yt = function () {
            return []
        }, Qe = (Ke, ge) => ge ? ge >= 5e4 && ge <= 1e5 ? 8 : 10 : Ke;
        let nt = (() => {
            class Ke {
                constructor(se, Fe, Ge, at) {
                    this._zoomLevel = se, this._searchables = Fe, this.markersPresenter = Ge, this.route = at, this.fullWidth = !1, this.placeholder = "Entrez une adresse", this._initialSearch$ = new V.X(""), this._searchTerm$ = new K.x, this._displayGeolocation$ = new V.X(!0), this._loadingState$ = new V.X(!1), this.loadingState$ = this._loadingState$.asObservable(), this.displayGeolocation$ = this._displayGeolocation$.asObservable(), this.notFound$ = (0, k.of)(!1), this.resultsFound$ = this._searchTerm$.pipe((0, ce.U)(Ye => Ye.trim()), (0, ue.h)(Ye => Ye.length >= 3), (0, de.b)(300), (0, be.x)(), (0, Te.w)(Ye => (0, Se.D)(this._searchables.map(we => we.search$(Ye)))), (0, ce.U)(Ye => Ye.flat())), this.initialSearch$ = this._initialSearch$.pipe((0, ce.U)(Ye => Ye.trim()), (0, ue.h)(Ye => Ye.length >= 3), (0, de.b)(300), (0, be.x)(), (0, Te.w)(Ye => (0, Se.D)(this._searchables.map(we => we.search$(Ye)))), (0, ce.U)(Ye => Ye.flat()), (0, me.b)(Ye => Ye[0] && this.onSelected(Ye[0])), (0, ce.U)(Ye => {
                        var we;
                        return null === (we = Ye[0]) || void 0 === we ? void 0 : we.label
                    })), this.resultFound = new a.vpe
                }

                ngOnInit() {
                    this.adresse && this._initialSearch$.next(this.adresse)
                }

                onSearch(se) {
                    this._searchTerm$.next(se)
                }

                onSelected(se) {
                    this.markersPresenter.center(se.localisation, Qe(this._zoomLevel.userPosition, parseInt(this.route.snapshot.queryParams.distance))), this.resultFound.emit(se), this._displayGeolocation$.next(!0)
                }

                onGeoLocate() {
                    this._loadingState$.next(!0), window.navigator.geolocation.getCurrentPosition(se => {
                        const Fe = (0, Q.tf)({latitude: se.coords.latitude, longitude: se.coords.longitude});
                        this.markersPresenter.center(Fe, Qe(this._zoomLevel.userPosition, parseInt(this.route.snapshot.queryParams.distance))), this.resultFound.emit({
                            context: "",
                            label: "",
                            localisation: Fe,
                            payload: {type: "user"}
                        }), this._loadingState$.next(!1), this._displayGeolocation$.next(!1)
                    })
                }
            }

            return Ke.\u0275fac = function (se) {
                return new (se || Ke)(a.Y36(Oe.KN), a.Y36(xe.z), a.Y36(Be.M), a.Y36(mt.gz))
            }, Ke.\u0275cmp = a.Xpm({
                type: Ke,
                selectors: [["app-user-location"]],
                inputs: {adresse: "adresse", fullWidth: "fullWidth", placeholder: "placeholder"},
                outputs: {resultFound: "resultFound"},
                decls: 7,
                vars: 16,
                consts: [[1, "d-flex"], [2, "width", "375px", 3, "placeholder", "defaultValue", "suggestions", "isNotFound", "selected", "search"], ["type", "button", "class", "btn input-group-btn", 3, "click", 4, "ngIf"], ["type", "button", 1, "btn", "input-group-btn", 3, "click"], [1, "border-end", "border-muted", "me-2"], [4, "ngIf", "ngIfElse"], ["geolocationIcon", ""], [1, "visually-hidden"], ["role", "status", "aria-hidden", "true", 1, "spinner-border", "spinner-border-sm", "text-primary", "me-1"], ["aria-hidden", "true", 1, "ri-focus-3-line", "ri-lg", "text-muted"]],
                template: function (se, Fe) {
                    if (1 & se && (a.TgZ(0, "div", 0)(1, "app-search-field", 1), a.NdJ("selected", function (at) {
                        return Fe.onSelected(at)
                    })("search", function (at) {
                        return Fe.onSearch(at)
                    }), a.ALo(2, "async"), a.ALo(3, "async"), a.ALo(4, "async"), a.YNc(5, $e, 6, 4, "button", 2), a.ALo(6, "async"), a.qZA()()), 2 & se) {
                        let Ge, at, Ye;
                        a.xp6(1), a.ekj("w-100", Fe.fullWidth), a.Q6J("placeholder", Fe.placeholder)("defaultValue", null !== (Ge = a.lcZ(2, 7, Fe.initialSearch$)) && void 0 !== Ge ? Ge : "")("suggestions", null !== (at = a.lcZ(3, 9, Fe.resultsFound$)) && void 0 !== at ? at : a.DdM(15, yt))("isNotFound", null !== (Ye = a.lcZ(4, 11, Fe.notFound$)) && void 0 !== Ye && Ye), a.xp6(4), a.Q6J("ngIf", !0 === a.lcZ(6, 13, Fe.displayGeolocation$))
                    }
                },
                encapsulation: 2,
                changeDetection: 0
            }), Ke
        })()
    }, 7854: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => V});
        const V = new (D(4650).OlP)("address.searchable")
    }, 4497: (Pe, he, D) => {
        "use strict";
        D.d(he, {t1: () => mt, kV: () => ce, PA: () => Q, bO: () => ue, z_: () => a.z, nB: () => Te});
        var a = D(7854), V = D(6895), K = D(4006), k = D(4650);
        let ue = (() => {
            class ye {
            }

            return ye.\u0275fac = function ($e) {
                return new ($e || ye)
            }, ye.\u0275mod = k.oAB({type: ye}), ye.\u0275inj = k.cJS({imports: [V.ez, K.UX]}), ye
        })();
        var de = D(7188), be = D(177);
        let Te = (() => {
            class ye {
            }

            return ye.\u0275fac = function ($e) {
                return new ($e || ye)
            }, ye.\u0275mod = k.oAB({type: ye}), ye.\u0275inj = k.cJS({imports: [V.ez, ue]}), ye
        })();
        k.B6R(de.W, [V.O5, be.r], [V.Ov]);
        var Se = D(4004);
        const me = ye => ye.map(Ue => ({
            context: Ue.context,
            label: Ue.label,
            localisation: Ue.localisation,
            payload: {type: Ue.type}
        }));

        class ce {
            constructor(Ue) {
                this._addressRepository = Ue
            }

            search$(Ue) {
                return this._addressRepository.search$(Ue).pipe((0, Se.U)(me))
            }

            reverse$(Ue) {
                return this._addressRepository.reverse$(Ue).pipe((0, Se.U)(me))
            }
        }

        class Q {
        }

        var Oe = D(5);
        const xe = /^\d{5}$/u;

        class mt extends Q {
            constructor(Ue) {
                super(), this._httpClient = Ue
            }

            search$(Ue) {
                return this._httpClient.get("https://api-adresse.data.gouv.fr/search/?" + (ye = Ue, xe.test(ye) ? `q=rue&postcode=${ye}` : `autocomplete=0&q=${ye}`)).pipe((0, Se.U)($e => $e.features.map(yt => ({
                    context: yt.properties.context,
                    label: yt.properties.label,
                    localisation: (0, Oe.tf)({
                        latitude: yt.geometry.coordinates[1],
                        longitude: yt.geometry.coordinates[0]
                    }),
                    type: yt.properties.type
                }))));
                var ye
            }

            reverse$(Ue) {
                return this._httpClient.get(`https://api-adresse.data.gouv.fr/reverse/?lon=${Ue.longitude}&lat=${Ue.latitude}`).pipe((0, Se.U)($e => $e.features.map(yt => ({
                    context: yt.properties.context,
                    label: yt.properties.label,
                    localisation: (0, Oe.tf)({
                        latitude: yt.geometry.coordinates[1],
                        longitude: yt.geometry.coordinates[0]
                    }),
                    type: yt.properties.type
                }))))
            }
        }
    }, 6080: (Pe, he, D) => {
        "use strict";
        D.d(he, {L: () => k});
        var a = D(529), V = D(3215), K = D(4497);
        const k = [{provide: V.S7, useValue: V.X1}, {provide: V.KN, useValue: V.Rh}, {
            deps: [a.eN],
            provide: K.PA,
            useClass: K.t1
        }]
    }, 936: (Pe, he, D) => {
        "use strict";
        D.d(he, {f: () => K});
        var a = D(6895), V = D(4650);
        let K = (() => {
            class k {
            }

            return k.\u0275fac = function (de) {
                return new (de || k)
            }, k.\u0275mod = V.oAB({type: k}), k.\u0275inj = V.cJS({imports: [a.ez]}), k
        })()
    }, 9934: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => xe});
        var a = D(4650), V = D(1135), K = D(6895);
        const k = ["dialog"], ue = ["heading", ""];

        function de(Be, mt) {
            1 & Be && a.GkF(0)
        }

        function be(Be, mt) {
            if (1 & Be && (a._UZ(0, "i", 15), a.TgZ(1, "b"), a._uU(2), a.qZA()), 2 & Be) {
                const ye = a.oxw(2);
                a.Q6J("ngClass", ye.icon), a.xp6(2), a.Oqu(ye.heading)
            }
        }

        function Te(Be, mt) {
            if (1 & Be) {
                const ye = a.EpF();
                a.TgZ(0, "button", 16), a.NdJ("click", function () {
                    a.CHM(ye);
                    const $e = a.oxw(2);
                    return a.KtG($e.close())
                }), a._UZ(1, "i", 17), a._uU(2), a.qZA()
            }
            if (2 & Be) {
                const ye = a.oxw(2);
                a.xp6(2), a.hij(" ", ye.closeLabel, " ")
            }
        }

        function Se(Be, mt) {
            if (1 & Be) {
                const ye = a.EpF();
                a.TgZ(0, "div", 2, 3), a.ALo(2, "async"), a.TgZ(3, "div", 4)(4, "div", 5)(5, "div", 6)(6, "h2", 7), a.YNc(7, de, 1, 0, "ng-container", 8), a.YNc(8, be, 3, 2, "ng-template", null, 9, a.W1O), a.qZA(), a.TgZ(10, "button", 10), a.NdJ("click", function () {
                    a.CHM(ye);
                    const $e = a.oxw();
                    return a.KtG($e.close())
                }), a.qZA()(), a.TgZ(11, "div", 11)(12, "div", 12), a.Hsn(13), a.qZA(), a.TgZ(14, "div", 13), a.YNc(15, Te, 3, 1, "button", 14), a.Hsn(16, 1), a.qZA()()()()()
            }
            if (2 & Be) {
                const ye = a.MAs(9), Ue = a.oxw();
                let $e;
                a.ekj("show", a.lcZ(2, 11, Ue.animate$)), a.uIk("aria-labelledby", Ue.id), a.xp6(5), a.Q6J("ngClass", "bg-" + Ue.bgTitle), a.xp6(1), a.Q6J("id", Ue.id), a.xp6(1), a.Q6J("ngTemplateOutlet", null !== ($e = Ue.customHeading) && void 0 !== $e ? $e : ye), a.xp6(3), a.ekj("btn-close-white", "primary" === Ue.bgTitle), a.xp6(1), a.Q6J("ngClass", "bg-" + Ue.bgBody), a.xp6(3), a.Q6J("ngClass", "bg-" + Ue.bgFooter), a.xp6(1), a.Q6J("ngIf", Ue.closeLabel)
            }
        }

        function me(Be, mt) {
            if (1 & Be && (a.TgZ(0, "div", 18), a.ALo(1, "async"), a.qZA()), 2 & Be) {
                const ye = a.oxw();
                a.ekj("show", a.lcZ(1, 2, ye.animate$))
            }
        }

        const ce = ["*", [["", "slot", "footer"]]], Q = ["*", "[slot=footer]"];
        let xe = (() => {
            class Be {
                ngOnChanges(ye) {
                    var Ue;
                    null !== (Ue = ye.heading) && void 0 !== Ue && Ue.firstChange && (this.id = this.heading.toLowerCase().replace(/\s/gu, "-"))
                }

                constructor(ye) {
                    this.renderer = ye, this.bgFooter = "light", this.bgBody = "white", this.bgTitle = "primary", this.closed = new a.vpe, this.id = "", this._isShown = !1, this._animate$ = new V.X(this._isShown), this.animate$ = this._animate$, this._activateModal$ = new V.X(this._isShown), this.activateModal$ = this._activateModal$.asObservable()
                }

                trapTabKey(ye) {
                    "Tab" === ye.key && ye.shiftKey ? this.shiftTabKey() : this.tabKey()
                }

                ngAfterViewInit() {
                    this.unlistenTabKey = this.renderer.listen("document", "keydown", this.trapTabKey.bind(this))
                }

                ngOnDestroy() {
                    this.unlistenTabKey && this.unlistenTabKey()
                }

                show() {
                    this._activateModal$.next(!0), setTimeout(() => {
                        this.dialog.nativeElement.focus(), this._animate$.next(!0)
                    }, 300)
                }

                hide() {
                    this._animate$.next(!1), setTimeout(() => this._activateModal$.next(!1), 300)
                }

                toggle(ye) {
                    this._invokingContext = ye.target, this._isShown ? this.hide() : this.show(), this._isShown = !this._isShown
                }

                isFocusOutOfModal() {
                    return !this.dialog.nativeElement.contains(document.activeElement)
                }

                focusableElements() {
                    return this.dialog.nativeElement.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')
                }

                firstFocusableElement() {
                    return this.focusableElements()[0]
                }

                lastFocusableElement() {
                    const ye = this.focusableElements();
                    return ye[ye.length - 1]
                }

                tabKey() {
                    this._isShown && requestAnimationFrame(() => this.isFocusOutOfModal() && this.firstFocusableElement().focus())
                }

                shiftTabKey() {
                    this._isShown && requestAnimationFrame(() => this.isFocusOutOfModal() && this.lastFocusableElement().focus())
                }

                close() {
                    this.hide(), this._isShown = !1, this.closed.emit(), requestAnimationFrame(() => {
                        var ye;
                        return null === (ye = this._invokingContext) || void 0 === ye ? void 0 : ye.focus()
                    })
                }
            }

            return Be.\u0275fac = function (ye) {
                return new (ye || Be)(a.Y36(a.Qsj))
            }, Be.\u0275cmp = a.Xpm({
                type: Be,
                selectors: [["app-modal", "heading", ""]],
                viewQuery: function (ye, Ue) {
                    if (1 & ye && a.Gf(k, 5, a.SBq), 2 & ye) {
                        let $e;
                        a.iGM($e = a.CRH()) && (Ue.dialog = $e.first)
                    }
                },
                hostBindings: function (ye, Ue) {
                    1 & ye && a.NdJ("keydown.tab", function () {
                        return Ue.tabKey()
                    })("keydown.shift.tab", function () {
                        return Ue.shiftTabKey()
                    })("keyup.escape", function () {
                        return Ue.close()
                    })
                },
                inputs: {
                    closeLabel: "closeLabel",
                    heading: "heading",
                    icon: "icon",
                    bgFooter: "bgFooter",
                    bgBody: "bgBody",
                    bgTitle: "bgTitle",
                    customHeading: "customHeading"
                },
                outputs: {closed: "closed"},
                features: [a.TTD],
                attrs: ue,
                ngContentSelectors: Q,
                decls: 4,
                vars: 6,
                consts: [["class", "modal d-block fade", "tabindex", "-1", "spellcheck", "false", "aria-modal", "true", "role", "dialog", 3, "show", 4, "ngIf"], ["class", "modal-backdrop fade", 3, "show", 4, "ngIf"], ["tabindex", "-1", "spellcheck", "false", "aria-modal", "true", "role", "dialog", 1, "modal", "d-block", "fade"], ["dialog", ""], [1, "modal-dialog", "modal-dialog-centered", "modal-lg"], [1, "modal-content", "overflow-hidden"], [1, "modal-header", "text-bg-dark", 3, "ngClass"], [1, "modal-title", "d-flex", "align-items-center", 3, "id"], [4, "ngTemplateOutlet"], ["defaultHeading", ""], ["type", "button", "aria-label", "Fermer", 1, "btn-close", "opacity-100", "small", "mb-0", 3, "click"], [3, "ngClass"], [1, "modal-body"], [1, "modal-footer", "justify-content-center", "px-lg-4", "px-1", 3, "ngClass"], ["type", "button", "class", "btn btn-secondary me-1", 3, "click", 4, "ngIf"], ["aria-hidden", "true", 1, "ri-xl", "me-3", "d-lg-inline", "d-none", 3, "ngClass"], ["type", "button", 1, "btn", "btn-secondary", "me-1", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-go-back-line", "d-lg-inline-block", "d-none"], [1, "modal-backdrop", "fade"]],
                template: function (ye, Ue) {
                    1 & ye && (a.F$t(ce), a.YNc(0, Se, 17, 13, "div", 0), a.ALo(1, "async"), a.YNc(2, me, 2, 4, "div", 1), a.ALo(3, "async")), 2 & ye && (a.Q6J("ngIf", a.lcZ(1, 2, Ue.activateModal$)), a.xp6(2), a.Q6J("ngIf", a.lcZ(3, 4, Ue.activateModal$)))
                },
                dependencies: [K.mk, K.O5, K.tP, K.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), Be
        })()
    }, 5700: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => K});
        var a = D(6895), V = D(4650);
        let K = (() => {
            class k {
            }

            return k.\u0275fac = function (de) {
                return new (de || k)
            }, k.\u0275mod = V.oAB({type: k}), k.\u0275inj = V.cJS({imports: [a.ez]}), k
        })()
    }, 2084: (Pe, he, D) => {
        "use strict";
        D.d(he, {I: () => Se});
        var a = D(4650), V = D(7579), K = D(6895);
        const k = ["dialog"], ue = ["heading", ""];

        function de(me, ce) {
            if (1 & me) {
                const Q = a.EpF();
                a.TgZ(0, "button", 4), a.NdJ("click", function (xe) {
                    a.CHM(Q);
                    const Be = a.oxw();
                    return a.KtG(Be.toggle(xe))
                }), a.qZA()
            }
        }

        const be = ["*"];
        let Se = (() => {
            class me {
                constructor() {
                    this.isAbsolute = !1, this.useHeader = !0, this.useCloseButton = !0, this.className = "", this.id = "", this._isExpanded = !1, this._showing$ = new V.x, this.showing$ = this._showing$.asObservable(), this._hiding$ = new V.x, this.hiding$ = this._hiding$.asObservable(), this._expanded$ = new V.x, this.expanded$ = this._expanded$.asObservable()
                }

                ngOnChanges(Q) {
                    Q.heading.firstChange && (this.id = this.heading.toLowerCase().replace(/\s/gu, "-"))
                }

                show() {
                    this._showing$.next(!0), this._expanded$.next(!0), setTimeout(() => {
                        this._showing$.next(!1), this.dialog.nativeElement.focus()
                    }, 300)
                }

                hide() {
                    var Q;
                    this._hiding$.next(!0), null === (Q = this._invokingContext) || void 0 === Q || Q.focus(), setTimeout(() => {
                        this._expanded$.next(!1), this._hiding$.next(!1)
                    }, 300)
                }

                toggle(Q) {
                    this._invokingContext = Q.target, this._isExpanded ? this.hide() : this.show(), this._isExpanded = !this._isExpanded
                }

                close() {
                    this._isExpanded && (this._isExpanded = !1, this._expanded$.next(!1))
                }
            }

            return me.\u0275fac = function (Q) {
                return new (Q || me)
            }, me.\u0275cmp = a.Xpm({
                type: me,
                selectors: [["app-offcanvas", "heading", ""]],
                viewQuery: function (Q, Oe) {
                    if (1 & Q && a.Gf(k, 5, a.SBq), 2 & Q) {
                        let xe;
                        a.iGM(xe = a.CRH()) && (Oe.dialog = xe.first)
                    }
                },
                hostBindings: function (Q, Oe) {
                    1 & Q && a.NdJ("keyup.escape", function () {
                        return Oe.hide()
                    })
                },
                inputs: {
                    isAbsolute: "isAbsolute",
                    useHeader: "useHeader",
                    useCloseButton: "useCloseButton",
                    className: "className",
                    heading: "heading"
                },
                features: [a.TTD],
                attrs: ue,
                ngContentSelectors: be,
                decls: 13,
                vars: 32,
                consts: [["tabindex", "-1", 1, "offcanvas", "offcanvas-end", 2, "max-width", "500px", 3, "ngClass", "id"], ["dialog", ""], [1, "h5", 3, "id"], ["type", "button", "class", "ms-auto btn-close", "aria-label", "Fermer", 3, "click", 4, "ngIf"], ["type", "button", "aria-label", "Fermer", 1, "ms-auto", "btn-close", 3, "click"]],
                template: function (Q, Oe) {
                    1 & Q && (a.F$t(), a.TgZ(0, "div", 0, 1), a.ALo(2, "async"), a.ALo(3, "async"), a.ALo(4, "async"), a.ALo(5, "async"), a.ALo(6, "async"), a.ALo(7, "async"), a.TgZ(8, "div")(9, "h2", 2), a._uU(10), a.qZA(), a.YNc(11, de, 1, 0, "button", 3), a.qZA(), a.Hsn(12), a.qZA()), 2 & Q && (a.ekj("position-absolute", Oe.isAbsolute && a.lcZ(2, 20, Oe.expanded$))("showing", a.lcZ(3, 22, Oe.showing$))("show", a.lcZ(4, 24, Oe.expanded$))("hiding", a.lcZ(5, 26, Oe.hiding$)), a.Q6J("ngClass", Oe.className)("id", Oe.id), a.uIk("aria-labelledby", Oe.id + "-label")("aria-modal", a.lcZ(6, 28, Oe.expanded$) ? "true" : null)("role", a.lcZ(7, 30, Oe.expanded$) ? "dialog" : null), a.xp6(8), a.ekj("offcanvas-header", Oe.useHeader), a.xp6(1), a.ekj("visually-hidden", !Oe.useHeader), a.Q6J("id", Oe.id + "-label"), a.xp6(1), a.Oqu(Oe.heading), a.xp6(1), a.Q6J("ngIf", Oe.useHeader && Oe.useCloseButton))
                },
                dependencies: [K.mk, K.O5, K.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), me
        })()
    }, 8886: (Pe, he, D) => {
        "use strict";
        D.d(he, {G: () => K});
        var a = D(6895), V = D(4650);
        let K = (() => {
            class k {
            }

            return k.\u0275fac = function (de) {
                return new (de || k)
            }, k.\u0275mod = V.oAB({type: k}), k.\u0275inj = V.cJS({imports: [a.ez]}), k
        })()
    }, 5532: (Pe, he, D) => {
        "use strict";
        D.d(he, {fw: () => a.f, zS: () => K.z, zk: () => V.z, Gz: () => k.G, ap: () => ue.a, L9: () => de.L});
        var a = D(936), V = D(5700), K = D(9934), k = D(8886), ue = D(5864), de = D(7116)
    }, 6286: (Pe, he, D) => {
        "use strict";
        D.d(he, {Oe: () => ue, nL: () => de});
        var a = D(5);
        const k = be => (be => (null == be.courriel || (0, a.W_)(be.courriel)) && (null == be.telephone || (0, a.iv)(be.telephone)))(be) ? be : (be => {
            var Te, Se;
            throw be.courriel && !(0, a.W_)(be.courriel) ? new a.RE(null !== (Te = be?.courriel) && void 0 !== Te ? Te : "ind\xe9fini") : be.telephone && !(0, a.iv)(be.telephone) ? new a.DO(null !== (Se = be?.telephone) && void 0 !== Se ? Se : "ind\xe9fini") : new Error
        })(be), ue = be => be.map(k), de = null
    }, 4928: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            yF: () => bt,
            M: () => Nr,
            _q: () => Qe,
            MO: () => lr,
            E6: () => ge,
            _g: () => Ke,
            Qz: () => we,
            zl: () => De,
            Hl: () => Ut,
            FN: () => Bn,
            fn: () => at,
            PY: () => _r,
            Yq: () => yn,
            YP: () => Lr,
            _W: () => nt,
            RW: () => se,
            UA: () => Re,
            TE: () => xe,
            Ut: () => zt,
            LE: () => An,
            In: () => Be
        });
        const a = JSON.parse('[{"code":"01","nom":"Ain","zoom":9.3,"localisation":{"longitude":5.348666025399395,"latitude":46.09979845028028}},{"code":"02","nom":"Aisne","zoom":9.3,"localisation":{"longitude":3.559228138131865,"latitude":49.561047640550804}},{"code":"03","nom":"Allier","zoom":9.3,"localisation":{"longitude":3.187565399965392,"latitude":46.39366350460246}},{"code":"04","nom":"Alpes-de-Haute-Provence","zoom":9.3,"localisation":{"longitude":6.244559228032303,"latitude":44.106225299144775}},{"code":"05","nom":"Hautes-Alpes","zoom":9.3,"localisation":{"longitude":6.264858477005842,"latitude":44.66377343409348}},{"code":"06","nom":"Alpes-Maritimes","zoom":9.3,"localisation":{"longitude":7.11620883820964,"latitude":43.938236643815486}},{"code":"07","nom":"Ard\xe8che","zoom":9.3,"localisation":{"longitude":4.425531629330188,"latitude":44.752642988235216}},{"code":"08","nom":"Ardennes","zoom":9.3,"localisation":{"longitude":4.64062940465854,"latitude":49.61605707775474}},{"code":"09","nom":"Ari\xe8ge","zoom":9.5,"localisation":{"longitude":1.503639287555638,"latitude":42.92089326453142}},{"code":"10","nom":"Aube","zoom":9.3,"localisation":{"longitude":4.161601781275763,"latitude":48.30460286989275}},{"code":"11","nom":"Aude","zoom":9.3,"localisation":{"longitude":2.413675525924558,"latitude":43.10326582558343}},{"code":"12","nom":"Aveyron","zoom":9.3,"localisation":{"longitude":2.678475218844927,"latitude":44.2811600056386}},{"code":"13","nom":"Bouches-du-Rh\xf4ne","zoom":9.3,"localisation":{"longitude":5.085361269441959,"latitude":43.54581301817768}},{"code":"14","nom":"Calvados","zoom":9.3,"localisation":{"longitude":-0.361598715951831,"latitude":49.09962486491972}},{"code":"15","nom":"Cantal","zoom":9.3,"localisation":{"longitude":2.668915768733588,"latitude":45.05130587390169}},{"code":"16","nom":"Charente","zoom":9.3,"localisation":{"longitude":0.203242053316784,"latitude":45.71868793582682}},{"code":"17","nom":"Charente-Maritime","zoom":9.3,"localisation":{"longitude":-0.678828180011893,"latitude":45.77507811540987}},{"code":"18","nom":"Cher","zoom":9.3,"localisation":{"longitude":2.491138526672551,"latitude":47.06585606637031}},{"code":"19","nom":"Corr\xe8ze","zoom":9.3,"localisation":{"longitude":1.877391973643968,"latitude":45.35733433334937}},{"code":"21","nom":"C\xf4te-d\'Or","zoom":9.3,"localisation":{"longitude":4.771734059306371,"latitude":47.42550486140497}},{"code":"22","nom":"C\xf4tes-d\'Armor","zoom":9.3,"localisation":{"longitude":-2.864464345576853,"latitude":48.439991322292975}},{"code":"23","nom":"Creuse","zoom":9.3,"localisation":{"longitude":2.018307483430017,"latitude":46.09063234352147}},{"code":"24","nom":"Dordogne","zoom":9.3,"localisation":{"longitude":0.741040317517638,"latitude":45.104821514979115}},{"code":"25","nom":"Doubs","zoom":9.3,"localisation":{"longitude":6.362870425989155,"latitude":47.16609513619715}},{"code":"26","nom":"Dr\xf4me","zoom":9.3,"localisation":{"longitude":5.167325033858678,"latitude":44.685347548910876}},{"code":"27","nom":"Eure","zoom":9.3,"localisation":{"longitude":0.996354215855167,"latitude":49.11382227521672}},{"code":"28","nom":"Eure-et-Loir","zoom":9.3,"localisation":{"longitude":1.370033152305838,"latitude":48.388033877010386}},{"code":"29","nom":"Finist\xe8re","zoom":9.3,"localisation":{"longitude":-4.059095901665024,"latitude":48.261386770195145}},{"code":"2A","nom":"Corse-du-Sud","zoom":9.3,"localisation":{"longitude":8.988234351564222,"latitude":41.86398928172553}},{"code":"2B","nom":"Haute-Corse","zoom":9.3,"localisation":{"longitude":9.206436950725896,"latitude":42.39465904548567}},{"code":"30","nom":"Gard","zoom":9.3,"localisation":{"longitude":4.179823679654268,"latitude":43.993762729920775}},{"code":"31","nom":"Haute-Garonne","zoom":9.3,"localisation":{"longitude":1.175062784816758,"latitude":43.35882131644561}},{"code":"32","nom":"Gers","zoom":9.3,"localisation":{"longitude":0.452998281716819,"latitude":43.69294820027607}},{"code":"33","nom":"Gironde","zoom":9.3,"localisation":{"longitude":-0.582543178713593,"latitude":44.83897349131332}},{"code":"34","nom":"H\xe9rault","zoom":9.3,"localisation":{"longitude":3.368286888613917,"latitude":43.57951346261164}},{"code":"35","nom":"Ille-et-Vilaine","zoom":9.3,"localisation":{"longitude":-1.638013595292116,"latitude":48.15481762958985}},{"code":"36","nom":"Indre","zoom":9.3,"localisation":{"longitude":1.576027176470445,"latitude":46.77833621908567}},{"code":"37","nom":"Indre-et-Loire","zoom":9.3,"localisation":{"longitude":0.691158926417557,"latitude":47.25852191819987}},{"code":"38","nom":"Is\xe8re","zoom":9.3,"localisation":{"longitude":5.574236336789287,"latitude":45.26395628867062}},{"code":"39","nom":"Jura","zoom":9.3,"localisation":{"longitude":5.697495901417199,"latitude":46.729342559560436}},{"code":"40","nom":"Landes","zoom":9.3,"localisation":{"longitude":-0.783832347129465,"latitude":43.96585708454558}},{"code":"41","nom":"Loir-et-Cher","zoom":9.3,"localisation":{"longitude":1.427957892004081,"latitude":47.61694659781879}},{"code":"42","nom":"Loire","zoom":9.3,"localisation":{"longitude":4.164661841030067,"latitude":45.727982046609476}},{"code":"43","nom":"Haute-Loire","zoom":9.3,"localisation":{"longitude":3.806461355062912,"latitude":45.1281134930463}},{"code":"44","nom":"Loire-Atlantique","zoom":9.3,"localisation":{"longitude":-1.678857159055145,"latitude":47.362998795358386}},{"code":"45","nom":"Loiret","zoom":9.3,"localisation":{"longitude":2.344134676881679,"latitude":47.91188026080557}},{"code":"46","nom":"Lot","zoom":9.3,"localisation":{"longitude":1.605480739992476,"latitude":44.62459769524265}},{"code":"47","nom":"Lot-et-Garonne","zoom":9.5,"localisation":{"longitude":0.460858224921808,"latitude":44.367995171222}},{"code":"48","nom":"Loz\xe8re","zoom":9.3,"localisation":{"longitude":3.499605769166552,"latitude":44.517589096965125}},{"code":"49","nom":"Maine-et-Loire","zoom":9.3,"localisation":{"longitude":-0.559433251626706,"latitude":47.38991545705204}},{"code":"50","nom":"Manche","zoom":9.1,"localisation":{"longitude":-1.328844995724477,"latitude":49.081142979030844}},{"code":"51","nom":"Marne","zoom":9.3,"localisation":{"longitude":4.238327480325601,"latitude":48.949892341664636}},{"code":"52","nom":"Haute-Marne","zoom":9.3,"localisation":{"longitude":5.225602822550032,"latitude":48.11038849525078}},{"code":"53","nom":"Mayenne","zoom":9.3,"localisation":{"longitude":-0.657456096802534,"latitude":48.147227576298334}},{"code":"54","nom":"Meurthe-et-Moselle","zoom":9.3,"localisation":{"longitude":6.161667632250049,"latitude":48.789087980172184}},{"code":"55","nom":"Meuse","zoom":9.3,"localisation":{"longitude":5.381434531505527,"latitude":48.99102107889905}},{"code":"56","nom":"Morbihan","zoom":9.3,"localisation":{"longitude":-2.811052115380253,"latitude":47.84670465832768}},{"code":"57","nom":"Moselle","zoom":9.3,"localisation":{"longitude":6.661624220306487,"latitude":49.03736698615933}},{"code":"58","nom":"Ni\xe8vre","zoom":9.3,"localisation":{"longitude":3.504223955098858,"latitude":47.11577846952191}},{"code":"59","nom":"Nord","zoom":9.3,"localisation":{"longitude":3.214201790735322,"latitude":50.44815465923563}},{"code":"60","nom":"Oise","zoom":9.3,"localisation":{"longitude":2.424915986599554,"latitude":49.409987385575796}},{"code":"61","nom":"Orne","zoom":9.3,"localisation":{"longitude":0.127763902018232,"latitude":48.62300834576193}},{"code":"62","nom":"Pas-de-Calais","zoom":9.3,"localisation":{"longitude":2.28619300931138,"latitude":50.49391169624756}},{"code":"63","nom":"Puy-de-D\xf4me","zoom":9.3,"localisation":{"longitude":3.140071103255325,"latitude":45.72593841410395}},{"code":"64","nom":"Pyr\xe9n\xe9es-Atlantiques","zoom":9.3,"localisation":{"longitude":-0.760948286617372,"latitude":43.25626532591859}},{"code":"65","nom":"Hautes-Pyr\xe9n\xe9es","zoom":9.3,"localisation":{"longitude":0.163914749725104,"latitude":43.05366836315916}},{"code":"66","nom":"Pyr\xe9n\xe9es-Orientales","zoom":9.3,"localisation":{"longitude":2.522179940125737,"latitude":42.59974976931528}},{"code":"67","nom":"Bas-Rhin","zoom":9.3,"localisation":{"longitude":7.552055542392739,"latitude":48.671309691931114}},{"code":"68","nom":"Haut-Rhin","zoom":9.3,"localisation":{"longitude":7.273894031759741,"latitude":47.85935613632275}},{"code":"69","nom":"Rh\xf4ne","zoom":9.3,"localisation":{"longitude":4.640949259558913,"latitude":45.871047330627775}},{"code":"70","nom":"Haute-Sa\xf4ne","zoom":9.3,"localisation":{"longitude":6.087280301174322,"latitude":47.64129406010436}},{"code":"71","nom":"Sa\xf4ne-et-Loire","zoom":9.3,"localisation":{"longitude":4.542948650171613,"latitude":46.64481884871044}},{"code":"72","nom":"Sarthe","zoom":9.3,"localisation":{"longitude":0.222581023795952,"latitude":47.99497528098284}},{"code":"73","nom":"Savoie","zoom":9.3,"localisation":{"longitude":6.442849016866783,"latitude":45.47758374314056}},{"code":"74","nom":"Haute-Savoie","zoom":9.3,"localisation":{"longitude":6.428318038499181,"latitude":46.034630274945165}},{"code":"75","nom":"Paris","zoom":12.5,"localisation":{"longitude":2.34208259060678,"latitude":48.8566486176344}},{"code":"76","nom":"Seine-Maritime","zoom":9.3,"localisation":{"longitude":1.027901435386773,"latitude":49.65478567738748}},{"code":"77","nom":"Seine-et-Marne","zoom":9.3,"localisation":{"longitude":2.934024012697684,"latitude":48.62762703549623}},{"code":"78","nom":"Yvelines","zoom":10,"localisation":{"longitude":1.841257365940418,"latitude":48.81537847087528}},{"code":"79","nom":"Deux-S\xe8vres","zoom":9.3,"localisation":{"longitude":-0.317848757930099,"latitude":46.55705280784334}},{"code":"80","nom":"Somme","zoom":9.3,"localisation":{"longitude":2.276502457217174,"latitude":49.957904035948616}},{"code":"81","nom":"Tarn","zoom":9.3,"localisation":{"longitude":2.165745657411694,"latitude":43.785581864754256}},{"code":"82","nom":"Tarn-et-Garonne","zoom":9.3,"localisation":{"longitude":1.282400266932155,"latitude":44.08563373953142}},{"code":"83","nom":"Var","zoom":9.3,"localisation":{"longitude":6.244632767004941,"latitude":43.44210602357137}},{"code":"84","nom":"Vaucluse","zoom":9.3,"localisation":{"longitude":5.177322015176259,"latitude":44.00724272263447}},{"code":"85","nom":"Vend\xe9e","zoom":9.3,"localisation":{"longitude":-1.298325800784565,"latitude":46.67495635776476}},{"code":"86","nom":"Vienne","zoom":9.3,"localisation":{"longitude":0.459451022802407,"latitude":46.56494376350322}},{"code":"87","nom":"Haute-Vienne","zoom":9.3,"localisation":{"longitude":1.234939771363161,"latitude":45.892426145772646}},{"code":"88","nom":"Vosges","zoom":9.3,"localisation":{"longitude":6.380323394855568,"latitude":48.19627282960194}},{"code":"89","nom":"Yonne","zoom":9.3,"localisation":{"longitude":3.56319200926921,"latitude":47.840617093082535}},{"code":"90","nom":"Territoire de Belfort","zoom":10.5,"localisation":{"longitude":6.92853544042236,"latitude":47.631867536887675}},{"code":"91","nom":"Essonne","zoom":10,"localisation":{"longitude":2.243146979473284,"latitude":48.52249070430854}},{"code":"92","nom":"Hauts-de-Seine","zoom":11,"localisation":{"longitude":2.245630223738104,"latitude":48.84757643000979}},{"code":"93","nom":"Seine-Saint-Denis","zoom":11.5,"localisation":{"longitude":2.478276673716935,"latitude":48.917833599986004}},{"code":"94","nom":"Val-de-Marne","zoom":11.5,"localisation":{"longitude":2.46880070325782,"latitude":48.77761519775882}},{"code":"95","nom":"Val-d\'Oise","zoom":10.5,"localisation":{"longitude":2.130764649315437,"latitude":49.0827385291132}},{"code":"971","nom":"Guadeloupe","zoom":10,"localisation":{"longitude":-61.539863970093414,"latitude":16.197655628844164}},{"code":"972","nom":"Martinique","zoom":10,"localisation":{"longitude":-61.01961123432324,"latitude":14.654897402310562}},{"code":"973","nom":"Guyane","zoom":9.1,"localisation":{"longitude":-52.5,"latitude":4.6}},{"code":"974","nom":"La R\xe9union","zoom":10,"localisation":{"longitude":55.53251839618343,"latitude":-21.1332160885662}},{"code":"976","nom":"Mayotte","zoom":11,"localisation":{"longitude":45.14736445325332,"latitude":-12.820655090736881}},{"code":"978","nom":"Saint Martin","zoom":11,"localisation":{"longitude":-63.0667,"latitude":18.0667}}]'),
            V = JSON.parse('[{"code":"84","departements":["01","03","07","15","26","38","42","43","63","69","73","74"],"nom":"Auvergne-Rh\xf4ne-Alpes","zoom":8,"localisation":{"longitude":4.538056,"latitude":45.515833},"hub":{"nom":"Hinaura","source":"hinaura","url":"https://www.hinaura.fr/"}},{"code":"32","departements":["02","59","60","62","80"],"nom":"Hauts-de-France","zoom":8,"localisation":{"longitude":2.775278,"latitude":49.966111},"hub":{"nom":"Les Assembleurs","source":"assembleurs","url":"https://assembleurs.co/"}},{"code":"93","departements":["04","05","06","13","83","84"],"nom":"Provence-Alpes-C\xf4te d\'Azur","zoom":8.5,"localisation":{"longitude":6.053333,"latitude":43.955},"hub":{"nom":"Hub du Sud","url":"https://www.hubdusud.fr/"}},{"code":"44","nom":"Grand Est","departements":["08","10","51","52","54","55","57","67","68","88"],"zoom":8,"localisation":{"longitude":5.619444,"latitude":48.689167},"hub":{"nom":"Hub Est","url":"https://hubest.fr/"}},{"code":"76","nom":"Occitanie","departements":["09","11","12","30","31","32","34","46","48","65","66","81","82"],"zoom":8,"localisation":{"longitude":2.137222,"latitude":43.702222},"hub":{"nom":"RhinOcc","url":"https://rhinocc.fr/"}},{"code":"28","nom":"Normandie","departements":["14","27","50","61","76"],"zoom":8.2,"localisation":{"longitude":0.106667,"latitude":49.121111},"hub":{"nom":"Numi","url":"https://www.hub-numi-normandie.fr/"}},{"code":"75","nom":"Nouvelle-Aquitaine","departements":["16","17","19","23","24","33","40","47","64","79","86","87"],"zoom":7.1,"localisation":{"longitude":0.197778,"latitude":45.192222},"hub":{"nom":"Hubikoop","url":"https://hubikoop.fr/"}},{"code":"24","nom":"Centre-Val de Loire","departements":["18","28","36","37","41","45"],"zoom":8,"localisation":{"longitude":1.685278,"latitude":47.480556},"hub":{"nom":"Hub-Lo","url":"https://hub-lo.fr/"}},{"code":"27","nom":"Bourgogne-Franche-Comt\xe9","departements":["21","25","39","58","70","71","89","90"],"zoom":8,"localisation":{"longitude":4.809167,"latitude":47.235278},"hub":{"nom":"MedNum BFC","url":"https://www.mednum-bfc.fr/"}},{"code":"53","nom":"Bretagne","departements":["22","29","35","56"],"zoom":8,"localisation":{"longitude":-2.838611,"latitude":48.179722},"hub":{"nom":"Hub Bretagne","url":"https://hub-bretagne.net/"}},{"code":"94","nom":"Corse","departements":["2A","2B"],"zoom":8,"localisation":{"longitude":9.105278,"latitude":42.149722},"hub":{"nom":"Hub Corsica"}},{"code":"52","nom":"Pays de la Loire","departements":["44","49","53","72","85"],"zoom":8.2,"localisation":{"longitude":-0.823888,"latitude":47.474722},"hub":{"nom":"Conumm","url":"https://conumm.fr/"}},{"code":"11","nom":"\xcele-de-France","departements":["75","77","78","91","92","93","94","95"],"zoom":9,"localisation":{"longitude":2.504722,"latitude":48.709167},"hub":{"nom":"Francil\'IN","source":"francilin","url":"https://francilin.fr/"}},{"code":"00","nom":"Saint Martin","departements":["978"],"zoom":9,"localisation":{"longitude":-63.0667,"latitude":18.0667},"hub":{"nom":"Hub Antille","url":"https://mediation-numerique.mq/"}},{"code":"01","nom":"Guadeloupe","departements":["971"],"zoom":9,"localisation":{"longitude":-61.551,"latitude":16.2},"hub":{"nom":"Hub Antille","url":"https://mediation-numerique.mq/"}},{"code":"02","nom":"Martinique","departements":["972"],"zoom":9,"localisation":{"longitude":-61.024174,"latitude":14.641528},"hub":{"nom":"Hub Antille","url":"https://mediation-numerique.mq/"}},{"code":"03","nom":"Guyane","departements":["973"],"zoom":7.5,"localisation":{"longitude":-52.5,"latitude":4},"hub":{"nom":"Guyaclic","url":"https://www.facebook.com/guyaclic/"}},{"code":"04","nom":"La R\xe9union","departements":["974"],"zoom":9,"localisation":{"longitude":55.536384,"latitude":-21.115141},"hub":{"nom":"Ultra Num\xe9rique","url":"https://hub.ultranumerique.fr/"}},{"code":"06","nom":"Mayotte","departements":["976"],"zoom":9,"localisation":{"longitude":45.166244,"latitude":-12.8275},"hub":{"nom":"Ultra Num\xe9rique","url":"https://hub.ultranumerique.fr/"}}]'),
            K = JSON.parse('[{"code":"250","nom":"France m\xe9tropolitaine","regions":["84","32","93","44","76","28","75","24","27","53","94","52","11"],"zoom":6,"localisation":{"longitude":2.4326,"latitude":46.7684}},{"code":"3","nom":"Am\xe9rique","regions":["00","01","02","03"],"zoom":6,"localisation":{"longitude":-58.389223,"latitude":11.90753}},{"code":"014","nom":"D\xe9partements d\'outre-mer d\'Afrique de l\'Est","regions":["04","06"],"zoom":6,"localisation":{"longitude":49.695159,"latitude":-15.679019}}]'),
            k = JSON.parse('[["42620","03250"],["05110","04058"],["05110","04066"],["05130","04150"],["05130","04234"],["05160","04154"],["06260","04170"],["06260","04194"],["48250","07136"],["43450","15105"],["33220","24189"],["33220","24335"],["05700","26374"],["01410","39274"],["01590","39102"],["01590","39283"],["52100","51478"],["52100","51522"],["21340","71085"],["01200","74109"],["13780","83105"],["37160","86042"],["94390","91479"],["97150","97801"]]'),
            ue = new Map(k), ce = L => {
                var ne;
                return null !== (ne = ue.get(L)) && void 0 !== ne ? ne : L
            },
            Oe = L => (L => (L => L.startsWith("20"))(L) ? (L => (L => L.startsWith("201") || L.startsWith("200"))(L) ? "2A" : "2B")(L) : (L => "97150" === L)(L) ? ce(L).slice(0, 3) : (L => L.startsWith("97"))(L) ? L.slice(0, 3) : ce(L).slice(0, 2))(L.code_postal),
            xe = L => we.find(ne => ne.code === Oe(L)), Be = L => Re.find(ne => ne.departements.includes(Oe(L))),
            mt = L => De.find(ne => {
                var Ne, tt;
                return ne.regions.includes(null !== (tt = null === (Ne = Be(L)) || void 0 === Ne ? void 0 : Ne.code) && void 0 !== tt ? tt : "")
            }), ye = L => null != L, Ue = L => ne => ne.code === L.code, $e = L => ne => !Ue(L)(ne),
            We = (L, ne) => ((L, ne, Ne) => {
                var tt;
                return Ne ? [...ne.filter($e(L)), Object.assign(Object.assign({}, Ne), {lieuxCount: (null !== (tt = Ne.lieuxCount) && void 0 !== tt ? tt : 0) + 1})] : [...ne, Object.assign(Object.assign({}, L), {lieuxCount: 1})]
            })(ne, L, L.find(Ue(ne))), Qe = (L, ne) => L.nom.localeCompare(ne.nom),
            nt = L => Re.find(ne => ne.departements.includes(L.code)), Ke = L => we.find(ne => ne.nom === L),
            ge = L => we.find(ne => ne.code === L), se = L => Re.find(ne => ne.nom === L),
            Fe = (L, ne) => Object.assign(Object.assign({}, L), {distance: Ut(L.localisation, ne)}),
            at = L => Re.reduce((ne, Ne) => ((L, ne) => L.distance < ne.distance ? L : ne)(ne, Fe(Ne, L)), Fe(Re[0], L)),
            Ye = {
                ACI: {
                    label: "Structures porteuses d\u2019ateliers et chantiers d\u2019insertion (ACI)",
                    type: "association"
                },
                ACIPHC: {
                    label: "SIAE \u2014 Atelier chantier d\u2019insertion premi\xe8res heures en chantier",
                    type: "association"
                },
                AFPA: {
                    label: "Agence nationale pour la formation professionnelle des adultes (AFPA)",
                    type: "publique",
                    subtype: "autre"
                },
                AI: {label: "Associations interm\xe9diaires (AI)", type: "association"},
                ASE: {label: "Aide sociale \xe0 l\u2019enfance (ASE)", type: "publique", subtype: "departement"},
                ASSO: {label: "Associations", type: "association"},
                ASSO_CHOMEUR: {label: "Associations de ch\xf4meurs", type: "association"},
                Autre: {label: "Autre", type: "privee"},
                BIB: {label: "Biblioth\xe8que / M\xe9diath\xe8que", type: "publique", subtype: "commune"},
                CAARUD: {
                    label: "CAARUD - Centre d\u2019accueil et d\u2019accompagnement \xe0 la r\xe9duction des risques pour usagers de drogues",
                    type: "publique",
                    subtype: "autre"
                },
                CADA: {
                    label: "CADA - Centre d\u2019accueil de demandeurs d\u2019asile",
                    type: "publique",
                    subtype: "autre"
                },
                CAF: {label: "Caisse d\u2019allocations familiales (CAF)", type: "publique", subtype: "autre"},
                CAP_EMPLOI: {label: "Cap emploi", type: "publique", subtype: "autre"},
                CAVA: {label: "Centres d\u2019adaptation \xe0 la vie active (CAVA)", type: "association"},
                CC: {label: "Communaut\xe9s de Commune", type: "publique", subtype: "epci"},
                CCAS: {label: "Centres communaux d\u2019action sociale (CCAS)", type: "publique", subtype: "commune"},
                CCONS: {label: "Chambres consulaires (CCI, CMA, CA)", type: "publique", subtype: "autre"},
                CD: {label: "Conseils D\xe9partementaux (CD)", type: "publique", subtype: "departement"},
                CHRS: {label: "Centres d\u2019h\xe9bergement et de r\xe9insertion sociale (CHRS)", type: "association"},
                CHU: {label: "Centres d\u2019h\xe9bergement d\u2019urgence (CHU)", type: "association"},
                CIAS: {label: "Centres intercommunaux d\u2019action sociale (CIAS)", type: "publique", subtype: "epci"},
                CIDFF: {
                    label: "Centres d\u2019information sur les droits des femmes et des familles (CIDFF)",
                    type: "association"
                },
                CITMET: {label: "Cit\xe9 des m\xe9tiers", type: "association"},
                CPH: {label: "Centres provisoires d\u2019h\xe9bergement (CPH)", type: "association"},
                CS: {label: "Centre social", type: "association"},
                CSAPA: {
                    label: "CSAPA - Centre de soins, d\u2019accompagnement et de pr\xe9vention en addictologie",
                    type: "association"
                },
                DEETS: {
                    label: "Directions de l\u2019Economie, de l\u2019Emploi, du Travail et des Solidarit\xe9s (DEETS)",
                    type: "publique",
                    subtype: "autre"
                },
                DEPT: {label: "Services sociaux du Conseil d\xe9partemental", type: "publique", subtype: "departement"},
                DIPLP: {
                    label: "D\xe9l\xe9gation interminist\xe9rielles \xe0 la pr\xe9vention et \xe0 la lutte contre la pauvret\xe9",
                    type: "publique",
                    subtype: "autre"
                },
                E2C: {label: "E2C - \xc9cole de la deuxi\xe8me chance", type: "association"},
                EA: {label: "Entreprise adapt\xe9e (EA)", type: "privee"},
                EATT: {label: "Entreprise Adapt\xe9e (EATT)", type: "privee"},
                EI: {label: "Entreprises d\u2019insertion (EI)", type: "privee"},
                EITI: {label: "Entreprises d\u2019insertion par le travail ind\xe9pendant (EITI)", type: "privee"},
                EPCI: {label: "Intercommunalit\xe9 (EPCI)", type: "publique", subtype: "epci"},
                EPIDE: {
                    label: "EPIDE - \xc9tablissement pour l\u2019insertion dans l\u2019emploi",
                    type: "publique",
                    subtype: "autre"
                },
                ESS: {label: "Entreprise de l\u2019\xc9conomie Sociale et Solidaire", type: "privee"},
                ETTI: {label: "Entreprises de travail temporaire d\u2019insertion (ETTI)", type: "privee"},
                FAIS: {
                    label: "F\xe9d\xe9rations d\u2019acteurs de l\u2019insertion et de la solidarit\xe9",
                    type: "association"
                },
                GEIQ: {
                    label: "Groupements d\u2019employeurs pour l\u2019insertion et la qualification (GEIQ)",
                    type: "privee"
                },
                HUDA: {label: "HUDA - H\xe9bergement d\u2019urgence pour demandeurs d\u2019asile", type: "association"},
                MDE: {label: "Maison de l\u2019emploi", type: "publique", subtype: "autre"},
                MDEF: {label: "Maison de l\u2019emploi et de la formation", type: "publique", subtype: "autre"},
                MDPH: {
                    label: "Maison D\xe9partementale des Personnes Handicap\xe9es",
                    type: "publique",
                    subtype: "departement"
                },
                MDS: {label: "Maison D\xe9partementale des Solidarit\xe9s", type: "publique", subtype: "departement"},
                MJC: {label: "Maison des jeunes et de la culture", type: "association"},
                ML: {label: "Mission Locale", type: "publique", subtype: "autre"},
                MQ: {label: "Maison de quartier", type: "association"},
                MSA: {label: "Mutualit\xe9 Sociale Agricole", type: "publique", subtype: "autre"},
                MUNI: {label: "Municipalit\xe9s", type: "publique", subtype: "commune"},
                OACAS: {
                    label: "Structures agr\xe9\xe9es Organisme d\u2019accueil communautaire et d\u2019activit\xe9 solidaire (OACAS)",
                    type: "association"
                },
                ODC: {label: "Organisation d\xe9l\xe9gataire d\u2019un CD", type: "publique", subtype: "departement"},
                OF: {label: "Organisme de formations", type: "privee"},
                OIL: {label: "Op\xe9rateur d\u2019interm\xe9diation locative", type: "association"},
                OPCS: {label: "Organisation porteuse de la clause sociale", type: "association"},
                PAD: {label: "Point d\u2019Acc\xe8s au Droit", type: "association"},
                PE: {label: "P\xf4le emploi", type: "publique", subtype: "autre"},
                PENSION: {label: "Pension de famille / r\xe9sidence accueil", type: "association"},
                PIJ_BIJ: {
                    label: "Points et bureaux information jeunesse (PIJ/BIJ)",
                    type: "publique",
                    subtype: "autre"
                },
                PIMMS: {label: "Point Information M\xe9diation Multi Services (PIMMS)", type: "association"},
                PJJ: {label: "Protection judiciaire de la jeunesse (PJJ)", type: "publique", subtype: "autre"},
                PLIE: {
                    label: "Plans locaux pour l\u2019insertion et l\u2019emploi (PLIE)",
                    type: "publique",
                    subtype: "departement"
                },
                PREF: {label: "Pr\xe9fecture, Sous-Pr\xe9fecture", type: "publique", subtype: "autre"},
                PREVENTION: {label: "Service ou club de pr\xe9vention", type: "publique", subtype: "departement"},
                REG: {label: "R\xe9gion", type: "publique", subtype: "autre"},
                RFS: {label: "R\xe9seau France Services", type: "publique", subtype: "autre"},
                RS_FJT: {label: "R\xe9sidence sociale / FJT - Foyer de Jeunes Travailleurs", type: "association"},
                SCP: {label: "Services et clubs de pr\xe9vention", type: "publique", subtype: "departement"},
                SPIP: {
                    label: "Services p\xe9nitentiaires d\u2019insertion et de probation (SPIP)",
                    type: "publique",
                    subtype: "autre"
                },
                TIERS_LIEUX: {label: "Tiers lieu & coworking", type: "privee"},
                UDAF: {label: "Union D\xe9partementale d\u2019Aide aux Familles (UDAF)", type: "association"}
            }, we = a, Re = V, De = K, Ve = Math.PI / 180, Ut = (L, ne) => {
                const Ne = L.latitude * Ve, tt = ne.latitude * Ve;
                return ((L, ne, Ne, tt) => 12742e3 * Math.asin(Math.sqrt(.5 * (1 - Math.cos(Ne) + Math.cos(L) * Math.cos(ne) * (1 - Math.cos(tt))))))(Ne, tt, tt - Ne, (ne.longitude - L.longitude) * Ve)
            };
        var Dt = D(4006), At = D(5), Bt = D(6286);
        const Xt = L => L ? (L => Array.isArray(L) ? L : [L])(L) : [],
            Hn = L => Array.isArray(L) ? L.length > 0 : null != L,
            Bn = L => (L => [L.service, L.address, L.latitude, L.longitude, L.distance, L.accessibilite, L.prise_rdv, L.conditions_acces, L.publics_accueillis, L.modalites_accompagnement, L.labels_nationaux, L.labels_autres, L.horaires_ouverture])(L).some(Hn),
            zt = L => ({
                service: L?.service,
                address: L?.address,
                latitude: L?.latitude ? parseFloat(L.latitude) : void 0,
                longitude: L?.longitude ? parseFloat(L.longitude) : void 0,
                distance: L?.distance ? parseInt(L.distance) : void 0,
                accessibilite: "true" === L?.accessibilite || void 0,
                prise_rdv: "true" === L?.prise_rdv || void 0,
                conditions_acces: Xt(L?.conditions_acces),
                publics_accueillis: Xt(L?.publics_accueillis),
                modalites_accompagnement: Xt(L?.modalites_accompagnement),
                labels_nationaux: Xt(L?.labels_nationaux),
                labels_autres: Xt(L?.labels_autres),
                horaires_ouverture: L?.horaires_ouverture ? JSON.parse(L?.horaires_ouverture) : void 0
            }),
            An = L => L.latitude && L.longitude ? (0, At.tf)({latitude: L.latitude, longitude: L.longitude}) : Bt.nL,
            lr = L => Object.entries(L).reduce((ne, [Ne, tt]) => new Dt.cw(Object.assign(Object.assign({}, ne.controls), {[Ne]: new Dt.NI(tt)})), new Dt.cw({}));
        var xn = D(6895), _n = D(9189), gn = D.n(_n);
        const cn = ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
            Nn = (L, ne) => new Date(L.getTime() + 864e5 * ((0 === ne ? 7 : ne) - L.getDay())), Tr = L => {
                const ne = new Date(L);
                return ne.setHours(0, 0, 0, 0), ne
            }, $t = L => (ne, Ne) => new Date(Nn(Tr(L), ne).getTime() + (L => {
                const [ne, Ne] = L.split(":").map(Number);
                return 36e5 * ne + 6e4 * Ne
            })(Ne)), Lt = L => "Ferm\xe9" != L && null != L,
            Cr = L => L && L.toLocaleTimeString("fr-FR", {hour: "2-digit", minute: "2-digit"}).replace(":", "h"), Fn = {
                Lundi: "Ferm\xe9",
                Mardi: "Ferm\xe9",
                Mercredi: "Ferm\xe9",
                Jeudi: "Ferm\xe9",
                Vendredi: "Ferm\xe9",
                Samedi: "Ferm\xe9",
                Dimanche: "Ferm\xe9"
            }, Lr = L => ne => {
                try {
                    return ne ? new (gn())(ne).getOpenIntervals(Tr((L => Nn(L, xn.VR.Monday))(L)), (L => {
                        const ne = new Date(L);
                        return ne.setHours(23, 59, 59, 999), ne
                    })((L => Nn(L, xn.VR.Sunday))(L))).reduce((Ne, [tt, tn]) => ((L, ne, Ne, tt) => Object.assign(Object.assign({}, L), {[tt]: [L[tt], `${Cr(ne)} - ${Cr(Ne)}`].filter(Lt).join("\n")}))(Ne, tt, tn, cn[tt.getDay()]), Fn) : void 0
                } catch {
                    return
                }
            }, mr = (L, ne) => {
                return Ne = L.getNextChange(ne), ne.toDateString() === Ne?.toDateString() ? "aujourd'hui" : cn[null !== (tt = Ne?.getDay()) && void 0 !== tt ? tt : 0].toLowerCase();
                var Ne, tt
            }, yn = L => ne => {
                if (ne) try {
                    const Ne = new (gn())(ne);
                    return ((L, ne) => L.getIterator(ne).getState())(Ne, L) ? ((L, ne) => ({
                        label: "Ouvert",
                        limite: `Ferme \xe0 ${Cr(L.getNextChange(ne))}`
                    }))(Ne, L) : ((L, ne) => ({
                        label: "Ferm\xe9",
                        limite: `Ouvre ${mr(L, ne)} \xe0 ${Cr(L.getNextChange(ne))}`
                    }))(Ne, L)
                } catch {
                    return
                }
            };
        var Ce = D(2199);
        const $ = /^(?:(?:Mo|Tu|We|Th|Fr|Sa|Su)(?:[-,](?:Mo|Tu|We|Th|Fr|Sa|Su))?\s)?(?:[0-1]\d|2[0-3]):[0-5]\d-(?:[0-1]\d|2[0-3]):[0-5]\d.*/,
            G = new Map([["mo", xn.VR.Monday], ["tu", xn.VR.Tuesday], ["we", xn.VR.Wednesday], ["th", xn.VR.Thursday], ["fr", xn.VR.Friday], ["sa", xn.VR.Saturday], ["su", xn.VR.Sunday]]),
            A = L => (L => "all" === L.day && "hours" === L.period)(L) ? Array.from(G.keys()).map((L => ne => Object.assign(Object.assign({}, L), {day: ne}))(L)) : L,
            et = (L, ne, Ne) => !!(L => null != L && $.test(L))(Ne) && (!!(L => L.find(ne => "all" === ne.day && "all" === ne.period))(ne) || ne.map(A).flat().reduce(((L, ne) => (Ne, tt) => {
                const tn = G.get(tt.day);
                return Ne || "" !== tt?.start && "" !== tt?.end && null != tn && (L => (ne, Ne, tt = "00:00", tn = "23:59") => {
                    try {
                        return new (gn())(ne).getOpenIntervals($t(L)(Ne, tt), $t(L)(Ne, tn)).length > 0
                    } catch {
                        return !1
                    }
                })(L)(ne, tn, tt?.start, tt.end)
            })(L, Ne), ((L, ne, Ne) => !!(L => L.some(ne => "now" === ne.day))(ne) && (L => ne => {
                try {
                    return new (gn())(ne).getState(L)
                } catch {
                    return !1
                }
            })(L)(Ne))(L, ne, Ne))),
            Ft = new Map([["distance", (L, ne) => !L.distance || !ne.distance || L.distance <= ne.distance], ["service", (L, ne) => !L.services || !ne.service || L.services.includes(ne.service)], ["accessibilite", (L, ne) => !ne.accessibilite || null != L.accessibilite], ["prise_rdv", (L, ne) => !ne.prise_rdv || null != L.prise_rdv], ["conditions_acces", (L, ne) => {
                var Ne, tt;
                return !(L => null != L && L.length > 0)(ne.conditions_acces) || null !== (tt = null === (Ne = L.conditions_acces) || void 0 === Ne ? void 0 : Ne.reduce((L => (ne, Ne) => ne || L.includes(Ne))(ne.conditions_acces), !1)) && void 0 !== tt && tt
            }], ["publics_accueillis", (L, ne) => {
                var Ne;
                return !(L => null != L && L.length > 0)(ne.publics_accueillis) || null !== (Ne = ne.publics_accueillis.every((L => ne => {
                    var Ne, tt;
                    return null !== (tt = null === (Ne = L.publics_accueillis) || void 0 === Ne ? void 0 : Ne.includes(ne)) && void 0 !== tt && tt
                })(L))) && void 0 !== Ne && Ne
            }], ["modalites_accompagnement", (L, ne) => {
                var Ne, tt;
                return !(L => null != L && L.length > 0)(ne.modalites_accompagnement) || null !== (tt = null === (Ne = L.modalites_accompagnement) || void 0 === Ne ? void 0 : Ne.reduce((L => (ne, Ne) => ne || L.includes(Ne))(ne.modalites_accompagnement), !1)) && void 0 !== tt && tt
            }], ["labels_nationaux", (L, ne) => {
                var Ne, tt;
                return !(L => null != L && L.length > 0)(ne.labels_nationaux) || null !== (tt = null === (Ne = L.labels_nationaux) || void 0 === Ne ? void 0 : Ne.reduce((L => (ne, Ne) => ne || L.includes(Ne))(ne.labels_nationaux), !1)) && void 0 !== tt && tt
            }], ["labels_autres", (L, ne) => {
                var Ne, tt;
                return !(L => null != L && L.length > 0)(ne.labels_autres) || null !== (tt = null === (Ne = L.labels_autres) || void 0 === Ne ? void 0 : Ne.reduce((L => (ne, Ne) => ne || L.includes(Ne))(ne.labels_autres), !1)) && void 0 !== tt && tt
            }], ["horaires_ouverture", (L, ne, Ne) => !(L => null != L && L.length > 0)(ne.horaires_ouverture) || et(Ne, ne.horaires_ouverture, L.horaires)]]),
            _r = L => {
                var ne, Ne, tt, tn;
                return null != (null === (ne = L.localisation) || void 0 === ne ? void 0 : ne.latitude) && null != (null === (Ne = L.localisation) || void 0 === Ne ? void 0 : Ne.longitude) && 0 !== (null === (tt = L.localisation) || void 0 === tt ? void 0 : tt.latitude) && 0 !== (null === (tn = L.localisation) || void 0 === tn ? void 0 : tn.longitude)
            }, cr = (L, ne, Ne, tt) => L.filter(_r).map(tn => ((L, ne) => {
                var Ne, tt, tn, Wn, Vr, Pr;
                return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({
                    id: L.id,
                    nom: L.nom,
                    voie: L.adresse.voie
                }, (0, Ce.NL)("complement_adresse", null === (Ne = L.adresse) || void 0 === Ne ? void 0 : Ne.complement_adresse)), {code_postal: L.adresse.code_postal}), (0, Ce.NL)("code_insee", null === (tt = L.adresse) || void 0 === tt ? void 0 : tt.code_insee)), {
                    commune: L.adresse.commune,
                    date_maj: L.date_maj,
                    services: L.services,
                    latitude: L.localisation.latitude,
                    longitude: L.localisation.longitude
                }), (0, Ce.NL)("typologies", L.typologies)), (0, Ce.NL)("telephone", null === (tn = L.contact) || void 0 === tn ? void 0 : tn.telephone)), (0, Ce.NL)("courriel", null === (Wn = L.contact) || void 0 === Wn ? void 0 : Wn.courriel)), (0, Ce.NL)("site_web", null === (Pr = null === (Vr = L.contact) || void 0 === Vr ? void 0 : Vr.site_web) || void 0 === Pr ? void 0 : Pr[0])), (0, Ce.NL)("prise_rdv", L.prise_rdv)), (0, Ce.NL)("labels_nationaux", L.labels_nationaux)), (0, Ce.NL)("labels_autres", L.labels_autres)), (0, Ce.NL)("accessibilite", L.accessibilite)), (0, Ce.NL)("modalites_accompagnement", L.modalites_accompagnement)), (0, Ce.NL)("publics_accueillis", L.publics_accueillis)), (0, Ce.NL)("conditions_acces", L.conditions_acces)), (0, Ce.NL)("horaires", L.horaires)), (0, Ce.NL)("distance", ((L, ne) => null == L.localisation || ne === Bt.nL ? void 0 : Ut(L.localisation, ne))(L, ne))), (0, Ce.NL)("source", L.source))
            })(tn, ne)).filter(((L, ne) => Ne => Object.keys(L).reduce((tt, tn) => tt && ((L, ne, Ne = {}, tt) => !tt || tt(L, Ne, ne))(Ne, ne, L, Ft.get(tn)), !0))(Ne, tt)),
            pr = (L, ne) => {
                var Ne, tt;
                return (null !== (Ne = L?.distance) && void 0 !== Ne ? Ne : 0) - (null !== (tt = ne?.distance) && void 0 !== tt ? tt : 0)
            };
        var br = D(9646), Ln = D(9841), rr = D(8372), Ir = D(4004);
        const X = 300,
            te = (L, ne) => !!L.typologies && L.typologies.toString().split(",").map(tt => tt.trim()).every(tt => {
                const tn = Ye[tt];
                return tn && tn.type === ne
            }), Ze = (L, ne) => !!L.typologies && L.typologies.toString().split(",").map(tt => tt.trim()).every(tt => {
                const tn = Ye[tt];
                return tn && "publique" === tn.type && tn.subtype === ne
            }), ft = (L, ne) => `${(L / ne * 100).toFixed(0)} %`, Jt = ({
                                                                            id: L,
                                                                            adresse: ne,
                                                                            nom: Ne,
                                                                            localisation: tt
                                                                        }) => ({
                context: `${ne.voie} ${ne.code_postal}, ${ne.commune}`,
                label: Ne,
                payload: {id: L, type: "place"},
                localisation: tt
            }),
            Ct = L => ne => `${ne.adresse.voie} ${ne.adresse.commune}`.toLowerCase().includes(L.toLowerCase()) && null != ne.localisation;

        class bt {
            constructor(ne) {
                this.lieuxMediationNumeriqueRepository = ne, this.lieuxMediationNumerique$ = this.lieuxMediationNumeriqueRepository.getAll$()
            }

            lieuxMediationNumeriqueByDistance$(ne, Ne = (0, br.of)({}), tt = new Date, tn = (0, br.of)([Bt.nL, Bt.nL]), Wn = (0, br.of)(9)) {
                return (0, Ln.a)([tn, this.lieuxMediationNumerique$, ne, Ne, Wn]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([ne, Ne, tt, tn, Wn]) => Wn < (tn.distance && tn.distance >= 5e4 && tn.distance <= 1e5 ? 8 : 9) ? [] : cr(Ne.filter((L => ({localisation: ne}) => !(([L, ne]) => L != Bt.nL && ne != Bt.nL)(L) || null != ne && ((L, [ne, Ne]) => L.latitude <= ne.latitude && L.longitude >= ne.longitude && L.latitude >= Ne.latitude && L.longitude <= Ne.longitude)(ne, L))(ne)), tt, tn, L).sort(pr))));
                var L
            }

            lieuxMediationNumeriqueByDepartement$(ne, Ne = (0, br.of)({}), tt = new Date) {
                return (0, Ln.a)([this.lieuxMediationNumerique$, ne, Ne]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([...ne]) => {
                    return {payload: (Ne = cr(...ne, L)).map(xe).filter(ye).reduce(We, []), lieuxCount: Ne.length};
                    var Ne
                })));
                var L
            }

            lieuxMediationNumeriqueByRegion$(ne, Ne = (0, br.of)({}), tt = new Date) {
                return (0, Ln.a)([this.lieuxMediationNumerique$, ne, Ne]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([...ne]) => {
                    return {payload: (Ne = cr(...ne, L)).map(Be).filter(ye).reduce(We, []), lieuxCount: Ne.length};
                    var Ne
                })));
                var L
            }

            lieuxMediationNumeriqueByTypologie$(ne, Ne = (0, br.of)({}), tt = new Date) {
                return (0, Ln.a)([this.lieuxMediationNumerique$, ne, Ne]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([...ne]) => {
                    const Ne = cr(...ne, L).filter(ye), tt = Ne.map(Br => te(Br, "association")).filter(Boolean).length,
                        tn = Ne.map(Br => te(Br, "privee")).filter(Boolean).length,
                        Wn = Ne.map(Br => te(Br, "publique")).filter(Boolean).length,
                        Vr = Ne.map(Br => Ze(Br, "commune")).filter(Boolean).length,
                        Pr = Ne.map(Br => Ze(Br, "epci")).filter(Boolean).length,
                        si = Ne.map(Br => Ze(Br, "departement")).filter(Boolean).length,
                        li = Ne.map(Br => Ze(Br, "autre")).filter(Boolean).length, or = Ne.length,
                        Hr = or - (tt + tn + Wn), ei = Wn - (Vr + Pr + si + li);
                    return [{
                        nom: "Public",
                        type: "publique",
                        lieuxCount: Wn,
                        lieuxPercentage: ft(Wn, or)
                    }, {
                        nom: "Commune",
                        type: "publique",
                        sousType: "commune",
                        lieuxCount: Vr,
                        lieuxPercentage: ft(Vr, Wn)
                    }, {
                        nom: "EPCI",
                        type: "publique",
                        sousType: "epci",
                        lieuxCount: Pr,
                        lieuxPercentage: ft(Pr, Wn)
                    }, {
                        nom: "Departement",
                        type: "publique",
                        sousType: "departement",
                        lieuxCount: si,
                        lieuxPercentage: ft(si, Wn)
                    }, {
                        nom: "Autre",
                        type: "publique",
                        sousType: "autre",
                        lieuxCount: li,
                        lieuxPercentage: ft(li, Wn)
                    }, {
                        nom: "Non D\xe9fini",
                        type: "publique",
                        sousType: "non d\xe9fini",
                        lieuxCount: ei,
                        lieuxPercentage: ft(ei, Wn)
                    }, {
                        nom: "Associations",
                        lieuxCount: tt,
                        lieuxPercentage: ft(tt, or)
                    }, {
                        nom: "Autre acteurs priv\xe9s",
                        lieuxCount: tn,
                        lieuxPercentage: ft(tn, or)
                    }, {nom: "Non d\xe9fini", lieuxCount: Hr, lieuxPercentage: ft(Hr, or)}]
                })));
                var L
            }

            lieuxMediationNumeriqueByLabelsNationaux$(ne, Ne = (0, br.of)({}), tt = new Date) {
                return (0, Ln.a)([this.lieuxMediationNumerique$, ne, Ne]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([...ne]) => {
                    const Ne = cr(...ne, L).filter(ye), tt = Ne.reduce((tn, Wn) => {
                        var Vr, Pr;
                        const si = null === (Vr = Wn.labels_nationaux) || void 0 === Vr ? void 0 : Vr.toString().split(",").map(or => or.trim()),
                            li = null === (Pr = Wn.labels_autres) || void 0 === Pr ? void 0 : Pr.toString().split(",").map(or => or.trim());
                        return si?.some(or => {
                            if (!or) return;
                            const Hr = tn.find(ei => or?.includes(ei.nom));
                            Hr ? Hr.lieuxCount = (Hr.lieuxCount || 0) + 1 : tn.push({nom: or, lieuxCount: 1})
                        }), li?.filter(or => or.includes("QPV") || or.includes("ZRR")).some(or => {
                            if (!or) return;
                            const Hr = tn.find(ei => or === ei.nom);
                            Hr ? Hr.lieuxCount = (Hr.lieuxCount || 0) + 1 : tn.push({nom: or, lieuxCount: 1})
                        }), tn
                    }, []);
                    return tt.map(tn => {
                        tn.lieuxPercentage = ((tn.lieuxCount || 0) / Ne.length * 100).toFixed(0)
                    }), tt
                })));
                var L
            }

            lieuxMediationNumeriqueFrance$(ne, Ne = (0, br.of)({}), tt = new Date) {
                return (0, Ln.a)([this.lieuxMediationNumerique$, ne, Ne]).pipe((0, rr.b)(X), (0, Ir.U)((L = tt, ([...ne]) => {
                    return {payload: (Ne = cr(...ne, L)).map(mt).filter(ye).reduce(We, []), lieuxCount: Ne.length};
                    var Ne
                })));
                var L
            }

            search$(ne, Ne = 5) {
                return this.lieuxMediationNumerique$.pipe((0, Ir.U)(tt => {
                    const tn = tt.filter((L = ne, ne => ne.nom.toLowerCase().includes(L.toLowerCase()) && null != ne.localisation)).slice(0, Ne).map(Jt);
                    var L;
                    return 5 === tn.length ? tn : ((L, ne, Ne) => [...L, ...ne.filter(Ct(Ne)).slice(0, 5 - L.length).map(Jt)])(tn, tt, ne)
                }))
            }
        }

        var nn = D(655), Vt = D(4650), hn = D(1135), Qt = D(3215);
        let Nr = class {
            constructor(ne, Ne) {
                this._zoomLevel = ne, this._initialPosition = Ne, this._localisation$ = new hn.X((0, At.tf)(this._initialPosition)), this.localisation$ = this._localisation$.asObservable(), this._zoom$ = new hn.X(this._zoomLevel.regular), this.zoom$ = this._zoom$.asObservable(), this._selected$ = new hn.X(""), this.selected$ = this._selected$.asObservable(), this._highlighted$ = new hn.X(""), this.highlighted$ = this._highlighted$.asObservable(), this._boundingBox$ = new hn.X([Bt.nL, Bt.nL]), this.boundingBox$ = this._boundingBox$.asObservable(), this._currentZoom = this._zoomLevel.regular
            }

            boundingBox(ne) {
                this._boundingBox$.next(ne)
            }

            center(ne, Ne = this._currentZoom) {
                setTimeout(() => {
                    this._localisation$.next(ne), this._zoom$.next(Ne), this._currentZoom = Ne
                })
            }

            select(ne) {
                this._selected$.next(ne)
            }

            highlight(ne) {
                this._highlighted$.next(ne)
            }

            reset() {
                this.center((0, At.tf)(this._initialPosition), this._zoomLevel.regular)
            }

            getZoom() {
                return this._currentZoom
            }
        };
        Nr = (0, nn.gn)([(0, nn.fM)(0, (0, Vt.tBr)(Qt.KN)), (0, nn.fM)(1, (0, Vt.tBr)(Qt.S7))], Nr)
    }, 3986: (Pe, he, D) => {
        "use strict";
        D.d(he, {y: () => a});

        class a {
        }
    }, 5864: (Pe, he, D) => {
        "use strict";
        D.d(he, {a: () => K});
        var a = D(7116), V = D(4650);
        let K = (() => {
            class k {
                static forRoot() {
                    return {ngModule: k, providers: [a.L]}
                }
            }

            return k.\u0275fac = function (de) {
                return new (de || k)
            }, k.\u0275mod = V.oAB({type: k}), k.\u0275inj = V.cJS({}), k
        })()
    }, 7116: (Pe, he, D) => {
        "use strict";
        D.d(he, {L: () => K});
        var a = D(1135);
        const V = new Map;

        class K {
            constructor() {
                this._skipLinks$ = new a.X([]), this.skipLinks$ = this._skipLinks$.asObservable()
            }

            set(ue, de) {
                V.set(ue, de), this._skipLinks$.next(Array.from(V.values()))
            }

            delete(ue) {
                V.delete(ue), this._skipLinks$.next(Array.from(V.values()))
            }
        }
    }, 2199: (Pe, he, D) => {
        "use strict";
        D.d(he, {NL: () => K});
        const K = (Se, me, ce) => null != me ? ((Se, me, ce) => ce ? ((Se, me) => null != Se ? {[me]: Se} : {})(ce(Se), me) : {[me]: Se})(me, Se, ce) : {};

        class ue extends Error {
            constructor(me, ce) {
                super(ce), this.key = me
            }
        }
    }, 3925: (Pe, he, D) => {
        "use strict";
        D.d(he, {P: () => k});
        var a = D(529), V = D(3215), K = D(4497);
        const k = [{provide: V.hh, useValue: V.$f}, {deps: [a.eN], provide: K.PA, useClass: K.t1}]
    }, 9796: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            ZV: () => k,
            F$: () => K,
            Pl: () => V,
            $f: () => de,
            hh: () => ue,
            o$: () => me,
            RD: () => Te,
            pU: () => Se,
            hc: () => Q,
            RS: () => ce,
            S7: () => Oe,
            X1: () => xe,
            Rh: () => mt,
            KN: () => Be
        });
        var a = D(4650);
        const V = new a.OlP("assets.configuration"),
            K = {path: "https://cdn.jsdelivr.net/npm/@gouvfr-anct/cartographie-nationale@5.13.0/assets"},
            k = {path: "/assets"}, ue = new a.OlP("brand.configuration"),
            de = {name: "Nationale", logo: "", illustration: "svg-france-et-outremer.svg"}, Te = {
                conseillers: "https://api.conseiller-numerique.gouv.fr/coordination-conseillers",
                coordinateurs: "https://api.conseiller-numerique.gouv.fr/coordinateurs"
            }, Se = new a.OlP("data.configuration"),
            me = {lieuxDeMediationNumerique: "https://www.data.gouv.fr/fr/datasets/r/bdfef095-f3a9-4e66-84bb-ea05d5c9c3a5"},
            ce = new a.OlP("features.configuration"),
            Q = new Map([["cartographie", {active: !0}], ["orientation", {active: !0}]]),
            Oe = new a.OlP("brand.configuration"), xe = {latitude: 46.471, longitude: 2.455},
            Be = new a.OlP("brand.configuration"), mt = {min: 3, regular: 5.5, userPosition: 13, max: 19}
    }, 3215: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            ZV: () => a.ZV,
            F$: () => a.F$,
            Pl: () => a.Pl,
            $f: () => a.$f,
            hh: () => a.hh,
            o$: () => a.o$,
            RD: () => a.RD,
            RS: () => a.RS,
            S7: () => a.S7,
            X1: () => a.X1,
            K3: () => K.K,
            Rh: () => a.Rh,
            KN: () => a.KN,
            it: () => V.i
        });
        var a = D(9796), V = D(2939), K = D(7332)
    }, 8344: (Pe, he, D) => {
        "use strict";
        D.d(he, {x: () => de});
        var a = D(529), V = D(9646), K = D(8505), k = D(3099), ue = D(4650);
        let de = (() => {
            class be {
                constructor() {
                    this.cache = new Map
                }

                intercept(Se, me) {
                    if ("GET" !== Se.method) return me.handle(Se);
                    Se.headers.get("reset") && this.cache.delete(Se.url);
                    const ce = this.cache.get(Se.url);
                    return ce ? (0, V.of)(ce.clone()) : me.handle(Se).pipe((0, K.b)(Q => {
                        Q instanceof a.Zn && this.cache.set(Se.url, Q.clone())
                    }), (0, k.B)())
                }
            }

            return be.\u0275fac = function (Se) {
                return new (Se || be)
            }, be.\u0275prov = ue.Yz7({token: be, factory: be.\u0275fac}), be
        })()
    }, 641: (Pe, he, D) => {
        "use strict";
        var a = D(1481), V = D(2107), K = D(9796), k = D(4650), ue = D(5532), de = D(6895), be = D(4931), Te = D(2084);
        const Se = ["navbarOffcanvas"];

        function me(re, Ve) {
        }

        const ce = function () {
            return ["."]
        };

        function Q(re, Ve) {
            if (1 & re) {
                const Ae = k.EpF();
                k.TgZ(0, "a", 20), k.NdJ("click", function () {
                    const Ut = k.CHM(Ae).$implicit, Dt = k.oxw();
                    return k.KtG(Dt.skipTo(Ut.fragment))
                }), k.YNc(1, me, 0, 0, "ng-template", 21), k.qZA()
            }
            if (2 & re) {
                const Ae = Ve.$implicit;
                k.Q6J("routerLink", k.DdM(4, ce))("relativeTo", Ae.route)("fragment", Ae.fragment), k.xp6(1), k.Q6J("ngTemplateOutlet", Ae.content)
            }
        }

        function Oe(re, Ve) {
            if (1 & re && k._UZ(0, "img", 22), 2 & re) {
                const Ae = k.oxw();
                k.Q6J("src", Ae.brandConfiguration.logoAvecTexte, k.LSH)("alt", "Accueil cartographie " + Ae.brandConfiguration.name)
            }
        }

        function xe(re, Ve) {
            if (1 & re && k._UZ(0, "img", 22), 2 & re) {
                const Ae = k.oxw(2);
                k.Q6J("src", Ae.brandConfiguration.logo, k.LSH)("alt", "Accueil cartographie " + Ae.brandConfiguration.name)
            }
        }

        function Be(re, Ve) {
            if (1 & re && k.YNc(0, xe, 1, 2, "img", 7), 2 & re) {
                const Ae = k.oxw(), rt = k.MAs(12);
                k.Q6J("ngIf", Ae.brandConfiguration.logo)("ngIfElse", rt)
            }
        }

        function mt(re, Ve) {
            if (1 & re && k._uU(0), 2 & re) {
                const Ae = k.oxw();
                k.hij("Cartographie ", Ae.brandConfiguration.name, "")
            }
        }

        const ye = [[["", "slot", "links"]], "*", [["", "slot", "footer"]]], Ue = function () {
            return ["/"]
        }, $e = function () {
            return ["/", "orientation"]
        }, yt = function () {
            return ["/", "cartographie"]
        }, We = ["[slot=links]", "*", "[slot=footer]"];
        let pe = (() => {
            class re {
                set logo(Ae) {
                    K.$f.logo = Ae
                }

                set titre(Ae) {
                    K.$f.name = Ae
                }

                constructor(Ae, rt, _t, Ut) {
                    this.brandConfiguration = Ae, this.skipLinkPresenter = rt, this.renderer = _t, this.elementRef = Ut
                }

                skipTo(Ae) {
                    const rt = this.elementRef.nativeElement.querySelector(`#${Ae}`);
                    rt && (this.renderer.setAttribute(rt, "tabindex", "-1"), rt.focus(), rt.scrollIntoView({
                        behavior: "smooth",
                        block: "start"
                    }), this.renderer.removeAttribute(rt, "tabindex"))
                }
            }

            return re.\u0275fac = function (Ae) {
                return new (Ae || re)(k.Y36(K.hh), k.Y36(ue.L9), k.Y36(k.Qsj), k.Y36(k.SBq))
            }, re.\u0275cmp = k.Xpm({
                type: re,
                selectors: [["app-conteneur"]],
                viewQuery: function (Ae, rt) {
                    if (1 & Ae && k.Gf(Se, 5), 2 & Ae) {
                        let _t;
                        k.iGM(_t = k.CRH()) && (rt.navbarOffcanvas = _t.first)
                    }
                },
                inputs: {logo: "logo", titre: "titre"},
                ngContentSelectors: We,
                decls: 36,
                vars: 33,
                consts: [[1, "vh-100", "d-flex", "flex-column", "flex-grow-1"], [1, "visually-hidden-focusable", "bg-light"], [1, "container-fluid"], ["class", "d-inline-flex p-2 m-1", "queryParamsHandling", "preserve", "spellcheck", "false", 3, "routerLink", "relativeTo", "fragment", "click", 4, "ngFor", "ngForOf"], [1, "navbar", "navbar-expand-lg", "bg-white", "d-print-none", "border-bottom", "z-index-over-base"], [1, "container-fluid", "mx-sm-3", "mx-0"], [1, "navbar-brand", 3, "routerLink"], ["height", "48", 3, "src", "alt", 4, "ngIf", "ngIfElse"], ["brandLogo", ""], ["brandName", ""], ["heading", "Menu principal", "className", "w-100 mt-lg-0 mt-navbar z-index-over", 3, "useHeader"], ["navbarOffcanvas", ""], [1, "offcanvas-body"], [1, "navbar-nav", "nav-underline", "ms-auto", "mb-2", "mb-lg-0"], [1, "nav-item"], ["queryParamsHandling", "preserve", "ariaCurrentWhenActive", "page", "routerLinkActive", "active", 1, "nav-link", "ms-4", "pb-0", "px-0", 3, "routerLink", "click"], ["type", "button", "aria-label", "Afficher le menu de navigation", 1, "navbar-toggler", "btn", "border-0", "py-2", "px-2", 3, "ngClass", "click"], ["aria-hidden", "true", 3, "ngClass"], [1, "d-flex", "flex-row", "flex-grow-1", "overflow-hidden", "h-100"], ["tabindex", "-1", 1, "col", "overflow-auto"], ["queryParamsHandling", "preserve", "spellcheck", "false", 1, "d-inline-flex", "p-2", "m-1", 3, "routerLink", "relativeTo", "fragment", "click"], [3, "ngTemplateOutlet"], ["height", "48", 3, "src", "alt"]],
                template: function (Ae, rt) {
                    if (1 & Ae) {
                        const _t = k.EpF();
                        k.F$t(ye), k.TgZ(0, "div", 0)(1, "div", 1)(2, "div", 2), k.YNc(3, Q, 2, 5, "a", 3), k.ALo(4, "async"), k.qZA()(), k.TgZ(5, "header", 4)(6, "div", 5)(7, "a", 6), k.YNc(8, Oe, 1, 2, "img", 7), k.YNc(9, Be, 1, 2, "ng-template", null, 8, k.W1O), k.YNc(11, mt, 1, 1, "ng-template", null, 9, k.W1O), k.qZA(), k.TgZ(13, "app-offcanvas", 10, 11)(15, "div", 12)(16, "ul", 13), k.Hsn(17), k.TgZ(18, "li", 14)(19, "a", 15), k.NdJ("click", function () {
                            k.CHM(_t);
                            const Dt = k.MAs(14);
                            return k.KtG(Dt.close())
                        }), k._uU(20, " Orienter un b\xe9n\xe9ficiaire "), k.qZA()(), k.TgZ(21, "li", 14)(22, "a", 15), k.NdJ("click", function () {
                            k.CHM(_t);
                            const Dt = k.MAs(14);
                            return k.KtG(Dt.close())
                        }), k._uU(23), k.ALo(24, "async"), k.qZA()()()()(), k.TgZ(25, "button", 16), k.NdJ("click", function (Dt) {
                            k.CHM(_t);
                            const At = k.MAs(14);
                            return k.KtG(At.toggle(Dt))
                        }), k.ALo(26, "async"), k.ALo(27, "async"), k.ALo(28, "async"), k.ALo(29, "async"), k._UZ(30, "i", 17), k.ALo(31, "async"), k.qZA()()(), k.TgZ(32, "div", 18)(33, "div", 19), k.Hsn(34, 1), k.Hsn(35, 2), k.qZA()()()
                    }
                    if (2 & Ae) {
                        const _t = k.MAs(10), Ut = k.MAs(14);
                        k.xp6(3), k.Q6J("ngForOf", k.lcZ(4, 16, rt.skipLinkPresenter.skipLinks$)), k.xp6(4), k.Q6J("routerLink", k.DdM(30, Ue)), k.xp6(1), k.Q6J("ngIf", rt.brandConfiguration.logoAvecTexte)("ngIfElse", _t), k.xp6(5), k.Q6J("useHeader", !1), k.xp6(6), k.Q6J("routerLink", k.DdM(31, $e)), k.xp6(3), k.Q6J("routerLink", k.DdM(32, yt)), k.xp6(1), k.hij(" ", k.lcZ(24, 18, Ut.expanded$) ? "Afficher les lieux" : "Afficher la carte", " "), k.xp6(2), k.ekj("collapsed", !1 === k.lcZ(26, 20, Ut.expanded$))("active", k.lcZ(27, 22, Ut.expanded$)), k.Q6J("ngClass", k.lcZ(28, 24, Ut.expanded$) ? "btn-primary" : "btn-link-light"), k.uIk("aria-expanded", k.lcZ(29, 26, Ut.expanded$))("aria-controls", Ut.id), k.xp6(5), k.Q6J("ngClass", k.lcZ(31, 28, Ut.expanded$) ? "ri-close-line" : "ri-menu-line")
                    }
                },
                dependencies: [de.mk, de.sg, de.O5, de.tP, be.rH, be.Od, Te.I, de.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), re
        })(), Qe = (() => {
            class re {
                set latitude(Ae) {
                    K.X1.latitude = parseFloat(Ae)
                }

                set longitude(Ae) {
                    K.X1.longitude = parseFloat(Ae)
                }

                set logo(Ae) {
                    K.$f.logo = Ae
                }

                set logoAvecText(Ae) {
                    K.$f.logoAvecTexte = Ae
                }

                set illustration(Ae) {
                    K.$f.illustration = `svg-${Ae}.svg`
                }

                set titre(Ae) {
                    K.$f.name = Ae
                }

                set sousTitre(Ae) {
                    K.$f.sousTitre = Ae
                }

                set source(Ae) {
                    K.o$.lieuxDeMediationNumerique = Ae
                }

                set zoom(Ae) {
                    K.Rh.regular = parseInt(Ae)
                }

                constructor(Ae) {
                    this.router = Ae
                }

                ngOnInit() {
                    this.router.initialNavigation()
                }
            }

            return re.\u0275fac = function (Ae) {
                return new (Ae || re)(k.Y36(be.F0))
            }, re.\u0275cmp = k.Xpm({
                type: re,
                selectors: [["ng-component"]],
                inputs: {
                    latitude: "latitude",
                    longitude: "longitude",
                    logo: "logo",
                    logoAvecText: "logoAvecText",
                    illustration: "illustration",
                    titre: "titre",
                    sousTitre: "sousTitre",
                    source: "source",
                    zoom: "zoom"
                },
                decls: 1,
                vars: 0,
                template: function (Ae, rt) {
                    1 & Ae && k._UZ(0, "router-outlet")
                },
                dependencies: [be.lC],
                encapsulation: 2,
                changeDetection: 0
            }), re
        })();
        var nt = D(529), Ke = D(8746), ge = D(6080), se = D(3925), Fe = D(2939);
        D(5864);
        let at = (() => {
            class re {
            }

            return re.\u0275fac = function (Ae) {
                return new (Ae || re)
            }, re.\u0275mod = k.oAB({type: re}), re.\u0275inj = k.cJS({
                providers: [...ge.L, ...se.P, ...Fe.i],
                imports: [Ke.PW, nt.JF, be.Bz, ue.Gz, ue.ap.forRoot(), Ke.PW]
            }), re
        })();
        var Ye = D(9671);
        const we = [{
            loadChildren: (re = (0, Ye.Z)(function* () {
                return (yield Promise.all([D.e("default-projects_client-application_src_features_core_components_collapse_collapse_component_-1d978e"), D.e("common"), D.e("projects_client-application_src_features_cartographie_index_ts")]).then(D.bind(D, 9806))).CartographieFeatureModule
            }), function () {
                return re.apply(this, arguments)
            }), path: "cartographie"
        }, {
            loadChildren: function () {
                var re = (0, Ye.Z)(function* () {
                    return (yield Promise.all([D.e("common"), D.e("projects_client-application_src_features_orientation_index_ts")]).then(D.bind(D, 591))).OrientationFeatureModule
                });
                return function () {
                    return re.apply(this, arguments)
                }
            }(), path: "orientation"
        }, {
            loadChildren: function () {
                var re = (0, Ye.Z)(function* () {
                    return (yield Promise.all([D.e("default-projects_client-application_src_features_core_components_collapse_collapse_component_-1d978e"), D.e("common"), D.e("projects_client-application_src_features_coordinateurs_index_ts")]).then(D.bind(D, 2642))).CoordinateursFeatureModule
                });
                return function () {
                    return re.apply(this, arguments)
                }
            }(), path: "coordinateurs"
        }];
        var re;
        let Re = (() => {
            class re {
            }

            return re.\u0275fac = function (Ae) {
                return new (Ae || re)
            }, re.\u0275mod = k.oAB({type: re}), re.\u0275inj = k.cJS({
                imports: [be.Bz.forRoot([...we, {
                    path: "**",
                    pathMatch: "full",
                    redirectTo: "cartographie"
                }]), be.Bz]
            }), re
        })(), De = (() => {
            class re {
                constructor(Ae) {
                    this.injector = Ae, customElements.define("fr-mediation-numerique-conteneur", (0, V.iD)(pe, {injector: Ae})), customElements.define("fr-mediation-numerique", (0, V.iD)(Qe, {injector: Ae}))
                }

                ngDoBootstrap() {
                }
            }

            return re.\u0275fac = function (Ae) {
                return new (Ae || re)(k.LFG(k.zs3))
            }, re.\u0275mod = k.oAB({type: re}), re.\u0275inj = k.cJS({
                providers: [{provide: K.Pl, useValue: K.F$}],
                imports: [Re, at]
            }), re
        })();
        a.q6().bootstrapModule(De).catch(re => console.error(re))
    }, 2939: (Pe, he, D) => {
        "use strict";
        D.d(he, {i: () => Ue});
        var a = D(529), V = D(3986), K = D(4004), k = D(5), ue = D(6286);
        const be = $e => Object.assign(Object.assign({}, (0, k.Gi)($e)), ($e => null == $e ? {} : {aidants: (0, ue.Oe)($e)})($e.aidants)),
            Te = $e => $e.map(be);
        var me = D(9796), ce = D(8344), Q = D(7332);
        const Oe = $e => null != $e, xe = $e => [$e.name, $e.sousTitre].filter(Oe).join(" ");
        var ye = D(1481);
        const Ue = [{provide: me.hh, useValue: me.$f}, {provide: me.RS, useValue: me.hc}, {
            provide: me.pU,
            useValue: me.o$
        }, {
            deps: [me.pU, a.eN], provide: V.y, useClass: class Se extends V.y {
                constructor(yt, We) {
                    super(), this.dataConfiguration = yt, this.httpClient = We
                }

                getAll$() {
                    return this.httpClient.get(this.dataConfiguration.lieuxDeMediationNumerique).pipe((0, K.U)(Te))
                }
            }
        }, {provide: a.TP, useClass: ce.x, multi: !0}, (0, Q.y)(($e, yt) => (We = []) => {
            yt.setTitle(($e => (yt = []) => [...yt, `Cartographie ${xe($e)}`].filter(Oe).join(" - "))($e)(We))
        }, [me.hh, ye.Dx])]
    }, 7332: (Pe, he, D) => {
        "use strict";
        D.d(he, {K: () => a, y: () => V});
        const a = Symbol("page.set-title.action"), V = (K, k = []) => ({provide: a, useFactory: K, deps: k})
    }, 6965: (Pe, he, D) => {
        "use strict";
        var a = D(8698), V = D(6690), K = D(9728), k = D(6115), ue = D(1655), de = D(4993), be = D(3808), Te = D(8416),
            Se = D(1589);

        function me(q) {
            return q && "object" == typeof q && "default" in q ? q : {default: q}
        }

        var ce = me(a), Q = me(V), Oe = me(K), xe = me(k), Be = me(ue), mt = me(de), ye = me(be), Ue = me(Te),
            $e = me(Se);

        function yt(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function We(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? yt(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : yt(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        var pe = {
            type: "logger", log: function ($) {
                this.output("log", $)
            }, warn: function ($) {
                this.output("warn", $)
            }, error: function ($) {
                this.output("error", $)
            }, output: function ($, G) {
                console && console[$] && console[$].apply(console, G)
            }
        }, nt = new (function () {
            function q($) {
                var G = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                Q.default(this, q), this.init($, G)
            }

            return Oe.default(q, [{
                key: "init", value: function (G) {
                    var O = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    this.prefix = O.prefix || "i18next:", this.logger = G || pe, this.options = O, this.debug = O.debug
                }
            }, {
                key: "setDebug", value: function (G) {
                    this.debug = G
                }
            }, {
                key: "log", value: function () {
                    for (var G = arguments.length, O = new Array(G), w = 0; w < G; w++) O[w] = arguments[w];
                    return this.forward(O, "log", "", !0)
                }
            }, {
                key: "warn", value: function () {
                    for (var G = arguments.length, O = new Array(G), w = 0; w < G; w++) O[w] = arguments[w];
                    return this.forward(O, "warn", "", !0)
                }
            }, {
                key: "error", value: function () {
                    for (var G = arguments.length, O = new Array(G), w = 0; w < G; w++) O[w] = arguments[w];
                    return this.forward(O, "error", "")
                }
            }, {
                key: "deprecate", value: function () {
                    for (var G = arguments.length, O = new Array(G), w = 0; w < G; w++) O[w] = arguments[w];
                    return this.forward(O, "warn", "WARNING DEPRECATED: ", !0)
                }
            }, {
                key: "forward", value: function (G, O, w, z) {
                    return z && !this.debug ? null : ("string" == typeof G[0] && (G[0] = "".concat(w).concat(this.prefix, " ").concat(G[0])), this.logger[O](G))
                }
            }, {
                key: "create", value: function (G) {
                    return new q(this.logger, We(We({}, {prefix: "".concat(this.prefix, ":").concat(G, ":")}), this.options))
                }
            }]), q
        }()), Ke = function () {
            function q() {
                Q.default(this, q), this.observers = {}
            }

            return Oe.default(q, [{
                key: "on", value: function (G, O) {
                    var w = this;
                    return G.split(" ").forEach(function (z) {
                        w.observers[z] = w.observers[z] || [], w.observers[z].push(O)
                    }), this
                }
            }, {
                key: "off", value: function (G, O) {
                    if (this.observers[G]) {
                        if (!O) return void delete this.observers[G];
                        this.observers[G] = this.observers[G].filter(function (w) {
                            return w !== O
                        })
                    }
                }
            }, {
                key: "emit", value: function (G) {
                    for (var O = arguments.length, w = new Array(O > 1 ? O - 1 : 0), z = 1; z < O; z++) w[z - 1] = arguments[z];
                    if (this.observers[G]) {
                        var A = [].concat(this.observers[G]);
                        A.forEach(function (P) {
                            P.apply(void 0, w)
                        })
                    }
                    if (this.observers["*"]) {
                        var R = [].concat(this.observers["*"]);
                        R.forEach(function (P) {
                            P.apply(P, [G].concat(w))
                        })
                    }
                }
            }]), q
        }();

        function ge() {
            var q, $, G = new Promise(function (O, w) {
                q = O, $ = w
            });
            return G.resolve = q, G.reject = $, G
        }

        function se(q) {
            return null == q ? "" : "" + q
        }

        function Fe(q, $, G) {
            q.forEach(function (O) {
                $[O] && (G[O] = $[O])
            })
        }

        function Ge(q, $, G) {
            function O(R) {
                return R && R.indexOf("###") > -1 ? R.replace(/###/g, ".") : R
            }

            function w() {
                return !q || "string" == typeof q
            }

            for (var z = "string" != typeof $ ? [].concat($) : $.split("."); z.length > 1;) {
                if (w()) return {};
                var A = O(z.shift());
                !q[A] && G && (q[A] = new G), q = Object.prototype.hasOwnProperty.call(q, A) ? q[A] : {}
            }
            return w() ? {} : {obj: q, k: O(z.shift())}
        }

        function at(q, $, G) {
            var O = Ge(q, $, Object);
            O.obj[O.k] = G
        }

        function we(q, $) {
            var G = Ge(q, $), O = G.obj;
            if (O) return O[G.k]
        }

        function Re(q, $, G) {
            var O = we(q, G);
            return void 0 !== O ? O : we($, G)
        }

        function De(q, $, G) {
            for (var O in $) "__proto__" !== O && "constructor" !== O && (O in q ? "string" == typeof q[O] || q[O] instanceof String || "string" == typeof $[O] || $[O] instanceof String ? G && (q[O] = $[O]) : De(q[O], $[O], G) : q[O] = $[O]);
            return q
        }

        function re(q) {
            return q.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
        }

        var Ve = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#x2F;"};

        function Ae(q) {
            return "string" == typeof q ? q.replace(/[&<>"'\/]/g, function ($) {
                return Ve[$]
            }) : q
        }

        var rt = typeof window < "u" && window.navigator && typeof window.navigator.userAgentData > "u" && window.navigator.userAgent && window.navigator.userAgent.indexOf("MSIE") > -1,
            _t = [" ", ",", "?", "!", ";"];

        function Dt(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function At(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? Dt(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : Dt(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        function Xt(q, $) {
            var G = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ".";
            if (q) {
                if (q[$]) return q[$];
                for (var O = $.split(G), w = q, z = 0; z < O.length; ++z) {
                    if (!w || "string" == typeof w[O[z]] && z + 1 < O.length) return;
                    if (void 0 === w[O[z]]) {
                        for (var A = 2, R = O.slice(z, z + A).join(G), P = w[R]; void 0 === P && O.length > z + A;) A++, P = w[R = O.slice(z, z + A).join(G)];
                        if (void 0 === P) return;
                        if (null === P) return null;
                        if ($.endsWith(R)) {
                            if ("string" == typeof P) return P;
                            if (R && "string" == typeof P[R]) return P[R]
                        }
                        var ae = O.slice(z + A).join(G);
                        return ae ? Xt(P, ae, G) : void 0
                    }
                    w = w[O[z]]
                }
                return w
            }
        }

        var Mn = function (q) {
            Be.default(G, q);
            var $ = function Bt(q) {
                var $ = function gt() {
                    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {
                        })), !0
                    } catch {
                        return !1
                    }
                }();
                return function () {
                    var w, O = ye.default(q);
                    if ($) {
                        var z = ye.default(this).constructor;
                        w = Reflect.construct(O, arguments, z)
                    } else w = O.apply(this, arguments);
                    return mt.default(this, w)
                }
            }(G);

            function G(O) {
                var w, z = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    ns: ["translation"],
                    defaultNS: "translation"
                };
                return Q.default(this, G), w = $.call(this), rt && Ke.call(xe.default(w)), w.data = O || {}, w.options = z, void 0 === w.options.keySeparator && (w.options.keySeparator = "."), void 0 === w.options.ignoreJSONStructure && (w.options.ignoreJSONStructure = !0), w
            }

            return Oe.default(G, [{
                key: "addNamespaces", value: function (w) {
                    this.options.ns.indexOf(w) < 0 && this.options.ns.push(w)
                }
            }, {
                key: "removeNamespaces", value: function (w) {
                    var z = this.options.ns.indexOf(w);
                    z > -1 && this.options.ns.splice(z, 1)
                }
            }, {
                key: "getResource", value: function (w, z, A) {
                    var R = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                        P = void 0 !== R.keySeparator ? R.keySeparator : this.options.keySeparator,
                        ae = void 0 !== R.ignoreJSONStructure ? R.ignoreJSONStructure : this.options.ignoreJSONStructure,
                        ve = [w, z];
                    A && "string" != typeof A && (ve = ve.concat(A)), A && "string" == typeof A && (ve = ve.concat(P ? A.split(P) : A)), w.indexOf(".") > -1 && (ve = w.split("."));
                    var J = we(this.data, ve);
                    return J || !ae || "string" != typeof A ? J : Xt(this.data && this.data[w] && this.data[w][z], A, P)
                }
            }, {
                key: "addResource", value: function (w, z, A, R) {
                    var P = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {silent: !1},
                        ae = this.options.keySeparator;
                    void 0 === ae && (ae = ".");
                    var ve = [w, z];
                    A && (ve = ve.concat(ae ? A.split(ae) : A)), w.indexOf(".") > -1 && (R = z, z = (ve = w.split("."))[1]), this.addNamespaces(z), at(this.data, ve, R), P.silent || this.emit("added", w, z, A, R)
                }
            }, {
                key: "addResources", value: function (w, z, A) {
                    var R = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {silent: !1};
                    for (var P in A) ("string" == typeof A[P] || "[object Array]" === Object.prototype.toString.apply(A[P])) && this.addResource(w, z, P, A[P], {silent: !0});
                    R.silent || this.emit("added", w, z, A)
                }
            }, {
                key: "addResourceBundle", value: function (w, z, A, R, P) {
                    var ae = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {silent: !1}, ve = [w, z];
                    w.indexOf(".") > -1 && (R = A, A = z, z = (ve = w.split("."))[1]), this.addNamespaces(z);
                    var J = we(this.data, ve) || {};
                    R ? De(J, A, P) : J = At(At({}, J), A), at(this.data, ve, J), ae.silent || this.emit("added", w, z, A)
                }
            }, {
                key: "removeResourceBundle", value: function (w, z) {
                    this.hasResourceBundle(w, z) && delete this.data[w][z], this.removeNamespaces(z), this.emit("removed", w, z)
                }
            }, {
                key: "hasResourceBundle", value: function (w, z) {
                    return void 0 !== this.getResource(w, z)
                }
            }, {
                key: "getResourceBundle", value: function (w, z) {
                    return z || (z = this.options.defaultNS), "v1" === this.options.compatibilityAPI ? At(At({}, {}), this.getResource(w, z)) : this.getResource(w, z)
                }
            }, {
                key: "getDataByLanguage", value: function (w) {
                    return this.data[w]
                }
            }, {
                key: "hasLanguageSomeTranslations", value: function (w) {
                    var z = this.getDataByLanguage(w);
                    return !!(z && Object.keys(z) || []).find(function (R) {
                        return z[R] && Object.keys(z[R]).length > 0
                    })
                }
            }, {
                key: "toJSON", value: function () {
                    return this.data
                }
            }]), G
        }(Ke), Hn = {
            processors: {}, addPostProcessor: function ($) {
                this.processors[$.name] = $
            }, handle: function ($, G, O, w, z) {
                var A = this;
                return $.forEach(function (R) {
                    A.processors[R] && (G = A.processors[R].process(G, O, w, z))
                }), G
            }
        };

        function Bn(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function zt(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? Bn(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : Bn(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        var xn = {}, _n = function (q) {
            Be.default(G, q);
            var $ = function An(q) {
                var $ = function lr() {
                    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {
                        })), !0
                    } catch {
                        return !1
                    }
                }();
                return function () {
                    var w, O = ye.default(q);
                    if ($) {
                        var z = ye.default(this).constructor;
                        w = Reflect.construct(O, arguments, z)
                    } else w = O.apply(this, arguments);
                    return mt.default(this, w)
                }
            }(G);

            function G(O) {
                var w, z = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return Q.default(this, G), w = $.call(this), rt && Ke.call(xe.default(w)), Fe(["resourceStore", "languageUtils", "pluralResolver", "interpolator", "backendConnector", "i18nFormat", "utils"], O, xe.default(w)), w.options = z, void 0 === w.options.keySeparator && (w.options.keySeparator = "."), w.logger = nt.create("translator"), w
            }

            return Oe.default(G, [{
                key: "changeLanguage", value: function (w) {
                    w && (this.language = w)
                }
            }, {
                key: "exists", value: function (w) {
                    var z = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {interpolation: {}};
                    if (null == w) return !1;
                    var A = this.resolve(w, z);
                    return A && void 0 !== A.res
                }
            }, {
                key: "extractFromKey", value: function (w, z) {
                    var A = void 0 !== z.nsSeparator ? z.nsSeparator : this.options.nsSeparator;
                    void 0 === A && (A = ":");
                    var R = void 0 !== z.keySeparator ? z.keySeparator : this.options.keySeparator,
                        P = z.ns || this.options.defaultNS || [], ae = A && w.indexOf(A) > -1,
                        ve = !(this.options.userDefinedKeySeparator || z.keySeparator || this.options.userDefinedNsSeparator || z.nsSeparator || function Ut(q, $, G) {
                            $ = $ || "", G = G || "";
                            var O = _t.filter(function (R) {
                                return $.indexOf(R) < 0 && G.indexOf(R) < 0
                            });
                            if (0 === O.length) return !0;
                            var w = new RegExp("(".concat(O.map(function (R) {
                                return "?" === R ? "\\?" : R
                            }).join("|"), ")")), z = !w.test(q);
                            if (!z) {
                                var A = q.indexOf(G);
                                A > 0 && !w.test(q.substring(0, A)) && (z = !0)
                            }
                            return z
                        }(w, A, R));
                    if (ae && !ve) {
                        var J = w.match(this.interpolator.nestingRegexp);
                        if (J && J.length > 0) return {key: w, namespaces: P};
                        var et = w.split(A);
                        (A !== R || A === R && this.options.ns.indexOf(et[0]) > -1) && (P = et.shift()), w = et.join(R)
                    }
                    return "string" == typeof P && (P = [P]), {key: w, namespaces: P}
                }
            }, {
                key: "translate", value: function (w, z, A) {
                    var R = this;
                    if ("object" !== ce.default(z) && this.options.overloadTranslationOptionHandler && (z = this.options.overloadTranslationOptionHandler(arguments)), z || (z = {}), null == w) return "";
                    Array.isArray(w) || (w = [String(w)]);
                    var P = void 0 !== z.returnDetails ? z.returnDetails : this.options.returnDetails,
                        ae = void 0 !== z.keySeparator ? z.keySeparator : this.options.keySeparator,
                        ve = this.extractFromKey(w[w.length - 1], z), J = ve.key, et = ve.namespaces,
                        vt = et[et.length - 1], Mt = z.lng || this.language,
                        Zt = z.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
                    if (Mt && "cimode" === Mt.toLowerCase()) {
                        if (Zt) {
                            var ln = z.nsSeparator || this.options.nsSeparator;
                            return P ? (kt.res = "".concat(vt).concat(ln).concat(J), kt) : "".concat(vt).concat(ln).concat(J)
                        }
                        return P ? (kt.res = J, kt) : J
                    }
                    var kt = this.resolve(w, z), Nt = kt && kt.res, zn = kt && kt.usedKey || J,
                        Rn = kt && kt.exactUsedKey || J, Er = Object.prototype.toString.apply(Nt),
                        Sr = ["[object Number]", "[object Function]", "[object RegExp]"],
                        wn = void 0 !== z.joinArrays ? z.joinArrays : this.options.joinArrays,
                        Zn = !this.i18nFormat || this.i18nFormat.handleAsObject,
                        ur = "string" != typeof Nt && "boolean" != typeof Nt && "number" != typeof Nt;
                    if (Zn && Nt && ur && Sr.indexOf(Er) < 0 && ("string" != typeof wn || "[object Array]" !== Er)) {
                        if (!z.returnObjects && !this.options.returnObjects) {
                            this.options.returnedObjectHandler || this.logger.warn("accessing an object - but returnObjects options is not enabled!");
                            var Mr = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(zn, Nt, zt(zt({}, z), {}, {ns: et})) : "key '".concat(J, " (").concat(this.language, ")' returned an object instead of string.");
                            return P ? (kt.res = Mr, kt) : Mr
                        }
                        if (ae) {
                            var dr = "[object Array]" === Er, vr = dr ? [] : {}, Ft = dr ? Rn : zn;
                            for (var en in Nt) if (Object.prototype.hasOwnProperty.call(Nt, en)) {
                                var ar = "".concat(Ft).concat(ae).concat(en);
                                vr[en] = this.translate(ar, zt(zt({}, z), {
                                    joinArrays: !1,
                                    ns: et
                                })), vr[en] === ar && (vr[en] = Nt[en])
                            }
                            Nt = vr
                        }
                    } else if (Zn && "string" == typeof wn && "[object Array]" === Er) (Nt = Nt.join(wn)) && (Nt = this.extendTranslation(Nt, w, z, A)); else {
                        var _r = !1, cr = !1, pr = void 0 !== z.count && "string" != typeof z.count,
                            br = G.hasDefaultValue(z), Ln = pr ? this.pluralResolver.getSuffix(Mt, z.count, z) : "",
                            rr = z["defaultValue".concat(Ln)] || z.defaultValue;
                        !this.isValidLookup(Nt) && br && (_r = !0, Nt = rr), this.isValidLookup(Nt) || (cr = !0, Nt = J);
                        var Ir = z.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey,
                            dn = Ir && cr ? void 0 : Nt, Or = br && rr !== Nt && this.options.updateMissing;
                        if (cr || _r || Or) {
                            if (this.logger.log(Or ? "updateKey" : "missingKey", Mt, vt, J, Or ? rr : Nt), ae) {
                                var v = this.resolve(J, zt(zt({}, z), {}, {keySeparator: !1}));
                                v && v.res && this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")
                            }
                            var x = [],
                                X = this.languageUtils.getFallbackCodes(this.options.fallbackLng, z.lng || this.language);
                            if ("fallback" === this.options.saveMissingTo && X && X[0]) for (var ie = 0; ie < X.length; ie++) x.push(X[ie]); else "all" === this.options.saveMissingTo ? x = this.languageUtils.toResolveHierarchy(z.lng || this.language) : x.push(z.lng || this.language);
                            var Z = function (te, Ze, ft) {
                                var lt = br && ft !== Nt ? ft : dn;
                                R.options.missingKeyHandler ? R.options.missingKeyHandler(te, vt, Ze, lt, Or, z) : R.backendConnector && R.backendConnector.saveMissing && R.backendConnector.saveMissing(te, vt, Ze, lt, Or, z), R.emit("missingKey", te, vt, Ze, Nt)
                            };
                            this.options.saveMissing && (this.options.saveMissingPlurals && pr ? x.forEach(function (Le) {
                                R.pluralResolver.getSuffixes(Le, z).forEach(function (te) {
                                    Z([Le], J + te, z["defaultValue".concat(te)] || rr)
                                })
                            }) : Z(x, J, rr))
                        }
                        Nt = this.extendTranslation(Nt, w, z, kt, A), cr && Nt === J && this.options.appendNamespaceToMissingKey && (Nt = "".concat(vt, ":").concat(J)), (cr || _r) && this.options.parseMissingKeyHandler && (Nt = "v1" !== this.options.compatibilityAPI ? this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? "".concat(vt, ":").concat(J) : J, _r ? Nt : void 0) : this.options.parseMissingKeyHandler(Nt))
                    }
                    return P ? (kt.res = Nt, kt) : Nt
                }
            }, {
                key: "extendTranslation", value: function (w, z, A, R, P) {
                    var ae = this;
                    if (this.i18nFormat && this.i18nFormat.parse) w = this.i18nFormat.parse(w, zt(zt({}, this.options.interpolation.defaultVariables), A), R.usedLng, R.usedNS, R.usedKey, {resolved: R}); else if (!A.skipInterpolation) {
                        A.interpolation && this.interpolator.init(zt(zt({}, A), {interpolation: zt(zt({}, this.options.interpolation), A.interpolation)}));
                        var J,
                            ve = "string" == typeof w && (A && A.interpolation && void 0 !== A.interpolation.skipOnVariables ? A.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
                        if (ve) {
                            var et = w.match(this.interpolator.nestingRegexp);
                            J = et && et.length
                        }
                        var vt = A.replace && "string" != typeof A.replace ? A.replace : A;
                        if (this.options.interpolation.defaultVariables && (vt = zt(zt({}, this.options.interpolation.defaultVariables), vt)), w = this.interpolator.interpolate(w, vt, A.lng || this.language, A), ve) {
                            var Mt = w.match(this.interpolator.nestingRegexp);
                            J < (Mt && Mt.length) && (A.nest = !1)
                        }
                        !1 !== A.nest && (w = this.interpolator.nest(w, function () {
                            for (var Nt = arguments.length, zn = new Array(Nt), Rn = 0; Rn < Nt; Rn++) zn[Rn] = arguments[Rn];
                            return P && P[0] === zn[0] && !A.context ? (ae.logger.warn("It seems you are nesting recursively key: ".concat(zn[0], " in key: ").concat(z[0])), null) : ae.translate.apply(ae, zn.concat([z]))
                        }, A)), A.interpolation && this.interpolator.reset()
                    }
                    var ln = A.postProcess || this.options.postProcess, kt = "string" == typeof ln ? [ln] : ln;
                    return null != w && kt && kt.length && !1 !== A.applyPostProcessor && (w = Hn.handle(kt, w, z, this.options && this.options.postProcessPassResolved ? zt({i18nResolved: R}, A) : A, this)), w
                }
            }, {
                key: "resolve", value: function (w) {
                    var R, P, ae, ve, J, z = this,
                        A = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return "string" == typeof w && (w = [w]), w.forEach(function (et) {
                        if (!z.isValidLookup(R)) {
                            var vt = z.extractFromKey(et, A), Mt = vt.key;
                            P = Mt;
                            var Zt = vt.namespaces;
                            z.options.fallbackNS && (Zt = Zt.concat(z.options.fallbackNS));
                            var ln = void 0 !== A.count && "string" != typeof A.count,
                                kt = ln && !A.ordinal && 0 === A.count && z.pluralResolver.shouldUseIntlApi(),
                                Nt = void 0 !== A.context && ("string" == typeof A.context || "number" == typeof A.context) && "" !== A.context,
                                zn = A.lngs ? A.lngs : z.languageUtils.toResolveHierarchy(A.lng || z.language, A.fallbackLng);
                            Zt.forEach(function (Rn) {
                                z.isValidLookup(R) || (J = Rn, !xn["".concat(zn[0], "-").concat(Rn)] && z.utils && z.utils.hasLoadedNamespace && !z.utils.hasLoadedNamespace(J) && (xn["".concat(zn[0], "-").concat(Rn)] = !0, z.logger.warn('key "'.concat(P, '" for languages "').concat(zn.join(", "), '" won\'t get resolved as namespace "').concat(J, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")), zn.forEach(function (Er) {
                                    if (!z.isValidLookup(R)) {
                                        ve = Er;
                                        var Mr, Sr = [Mt];
                                        if (z.i18nFormat && z.i18nFormat.addLookupKeys) z.i18nFormat.addLookupKeys(Sr, Mt, Er, Rn, A); else {
                                            var wn;
                                            ln && (wn = z.pluralResolver.getSuffix(Er, A.count, A));
                                            var Zn = "".concat(z.options.pluralSeparator, "zero");
                                            if (ln && (Sr.push(Mt + wn), kt && Sr.push(Mt + Zn)), Nt) {
                                                var ur = "".concat(Mt).concat(z.options.contextSeparator).concat(A.context);
                                                Sr.push(ur), ln && (Sr.push(ur + wn), kt && Sr.push(ur + Zn))
                                            }
                                        }
                                        for (; Mr = Sr.pop();) z.isValidLookup(R) || (ae = Mr, R = z.getResource(Er, Rn, Mr, A))
                                    }
                                }))
                            })
                        }
                    }), {res: R, usedKey: P, exactUsedKey: ae, usedLng: ve, usedNS: J}
                }
            }, {
                key: "isValidLookup", value: function (w) {
                    return !(void 0 === w || !this.options.returnNull && null === w || !this.options.returnEmptyString && "" === w)
                }
            }, {
                key: "getResource", value: function (w, z, A) {
                    var R = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                    return this.i18nFormat && this.i18nFormat.getResource ? this.i18nFormat.getResource(w, z, A, R) : this.resourceStore.getResource(w, z, A, R)
                }
            }], [{
                key: "hasDefaultValue", value: function (w) {
                    var z = "defaultValue";
                    for (var A in w) if (Object.prototype.hasOwnProperty.call(w, A) && z === A.substring(0, z.length) && void 0 !== w[A]) return !0;
                    return !1
                }
            }]), G
        }(Ke);

        function gn(q) {
            return q.charAt(0).toUpperCase() + q.slice(1)
        }

        var cn = function () {
            function q($) {
                Q.default(this, q), this.options = $, this.supportedLngs = this.options.supportedLngs || !1, this.logger = nt.create("languageUtils")
            }

            return Oe.default(q, [{
                key: "getScriptPartFromCode", value: function (G) {
                    if (!G || G.indexOf("-") < 0) return null;
                    var O = G.split("-");
                    return 2 === O.length || (O.pop(), "x" === O[O.length - 1].toLowerCase()) ? null : this.formatLanguageCode(O.join("-"))
                }
            }, {
                key: "getLanguagePartFromCode", value: function (G) {
                    if (!G || G.indexOf("-") < 0) return G;
                    var O = G.split("-");
                    return this.formatLanguageCode(O[0])
                }
            }, {
                key: "formatLanguageCode", value: function (G) {
                    if ("string" == typeof G && G.indexOf("-") > -1) {
                        var O = ["hans", "hant", "latn", "cyrl", "cans", "mong", "arab"], w = G.split("-");
                        return this.options.lowerCaseLng ? w = w.map(function (z) {
                            return z.toLowerCase()
                        }) : 2 === w.length ? (w[0] = w[0].toLowerCase(), w[1] = w[1].toUpperCase(), O.indexOf(w[1].toLowerCase()) > -1 && (w[1] = gn(w[1].toLowerCase()))) : 3 === w.length && (w[0] = w[0].toLowerCase(), 2 === w[1].length && (w[1] = w[1].toUpperCase()), "sgn" !== w[0] && 2 === w[2].length && (w[2] = w[2].toUpperCase()), O.indexOf(w[1].toLowerCase()) > -1 && (w[1] = gn(w[1].toLowerCase())), O.indexOf(w[2].toLowerCase()) > -1 && (w[2] = gn(w[2].toLowerCase()))), w.join("-")
                    }
                    return this.options.cleanCode || this.options.lowerCaseLng ? G.toLowerCase() : G
                }
            }, {
                key: "isSupportedCode", value: function (G) {
                    return ("languageOnly" === this.options.load || this.options.nonExplicitSupportedLngs) && (G = this.getLanguagePartFromCode(G)), !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(G) > -1
                }
            }, {
                key: "getBestMatchFromCodes", value: function (G) {
                    var w, O = this;
                    return G ? (G.forEach(function (z) {
                        if (!w) {
                            var A = O.formatLanguageCode(z);
                            (!O.options.supportedLngs || O.isSupportedCode(A)) && (w = A)
                        }
                    }), !w && this.options.supportedLngs && G.forEach(function (z) {
                        if (!w) {
                            var A = O.getLanguagePartFromCode(z);
                            if (O.isSupportedCode(A)) return w = A;
                            w = O.options.supportedLngs.find(function (R) {
                                if (0 === R.indexOf(A)) return R
                            })
                        }
                    }), w || (w = this.getFallbackCodes(this.options.fallbackLng)[0]), w) : null
                }
            }, {
                key: "getFallbackCodes", value: function (G, O) {
                    if (!G) return [];
                    if ("function" == typeof G && (G = G(O)), "string" == typeof G && (G = [G]), "[object Array]" === Object.prototype.toString.apply(G)) return G;
                    if (!O) return G.default || [];
                    var w = G[O];
                    return w || (w = G[this.getScriptPartFromCode(O)]), w || (w = G[this.formatLanguageCode(O)]), w || (w = G[this.getLanguagePartFromCode(O)]), w || (w = G.default), w || []
                }
            }, {
                key: "toResolveHierarchy", value: function (G, O) {
                    var w = this, z = this.getFallbackCodes(O || this.options.fallbackLng || [], G), A = [],
                        R = function (ae) {
                            ae && (w.isSupportedCode(ae) ? A.push(ae) : w.logger.warn("rejecting language code not found in supportedLngs: ".concat(ae)))
                        };
                    return "string" == typeof G && G.indexOf("-") > -1 ? ("languageOnly" !== this.options.load && R(this.formatLanguageCode(G)), "languageOnly" !== this.options.load && "currentOnly" !== this.options.load && R(this.getScriptPartFromCode(G)), "currentOnly" !== this.options.load && R(this.getLanguagePartFromCode(G))) : "string" == typeof G && R(this.formatLanguageCode(G)), z.forEach(function (P) {
                        A.indexOf(P) < 0 && R(w.formatLanguageCode(P))
                    }), A
                }
            }]), q
        }(), Gt = [{
            lngs: ["ach", "ak", "am", "arn", "br", "fil", "gun", "ln", "mfe", "mg", "mi", "oc", "pt", "pt-BR", "tg", "tl", "ti", "tr", "uz", "wa"],
            nr: [1, 2],
            fc: 1
        }, {
            lngs: ["af", "an", "ast", "az", "bg", "bn", "ca", "da", "de", "dev", "el", "en", "eo", "es", "et", "eu", "fi", "fo", "fur", "fy", "gl", "gu", "ha", "hi", "hu", "hy", "ia", "it", "kk", "kn", "ku", "lb", "mai", "ml", "mn", "mr", "nah", "nap", "nb", "ne", "nl", "nn", "no", "nso", "pa", "pap", "pms", "ps", "pt-PT", "rm", "sco", "se", "si", "so", "son", "sq", "sv", "sw", "ta", "te", "tk", "ur", "yo"],
            nr: [1, 2],
            fc: 2
        }, {
            lngs: ["ay", "bo", "cgg", "fa", "ht", "id", "ja", "jbo", "ka", "km", "ko", "ky", "lo", "ms", "sah", "su", "th", "tt", "ug", "vi", "wo", "zh"],
            nr: [1],
            fc: 3
        }, {lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"], nr: [1, 2, 5], fc: 4}, {
            lngs: ["ar"],
            nr: [0, 1, 2, 3, 11, 100],
            fc: 5
        }, {lngs: ["cs", "sk"], nr: [1, 2, 5], fc: 6}, {lngs: ["csb", "pl"], nr: [1, 2, 5], fc: 7}, {
            lngs: ["cy"],
            nr: [1, 2, 3, 8],
            fc: 8
        }, {lngs: ["fr"], nr: [1, 2], fc: 9}, {lngs: ["ga"], nr: [1, 2, 3, 7, 11], fc: 10}, {
            lngs: ["gd"],
            nr: [1, 2, 3, 20],
            fc: 11
        }, {lngs: ["is"], nr: [1, 2], fc: 12}, {lngs: ["jv"], nr: [0, 1], fc: 13}, {
            lngs: ["kw"],
            nr: [1, 2, 3, 4],
            fc: 14
        }, {lngs: ["lt"], nr: [1, 2, 10], fc: 15}, {lngs: ["lv"], nr: [1, 2, 0], fc: 16}, {
            lngs: ["mk"],
            nr: [1, 2],
            fc: 17
        }, {lngs: ["mnk"], nr: [0, 1, 2], fc: 18}, {lngs: ["mt"], nr: [1, 2, 11, 20], fc: 19}, {
            lngs: ["or"],
            nr: [2, 1],
            fc: 2
        }, {lngs: ["ro"], nr: [1, 2, 20], fc: 20}, {lngs: ["sl"], nr: [5, 1, 2, 3], fc: 21}, {
            lngs: ["he", "iw"],
            nr: [1, 2, 20, 21],
            fc: 22
        }], nr = {
            1: function ($) {
                return Number($ > 1)
            }, 2: function ($) {
                return Number(1 != $)
            }, 3: function ($) {
                return 0
            }, 4: function ($) {
                return Number($ % 10 == 1 && $ % 100 != 11 ? 0 : $ % 10 >= 2 && $ % 10 <= 4 && ($ % 100 < 10 || $ % 100 >= 20) ? 1 : 2)
            }, 5: function ($) {
                return Number(0 == $ ? 0 : 1 == $ ? 1 : 2 == $ ? 2 : $ % 100 >= 3 && $ % 100 <= 10 ? 3 : $ % 100 >= 11 ? 4 : 5)
            }, 6: function ($) {
                return Number(1 == $ ? 0 : $ >= 2 && $ <= 4 ? 1 : 2)
            }, 7: function ($) {
                return Number(1 == $ ? 0 : $ % 10 >= 2 && $ % 10 <= 4 && ($ % 100 < 10 || $ % 100 >= 20) ? 1 : 2)
            }, 8: function ($) {
                return Number(1 == $ ? 0 : 2 == $ ? 1 : 8 != $ && 11 != $ ? 2 : 3)
            }, 9: function ($) {
                return Number($ >= 2)
            }, 10: function ($) {
                return Number(1 == $ ? 0 : 2 == $ ? 1 : $ < 7 ? 2 : $ < 11 ? 3 : 4)
            }, 11: function ($) {
                return Number(1 == $ || 11 == $ ? 0 : 2 == $ || 12 == $ ? 1 : $ > 2 && $ < 20 ? 2 : 3)
            }, 12: function ($) {
                return Number($ % 10 != 1 || $ % 100 == 11)
            }, 13: function ($) {
                return Number(0 !== $)
            }, 14: function ($) {
                return Number(1 == $ ? 0 : 2 == $ ? 1 : 3 == $ ? 2 : 3)
            }, 15: function ($) {
                return Number($ % 10 == 1 && $ % 100 != 11 ? 0 : $ % 10 >= 2 && ($ % 100 < 10 || $ % 100 >= 20) ? 1 : 2)
            }, 16: function ($) {
                return Number($ % 10 == 1 && $ % 100 != 11 ? 0 : 0 !== $ ? 1 : 2)
            }, 17: function ($) {
                return Number(1 == $ || $ % 10 == 1 && $ % 100 != 11 ? 0 : 1)
            }, 18: function ($) {
                return Number(0 == $ ? 0 : 1 == $ ? 1 : 2)
            }, 19: function ($) {
                return Number(1 == $ ? 0 : 0 == $ || $ % 100 > 1 && $ % 100 < 11 ? 1 : $ % 100 > 10 && $ % 100 < 20 ? 2 : 3)
            }, 20: function ($) {
                return Number(1 == $ ? 0 : 0 == $ || $ % 100 > 0 && $ % 100 < 20 ? 1 : 2)
            }, 21: function ($) {
                return Number($ % 100 == 1 ? 1 : $ % 100 == 2 ? 2 : $ % 100 == 3 || $ % 100 == 4 ? 3 : 0)
            }, 22: function ($) {
                return Number(1 == $ ? 0 : 2 == $ ? 1 : ($ < 0 || $ > 10) && $ % 10 == 0 ? 2 : 3)
            }
        }, dt = ["v1", "v2", "v3"], Nn = {zero: 0, one: 1, two: 2, few: 3, many: 4, other: 5};

        function hr() {
            var q = {};
            return Gt.forEach(function ($) {
                $.lngs.forEach(function (G) {
                    q[G] = {numbers: $.nr, plurals: nr[$.fc]}
                })
            }), q
        }

        var Tr = function () {
            function q($) {
                var G = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                Q.default(this, q), this.languageUtils = $, this.options = G, this.logger = nt.create("pluralResolver"), (!this.options.compatibilityJSON || "v4" === this.options.compatibilityJSON) && (typeof Intl > "u" || !Intl.PluralRules) && (this.options.compatibilityJSON = "v3", this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")), this.rules = hr()
            }

            return Oe.default(q, [{
                key: "addRule", value: function (G, O) {
                    this.rules[G] = O
                }
            }, {
                key: "getRule", value: function (G) {
                    var O = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (this.shouldUseIntlApi()) try {
                        return new Intl.PluralRules(G, {type: O.ordinal ? "ordinal" : "cardinal"})
                    } catch {
                        return
                    }
                    return this.rules[G] || this.rules[this.languageUtils.getLanguagePartFromCode(G)]
                }
            }, {
                key: "needsPlural", value: function (G) {
                    var O = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, w = this.getRule(G, O);
                    return this.shouldUseIntlApi() ? w && w.resolvedOptions().pluralCategories.length > 1 : w && w.numbers.length > 1
                }
            }, {
                key: "getPluralFormsOfKey", value: function (G, O) {
                    var w = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    return this.getSuffixes(G, w).map(function (z) {
                        return "".concat(O).concat(z)
                    })
                }
            }, {
                key: "getSuffixes", value: function (G) {
                    var O = this, w = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        z = this.getRule(G, w);
                    return z ? this.shouldUseIntlApi() ? z.resolvedOptions().pluralCategories.sort(function (A, R) {
                        return Nn[A] - Nn[R]
                    }).map(function (A) {
                        return "".concat(O.options.prepend).concat(A)
                    }) : z.numbers.map(function (A) {
                        return O.getSuffix(G, A, w)
                    }) : []
                }
            }, {
                key: "getSuffix", value: function (G, O) {
                    var w = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, z = this.getRule(G, w);
                    return z ? this.shouldUseIntlApi() ? "".concat(this.options.prepend).concat(z.select(O)) : this.getSuffixRetroCompatible(z, O) : (this.logger.warn("no plural rule found for: ".concat(G)), "")
                }
            }, {
                key: "getSuffixRetroCompatible", value: function (G, O) {
                    var w = this, z = G.plurals(G.noAbs ? O : Math.abs(O)), A = G.numbers[z];
                    this.options.simplifyPluralSuffix && 2 === G.numbers.length && 1 === G.numbers[0] && (2 === A ? A = "plural" : 1 === A && (A = ""));
                    var R = function () {
                        return w.options.prepend && A.toString() ? w.options.prepend + A.toString() : A.toString()
                    };
                    return "v1" === this.options.compatibilityJSON ? 1 === A ? "" : "number" == typeof A ? "_plural_".concat(A.toString()) : R() : "v2" === this.options.compatibilityJSON || this.options.simplifyPluralSuffix && 2 === G.numbers.length && 1 === G.numbers[0] ? R() : this.options.prepend && z.toString() ? this.options.prepend + z.toString() : z.toString()
                }
            }, {
                key: "shouldUseIntlApi", value: function () {
                    return !dt.includes(this.options.compatibilityJSON)
                }
            }]), q
        }();

        function sn(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function $t(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? sn(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : sn(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        var Lt = function () {
            function q() {
                var $ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                Q.default(this, q), this.logger = nt.create("interpolator"), this.options = $, this.format = $.interpolation && $.interpolation.format || function (G) {
                    return G
                }, this.init($)
            }

            return Oe.default(q, [{
                key: "init", value: function () {
                    var G = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    G.interpolation || (G.interpolation = {escapeValue: !0});
                    var O = G.interpolation;
                    this.escape = void 0 !== O.escape ? O.escape : Ae, this.escapeValue = void 0 === O.escapeValue || O.escapeValue, this.useRawValueToEscape = void 0 !== O.useRawValueToEscape && O.useRawValueToEscape, this.prefix = O.prefix ? re(O.prefix) : O.prefixEscaped || "{{", this.suffix = O.suffix ? re(O.suffix) : O.suffixEscaped || "}}", this.formatSeparator = O.formatSeparator ? O.formatSeparator : O.formatSeparator || ",", this.unescapePrefix = O.unescapeSuffix ? "" : O.unescapePrefix || "-", this.unescapeSuffix = this.unescapePrefix ? "" : O.unescapeSuffix || "", this.nestingPrefix = O.nestingPrefix ? re(O.nestingPrefix) : O.nestingPrefixEscaped || re("$t("), this.nestingSuffix = O.nestingSuffix ? re(O.nestingSuffix) : O.nestingSuffixEscaped || re(")"), this.nestingOptionsSeparator = O.nestingOptionsSeparator ? O.nestingOptionsSeparator : O.nestingOptionsSeparator || ",", this.maxReplaces = O.maxReplaces ? O.maxReplaces : 1e3, this.alwaysFormat = void 0 !== O.alwaysFormat && O.alwaysFormat, this.resetRegExp()
                }
            }, {
                key: "reset", value: function () {
                    this.options && this.init(this.options)
                }
            }, {
                key: "resetRegExp", value: function () {
                    var G = "".concat(this.prefix, "(.+?)").concat(this.suffix);
                    this.regexp = new RegExp(G, "g");
                    var O = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
                    this.regexpUnescape = new RegExp(O, "g");
                    var w = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
                    this.nestingRegexp = new RegExp(w, "g")
                }
            }, {
                key: "interpolate", value: function (G, O, w, z) {
                    var R, P, ae, A = this,
                        ve = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

                    function J(ln) {
                        return ln.replace(/\$/g, "$$$$")
                    }

                    var et = function (kt) {
                        if (kt.indexOf(A.formatSeparator) < 0) {
                            var Nt = Re(O, ve, kt);
                            return A.alwaysFormat ? A.format(Nt, void 0, w, $t($t($t({}, z), O), {}, {interpolationkey: kt})) : Nt
                        }
                        var zn = kt.split(A.formatSeparator), Rn = zn.shift().trim(),
                            Er = zn.join(A.formatSeparator).trim();
                        return A.format(Re(O, ve, Rn), Er, w, $t($t($t({}, z), O), {}, {interpolationkey: Rn}))
                    };
                    this.resetRegExp();
                    var vt = z && z.missingInterpolationHandler || this.options.missingInterpolationHandler,
                        Mt = z && z.interpolation && void 0 !== z.interpolation.skipOnVariables ? z.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
                    return [{
                        regex: this.regexpUnescape, safeValue: function (kt) {
                            return J(kt)
                        }
                    }, {
                        regex: this.regexp, safeValue: function (kt) {
                            return J(A.escapeValue ? A.escape(kt) : kt)
                        }
                    }].forEach(function (ln) {
                        for (ae = 0; R = ln.regex.exec(G);) {
                            var kt = R[1].trim();
                            if (void 0 === (P = et(kt))) if ("function" == typeof vt) {
                                var Nt = vt(G, R, z);
                                P = "string" == typeof Nt ? Nt : ""
                            } else if (z && z.hasOwnProperty(kt)) P = ""; else {
                                if (Mt) {
                                    P = R[0];
                                    continue
                                }
                                A.logger.warn("missed to pass in variable ".concat(kt, " for interpolating ").concat(G)), P = ""
                            } else "string" != typeof P && !A.useRawValueToEscape && (P = se(P));
                            var zn = ln.safeValue(P);
                            if (G = G.replace(R[0], zn), Mt ? (ln.regex.lastIndex += P.length, ln.regex.lastIndex -= R[0].length) : ln.regex.lastIndex = 0, ++ae >= A.maxReplaces) break
                        }
                    }), G
                }
            }, {
                key: "nest", value: function (G, O) {
                    var A, R, w = this, z = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        P = $t({}, z);

                    function ae(vt, Mt) {
                        var Zt = this.nestingOptionsSeparator;
                        if (vt.indexOf(Zt) < 0) return vt;
                        var ln = vt.split(new RegExp("".concat(Zt, "[ ]*{"))), kt = "{".concat(ln[1]);
                        vt = ln[0], kt = (kt = this.interpolate(kt, P)).replace(/'/g, '"');
                        try {
                            P = JSON.parse(kt), Mt && (P = $t($t({}, Mt), P))
                        } catch (Nt) {
                            return this.logger.warn("failed parsing options string in nesting for key ".concat(vt), Nt), "".concat(vt).concat(Zt).concat(kt)
                        }
                        return delete P.defaultValue, vt
                    }

                    for (P.applyPostProcessor = !1, delete P.defaultValue; A = this.nestingRegexp.exec(G);) {
                        var ve = [], J = !1;
                        if (-1 !== A[0].indexOf(this.formatSeparator) && !/{.*}/.test(A[1])) {
                            var et = A[1].split(this.formatSeparator).map(function (vt) {
                                return vt.trim()
                            });
                            A[1] = et.shift(), ve = et, J = !0
                        }
                        if ((R = O(ae.call(this, A[1].trim(), P), P)) && A[0] === G && "string" != typeof R) return R;
                        "string" != typeof R && (R = se(R)), R || (this.logger.warn("missed to resolve ".concat(A[1], " for nesting ").concat(G)), R = ""), J && (R = ve.reduce(function (vt, Mt) {
                            return w.format(vt, Mt, z.lng, $t($t({}, z), {}, {interpolationkey: A[1].trim()}))
                        }, R.trim())), G = G.replace(A[0], R), this.regexp.lastIndex = 0
                    }
                    return G
                }
            }]), q
        }();

        function Cr(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function In(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? Cr(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : Cr(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        var Tt = function () {
            function q() {
                var $ = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                Q.default(this, q), this.logger = nt.create("formatter"), this.options = $, this.formats = {
                    number: function (O, w, z) {
                        return new Intl.NumberFormat(w, z).format(O)
                    }, currency: function (O, w, z) {
                        return new Intl.NumberFormat(w, In(In({}, z), {}, {style: "currency"})).format(O)
                    }, datetime: function (O, w, z) {
                        return new Intl.DateTimeFormat(w, In({}, z)).format(O)
                    }, relativetime: function (O, w, z) {
                        return new Intl.RelativeTimeFormat(w, In({}, z)).format(O, z.range || "day")
                    }, list: function (O, w, z) {
                        return new Intl.ListFormat(w, In({}, z)).format(O)
                    }
                }, this.init($)
            }

            return Oe.default(q, [{
                key: "init", value: function (G) {
                    var O = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {interpolation: {}},
                        w = O.interpolation;
                    this.formatSeparator = w.formatSeparator ? w.formatSeparator : w.formatSeparator || ","
                }
            }, {
                key: "add", value: function (G, O) {
                    this.formats[G.toLowerCase().trim()] = O
                }
            }, {
                key: "format", value: function (G, O, w, z) {
                    var A = this, P = O.split(this.formatSeparator).reduce(function (ae, ve) {
                        var J = function Jn(q) {
                            var $ = q.toLowerCase().trim(), G = {};
                            if (q.indexOf("(") > -1) {
                                var O = q.split("(");
                                $ = O[0].toLowerCase().trim();
                                var w = O[1].substring(0, O[1].length - 1);
                                "currency" === $ && w.indexOf(":") < 0 ? G.currency || (G.currency = w.trim()) : "relativetime" === $ && w.indexOf(":") < 0 ? G.range || (G.range = w.trim()) : w.split(";").forEach(function (A) {
                                    if (A) {
                                        var R = A.split(":"), P = $e.default(R), ae = P[0],
                                            J = P.slice(1).join(":").trim().replace(/^'+|'+$/g, "");
                                        G[ae.trim()] || (G[ae.trim()] = J), "false" === J && (G[ae.trim()] = !1), "true" === J && (G[ae.trim()] = !0), isNaN(J) || (G[ae.trim()] = parseInt(J, 10))
                                    }
                                })
                            }
                            return {formatName: $, formatOptions: G}
                        }(ve), et = J.formatName, vt = J.formatOptions;
                        if (A.formats[et]) {
                            var Mt = ae;
                            try {
                                var Zt = z && z.formatParams && z.formatParams[z.interpolationkey] || {};
                                Mt = A.formats[et](ae, Zt.locale || Zt.lng || z.locale || z.lng || w, In(In(In({}, vt), z), Zt))
                            } catch (kt) {
                                A.logger.warn(kt)
                            }
                            return Mt
                        }
                        return A.logger.warn("there was no format function for ".concat(et)), ae
                    }, G);
                    return P
                }
            }]), q
        }();

        function Fn(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function Lr(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? Fn(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : Fn(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        var Xn = function (q) {
            Be.default(G, q);
            var $ = function $n(q) {
                var $ = function mr() {
                    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {
                        })), !0
                    } catch {
                        return !1
                    }
                }();
                return function () {
                    var w, O = ye.default(q);
                    if ($) {
                        var z = ye.default(this).constructor;
                        w = Reflect.construct(O, arguments, z)
                    } else w = O.apply(this, arguments);
                    return mt.default(this, w)
                }
            }(G);

            function G(O, w, z) {
                var A, R = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                return Q.default(this, G), A = $.call(this), rt && Ke.call(xe.default(A)), A.backend = O, A.store = w, A.services = z, A.languageUtils = z.languageUtils, A.options = R, A.logger = nt.create("backendConnector"), A.waitingReads = [], A.maxParallelReads = R.maxParallelReads || 10, A.readingCalls = 0, A.state = {}, A.queue = [], A.backend && A.backend.init && A.backend.init(z, R.backend, R), A
            }

            return Oe.default(G, [{
                key: "queueLoad", value: function (w, z, A, R) {
                    var P = this, ae = {}, ve = {}, J = {}, et = {};
                    return w.forEach(function (vt) {
                        var Mt = !0;
                        z.forEach(function (Zt) {
                            var ln = "".concat(vt, "|").concat(Zt);
                            !A.reload && P.store.hasResourceBundle(vt, Zt) ? P.state[ln] = 2 : P.state[ln] < 0 || (1 === P.state[ln] ? void 0 === ve[ln] && (ve[ln] = !0) : (P.state[ln] = 1, Mt = !1, void 0 === ve[ln] && (ve[ln] = !0), void 0 === ae[ln] && (ae[ln] = !0), void 0 === et[Zt] && (et[Zt] = !0)))
                        }), Mt || (J[vt] = !0)
                    }), (Object.keys(ae).length || Object.keys(ve).length) && this.queue.push({
                        pending: ve,
                        pendingCount: Object.keys(ve).length,
                        loaded: {},
                        errors: [],
                        callback: R
                    }), {
                        toLoad: Object.keys(ae),
                        pending: Object.keys(ve),
                        toLoadLanguages: Object.keys(J),
                        toLoadNamespaces: Object.keys(et)
                    }
                }
            }, {
                key: "loaded", value: function (w, z, A) {
                    var R = w.split("|"), P = R[0], ae = R[1];
                    z && this.emit("failedLoading", P, ae, z), A && this.store.addResourceBundle(P, ae, A), this.state[w] = z ? -1 : 2;
                    var ve = {};
                    this.queue.forEach(function (J) {
                        (function Ye(q, $, G, O) {
                            var w = Ge(q, $, Object), z = w.obj, A = w.k;
                            z[A] = z[A] || [], O && (z[A] = z[A].concat(G)), O || z[A].push(G)
                        })(J.loaded, [P], ae), function fn(q, $) {
                            void 0 !== q.pending[$] && (delete q.pending[$], q.pendingCount--)
                        }(J, w), z && J.errors.push(z), 0 === J.pendingCount && !J.done && (Object.keys(J.loaded).forEach(function (et) {
                            ve[et] || (ve[et] = {});
                            var vt = J.loaded[et];
                            vt.length && vt.forEach(function (Mt) {
                                void 0 === ve[et][Mt] && (ve[et][Mt] = !0)
                            })
                        }), J.done = !0, J.errors.length ? J.callback(J.errors) : J.callback())
                    }), this.emit("loaded", ve), this.queue = this.queue.filter(function (J) {
                        return !J.done
                    })
                }
            }, {
                key: "read", value: function (w, z, A) {
                    var R = this, P = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        ae = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 350,
                        ve = arguments.length > 5 ? arguments[5] : void 0;
                    return w.length ? this.readingCalls >= this.maxParallelReads ? void this.waitingReads.push({
                        lng: w,
                        ns: z,
                        fcName: A,
                        tried: P,
                        wait: ae,
                        callback: ve
                    }) : (this.readingCalls++, this.backend[A](w, z, function (J, et) {
                        if (J && et && P < 5) setTimeout(function () {
                            R.read.call(R, w, z, A, P + 1, 2 * ae, ve)
                        }, ae); else {
                            if (R.readingCalls--, R.waitingReads.length > 0) {
                                var vt = R.waitingReads.shift();
                                R.read(vt.lng, vt.ns, vt.fcName, vt.tried, vt.wait, vt.callback)
                            }
                            ve(J, et)
                        }
                    })) : ve(null, {})
                }
            }, {
                key: "prepareLoading", value: function (w, z) {
                    var A = this, R = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        P = arguments.length > 3 ? arguments[3] : void 0;
                    if (!this.backend) return this.logger.warn("No backend was added via i18next.use. Will not load resources."), P && P();
                    "string" == typeof w && (w = this.languageUtils.toResolveHierarchy(w)), "string" == typeof z && (z = [z]);
                    var ae = this.queueLoad(w, z, R, P);
                    if (!ae.toLoad.length) return ae.pending.length || P(), null;
                    ae.toLoad.forEach(function (ve) {
                        A.loadOne(ve)
                    })
                }
            }, {
                key: "load", value: function (w, z, A) {
                    this.prepareLoading(w, z, {}, A)
                }
            }, {
                key: "reload", value: function (w, z, A) {
                    this.prepareLoading(w, z, {reload: !0}, A)
                }
            }, {
                key: "loadOne", value: function (w) {
                    var z = this, A = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        R = w.split("|"), P = R[0], ae = R[1];
                    this.read(P, ae, "read", void 0, void 0, function (ve, J) {
                        ve && z.logger.warn("".concat(A, "loading namespace ").concat(ae, " for language ").concat(P, " failed"), ve), !ve && J && z.logger.log("".concat(A, "loaded namespace ").concat(ae, " for language ").concat(P), J), z.loaded(w, ve, J)
                    })
                }
            }, {
                key: "saveMissing", value: function (w, z, A, R, P) {
                    var ae = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {};
                    this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(z) ? this.logger.warn('did not save key "'.concat(A, '" as the namespace "').concat(z, '" was not yet loaded'), "This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!") : null == A || "" === A || (this.backend && this.backend.create && this.backend.create(w, z, A, R, null, Lr(Lr({}, ae), {}, {isUpdate: P})), w && w[0] && this.store.addResource(w[0], z, A, R))
                }
            }]), G
        }(Ke);

        function yn() {
            return {
                debug: !1,
                initImmediate: !0,
                ns: ["translation"],
                defaultNS: ["translation"],
                fallbackLng: ["dev"],
                fallbackNS: !1,
                supportedLngs: !1,
                nonExplicitSupportedLngs: !1,
                load: "all",
                preload: !1,
                simplifyPluralSuffix: !0,
                keySeparator: ".",
                nsSeparator: ":",
                pluralSeparator: "_",
                contextSeparator: "_",
                partialBundledLanguages: !1,
                saveMissing: !1,
                updateMissing: !1,
                saveMissingTo: "fallback",
                saveMissingPlurals: !0,
                missingKeyHandler: !1,
                missingInterpolationHandler: !1,
                postProcess: !1,
                postProcessPassResolved: !1,
                returnNull: !0,
                returnEmptyString: !0,
                returnObjects: !1,
                joinArrays: !1,
                returnedObjectHandler: !1,
                parseMissingKeyHandler: !1,
                appendNamespaceToMissingKey: !1,
                appendNamespaceToCIMode: !1,
                overloadTranslationOptionHandler: function ($) {
                    var G = {};
                    if ("object" === ce.default($[1]) && (G = $[1]), "string" == typeof $[1] && (G.defaultValue = $[1]), "string" == typeof $[2] && (G.tDescription = $[2]), "object" === ce.default($[2]) || "object" === ce.default($[3])) {
                        var O = $[3] || $[2];
                        Object.keys(O).forEach(function (w) {
                            G[w] = O[w]
                        })
                    }
                    return G
                },
                interpolation: {
                    escapeValue: !0,
                    format: function ($, G, O, w) {
                        return $
                    },
                    prefix: "{{",
                    suffix: "}}",
                    formatSeparator: ",",
                    unescapePrefix: "-",
                    nestingPrefix: "$t(",
                    nestingSuffix: ")",
                    nestingOptionsSeparator: ",",
                    maxReplaces: 1e3,
                    skipOnVariables: !0
                }
            }
        }

        function Yt(q) {
            return "string" == typeof q.ns && (q.ns = [q.ns]), "string" == typeof q.fallbackLng && (q.fallbackLng = [q.fallbackLng]), "string" == typeof q.fallbackNS && (q.fallbackNS = [q.fallbackNS]), q.supportedLngs && q.supportedLngs.indexOf("cimode") < 0 && (q.supportedLngs = q.supportedLngs.concat(["cimode"])), q
        }

        function Pt(q, $) {
            var G = Object.keys(q);
            if (Object.getOwnPropertySymbols) {
                var O = Object.getOwnPropertySymbols(q);
                $ && (O = O.filter(function (w) {
                    return Object.getOwnPropertyDescriptor(q, w).enumerable
                })), G.push.apply(G, O)
            }
            return G
        }

        function Ce(q) {
            for (var $ = 1; $ < arguments.length; $++) {
                var G = null != arguments[$] ? arguments[$] : {};
                $ % 2 ? Pt(Object(G), !0).forEach(function (O) {
                    Ue.default(q, O, G[O])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(G)) : Pt(Object(G)).forEach(function (O) {
                    Object.defineProperty(q, O, Object.getOwnPropertyDescriptor(G, O))
                })
            }
            return q
        }

        function Je() {
        }

        function st(q) {
            Object.getOwnPropertyNames(Object.getPrototypeOf(q)).forEach(function (G) {
                "function" == typeof q[G] && (q[G] = q[G].bind(q))
            })
        }

        var Et = function (q) {
            Be.default(G, q);
            var $ = function le(q) {
                var $ = function Ee() {
                    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {
                        })), !0
                    } catch {
                        return !1
                    }
                }();
                return function () {
                    var w, O = ye.default(q);
                    if ($) {
                        var z = ye.default(this).constructor;
                        w = Reflect.construct(O, arguments, z)
                    } else w = O.apply(this, arguments);
                    return mt.default(this, w)
                }
            }(G);

            function G() {
                var O, w = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    z = arguments.length > 1 ? arguments[1] : void 0;
                if (Q.default(this, G), O = $.call(this), rt && Ke.call(xe.default(O)), O.options = Yt(w), O.services = {}, O.logger = nt, O.modules = {external: []}, st(xe.default(O)), z && !O.isInitialized && !w.isClone) {
                    if (!O.options.initImmediate) return O.init(w, z), mt.default(O, xe.default(O));
                    setTimeout(function () {
                        O.init(w, z)
                    }, 0)
                }
                return O
            }

            return Oe.default(G, [{
                key: "init", value: function () {
                    var w = this, z = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        A = arguments.length > 1 ? arguments[1] : void 0;
                    "function" == typeof z && (A = z, z = {}), !z.defaultNS && z.ns && ("string" == typeof z.ns ? z.defaultNS = z.ns : z.ns.indexOf("translation") < 0 && (z.defaultNS = z.ns[0]));
                    var R = yn();

                    function P(kt) {
                        return kt ? "function" == typeof kt ? new kt : kt : null
                    }

                    if (this.options = Ce(Ce(Ce({}, R), this.options), Yt(z)), "v1" !== this.options.compatibilityAPI && (this.options.interpolation = Ce(Ce({}, R.interpolation), this.options.interpolation)), void 0 !== z.keySeparator && (this.options.userDefinedKeySeparator = z.keySeparator), void 0 !== z.nsSeparator && (this.options.userDefinedNsSeparator = z.nsSeparator), !this.options.isClone) {
                        var ae;
                        nt.init(this.modules.logger ? P(this.modules.logger) : null, this.options), this.modules.formatter ? ae = this.modules.formatter : typeof Intl < "u" && (ae = Tt);
                        var ve = new cn(this.options);
                        this.store = new Mn(this.options.resources, this.options);
                        var J = this.services;
                        J.logger = nt, J.resourceStore = this.store, J.languageUtils = ve, J.pluralResolver = new Tr(ve, {
                            prepend: this.options.pluralSeparator,
                            compatibilityJSON: this.options.compatibilityJSON,
                            simplifyPluralSuffix: this.options.simplifyPluralSuffix
                        }), ae && (!this.options.interpolation.format || this.options.interpolation.format === R.interpolation.format) && (J.formatter = P(ae), J.formatter.init(J, this.options), this.options.interpolation.format = J.formatter.format.bind(J.formatter)), J.interpolator = new Lt(this.options), J.utils = {hasLoadedNamespace: this.hasLoadedNamespace.bind(this)}, J.backendConnector = new Xn(P(this.modules.backend), J.resourceStore, J, this.options), J.backendConnector.on("*", function (kt) {
                            for (var Nt = arguments.length, zn = new Array(Nt > 1 ? Nt - 1 : 0), Rn = 1; Rn < Nt; Rn++) zn[Rn - 1] = arguments[Rn];
                            w.emit.apply(w, [kt].concat(zn))
                        }), this.modules.languageDetector && (J.languageDetector = P(this.modules.languageDetector), J.languageDetector.init(J, this.options.detection, this.options)), this.modules.i18nFormat && (J.i18nFormat = P(this.modules.i18nFormat), J.i18nFormat.init && J.i18nFormat.init(this)), this.translator = new _n(this.services, this.options), this.translator.on("*", function (kt) {
                            for (var Nt = arguments.length, zn = new Array(Nt > 1 ? Nt - 1 : 0), Rn = 1; Rn < Nt; Rn++) zn[Rn - 1] = arguments[Rn];
                            w.emit.apply(w, [kt].concat(zn))
                        }), this.modules.external.forEach(function (kt) {
                            kt.init && kt.init(w)
                        })
                    }
                    if (this.format = this.options.interpolation.format, A || (A = Je), this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
                        var et = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                        et.length > 0 && "dev" !== et[0] && (this.options.lng = et[0])
                    }
                    !this.services.languageDetector && !this.options.lng && this.logger.warn("init: no languageDetector is used and no lng is defined");
                    var vt = ["getResource", "hasResourceBundle", "getResourceBundle", "getDataByLanguage"];
                    vt.forEach(function (kt) {
                        w[kt] = function () {
                            var Nt;
                            return (Nt = w.store)[kt].apply(Nt, arguments)
                        }
                    });
                    var Mt = ["addResource", "addResources", "addResourceBundle", "removeResourceBundle"];
                    Mt.forEach(function (kt) {
                        w[kt] = function () {
                            var Nt;
                            return (Nt = w.store)[kt].apply(Nt, arguments), w
                        }
                    });
                    var Zt = ge(), ln = function () {
                        var Nt = function (Rn, Er) {
                            w.isInitialized && !w.initializedStoreOnce && w.logger.warn("init: i18next is already initialized. You should call init just once!"), w.isInitialized = !0, w.options.isClone || w.logger.log("initialized", w.options), w.emit("initialized", w.options), Zt.resolve(Er), A(Rn, Er)
                        };
                        if (w.languages && "v1" !== w.options.compatibilityAPI && !w.isInitialized) return Nt(null, w.t.bind(w));
                        w.changeLanguage(w.options.lng, Nt)
                    };
                    return this.options.resources || !this.options.initImmediate ? ln() : setTimeout(ln, 0), Zt
                }
            }, {
                key: "loadResources", value: function (w) {
                    var z = this, A = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Je, R = A,
                        P = "string" == typeof w ? w : this.language;
                    if ("function" == typeof w && (R = w), !this.options.resources || this.options.partialBundledLanguages) {
                        if (P && "cimode" === P.toLowerCase()) return R();
                        var ae = [], ve = function (vt) {
                            vt && z.services.languageUtils.toResolveHierarchy(vt).forEach(function (Zt) {
                                ae.indexOf(Zt) < 0 && ae.push(Zt)
                            })
                        };
                        if (P) ve(P); else {
                            var J = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
                            J.forEach(function (et) {
                                return ve(et)
                            })
                        }
                        this.options.preload && this.options.preload.forEach(function (et) {
                            return ve(et)
                        }), this.services.backendConnector.load(ae, this.options.ns, function (et) {
                            !et && !z.resolvedLanguage && z.language && z.setResolvedLanguage(z.language), R(et)
                        })
                    } else R(null)
                }
            }, {
                key: "reloadResources", value: function (w, z, A) {
                    var R = ge();
                    return w || (w = this.languages), z || (z = this.options.ns), A || (A = Je), this.services.backendConnector.reload(w, z, function (P) {
                        R.resolve(), A(P)
                    }), R
                }
            }, {
                key: "use", value: function (w) {
                    if (!w) throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");
                    if (!w.type) throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");
                    return "backend" === w.type && (this.modules.backend = w), ("logger" === w.type || w.log && w.warn && w.error) && (this.modules.logger = w), "languageDetector" === w.type && (this.modules.languageDetector = w), "i18nFormat" === w.type && (this.modules.i18nFormat = w), "postProcessor" === w.type && Hn.addPostProcessor(w), "formatter" === w.type && (this.modules.formatter = w), "3rdParty" === w.type && this.modules.external.push(w), this
                }
            }, {
                key: "setResolvedLanguage", value: function (w) {
                    if (w && this.languages && !(["cimode", "dev"].indexOf(w) > -1)) for (var z = 0; z < this.languages.length; z++) {
                        var A = this.languages[z];
                        if (!(["cimode", "dev"].indexOf(A) > -1) && this.store.hasLanguageSomeTranslations(A)) {
                            this.resolvedLanguage = A;
                            break
                        }
                    }
                }
            }, {
                key: "changeLanguage", value: function (w, z) {
                    var A = this;
                    this.isLanguageChangingTo = w;
                    var R = ge();
                    this.emit("languageChanging", w);
                    var P = function (et) {
                        A.language = et, A.languages = A.services.languageUtils.toResolveHierarchy(et), A.resolvedLanguage = void 0, A.setResolvedLanguage(et)
                    }, ve = function (et) {
                        !w && !et && A.services.languageDetector && (et = []);
                        var vt = "string" == typeof et ? et : A.services.languageUtils.getBestMatchFromCodes(et);
                        vt && (A.language || P(vt), A.translator.language || A.translator.changeLanguage(vt), A.services.languageDetector && A.services.languageDetector.cacheUserLanguage(vt)), A.loadResources(vt, function (Mt) {
                            !function (et, vt) {
                                vt ? (P(vt), A.translator.changeLanguage(vt), A.isLanguageChangingTo = void 0, A.emit("languageChanged", vt), A.logger.log("languageChanged", vt)) : A.isLanguageChangingTo = void 0, R.resolve(function () {
                                    return A.t.apply(A, arguments)
                                }), z && z(et, function () {
                                    return A.t.apply(A, arguments)
                                })
                            }(Mt, vt)
                        })
                    };
                    return w || !this.services.languageDetector || this.services.languageDetector.async ? !w && this.services.languageDetector && this.services.languageDetector.async ? this.services.languageDetector.detect(ve) : ve(w) : ve(this.services.languageDetector.detect()), R
                }
            }, {
                key: "getFixedT", value: function (w, z, A) {
                    var R = this, P = function ae(ve, J) {
                        var et;
                        if ("object" !== ce.default(J)) {
                            for (var vt = arguments.length, Mt = new Array(vt > 2 ? vt - 2 : 0), Zt = 2; Zt < vt; Zt++) Mt[Zt - 2] = arguments[Zt];
                            et = R.options.overloadTranslationOptionHandler([ve, J].concat(Mt))
                        } else et = Ce({}, J);
                        et.lng = et.lng || ae.lng, et.lngs = et.lngs || ae.lngs, et.ns = et.ns || ae.ns, et.keyPrefix = et.keyPrefix || A || ae.keyPrefix;
                        var ln = R.options.keySeparator || ".",
                            kt = et.keyPrefix ? "".concat(et.keyPrefix).concat(ln).concat(ve) : ve;
                        return R.t(kt, et)
                    };
                    return "string" == typeof w ? P.lng = w : P.lngs = w, P.ns = z, P.keyPrefix = A, P
                }
            }, {
                key: "t", value: function () {
                    var w;
                    return this.translator && (w = this.translator).translate.apply(w, arguments)
                }
            }, {
                key: "exists", value: function () {
                    var w;
                    return this.translator && (w = this.translator).exists.apply(w, arguments)
                }
            }, {
                key: "setDefaultNamespace", value: function (w) {
                    this.options.defaultNS = w
                }
            }, {
                key: "hasLoadedNamespace", value: function (w) {
                    var z = this, A = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    if (!this.isInitialized) return this.logger.warn("hasLoadedNamespace: i18next was not initialized", this.languages), !1;
                    if (!this.languages || !this.languages.length) return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty", this.languages), !1;
                    var R = this.resolvedLanguage || this.languages[0], P = !!this.options && this.options.fallbackLng,
                        ae = this.languages[this.languages.length - 1];
                    if ("cimode" === R.toLowerCase()) return !0;
                    var ve = function (vt, Mt) {
                        var Zt = z.services.backendConnector.state["".concat(vt, "|").concat(Mt)];
                        return -1 === Zt || 2 === Zt
                    };
                    if (A.precheck) {
                        var J = A.precheck(this, ve);
                        if (void 0 !== J) return J
                    }
                    return !!(this.hasResourceBundle(R, w) || !this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages || ve(R, w) && (!P || ve(ae, w)))
                }
            }, {
                key: "loadNamespaces", value: function (w, z) {
                    var A = this, R = ge();
                    return this.options.ns ? ("string" == typeof w && (w = [w]), w.forEach(function (P) {
                        A.options.ns.indexOf(P) < 0 && A.options.ns.push(P)
                    }), this.loadResources(function (P) {
                        R.resolve(), z && z(P)
                    }), R) : (z && z(), Promise.resolve())
                }
            }, {
                key: "loadLanguages", value: function (w, z) {
                    var A = ge();
                    "string" == typeof w && (w = [w]);
                    var R = this.options.preload || [], P = w.filter(function (ae) {
                        return R.indexOf(ae) < 0
                    });
                    return P.length ? (this.options.preload = R.concat(P), this.loadResources(function (ae) {
                        A.resolve(), z && z(ae)
                    }), A) : (z && z(), Promise.resolve())
                }
            }, {
                key: "dir", value: function (w) {
                    return w || (w = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language)), w ? ["ar", "shu", "sqr", "ssh", "xaa", "yhd", "yud", "aao", "abh", "abv", "acm", "acq", "acw", "acx", "acy", "adf", "ads", "aeb", "aec", "afb", "ajp", "apc", "apd", "arb", "arq", "ars", "ary", "arz", "auz", "avl", "ayh", "ayl", "ayn", "ayp", "bbz", "pga", "he", "iw", "ps", "pbt", "pbu", "pst", "prp", "prd", "ug", "ur", "ydd", "yds", "yih", "ji", "yi", "hbo", "men", "xmn", "fa", "jpr", "peo", "pes", "prs", "dv", "sam", "ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(w)) > -1 || w.toLowerCase().indexOf("-arab") > 1 ? "rtl" : "ltr" : "rtl"
                }
            }, {
                key: "cloneInstance", value: function () {
                    var w = this, z = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        A = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Je,
                        R = Ce(Ce(Ce({}, this.options), z), {isClone: !0}), P = new G(R),
                        ae = ["store", "services", "language"];
                    return ae.forEach(function (ve) {
                        P[ve] = w[ve]
                    }), P.services = Ce({}, this.services), P.services.utils = {hasLoadedNamespace: P.hasLoadedNamespace.bind(P)}, P.translator = new _n(P.services, P.options), P.translator.on("*", function (ve) {
                        for (var J = arguments.length, et = new Array(J > 1 ? J - 1 : 0), vt = 1; vt < J; vt++) et[vt - 1] = arguments[vt];
                        P.emit.apply(P, [ve].concat(et))
                    }), P.init(R, A), P.translator.options = P.options, P.translator.backendConnector.services.utils = {hasLoadedNamespace: P.hasLoadedNamespace.bind(P)}, P
                }
            }, {
                key: "toJSON", value: function () {
                    return {
                        options: this.options,
                        store: this.store,
                        language: this.language,
                        languages: this.languages,
                        resolvedLanguage: this.resolvedLanguage
                    }
                }
            }]), G
        }(Ke);
        Ue.default(Et, "createInstance", function () {
            var q = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                $ = arguments.length > 1 ? arguments[1] : void 0;
            return new Et(q, $)
        });
        var vn = Et.createInstance();
        vn.createInstance = Et.createInstance, Pe.exports = vn
    }, 9189: function (Pe, he, D) {
        Pe.exports = function (a, V) {
            "use strict";

            function K(gt) {
                return gt && "object" == typeof gt && "default" in gt ? gt : {default: gt}
            }

            var k = K(a), ue = K(V), rt = Object.freeze({
                __proto__: null,
                ar: {
                    PH: [{
                        name: "A\xf1o Nuevo",
                        fixed_date: [1, 1]
                    }, {
                        name: "D\xeda Nacional de la Memoria por la Verdad y la Justicia",
                        fixed_date: [3, 24]
                    }, {
                        name: "D\xeda del Veterano y de los Ca\xeddos en la Guerra de Malvinas",
                        fixed_date: [4, 2]
                    }, {name: "D\xeda del Trabajador", fixed_date: [5, 1]}, {
                        name: "D\xeda de la Revoluci\xf3n de Mayo",
                        fixed_date: [5, 25]
                    }, {
                        name: "Paso a la Inmortalidad del General Manuel Belgrano",
                        fixed_date: [6, 20]
                    }, {
                        name: "D\xeda de la Independencia",
                        fixed_date: [7, 9]
                    }, {name: "Inmaculada Concepci\xf3n de Mar\xeda", fixed_date: [12, 8]}, {
                        name: "Navidad",
                        fixed_date: [12, 25]
                    }]
                },
                at: {
                    PH: [{name: "Neujahrstag", fixed_date: [1, 1]}, {
                        name: "Heilige Drei K\xf6nige",
                        fixed_date: [1, 6]
                    }, {name: "Ostermontag", variable_date: "easter", offset: 1}, {
                        name: "Staatsfeiertag",
                        fixed_date: [5, 1]
                    }, {name: "Christi Himmelfahrt", variable_date: "easter", offset: 39}, {
                        name: "Pfingstmontag",
                        variable_date: "easter",
                        offset: 50
                    }, {name: "Fronleichnam", variable_date: "easter", offset: 60}, {
                        name: "Mari\xe4 Himmelfahrt",
                        fixed_date: [8, 15]
                    }, {name: "Nationalfeiertag", fixed_date: [10, 26]}, {
                        name: "Allerheiligen",
                        fixed_date: [11, 1]
                    }, {name: "Mari\xe4 Empf\xe4ngnis", fixed_date: [12, 8]}, {
                        name: "Christtag",
                        fixed_date: [12, 25]
                    }, {name: "Stefanitag", fixed_date: [12, 26]}],
                    SH: [{
                        2017: [4, 8, 4, 18],
                        2018: [3, 24, 4, 3],
                        2019: [4, 13, 4, 23],
                        2020: [4, 4, 4, 14],
                        2021: [3, 27, 4, 6],
                        2022: [4, 9, 4, 19],
                        2023: [4, 1, 4, 11],
                        2024: [3, 23, 4, 2],
                        name: "Osterferien"
                    }, {
                        2017: [6, 3, 6, 6],
                        2018: [5, 19, 5, 22],
                        2019: [6, 8, 6, 11],
                        2020: [5, 30, 6, 2],
                        2021: [5, 22, 5, 25],
                        2022: [6, 4, 6, 7],
                        2023: [5, 57, 5, 30],
                        2024: [5, 18, 5, 21],
                        name: "Pfingstferien"
                    }, {
                        2016: [11, 2],
                        2017: [11, 2],
                        2018: [11, 2],
                        2019: [11, 2],
                        2020: [11, 2],
                        2021: [11, 2],
                        2022: [11, 2],
                        2023: [11, 2],
                        name: "Allerseelen"
                    }, {
                        2016: [12, 24, 1, 7],
                        2017: [12, 24, 1, 6],
                        2018: [12, 24, 1, 6],
                        2019: [12, 23, 1, 6],
                        2020: [12, 24, 1, 6],
                        2021: [12, 24, 1, 6],
                        2022: [12, 24, 1, 6],
                        2023: [12, 24, 1, 6],
                        name: "Weihnachtsferien"
                    }],
                    Burgenland: {
                        _state_code: 1,
                        SH: [{
                            2016: [2, 8, 2, 13],
                            2017: [2, 13, 2, 18],
                            2018: [2, 12, 2, 17],
                            2019: [2, 11, 2, 16],
                            2020: [2, 10, 2, 15],
                            2021: [2, 8, 2, 13],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 2, 9, 3],
                            2017: [7, 1, 9, 3],
                            2018: [6, 30, 9, 2],
                            2019: [6, 29, 9, 1],
                            2020: [7, 4, 9, 6],
                            2021: [7, 3, 9, 4],
                            name: "Sommerferien"
                        }]
                    },
                    K\u00e4rnten: {
                        _state_code: 2,
                        SH: [{
                            2016: [2, 8, 2, 13],
                            2017: [2, 13, 2, 18],
                            2018: [2, 12, 2, 17],
                            2019: [2, 11, 2, 16],
                            2020: [2, 10, 2, 15],
                            2021: [2, 8, 2, 13],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 11],
                            name: "Sommerferien"
                        }]
                    },
                    Nieder\u00f6sterreich: {
                        _state_code: 3,
                        SH: [{
                            2016: [2, 1, 2, 6],
                            2017: [2, 6, 2, 11],
                            2018: [2, 5, 2, 10],
                            2019: [2, 4, 2, 9],
                            2020: [2, 3, 2, 8],
                            2021: [2, 1, 2, 6],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 2, 9, 3],
                            2017: [7, 1, 9, 3],
                            2018: [6, 30, 9, 2],
                            2019: [6, 29, 9, 1],
                            2020: [7, 4, 9, 6],
                            2021: [7, 3, 9, 4],
                            name: "Sommerferien"
                        }]
                    },
                    Ober\u00f6sterreich: {
                        _state_code: 4,
                        SH: [{
                            2016: [2, 15, 2, 20],
                            2017: [2, 20, 2, 25],
                            2018: [2, 19, 2, 24],
                            2019: [2, 18, 2, 23],
                            2020: [2, 17, 2, 22],
                            2021: [2, 15, 2, 20],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 11],
                            name: "Sommerferien"
                        }]
                    },
                    Salzburg: {
                        _state_code: 5,
                        SH: [{
                            2016: [2, 8, 2, 13],
                            2017: [2, 13, 2, 18],
                            2018: [2, 12, 2, 17],
                            2019: [2, 11, 2, 16],
                            2020: [2, 10, 2, 15],
                            2021: [2, 8, 2, 13],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 11],
                            name: "Sommerferien"
                        }]
                    },
                    Steiermark: {
                        _state_code: 6,
                        SH: [{
                            2016: [2, 15, 2, 20],
                            2017: [2, 20, 2, 25],
                            2018: [2, 19, 2, 24],
                            2019: [2, 18, 2, 23],
                            2020: [2, 17, 2, 22],
                            2021: [2, 15, 2, 20],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 12],
                            name: "Sommerferien"
                        }]
                    },
                    Tirol: {
                        _state_code: 7,
                        SH: [{
                            2016: [2, 8, 2, 13],
                            2017: [2, 13, 2, 18],
                            2018: [2, 12, 2, 17],
                            2019: [2, 11, 2, 16],
                            2020: [2, 10, 2, 15],
                            2021: [2, 8, 2, 13],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 11],
                            name: "Sommerferien"
                        }]
                    },
                    Vorarlberg: {
                        _state_code: 8,
                        SH: [{
                            2016: [2, 15, 2, 20],
                            2017: [2, 13, 2, 18],
                            2018: [2, 5, 2, 10],
                            2019: [2, 11, 2, 16],
                            2020: [2, 10, 2, 15],
                            2021: [2, 8, 2, 13],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 9, 9, 10],
                            2017: [7, 8, 9, 10],
                            2018: [7, 7, 9, 9],
                            2019: [7, 6, 9, 8],
                            2020: [7, 11, 9, 13],
                            2021: [7, 10, 9, 11],
                            name: "Sommerferien"
                        }]
                    },
                    Wien: {
                        _state_code: 9,
                        SH: [{
                            2016: [2, 1, 2, 6],
                            2017: [2, 6, 2, 11],
                            2018: [2, 5, 2, 10],
                            2019: [2, 4, 2, 9],
                            2020: [2, 3, 2, 8],
                            2021: [2, 1, 2, 6],
                            name: "Semesterferien"
                        }, {
                            2016: [7, 2, 9, 3],
                            2017: [7, 1, 9, 3],
                            2018: [6, 30, 9, 2],
                            2019: [6, 29, 9, 1],
                            2020: [7, 4, 9, 6],
                            2021: [7, 3, 9, 4],
                            name: "Sommerferien"
                        }]
                    }
                },
                au: {
                    PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                        name: "Australia Day",
                        fixed_date: [1, 26]
                    }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                        name: "Easter Monday",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "ANZAC Day", fixed_date: [4, 25]}, {
                        name: "Christmas Day",
                        fixed_date: [12, 25]
                    }, {name: "Boxing Day", fixed_date: [12, 26]}],
                    "Australian Capital Territory": {
                        _state_code: "act",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Canberra Day", variable_date: "firstMarchMonday", offset: 7}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Saturday", variable_date: "easter", offset: -1}, {
                            name: "Easter Sunday",
                            variable_date: "easter"
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "ANZAC Day",
                            fixed_date: [4, 25]
                        }, {name: "Reconciliation Day", variable_date: "lastMayMonday"}, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {
                            name: "Family and Community Day",
                            variable_date: "lastSeptemberMonday"
                        }, {name: "Labour Day", variable_date: "firstOctoberMonday"}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "New South Wales": {
                        _state_code: "nsw",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Saturday",
                            variable_date: "easter",
                            offset: -1
                        }, {name: "Easter Sunday", variable_date: "easter"}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "ANZAC Day", fixed_date: [4, 25]}, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {name: "Labour Day", variable_date: "firstOctoberMonday"}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "Northern Territory": {
                        _state_code: "nt",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Saturday",
                            variable_date: "easter",
                            offset: -1
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "ANZAC Day",
                            fixed_date: [4, 25]
                        }, {name: "May Day", variable_date: "firstMayMonday"}, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {name: "Picnic Day", variable_date: "firstAugustMonday"}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Queensland: {
                        _state_code: "qld",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Saturday",
                            variable_date: "easter",
                            offset: -1
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "ANZAC Day",
                            fixed_date: [4, 25]
                        }, {name: "Labour Day", variable_date: "firstMayMonday"}, {
                            name: "Queens Birthday",
                            variable_date: "firstOctoberMonday"
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "South Australia": {
                        _state_code: "sa",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Adelaide Cup", variable_date: "firstMarchMonday", offset: 7}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Saturday", variable_date: "easter", offset: -1}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "ANZAC Day", fixed_date: [4, 25]}, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {name: "Labour Day", variable_date: "firstOctoberMonday"}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Tasmania: {
                        _state_code: "tas",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {
                            name: "Eight Hours Day",
                            variable_date: "firstMarchMonday",
                            offset: 7
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "ANZAC Day", fixed_date: [4, 25]}, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Victoria: {
                        _state_code: "vic",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Labour Day", variable_date: "firstMarchMonday", offset: 7}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Saturday", variable_date: "easter", offset: -1}, {
                            name: "Easter Sunday",
                            variable_date: "easter"
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "ANZAC Day",
                            fixed_date: [4, 25]
                        }, {
                            name: "Queens Birthday",
                            variable_date: "firstJuneMonday",
                            offset: 7
                        }, {name: "AFL Grand Final", variable_date: "lastSeptemberFriday"}, {
                            name: "Melbourne Cup",
                            variable_date: "firstNovemberTuesday"
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "Western Australia": {
                        _state_code: "wa",
                        PH: [{name: "New Years Day", fixed_date: [1, 1]}, {
                            name: "Australia Day",
                            fixed_date: [1, 26]
                        }, {name: "Labour Day", variable_date: "firstMarchMonday"}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "ANZAC Day",
                            fixed_date: [4, 25]
                        }, {name: "Western Australia Day", variable_date: "firstJuneMonday"}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    }
                },
                be: {
                    PH: [{
                        name: "Nieuwjaar - Jour de l'an",
                        fixed_date: [1, 1]
                    }, {
                        name: "Paasmaandag - Lundi de P\xe2ques",
                        variable_date: "easter",
                        offset: 1
                    }, {
                        name: "Dag van de Arbeid - F\xeate du Travail",
                        fixed_date: [5, 1]
                    }, {
                        name: "Onze-Lieve-Heer-Hemelvaart - Jeudi de l'Ascensionn",
                        variable_date: "easter",
                        offset: 39
                    }, {
                        name: "Pinkstermaandag - Lundi de Pentec\xf4te",
                        variable_date: "easter",
                        offset: 50
                    }, {
                        name: "Nationale feestdag van Belgi\xeb - F\xeate nationale",
                        fixed_date: [7, 21]
                    }, {
                        name: "Onze-Lieve-Vrouw-Hemelvaart - Assomption",
                        fixed_date: [8, 15]
                    }, {name: "Allerheiligen - Toussaint", fixed_date: [11, 1]}, {
                        name: "Wapenstilstand - Armistice",
                        fixed_date: [11, 11]
                    }, {name: "Kerstmis - No\xebl", fixed_date: [12, 25]}],
                    SH: [{
                        2020: [2, 24, 3, 1],
                        2021: [2, 15, 2, 21],
                        2022: [2, 28, 3, 6],
                        2023: [2, 20, 2, 26],
                        name: "Krokusvakantie - Vacances de carnaval"
                    }, {
                        2020: [4, 6, 4, 19],
                        2021: [4, 5, 4, 18],
                        2022: [4, 4, 4, 18],
                        2023: [4, 3, 4, 16],
                        name: "Paasvakantie - Vacances de p\xe2ques"
                    }, {
                        2020: [7, 1, 8, 31],
                        2021: [7, 1, 8, 31],
                        2022: [7, 1, 8, 31],
                        2023: [7, 1, 8, 31],
                        name: "Zomervakantie - Vacances d'\xe9t\xe9"
                    }, {
                        2019: [10, 28, 11, 3],
                        2020: [11, 2, 11, 15],
                        2021: [11, 1, 11, 7],
                        2022: [10, 31, 11, 6],
                        name: "Herfstvakantie - Vacances automne"
                    }, {
                        2019: [12, 23, 1, 5],
                        2020: [12, 21, 1, 3],
                        2021: [12, 27, 1, 9],
                        2022: [12, 26, 1, 8],
                        name: "Kerstvakantie - Vacances de No\xebl"
                    }]
                },
                br: {
                    PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                        name: "Carnaval",
                        variable_date: "easter",
                        offset: -47
                    }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                        name: "Tiradentes",
                        fixed_date: [4, 21]
                    }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                        name: "Corpus Christi",
                        variable_date: "easter",
                        offset: 60
                    }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                        name: "Nossa Senhora Aparecida",
                        fixed_date: [10, 12]
                    }, {name: "Finados", fixed_date: [11, 2]}, {
                        name: "Proclama\xe7\xe3o da Rep\xfablica",
                        fixed_date: [11, 15]
                    }, {name: "Natal", fixed_date: [12, 25]}],
                    Acre: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Dia do evang\xe9lico",
                            fixed_date: [1, 23]
                        }, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {
                            name: "Alusivo ao Dia Internacional da Mulher",
                            fixed_date: [3, 8]
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Anivers\xe1rio do estado", fixed_date: [6, 15]}, {
                            name: "Dia da Amaz\xf4nia",
                            fixed_date: [9, 5]
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Assinatura do Tratado de Petr\xf3polis", fixed_date: [11, 17]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Alagoas: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "S\xe3o Jo\xe3o", fixed_date: [6, 24]}, {
                            name: "S\xe3o Pedro",
                            fixed_date: [6, 29]
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Emancipa\xe7\xe3o pol\xedtica",
                            fixed_date: [9, 16]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Morte de Zumbi dos Palmares", fixed_date: [11, 20]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Amap\u00e1: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Dia de S\xe3o Jos\xe9", fixed_date: [3, 19]}, {
                            name: "Sexta-feira santa",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Tiradentes", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Data Magna do estado", fixed_date: [9, 13]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Amazonas: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data Magna do estado", fixed_date: [9, 5]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Dia da Consci\xeancia Negra", fixed_date: [11, 20]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Bahia: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data magna do estado", fixed_date: [2, 7]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Cear\u00e1: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Data magna do estado", fixed_date: [3, 25]}, {
                            name: "Sexta-feira santa",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Tiradentes", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Distrito Federal": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Dia do evang\xe9lico", fixed_date: [11, 30]}, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    "Esp\xedrito Santo": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Data magna do estado", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Goi\u00e1s: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Maranh\u00e3o: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data magna do estado", fixed_date: [7, 28]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Mato Grosso": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Dia da Consci\xeancia Negra", fixed_date: [11, 20]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Mato Grosso do Sul": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Cria\xe7\xe3o do estado",
                            fixed_date: [10, 11]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Minas Gerais": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Data magna do estado", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Par\u00e1: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data magna do estado", fixed_date: [8, 15]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Para\u00edba: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Homenagem a Jo\xe3o Pessoa", fixed_date: [7, 26]}, {
                            name: "Data magna do estado",
                            fixed_date: [8, 5]
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Paran\u00e1: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Data magna do estado", fixed_date: [12, 19]}, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Pernambuco: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {
                            name: "Data magna do estado",
                            variable_date: "firstMarchSunday"
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Piau\u00ed: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Data magna do estado", fixed_date: [10, 19]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Rio de Janeiro": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Dia da Consci\xeancia Negra", fixed_date: [11, 20]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Rio Grande do Norte": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "S\xe3o Jorge", fixed_date: [4, 23]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {
                            name: "M\xe1rtires de Cunha\xfa e Urua\xe7u",
                            fixed_date: [10, 3]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Rio Grande do Sul": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica Rio-Grandense",
                            fixed_date: [9, 20]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Rond\u00f4nia: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Data magna do estado",
                            fixed_date: [1, 4]
                        }, {name: "Carnaval", variable_date: "easter", offset: -47}, {
                            name: "Sexta-feira santa",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Tiradentes", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Dia do evang\xe9lico",
                            fixed_date: [6, 18]
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Nossa Senhora Aparecida",
                            fixed_date: [10, 12]
                        }, {name: "Finados", fixed_date: [11, 2]}, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Natal", fixed_date: [12, 25]}]
                    },
                    Roraima: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Independ\xeancia", fixed_date: [9, 7]}, {
                            name: "Data magna do estado",
                            fixed_date: [10, 5]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Santa Catarina": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data magna do estado", fixed_date: [8, 11]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Santa Catarina de Alexandria", fixed_date: [11, 25]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    "S\xe3o Paulo": {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Sexta-feira santa", variable_date: "easter", offset: -2}, {
                            name: "Tiradentes",
                            fixed_date: [4, 21]
                        }, {name: "Dia do Trabalhador", fixed_date: [5, 1]}, {
                            name: "Corpus Christi",
                            variable_date: "easter",
                            offset: 60
                        }, {name: "Data magna do estado", fixed_date: [7, 9]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Sergipe: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Anivers\xe1rio de Aracaju", fixed_date: [3, 17]}, {
                            name: "Sexta-feira santa",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Tiradentes", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "S\xe3o Jo\xe3o",
                            fixed_date: [6, 24]
                        }, {name: "Data magna do estado", fixed_date: [7, 8]}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {
                            name: "Proclama\xe7\xe3o da Rep\xfablica",
                            fixed_date: [11, 15]
                        }, {name: "Nossa Senhora da Concei\xe7\xe3o", fixed_date: [12, 8]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    },
                    Tocantins: {
                        PH: [{name: "Ano Novo", fixed_date: [1, 1]}, {
                            name: "Carnaval",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Autonomia do estado", fixed_date: [3, 18]}, {
                            name: "Sexta-feira santa",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Tiradentes", fixed_date: [4, 21]}, {
                            name: "Dia do Trabalhador",
                            fixed_date: [5, 1]
                        }, {name: "Corpus Christi", variable_date: "easter", offset: 60}, {
                            name: "Independ\xeancia",
                            fixed_date: [9, 7]
                        }, {name: "Nossa Senhora da Natividade", fixed_date: [9, 8]}, {
                            name: "Cria\xe7\xe3o do estado",
                            fixed_date: [10, 5]
                        }, {name: "Nossa Senhora Aparecida", fixed_date: [10, 12]}, {
                            name: "Finados",
                            fixed_date: [11, 2]
                        }, {name: "Proclama\xe7\xe3o da Rep\xfablica", fixed_date: [11, 15]}, {
                            name: "Natal",
                            fixed_date: [12, 25]
                        }]
                    }
                },
                ca: {
                    PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                        name: "Good Friday",
                        variable_date: "easter",
                        offset: -2
                    }, {name: "Canada Day", variable_date: "canadaDay"}, {
                        name: "Labour Day",
                        variable_date: "firstSeptemberMonday"
                    }, {name: "Christmas Day", fixed_date: [12, 25]}],
                    Alberta: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Alberta Family Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "Heritage Day", variable_date: "firstAugustMonday"}, {
                            name: "Labour Day",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "British Columbia": {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Family Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 7
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Victoria Day",
                            variable_date: "victoriaDay"
                        }, {name: "Canada Day", variable_date: "canadaDay"}, {
                            name: "British Columbia Day",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    Manitoba: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Louis Riel Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Victoria Day",
                            variable_date: "victoriaDay"
                        }, {name: "Canada Day", variable_date: "canadaDay"}, {
                            name: "Civic Holiday",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    "New Brunswick": {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "New Brunswick Day", variable_date: "firstAugustMonday"}, {
                            name: "Labour Day",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "Newfoundland and Labrador": {
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {name: "Saint Patrick's Day", fixed_date: [3, 17]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Saint George's Day", fixed_date: [4, 23]}, {
                            name: "Discovery Day",
                            fixed_date: [6, 24]
                        }, {name: "Memorial Day", fixed_date: [7, 1]}, {
                            name: "Orangemen's Day",
                            fixed_date: [7, 12]
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Armistice Day",
                            fixed_date: [11, 11]
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    "Northwest Territories": {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "National Aboriginal Day",
                            fixed_date: [6, 21]
                        }, {name: "Canada Day", variable_date: "canadaDay"}, {
                            name: "Civic Holiday",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Nova Scotia": {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "Natal Day", variable_date: "firstAugustMonday"}, {
                            name: "Labour Day",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Nunavut: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "Nunavut Day", fixed_date: [7, 9]}, {
                            name: "Civic Holiday",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    Ontario: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Family Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Victoria Day",
                            variable_date: "victoriaDay"
                        }, {name: "Canada Day", variable_date: "canadaDay"}, {
                            name: "August Civic Public Holiday",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    "Prince Edward Island": {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Islander Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "Civic Holiday", variable_date: "firstAugustMonday"}, {
                            name: "Gold Cup Parade Day",
                            variable_date: "firstAugustMonday",
                            offset: 18
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Quebec: {
                        PH: [{name: "Jour de l'an", fixed_date: [1, 1]}, {
                            name: "Vendredi saint",
                            variable_date: "easter",
                            offset: -2
                        }, {
                            name: "Lundi de P\xe2ques",
                            variable_date: "easter",
                            offset: 1
                        }, {
                            name: "Journ\xe9e nationale des patriotes",
                            variable_date: "victoriaDay"
                        }, {name: "F\xeate nationale du Qu\xe9bec", fixed_date: [6, 24]}, {
                            name: "F\xeate du Canada",
                            variable_date: "canadaDay"
                        }, {
                            name: "F\xeate du Travail",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Jour de l'Action de gr\xe2ce",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "No\xebl", fixed_date: [12, 25]}]
                    },
                    Saskatchewan: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Family Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Victoria Day",
                            variable_date: "victoriaDay"
                        }, {name: "Canada Day", variable_date: "canadaDay"}, {
                            name: "Saskatchewan Day",
                            variable_date: "firstAugustMonday"
                        }, {name: "Labour Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    Yukon: {
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Heritage Day",
                            variable_date: "lastFebruarySunday",
                            offset: -2
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "Victoria Day", variable_date: "victoriaDay"}, {
                            name: "Canada Day",
                            variable_date: "canadaDay"
                        }, {name: "Discovery Day", variable_date: "firstAugustMonday", offset: 14}, {
                            name: "Labour Day",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Remembrance Day", fixed_date: [11, 11]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Boxing Day", fixed_date: [12, 26]}]
                    }
                },
                ch: {
                    PH: [{
                        name: "Neujahrstag/Nouvel an/Capo d'anno",
                        fixed_date: [1, 1]
                    }, {
                        name: "Berchtoldstag/2 janvier",
                        fixed_date: [1, 2],
                        only_states: ["Z\xfcrich", "Bern", "Luzern", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Schaffhausen", "Graub\xfcnden", "Aargau", "Thurgau", "Waadt", "Neuenburg", "Genf", "Jura", "Sankt Gallen", "Wallis"]
                    }, {
                        name: "Heilige Drei K\xf6nige/Epifania",
                        fixed_date: [1, 6],
                        only_states: ["Uri", "Schwyz", "Graub\xfcnden", "Tessin"]
                    }, {
                        name: "Instauration de la R\xe9publique",
                        fixed_date: [3, 1],
                        only_states: ["Neuenburg"]
                    }, {
                        name: "Josefstag/Saint-Joseph/San Giuseppe",
                        fixed_date: [3, 19],
                        only_states: ["Luzern", "Uri", "Schwyz", "Nidwalden", "Zug", "Graub\xfcnden", "Tessin", "Wallis"]
                    }, {
                        name: "Karfreitag/Vendredi saint",
                        variable_date: "easter",
                        offset: -2,
                        only_states: ["Z\xfcrich", "Bern", "Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Basel-Stadt", "Basel-Landschaft", "Schaffhausen", "Appenzell Ausserrhoden", "Appenzell Innerrhoden", "Sankt Gallen", "Graub\xfcnden", "Aargau", "Thurgau", "Waadt", "Neuenburg", "Genf", "Jura"]
                    }, {
                        name: "Ostermontag/Lundi de P\xe2ques/Lunedi di Pasqua",
                        variable_date: "easter",
                        offset: 1,
                        only_states: ["Z\xfcrich", "Bern", "Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Basel-Stadt", "Basel-Landschaft", "Schaffhausen", "Appenzell Ausserrhoden", "Appenzell Innerrhoden", "Sankt Gallen", "Graub\xfcnden", "Aargau", "Thurgau", "Tessin", "Waadt", "Neuenburg", "Genf", "Jura", "Wallis"]
                    }, {
                        name: "Tag der Arbeit/Festa dei lavoratori",
                        fixed_date: [5, 1],
                        only_states: ["Z\xfcrich", "Freiburg", "Solothurn", "Basel-Stadt", "Basel-Landschaft", "Schaffhausen", "Aargau", "Thurgau", "Tessin", "Neuenburg", "Jura"]
                    }, {
                        name: "Auffahrt/Ascension/Ascensione",
                        variable_date: "easter",
                        offset: 39
                    }, {
                        name: "Pfingstmontag/Lundi de Pentec\xf4te/Lunedi di Pentecoste",
                        variable_date: "easter",
                        offset: 50,
                        only_states: ["Z\xfcrich", "Bern", "Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Basel-Stadt", "Basel-Landschaft", "Schaffhausen", "Appenzell Ausserrhoden", "Appenzell Innerrhoden", "Sankt Gallen", "Graub\xfcnden", "Aargau", "Thurgau", "Tessin", "Waadt", "Neuenburg", "Genf", "Jura", "Wallis"]
                    }, {
                        name: "Fronleichnam/F\xeate-Dieu/Corpus domini",
                        variable_date: "easter",
                        offset: 60,
                        only_states: ["Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Zug", "Freiburg", "Solothurn", "Basel-Landschaft", "Appenzell Innerrhoden", "Graub\xfcnden", "Aargau", "Tessin", "Wallis", "Neuenburg", "Jura"]
                    }, {
                        name: "Comm\xe9moration du pl\xe9biscite jurassien",
                        fixed_date: [6, 23],
                        only_states: ["Jura"]
                    }, {
                        name: "San Pietro e Paolo",
                        fixed_date: [6, 29],
                        only_states: ["Tessin"]
                    }, {
                        name: "Bundesfeiertag/Jour de la f\xeate nationale/Giorno festivo federale",
                        fixed_date: [8, 1]
                    }, {
                        name: "Mari\xe4 Himmelfahrt/Assomption/Assunzione",
                        fixed_date: [8, 15],
                        only_states: ["Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Zug", "Freiburg", "Solothurn", "Basel-Landschaft", "Appenzell Innerrhoden", "Graub\xfcnden", "Aargau", "Tessin", "Wallis", "Jura"]
                    }, {
                        name: "Mauritiustag",
                        fixed_date: [9, 22],
                        only_states: ["Appenzell Innerrhoden"]
                    }, {
                        name: "Bruderklausenfest",
                        fixed_date: [9, 25],
                        only_states: ["Obwalden"]
                    }, {
                        name: "Allerheiligen/Toussaint/Ognissanti",
                        fixed_date: [11, 1],
                        only_states: ["Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Appenzell Innerrhoden", "Sankt Gallen", "Graub\xfcnden", "Aargau", "Tessin", "Wallis", "Jura"]
                    }, {
                        name: "Mari\xe4 Empf\xe4ngnis/Immacul\xe9e Conception/Ognissanti",
                        fixed_date: [12, 8],
                        only_states: ["Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Zug", "Freiburg", "Solothurn", "Appenzell Innerrhoden", "Graub\xfcnden", "Aargau", "Tessin", "Wallis"]
                    }, {
                        name: "Weihnachtstag/No\xebl/Natale",
                        fixed_date: [12, 25]
                    }, {
                        name: "Stephanstag/Saint-Etienne/Santo Stefano",
                        fixed_date: [12, 26],
                        only_states: ["Z\xfcrich", "Bern", "Luzern", "Uri", "Schwyz", "Obwalden", "Nidwalden", "Glarus", "Zug", "Freiburg", "Solothurn", "Basel-Stadt", "Basel-Landschaft", "Schaffhausen", "Appenzell Ausserrhoden", "Appenzell Innerrhoden", "Sankt Gallen", "Graub\xfcnden", "Aargau", "Thurgau", "Tessin", "Wallis"]
                    }, {name: "Restauration de la R\xe9publique", fixed_date: [12, 31], only_states: ["Genf"]}],
                    Aargau: {_state_code: "ag"},
                    "Appenzell Ausserrhoden": {_state_code: "ar"},
                    "Appenzell Innerrhoden": {_state_code: "ai"},
                    "Basel-Landschaft": {_state_code: "bl"},
                    "Basel-Stadt": {_state_code: "bs"},
                    Bern: {_state_code: "be"},
                    Freiburg: {_state_code: "fr"},
                    Genf: {_state_code: "ge"},
                    Glarus: {_state_code: "gl"},
                    Graub\u00fcnden: {_state_code: "gr"},
                    Jura: {_state_code: "ju"},
                    Luzern: {_state_code: "lu"},
                    Neuenburg: {_state_code: "ne"},
                    Nidwalden: {_state_code: "nw"},
                    Obwalden: {_state_code: "ow"},
                    Schaffhausen: {_state_code: "sh"},
                    Schwyz: {_state_code: "sz"},
                    Solothurn: {_state_code: "so"},
                    "Sankt Gallen": {_state_code: "sg"},
                    Tessin: {_state_code: "ti"},
                    Thurgau: {_state_code: "tg"},
                    Uri: {_state_code: "ur"},
                    Waadt: {_state_code: "vd"},
                    Wallis: {_state_code: "vs"},
                    Zug: {_state_code: "zg"},
                    Z\u00fcrich: {_state_code: "zh"}
                },
                ci: {
                    PH: [{name: "F\xeate du 1\u1d49\u02b3 janvier", fixed_date: [1, 1]}, {
                        name: "Lundi de P\xe2ques",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "F\xeate du travail", fixed_date: [5, 1]}, {
                        name: "Lendemain de la F\xeate du travail",
                        variable_date: "nextMo-Sa01May"
                    }, {
                        name: "Jour de l\u2019Ascension",
                        variable_date: "easter",
                        offset: 39
                    }, {
                        name: "Lundi de la Pentec\xf4te",
                        variable_date: "easter",
                        offset: 50
                    }, {name: "F\xeate nationale", fixed_date: [8, 7]}, {
                        name: "Lendemain de la F\xeate nationale",
                        variable_date: "nextMo-Sa07August"
                    }, {name: "F\xeate de l\u2019Assomption", fixed_date: [8, 15]}, {
                        name: "F\xeate de la Toussaint",
                        fixed_date: [11, 1]
                    }, {name: "Journ\xe9e Nationale de la Paix", fixed_date: [11, 15]}, {
                        name: "F\xeate de No\xebl",
                        fixed_date: [12, 25]
                    }, {name: "Lendemain de la F\xeate de No\xebl", variable_date: "nextMo-Sa25December"}]
                },
                cz: {
                    PH: [{
                        name: "Den obnovy samostatn\xe9ho \u010desk\xe9ho st\xe1tu",
                        fixed_date: [1, 1]
                    }, {
                        name: "Velk\xfd p\xe1tek",
                        variable_date: "easter",
                        offset: -2
                    }, {
                        name: "Velikono\u010dn\xed pond\u011bl\xed",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "Sv\xe1tek pr\xe1ce", fixed_date: [5, 1]}, {
                        name: "Den v\xedt\u011bzstv\xed",
                        fixed_date: [5, 8]
                    }, {
                        name: "Den slovansk\xfdch v\u011brozv\u011bst\u016f Cyrila a Metod\u011bje",
                        fixed_date: [7, 5]
                    }, {
                        name: "Den up\xe1len\xed mistra Jana Husa",
                        fixed_date: [7, 6]
                    }, {
                        name: "Den \u010desk\xe9 st\xe1tnosti",
                        fixed_date: [9, 28]
                    }, {
                        name: "Den vzniku samostatn\xe9ho \u010deskoslovensk\xe9ho st\xe1tu",
                        fixed_date: [10, 28]
                    }, {
                        name: "Den boje za svobodu a demokracii",
                        fixed_date: [11, 17]
                    }, {
                        name: "\u0160t\u011bdr\xfd den",
                        fixed_date: [12, 24]
                    }, {
                        name: "1. sv\xe1tek v\xe1no\u010dn\xed",
                        fixed_date: [12, 25]
                    }, {name: "2. sv\xe1tek v\xe1no\u010dn\xed", fixed_date: [12, 26]}]
                },
                de: {
                    PH: [{name: "Neujahrstag", fixed_date: [1, 1]}, {
                        name: "Heilige Drei K\xf6nige",
                        fixed_date: [1, 6],
                        only_states: ["Baden-W\xfcrttemberg", "Bayern", "Sachsen-Anhalt"]
                    }, {name: "Frauentag", fixed_date: [3, 8], only_states: ["Berlin"]}, {
                        name: "Tag der Arbeit",
                        fixed_date: [5, 1]
                    }, {name: "Karfreitag", variable_date: "easter", offset: -2}, {
                        name: "Ostersonntag",
                        variable_date: "easter",
                        only_states: ["Brandenburg"]
                    }, {name: "Ostermontag", variable_date: "easter", offset: 1}, {
                        name: "Christi Himmelfahrt",
                        variable_date: "easter",
                        offset: 39
                    }, {
                        name: "Pfingstsonntag",
                        variable_date: "easter",
                        offset: 49,
                        only_states: ["Brandenburg"]
                    }, {name: "Pfingstmontag", variable_date: "easter", offset: 50}, {
                        name: "Fronleichnam",
                        variable_date: "easter",
                        offset: 60,
                        only_states: ["Baden-W\xfcrttemberg", "Bayern", "Hessen", "Nordrhein-Westfalen", "Rheinland-Pfalz", "Saarland"]
                    }, {
                        name: "Mari\xe4 Himmelfahrt",
                        fixed_date: [8, 15],
                        only_states: ["Saarland"]
                    }, {
                        name: "Weltkindertag",
                        fixed_date: [9, 20],
                        only_states: ["Th\xfcringen"]
                    }, {name: "Tag der Deutschen Einheit", fixed_date: [10, 3]}, {
                        name: "Reformationstag",
                        fixed_date: [10, 31],
                        only_states: ["Brandenburg", "Bremen", "Hamburg", "Mecklenburg-Vorpommern", "Niedersachsen", "Sachsen", "Sachsen-Anhalt", "Schleswig-Holstein", "Th\xfcringen"]
                    }, {
                        name: "Allerheiligen",
                        fixed_date: [11, 1],
                        only_states: ["Baden-W\xfcrttemberg", "Bayern", "Nordrhein-Westfalen", "Rheinland-Pfalz", "Saarland"]
                    }, {
                        name: "Bu\xdf- und Bettag",
                        variable_date: "nextWednesday16Nov",
                        only_states: ["Sachsen"]
                    }, {name: "1. Weihnachtstag", fixed_date: [12, 25]}, {
                        name: "2. Weihnachtstag",
                        fixed_date: [12, 26]
                    }],
                    "Baden-W\xfcrttemberg": {
                        _state_code: "bw",
                        SH: [{
                            2012: [4, 2, 4, 13],
                            2013: [3, 25, 4, 5],
                            2014: [4, 14, 4, 25],
                            2015: [3, 30, 4, 10],
                            2016: [3, 24, 3, 24, 3, 29, 4, 2],
                            2017: [4, 10, 4, 21],
                            2018: [3, 26, 4, 6],
                            2019: [4, 15, 4, 27],
                            2020: [4, 6, 4, 18],
                            name: "Osterferien"
                        }, {
                            2012: [5, 29, 6, 9],
                            2013: [5, 21, 6, 1],
                            2014: [6, 10, 6, 21],
                            2015: [5, 26, 6, 6],
                            2016: [5, 17, 5, 28],
                            2017: [6, 6, 6, 16],
                            2018: [5, 22, 6, 2],
                            2019: [6, 11, 6, 21],
                            2020: [6, 2, 6, 13],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 26, 9, 8],
                            2013: [7, 25, 9, 7],
                            2014: [7, 31, 9, 13],
                            2015: [7, 30, 9, 12],
                            2016: [7, 28, 9, 10],
                            2017: [7, 27, 9, 9],
                            2018: [7, 26, 9, 8],
                            2019: [7, 29, 9, 10],
                            2020: [7, 30, 9, 12],
                            2021: [7, 29, 9, 11],
                            2022: [7, 28, 9, 10],
                            2023: [7, 27, 9, 9],
                            2024: [7, 25, 9, 7],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 29, 11, 2],
                            2013: [10, 28, 10, 30],
                            2014: [10, 27, 10, 30],
                            2015: [10, 31, 10, 31, 11, 2, 11, 6],
                            2016: [10, 31, 10, 31, 11, 2, 11, 4],
                            2017: [10, 30, 11, 3],
                            2018: [10, 29, 11, 2],
                            2019: [10, 28, 10, 30],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 5],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 4],
                            2014: [12, 22, 1, 5],
                            2015: [12, 23, 1, 9],
                            2016: [12, 23, 1, 7],
                            2017: [12, 22, 1, 5],
                            2018: [12, 24, 1, 5],
                            2019: [12, 23, 1, 4],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Bayern: {
                        _state_code: "by",
                        SH: [{
                            2012: [2, 20, 2, 24],
                            2013: [2, 11, 2, 15],
                            2014: [3, 3, 3, 7],
                            2015: [2, 16, 2, 20],
                            2016: [2, 8, 2, 12],
                            2017: [2, 27, 3, 3],
                            2018: [2, 12, 2, 16],
                            2019: [3, 4, 3, 8],
                            2020: [2, 24, 2, 28],
                            2021: [2, 15, 2, 19],
                            2022: [2, 28, 3, 4],
                            2023: [2, 20, 2, 24],
                            2024: [2, 12, 2, 16],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 14],
                            2013: [3, 25, 4, 6],
                            2014: [4, 14, 4, 26],
                            2015: [3, 30, 4, 11],
                            2016: [3, 21, 4, 1],
                            2017: [4, 10, 4, 22],
                            2018: [3, 26, 4, 7],
                            2019: [4, 15, 4, 27],
                            2020: [4, 6, 4, 18],
                            2021: [3, 29, 4, 10],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 15],
                            2024: [3, 25, 4, 6],
                            name: "Osterferien"
                        }, {
                            2012: [5, 29, 6, 9],
                            2013: [5, 21, 5, 31],
                            2014: [6, 10, 6, 21],
                            2015: [5, 26, 6, 5],
                            2016: [5, 17, 5, 28],
                            2017: [6, 6, 6, 16],
                            2018: [5, 22, 6, 2],
                            2019: [6, 11, 6, 21],
                            2020: [6, 2, 6, 13],
                            2021: [5, 25, 6, 4],
                            2022: [6, 7, 6, 18],
                            2023: [5, 30, 6, 9],
                            2024: [5, 21, 6, 1],
                            name: "Pfingstferien"
                        }, {
                            2012: [8, 1, 9, 12],
                            2013: [7, 31, 9, 11],
                            2014: [7, 30, 9, 15],
                            2015: [8, 1, 9, 14],
                            2016: [7, 30, 9, 12],
                            2017: [7, 29, 9, 11],
                            2018: [7, 30, 9, 10],
                            2019: [7, 29, 9, 9],
                            2020: [7, 27, 9, 7],
                            2021: [7, 30, 9, 13],
                            2022: [8, 1, 9, 12],
                            2023: [7, 31, 9, 11],
                            2024: [7, 29, 9, 9],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 29, 11, 3],
                            2013: [10, 28, 10, 31],
                            2014: [10, 27, 10, 31, 11, 19, 11, 19],
                            2015: [11, 2, 11, 7, 11, 18, 11, 18],
                            2016: [10, 31, 11, 4, 11, 16, 11, 16],
                            2017: [10, 30, 11, 3, 11, 22, 11, 22],
                            2018: [10, 29, 11, 2, 11, 21, 11, 21],
                            2019: [10, 28, 10, 31, 11, 20, 11, 20],
                            2020: [10, 31, 11, 6, 11, 18, 11, 18],
                            2021: [11, 2, 11, 5, 11, 17, 11, 17],
                            2022: [10, 31, 11, 4, 11, 16, 11, 16],
                            2023: [10, 30, 11, 3, 11, 22, 11, 22],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 27, 1, 5],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 4],
                            2014: [12, 24, 1, 5],
                            2015: [12, 24, 1, 5],
                            2016: [12, 24, 1, 5],
                            2017: [12, 23, 1, 5],
                            2018: [12, 22, 1, 5],
                            2019: [12, 23, 1, 4],
                            2020: [12, 23, 1, 9],
                            2021: [12, 24, 1, 8],
                            2022: [12, 24, 1, 7],
                            2023: [12, 23, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Berlin: {
                        _state_code: "be",
                        SH: [{
                            2012: [1, 30, 2, 4],
                            2013: [2, 4, 2, 9],
                            2014: [2, 3, 2, 8],
                            2015: [2, 2, 2, 7],
                            2016: [2, 1, 2, 6],
                            2017: [1, 30, 2, 3],
                            2018: [2, 5, 2, 10],
                            2019: [2, 4, 2, 9],
                            2020: [2, 3, 2, 8],
                            2021: [2, 1, 2, 6],
                            2022: [1, 29, 2, 5],
                            2023: [1, 30, 2, 4],
                            2024: [2, 5, 2, 10],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 14, 4, 30, 4, 30],
                            2013: [3, 25, 4, 6],
                            2014: [4, 14, 4, 26, 5, 2, 5, 2],
                            2015: [3, 30, 4, 11],
                            2016: [3, 21, 4, 2],
                            2017: [4, 10, 4, 18],
                            2018: [3, 26, 4, 6],
                            2019: [4, 15, 4, 26],
                            2020: [4, 6, 4, 17],
                            2021: [3, 29, 4, 10],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 14],
                            2024: [3, 25, 4, 5],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18],
                            2013: [5, 10, 5, 10, 5, 21, 5, 21],
                            2014: [5, 30, 5, 30],
                            2015: [5, 15, 5, 15, 5, 26, 5, 26],
                            2016: [5, 6, 5, 6, 5, 17, 5, 18],
                            2017: [5, 24, 5, 24, 5, 26, 5, 26, 6, 6, 6, 9],
                            2018: [4, 30, 4, 30, 5, 11, 5, 11, 5, 22, 5, 22],
                            2019: [5, 31, 5, 31, 6, 11, 6, 11],
                            2020: [5, 22, 5, 22],
                            2021: [5, 14, 5, 14],
                            2022: [5, 27, 5, 27, 6, 7, 6, 7],
                            2023: [5, 19, 5, 19, 5, 30, 5, 30],
                            2024: [5, 10, 5, 10],
                            name: "Pfingstferien"
                        }, {
                            2012: [6, 20, 8, 3],
                            2013: [6, 19, 8, 2],
                            2014: [7, 9, 8, 22],
                            2015: [7, 16, 8, 28],
                            2016: [7, 21, 9, 2],
                            2017: [7, 20, 9, 1],
                            2018: [7, 5, 8, 17],
                            2019: [6, 20, 8, 2],
                            2020: [6, 25, 8, 7],
                            2021: [6, 24, 8, 6],
                            2022: [7, 7, 8, 19],
                            2023: [7, 13, 8, 25],
                            2024: [7, 18, 8, 30],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 1, 10, 13],
                            2013: [9, 30, 10, 12],
                            2014: [10, 20, 11, 1],
                            2015: [10, 19, 10, 31],
                            2016: [10, 17, 10, 28],
                            2017: [10, 2, 10, 2, 10, 23, 11, 4],
                            2018: [10, 22, 11, 2],
                            2019: [10, 4, 10, 4, 10, 7, 10, 19],
                            2020: [10, 12, 10, 24],
                            2021: [10, 11, 10, 23],
                            2022: [10, 24, 11, 5],
                            2023: [10, 2, 10, 2, 10, 23, 11, 4],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 3],
                            2012: [12, 24, 1, 4],
                            2013: [12, 23, 1, 3],
                            2014: [12, 22, 1, 2],
                            2015: [12, 23, 1, 2],
                            2016: [12, 23, 1, 3],
                            2017: [12, 21, 1, 2],
                            2018: [12, 22, 1, 5],
                            2019: [12, 23, 1, 4],
                            2020: [12, 21, 1, 2],
                            2021: [12, 23, 12, 31],
                            2022: [12, 22, 1, 2],
                            2023: [12, 23, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Brandenburg: {
                        _state_code: "bb",
                        SH: [{
                            2012: [1, 30, 2, 4],
                            2013: [2, 4, 2, 9],
                            2014: [2, 3, 2, 8],
                            2015: [2, 2, 2, 7],
                            2016: [2, 1, 2, 6],
                            2017: [1, 30, 2, 4],
                            2018: [2, 5, 2, 10],
                            2019: [2, 4, 2, 9],
                            2020: [2, 3, 2, 8],
                            2021: [2, 1, 2, 6],
                            2022: [1, 31, 2, 5],
                            2023: [1, 30, 2, 3],
                            2024: [2, 5, 2, 9],
                            name: "Winterferien"
                        }, {
                            2012: [4, 4, 4, 14, 4, 30, 4, 30],
                            2013: [3, 27, 4, 6],
                            2014: [4, 16, 4, 26, 5, 2, 5, 2],
                            2015: [4, 1, 4, 11],
                            2016: [3, 23, 4, 2],
                            2017: [4, 10, 4, 22],
                            2018: [3, 26, 4, 6],
                            2019: [4, 15, 4, 26],
                            2020: [4, 6, 4, 17],
                            2021: [3, 29, 4, 9],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 14],
                            2024: [3, 25, 4, 5],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18],
                            2013: [5, 10, 5, 10],
                            2014: [5, 30, 5, 30],
                            2015: [5, 15, 5, 15],
                            2016: [5, 6, 5, 6, 5, 17, 5, 17],
                            2017: [5, 26, 5, 26],
                            2018: [4, 30, 4, 30, 5, 11, 5, 11],
                            2019: [5, 31, 5, 31],
                            2020: [5, 22, 5, 22],
                            2021: [5, 14, 5, 14],
                            2022: [5, 27, 5, 27],
                            2023: [5, 19, 5, 19],
                            2024: [5, 10, 5, 10],
                            name: "Pfingstferien"
                        }, {
                            2012: [6, 21, 8, 3],
                            2013: [6, 20, 8, 2],
                            2014: [7, 10, 8, 22],
                            2015: [7, 16, 8, 28],
                            2016: [7, 21, 9, 3],
                            2017: [7, 20, 9, 1],
                            2018: [7, 5, 8, 18],
                            2019: [6, 20, 8, 3],
                            2020: [6, 25, 8, 8],
                            2021: [6, 24, 8, 7],
                            2022: [7, 7, 8, 20],
                            2023: [7, 13, 8, 26],
                            2024: [7, 18, 8, 31],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 1, 10, 13],
                            2013: [9, 30, 10, 12, 11, 1, 11, 1],
                            2014: [10, 20, 11, 1],
                            2015: [10, 19, 10, 30],
                            2016: [10, 17, 10, 28],
                            2017: [10, 2, 10, 2, 10, 23, 11, 4],
                            2018: [10, 22, 11, 2],
                            2019: [10, 4, 10, 18, 11, 1, 11, 1],
                            2020: [10, 12, 10, 24],
                            2021: [10, 11, 10, 23],
                            2022: [10, 24, 11, 5],
                            2023: [10, 2, 10, 2, 10, 23, 11, 4],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 3],
                            2012: [12, 24, 1, 4],
                            2013: [12, 23, 1, 3],
                            2014: [12, 22, 1, 2],
                            2015: [12, 23, 1, 2],
                            2016: [12, 23, 1, 3],
                            2017: [12, 21, 1, 2],
                            2018: [12, 21, 1, 5],
                            2019: [12, 23, 1, 3],
                            2020: [12, 21, 1, 2],
                            2021: [12, 23, 12, 31],
                            2022: [12, 22, 1, 3],
                            2023: [12, 23, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Bremen: {
                        _state_code: "hb",
                        SH: [{
                            2012: [1, 30, 1, 31],
                            2013: [1, 31, 2, 1],
                            2014: [1, 30, 1, 31],
                            2015: [2, 2, 2, 3],
                            2016: [1, 28, 1, 29],
                            2017: [1, 30, 1, 31],
                            2018: [2, 1, 2, 2],
                            2019: [1, 31, 2, 1],
                            2020: [2, 3, 2, 4],
                            2021: [2, 1, 2, 2],
                            2022: [1, 31, 2, 1],
                            2023: [1, 30, 1, 31],
                            2024: [2, 1, 2, 2],
                            name: "Winterferien"
                        }, {
                            2012: [3, 26, 4, 11, 4, 30, 4, 30],
                            2013: [3, 16, 4, 2],
                            2014: [4, 3, 4, 22, 5, 2, 5, 2],
                            2015: [3, 25, 4, 10],
                            2016: [3, 18, 4, 2],
                            2017: [4, 10, 4, 22],
                            2018: [3, 19, 4, 3],
                            2019: [4, 6, 4, 23],
                            2020: [3, 28, 4, 14],
                            2021: [3, 27, 4, 10],
                            2022: [4, 4, 4, 19],
                            2023: [3, 27, 4, 11],
                            2024: [3, 18, 4, 2],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18, 5, 29, 5, 29],
                            2013: [5, 10, 5, 10, 5, 21, 5, 21],
                            2014: [5, 30, 5, 30, 6, 10, 6, 10],
                            2015: [5, 15, 5, 15, 5, 26, 5, 26],
                            2016: [5, 6, 5, 6, 5, 17, 5, 17],
                            2017: [5, 26, 5, 26, 6, 6, 6, 6],
                            2018: [4, 30, 4, 30, 5, 11, 5, 11, 5, 22, 5, 22],
                            2019: [5, 31, 5, 31, 6, 11, 6, 11],
                            2020: [5, 22, 5, 22, 6, 2, 6, 2],
                            2021: [5, 14, 5, 14, 5, 25, 5, 25],
                            2022: [5, 27, 5, 27, 6, 7, 6, 7],
                            2023: [5, 19, 5, 19, 5, 30, 5, 30],
                            2024: [5, 10, 5, 10, 5, 21, 5, 21],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 23, 8, 31],
                            2013: [6, 27, 8, 7],
                            2014: [7, 31, 9, 10],
                            2015: [7, 23, 9, 2],
                            2016: [6, 23, 8, 3],
                            2017: [6, 22, 8, 2],
                            2018: [6, 28, 8, 8],
                            2019: [7, 4, 8, 14],
                            2020: [7, 16, 8, 26],
                            2021: [7, 22, 9, 1],
                            2022: [7, 14, 8, 24],
                            2023: [7, 6, 8, 16],
                            2024: [6, 24, 8, 2],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 22, 11, 3],
                            2013: [10, 4, 10, 18],
                            2014: [10, 27, 11, 8],
                            2015: [10, 19, 10, 31],
                            2016: [10, 4, 10, 15],
                            2017: [10, 2, 10, 14, 10, 30, 10, 30],
                            2018: [10, 1, 10, 13],
                            2019: [10, 4, 10, 18],
                            2020: [10, 12, 10, 24],
                            2021: [10, 18, 10, 30],
                            2022: [10, 17, 10, 29],
                            2023: [10, 2, 10, 2, 10, 16, 10, 28],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 4],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 3],
                            2014: [12, 22, 1, 5],
                            2015: [12, 23, 1, 6],
                            2016: [12, 21, 1, 6],
                            2017: [12, 22, 1, 6],
                            2018: [12, 24, 1, 4],
                            2019: [12, 21, 1, 6],
                            2020: [12, 23, 1, 8],
                            2021: [12, 23, 1, 8],
                            2022: [12, 23, 1, 6],
                            2023: [12, 23, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Hamburg: {
                        _state_code: "hh",
                        SH: [{
                            2012: [1, 30, 1, 30],
                            2013: [2, 1, 2, 1],
                            2014: [1, 31, 1, 31],
                            2015: [1, 30, 1, 30],
                            2016: [1, 29, 1, 29],
                            2017: [1, 30, 1, 30],
                            2018: [2, 2, 2, 2],
                            2019: [2, 1, 2, 1],
                            2020: [1, 31, 1, 31],
                            2021: [1, 29, 1, 29],
                            2022: [1, 28, 1, 28],
                            2023: [1, 27, 1, 27],
                            2024: [2, 2, 2, 2],
                            name: "Winterferien"
                        }, {
                            2012: [3, 5, 3, 16],
                            2013: [3, 4, 3, 15],
                            2014: [3, 3, 3, 14],
                            2015: [3, 2, 3, 13],
                            2016: [3, 7, 3, 18],
                            2017: [3, 6, 3, 17],
                            2018: [3, 5, 3, 16, 4, 30, 4, 30],
                            2019: [3, 4, 3, 15],
                            2020: [3, 2, 3, 13],
                            2021: [3, 1, 3, 12],
                            2022: [3, 7, 3, 18],
                            2023: [3, 6, 3, 17],
                            2024: [3, 18, 3, 28],
                            name: "Osterferien"
                        }, {
                            2012: [4, 30, 5, 4, 5, 18, 5, 18],
                            2013: [5, 2, 5, 10],
                            2014: [4, 28, 5, 2, 5, 30, 5, 30],
                            2015: [5, 11, 5, 15],
                            2016: [5, 6, 5, 6, 5, 17, 5, 20],
                            2017: [5, 22, 5, 26],
                            2018: [5, 7, 5, 11],
                            2019: [5, 13, 5, 17, 5, 31, 5, 31],
                            2020: [5, 4, 5, 8],
                            2021: [5, 10, 5, 14],
                            2022: [5, 23, 5, 27],
                            2023: [5, 15, 5, 19],
                            2024: [5, 21, 5, 24],
                            name: "Pfingstferien"
                        }, {
                            2012: [6, 21, 8, 1],
                            2013: [6, 20, 7, 31],
                            2014: [7, 10, 8, 20],
                            2015: [7, 16, 8, 26],
                            2016: [7, 21, 8, 31],
                            2017: [7, 20, 8, 30],
                            2018: [7, 5, 8, 15],
                            2019: [6, 27, 8, 7],
                            2020: [6, 25, 8, 5],
                            2021: [6, 24, 8, 4],
                            2022: [7, 7, 8, 17],
                            2023: [7, 13, 8, 23],
                            2024: [7, 18, 8, 28],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 1, 10, 12],
                            2013: [9, 30, 10, 11],
                            2014: [10, 13, 10, 24],
                            2015: [10, 19, 10, 30],
                            2016: [10, 17, 10, 28],
                            2017: [10, 2, 10, 2, 10, 16, 10, 27],
                            2018: [10, 1, 10, 12],
                            2019: [10, 4, 10, 18],
                            2020: [10, 5, 10, 16],
                            2021: [10, 4, 10, 15],
                            2022: [10, 10, 10, 21],
                            2023: [10, 2, 10, 2, 10, 16, 10, 27],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 27, 1, 6],
                            2012: [12, 21, 1, 4],
                            2013: [12, 19, 1, 3],
                            2014: [12, 22, 1, 6],
                            2015: [12, 21, 1, 1],
                            2016: [12, 27, 1, 6],
                            2017: [12, 22, 1, 5],
                            2018: [12, 20, 1, 4],
                            2019: [12, 23, 1, 3],
                            2020: [12, 21, 1, 4],
                            2021: [12, 23, 1, 4],
                            2022: [12, 23, 1, 6],
                            2023: [12, 22, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Hessen: {
                        _state_code: "he",
                        SH: [{
                            2012: [4, 2, 4, 14],
                            2013: [3, 25, 4, 6],
                            2014: [4, 14, 4, 26],
                            2015: [3, 30, 4, 11],
                            2016: [3, 29, 4, 9],
                            2017: [4, 3, 4, 15],
                            2018: [3, 26, 4, 7],
                            2019: [4, 14, 4, 27],
                            2020: [4, 6, 4, 18],
                            2021: [4, 6, 4, 16],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 22],
                            2024: [3, 25, 4, 13],
                            name: "Osterferien"
                        }, {
                            2012: [7, 2, 8, 10],
                            2013: [7, 8, 8, 16],
                            2014: [7, 28, 9, 5],
                            2015: [7, 27, 9, 4],
                            2016: [7, 18, 8, 26],
                            2017: [7, 3, 8, 11],
                            2018: [6, 25, 8, 3],
                            2019: [7, 1, 8, 9],
                            2020: [7, 6, 8, 14],
                            2021: [7, 19, 8, 27],
                            2022: [7, 25, 9, 2],
                            2023: [7, 24, 9, 1],
                            2024: [7, 15, 8, 23],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 15, 10, 27],
                            2013: [10, 14, 10, 26],
                            2014: [10, 20, 11, 1],
                            2015: [10, 19, 10, 31],
                            2016: [10, 17, 10, 29],
                            2017: [10, 9, 10, 21],
                            2018: [10, 1, 10, 13],
                            2019: [9, 30, 10, 12],
                            2020: [10, 5, 10, 17],
                            2021: [10, 11, 10, 23],
                            2022: [10, 24, 10, 29],
                            2023: [10, 23, 10, 28],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 21, 1, 6],
                            2012: [12, 24, 1, 12],
                            2013: [12, 23, 1, 11],
                            2014: [12, 22, 1, 10],
                            2015: [12, 23, 1, 9],
                            2016: [12, 22, 1, 7],
                            2017: [12, 24, 1, 13],
                            2018: [12, 24, 1, 12],
                            2019: [12, 23, 1, 11],
                            2020: [12, 21, 1, 9],
                            2021: [12, 23, 1, 8],
                            2022: [12, 22, 1, 7],
                            2023: [12, 27, 1, 13],
                            name: "Weihnachtsferien"
                        }]
                    },
                    "Mecklenburg-Vorpommern": {
                        _state_code: "mv",
                        SH: [{
                            2012: [2, 6, 2, 17],
                            2013: [2, 4, 2, 15],
                            2014: [2, 3, 2, 15],
                            2015: [2, 2, 2, 14],
                            2016: [2, 1, 2, 13],
                            2017: [2, 6, 2, 18],
                            2018: [2, 5, 2, 16],
                            2019: [2, 4, 2, 15],
                            2020: [2, 10, 2, 21],
                            2021: [2, 6, 2, 19],
                            2022: [2, 5, 2, 17],
                            2023: [2, 6, 2, 18],
                            2024: [2, 5, 2, 16],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 11],
                            2013: [3, 25, 4, 3],
                            2014: [4, 14, 4, 23],
                            2015: [3, 30, 4, 8],
                            2016: [3, 21, 3, 30],
                            2017: [4, 10, 4, 19],
                            2018: [3, 26, 4, 4],
                            2019: [4, 15, 4, 24],
                            2020: [4, 6, 4, 15],
                            2021: [3, 29, 4, 7],
                            2022: [4, 11, 4, 20],
                            2023: [4, 3, 4, 12],
                            2024: [3, 25, 4, 3],
                            name: "Osterferien"
                        }, {
                            2012: [5, 25, 5, 29],
                            2013: [5, 17, 5, 21],
                            2014: [6, 6, 6, 10],
                            2015: [5, 22, 5, 26],
                            2016: [5, 14, 5, 17],
                            2017: [6, 2, 6, 6],
                            2018: [5, 11, 5, 11, 5, 18, 5, 22],
                            2019: [5, 22, 5, 22, 6, 7, 6, 11],
                            2020: [5, 22, 5, 22, 5, 29, 6, 2],
                            2021: [5, 14, 5, 14, 5, 21, 5, 25],
                            2022: [5, 27, 5, 27, 6, 3, 6, 7],
                            2023: [5, 19, 5, 19, 5, 26, 5, 30],
                            2024: [5, 10, 5, 10, 5, 17, 5, 21],
                            name: "Pfingstferien"
                        }, {
                            2012: [6, 23, 8, 4],
                            2013: [6, 22, 8, 3],
                            2014: [7, 14, 8, 23],
                            2015: [7, 20, 8, 29],
                            2016: [7, 25, 9, 3],
                            2017: [7, 24, 9, 2],
                            2018: [7, 9, 8, 18],
                            2019: [7, 1, 8, 10],
                            2020: [6, 22, 8, 1],
                            2021: [6, 21, 7, 31],
                            2022: [7, 4, 8, 13],
                            2023: [7, 17, 8, 26],
                            2024: [7, 22, 8, 31],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 1, 10, 5],
                            2013: [10, 14, 10, 19],
                            2014: [10, 20, 10, 25],
                            2015: [10, 24, 10, 30],
                            2016: [10, 24, 10, 28],
                            2017: [10, 2, 10, 2, 10, 23, 10, 30],
                            2018: [10, 8, 10, 13, 11, 1, 11, 2],
                            2019: [10, 4, 10, 4, 10, 7, 10, 12, 11, 1, 11, 1],
                            2020: [10, 5, 10, 10, 11, 2, 11, 3],
                            2021: [10, 2, 10, 9, 11, 1, 11, 2],
                            2022: [10, 10, 10, 14, 11, 1, 11, 2],
                            2023: [10, 9, 10, 14, 10, 30, 10, 30, 11, 1, 11, 1],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 3],
                            2012: [12, 21, 1, 4],
                            2013: [12, 23, 1, 3],
                            2014: [12, 22, 1, 2],
                            2015: [12, 21, 1, 2],
                            2016: [12, 22, 1, 2],
                            2017: [12, 21, 1, 3],
                            2018: [12, 24, 1, 5],
                            2019: [12, 23, 1, 4],
                            2020: [12, 21, 1, 2],
                            2021: [12, 22, 12, 31],
                            2022: [12, 22, 1, 2],
                            2023: [12, 21, 1, 3],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Niedersachsen: {
                        _state_code: "ni",
                        SH: [{
                            2012: [1, 30, 1, 31],
                            2013: [1, 31, 2, 1],
                            2014: [1, 30, 1, 31],
                            2015: [2, 2, 2, 3],
                            2016: [1, 28, 1, 29],
                            2017: [1, 30, 1, 31],
                            2018: [2, 1, 2, 2],
                            2019: [1, 31, 2, 1],
                            2020: [2, 3, 2, 4],
                            2021: [2, 1, 2, 2],
                            2022: [1, 31, 2, 1],
                            2023: [1, 30, 1, 31],
                            2024: [2, 1, 2, 2],
                            name: "Winterferien"
                        }, {
                            2012: [3, 26, 4, 11, 4, 30, 4, 30],
                            2013: [3, 16, 4, 2],
                            2014: [4, 3, 4, 22, 5, 2, 5, 2],
                            2015: [3, 25, 4, 10],
                            2016: [3, 18, 4, 2],
                            2017: [4, 10, 4, 22],
                            2018: [3, 19, 4, 3],
                            2019: [4, 8, 4, 23],
                            2020: [3, 30, 4, 14],
                            2021: [3, 29, 4, 9],
                            2022: [4, 4, 4, 19],
                            2023: [3, 27, 4, 11],
                            2024: [3, 18, 4, 2],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18, 5, 29, 5, 29],
                            2013: [5, 10, 5, 10, 5, 21, 5, 21],
                            2014: [5, 30, 5, 30, 6, 10, 6, 10],
                            2015: [5, 15, 5, 15, 5, 26, 5, 26],
                            2016: [5, 6, 5, 6, 5, 17, 5, 17],
                            2017: [5, 26, 5, 26, 6, 6, 6, 6],
                            2018: [4, 30, 4, 30, 5, 11, 5, 11, 5, 22, 5, 22],
                            2019: [5, 31, 5, 31, 6, 11, 6, 11],
                            2020: [5, 22, 5, 22, 6, 2, 6, 2],
                            2021: [5, 14, 5, 14, 5, 25, 5, 25],
                            2022: [5, 27, 5, 27, 6, 7, 6, 7],
                            2023: [5, 19, 5, 19, 5, 30, 5, 30],
                            2024: [5, 10, 5, 10, 5, 21, 5, 21],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 23, 8, 31],
                            2013: [6, 27, 8, 7],
                            2014: [7, 31, 9, 10],
                            2015: [7, 23, 9, 2],
                            2016: [6, 23, 8, 3],
                            2017: [6, 22, 8, 2],
                            2018: [6, 28, 8, 8],
                            2019: [7, 4, 8, 14],
                            2020: [7, 16, 8, 26],
                            2021: [7, 22, 9, 1],
                            2022: [7, 14, 8, 24],
                            2023: [7, 6, 8, 16],
                            2024: [6, 24, 8, 2],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 22, 11, 3],
                            2013: [10, 4, 10, 18],
                            2014: [10, 27, 11, 8],
                            2015: [10, 19, 10, 31],
                            2016: [10, 4, 10, 15],
                            2017: [10, 2, 10, 13, 10, 30, 10, 30],
                            2018: [10, 1, 10, 12],
                            2019: [10, 4, 10, 18],
                            2020: [10, 12, 10, 23],
                            2021: [10, 18, 10, 29],
                            2022: [10, 17, 10, 28],
                            2023: [10, 2, 10, 2, 10, 16, 10, 27],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 4],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 3],
                            2014: [12, 22, 1, 5],
                            2015: [12, 23, 1, 6],
                            2016: [12, 21, 1, 6],
                            2017: [12, 22, 1, 5],
                            2018: [12, 24, 1, 4],
                            2019: [12, 23, 1, 6],
                            2020: [12, 23, 1, 8],
                            2021: [12, 23, 1, 7],
                            2022: [12, 23, 1, 6],
                            2023: [12, 27, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    "Nordrhein-Westfalen": {
                        _state_code: "nw",
                        SH: [{
                            2012: [4, 2, 4, 14],
                            2013: [3, 25, 4, 6],
                            2014: [4, 14, 4, 26],
                            2015: [3, 30, 4, 11],
                            2016: [3, 21, 4, 2],
                            2017: [4, 10, 4, 22],
                            2018: [3, 26, 4, 7],
                            2019: [4, 15, 4, 27],
                            2020: [4, 6, 4, 18],
                            2021: [3, 29, 4, 10],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 15],
                            2024: [3, 25, 4, 6],
                            name: "Osterferien"
                        }, {
                            2012: [5, 29, 5, 29],
                            2013: [5, 21, 5, 21],
                            2014: [6, 10, 6, 10],
                            2015: [5, 26, 5, 26],
                            2016: [5, 17, 5, 17],
                            2017: [6, 6, 6, 6],
                            2018: [5, 22, 5, 25],
                            2019: [6, 11, 6, 11],
                            2020: [6, 2, 6, 2],
                            2021: [5, 25, 5, 25],
                            2023: [5, 30, 5, 30],
                            2024: [5, 21, 5, 21],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 9, 8, 21],
                            2013: [7, 22, 9, 3],
                            2014: [7, 7, 8, 19],
                            2015: [6, 29, 8, 11],
                            2016: [7, 11, 8, 23],
                            2017: [7, 17, 8, 29],
                            2018: [7, 16, 8, 28],
                            2019: [7, 15, 8, 27],
                            2020: [6, 29, 8, 11],
                            2021: [7, 5, 8, 17],
                            2022: [6, 27, 8, 9],
                            2023: [6, 22, 8, 4],
                            2024: [7, 8, 8, 20],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 8, 10, 20],
                            2013: [10, 21, 11, 2],
                            2014: [10, 6, 10, 18],
                            2015: [10, 5, 10, 17],
                            2016: [10, 10, 10, 21],
                            2017: [10, 23, 11, 4],
                            2018: [10, 15, 10, 27],
                            2019: [10, 14, 10, 26],
                            2020: [10, 12, 10, 24],
                            2021: [10, 11, 10, 23],
                            2022: [10, 4, 10, 15],
                            2023: [10, 2, 10, 14],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 6],
                            2012: [12, 21, 1, 4],
                            2013: [12, 23, 1, 7],
                            2014: [12, 22, 1, 6],
                            2015: [12, 23, 1, 6],
                            2016: [12, 23, 1, 6],
                            2017: [12, 27, 1, 6],
                            2018: [12, 21, 1, 4],
                            2019: [12, 23, 1, 6],
                            2020: [12, 23, 1, 6],
                            2021: [12, 24, 1, 8],
                            2022: [12, 23, 1, 6],
                            2023: [12, 21, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    "Rheinland-Pfalz": {
                        _state_code: "rp",
                        SH: [{
                            2019: [2, 25, 3, 1],
                            2020: [2, 17, 2, 21],
                            2022: [2, 21, 2, 25],
                            name: "Winterferien"
                        }, {
                            2012: [3, 29, 4, 13],
                            2013: [3, 20, 4, 5],
                            2014: [4, 11, 4, 25],
                            2015: [3, 26, 4, 10],
                            2016: [3, 18, 4, 1],
                            2017: [4, 10, 4, 21],
                            2018: [3, 26, 4, 6],
                            2019: [4, 23, 4, 30],
                            2020: [4, 9, 4, 17],
                            2021: [3, 29, 4, 6],
                            2022: [4, 13, 4, 22],
                            2023: [4, 3, 4, 6],
                            2024: [3, 25, 4, 2],
                            name: "Osterferien"
                        }, {
                            2021: [5, 25, 6, 2],
                            2023: [5, 30, 6, 7],
                            2024: [5, 21, 5, 29],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 2, 8, 10],
                            2013: [7, 8, 8, 16],
                            2014: [7, 28, 9, 5],
                            2015: [7, 27, 9, 4],
                            2016: [7, 18, 8, 26],
                            2017: [7, 3, 8, 11],
                            2018: [6, 25, 8, 3],
                            2019: [7, 1, 8, 9],
                            2020: [7, 6, 8, 14],
                            2021: [7, 19, 8, 27],
                            2022: [7, 25, 9, 2],
                            2023: [7, 24, 9, 1],
                            2024: [7, 15, 8, 23],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 1, 10, 12],
                            2013: [10, 4, 10, 18],
                            2014: [10, 20, 10, 31],
                            2015: [10, 19, 10, 30],
                            2016: [10, 10, 10, 21],
                            2017: [10, 2, 10, 13],
                            2018: [10, 1, 10, 12],
                            2019: [9, 30, 10, 11],
                            2020: [10, 12, 10, 23],
                            2021: [10, 11, 10, 22],
                            2022: [10, 17, 10, 31],
                            2023: [10, 16, 10, 27],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 22, 1, 6],
                            2012: [12, 20, 1, 4],
                            2013: [12, 23, 1, 7],
                            2014: [12, 22, 1, 7],
                            2015: [12, 23, 1, 8],
                            2016: [12, 22, 1, 6],
                            2017: [12, 22, 1, 9],
                            2018: [12, 20, 1, 4],
                            2019: [12, 23, 1, 6],
                            2020: [12, 21, 12, 31],
                            2021: [12, 23, 12, 31],
                            2022: [12, 23, 1, 2],
                            2023: [12, 27, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Saarland: {
                        _state_code: "sl",
                        SH: [{
                            2012: [2, 20, 2, 25],
                            2013: [2, 11, 2, 16],
                            2014: [3, 3, 3, 8],
                            2015: [2, 16, 2, 21],
                            2016: [2, 8, 2, 13],
                            2017: [2, 27, 3, 4],
                            2018: [2, 12, 2, 17],
                            2019: [2, 25, 3, 5],
                            2020: [2, 17, 2, 25],
                            2021: [2, 15, 2, 19],
                            2022: [2, 21, 3, 1],
                            2023: [2, 20, 2, 24],
                            2024: [2, 12, 2, 16],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 14],
                            2013: [3, 25, 4, 6],
                            2014: [4, 14, 4, 26],
                            2015: [3, 30, 4, 11],
                            2016: [3, 29, 4, 9],
                            2017: [4, 10, 4, 22],
                            2018: [3, 26, 4, 6],
                            2019: [4, 17, 4, 26],
                            2020: [4, 14, 4, 24],
                            2021: [3, 29, 4, 7],
                            2022: [4, 14, 4, 22],
                            2023: [4, 3, 4, 12],
                            2024: [2, 25, 4, 5],
                            name: "Osterferien"
                        }, {
                            2021: [5, 25, 5, 28],
                            2022: [6, 7, 6, 10],
                            2023: [5, 30, 6, 2],
                            2024: [5, 21, 5, 24],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 2, 8, 14],
                            2013: [7, 8, 8, 17],
                            2014: [7, 28, 9, 6],
                            2015: [7, 27, 9, 5],
                            2016: [7, 18, 8, 27],
                            2017: [7, 3, 8, 14],
                            2018: [6, 25, 8, 3],
                            2019: [7, 1, 8, 9],
                            2020: [7, 6, 8, 14],
                            2021: [7, 19, 8, 27],
                            2022: [7, 25, 9, 2],
                            2023: [7, 24, 9, 1],
                            2024: [7, 15, 8, 23],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 22, 11, 3],
                            2013: [10, 21, 11, 2],
                            2014: [10, 20, 10, 31],
                            2015: [10, 19, 10, 31],
                            2016: [10, 10, 10, 22],
                            2017: [10, 2, 10, 14],
                            2018: [10, 1, 10, 12],
                            2019: [10, 7, 10, 18],
                            2020: [10, 12, 10, 23],
                            2021: [10, 18, 10, 29],
                            2022: [10, 24, 11, 4],
                            2023: [10, 23, 11, 3],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 4],
                            2012: [12, 24, 1, 5],
                            2013: [12, 20, 1, 4],
                            2014: [12, 22, 1, 7],
                            2015: [12, 21, 1, 2],
                            2016: [12, 19, 12, 31],
                            2017: [12, 21, 1, 5],
                            2018: [12, 20, 1, 4],
                            2019: [12, 23, 1, 3],
                            2020: [12, 21, 12, 31],
                            2021: [12, 23, 1, 3],
                            2022: [12, 22, 1, 4],
                            2023: [12, 21, 1, 2],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Sachsen: {
                        _state_code: "sn",
                        SH: [{
                            2012: [2, 13, 2, 25],
                            2013: [2, 4, 2, 15],
                            2014: [2, 17, 3, 1],
                            2015: [2, 9, 2, 21],
                            2016: [2, 8, 2, 20],
                            2017: [2, 13, 2, 24],
                            2018: [2, 12, 2, 23],
                            2019: [2, 18, 3, 2],
                            2020: [2, 10, 2, 22],
                            2021: [2, 8, 2, 20],
                            2022: [2, 12, 2, 26],
                            2023: [2, 13, 2, 24],
                            2024: [2, 12, 2, 23],
                            name: "Winterferien"
                        }, {
                            2012: [4, 6, 4, 14],
                            2013: [3, 29, 4, 6],
                            2014: [4, 18, 4, 26],
                            2015: [4, 2, 4, 11],
                            2016: [3, 25, 4, 2],
                            2017: [4, 13, 4, 22],
                            2018: [3, 29, 4, 6],
                            2019: [4, 19, 4, 26],
                            2020: [4, 10, 4, 18],
                            2021: [4, 2, 4, 10],
                            2022: [4, 15, 4, 23],
                            2023: [4, 7, 4, 15],
                            2024: [3, 28, 4, 5],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18],
                            2013: [5, 10, 5, 10, 5, 18, 5, 22],
                            2014: [5, 30, 5, 30],
                            2015: [5, 15, 5, 15],
                            2016: [5, 6, 5, 6],
                            2017: [5, 26, 5, 26],
                            2018: [5, 11, 5, 11, 5, 19, 5, 22],
                            2019: [5, 31, 5, 31],
                            2020: [5, 22, 5, 22],
                            2021: [5, 14, 5, 14],
                            2022: [5, 27, 5, 27],
                            2023: [5, 19, 5, 19],
                            2024: [5, 10, 5, 10, 5, 18, 5, 21],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 23, 8, 31],
                            2013: [7, 15, 8, 23],
                            2014: [7, 21, 8, 29],
                            2015: [7, 13, 8, 21],
                            2016: [6, 27, 8, 5],
                            2017: [6, 26, 8, 4],
                            2018: [7, 2, 8, 10],
                            2019: [7, 8, 8, 16],
                            2020: [7, 20, 8, 28],
                            2021: [7, 26, 9, 3],
                            2022: [7, 18, 8, 26],
                            2023: [7, 10, 8, 18],
                            2024: [6, 20, 7, 31],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 22, 11, 2],
                            2013: [10, 21, 11, 1],
                            2014: [10, 20, 10, 31],
                            2015: [10, 12, 10, 24],
                            2016: [10, 3, 10, 15],
                            2017: [10, 2, 10, 14, 10, 30, 10, 30],
                            2018: [10, 8, 10, 20],
                            2019: [10, 14, 10, 25],
                            2020: [10, 19, 10, 31],
                            2021: [10, 18, 10, 30],
                            2022: [10, 17, 10, 29],
                            2023: [10, 2, 10, 14, 10, 30, 10, 30],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 2],
                            2012: [12, 22, 1, 2],
                            2013: [12, 21, 1, 3],
                            2014: [12, 22, 1, 3],
                            2015: [12, 21, 1, 2],
                            2016: [12, 23, 1, 2],
                            2017: [12, 23, 1, 2],
                            2018: [12, 22, 1, 4],
                            2019: [12, 21, 1, 3],
                            2020: [12, 23, 1, 2],
                            2021: [12, 23, 1, 1],
                            2022: [12, 22, 1, 2],
                            2023: [12, 23, 1, 2],
                            name: "Weihnachtsferien"
                        }]
                    },
                    "Sachsen-Anhalt": {
                        _state_code: "st",
                        SH: [{
                            2012: [2, 4, 2, 11],
                            2013: [2, 1, 2, 8],
                            2014: [2, 1, 2, 12],
                            2015: [2, 2, 2, 14],
                            2016: [2, 1, 2, 10],
                            2017: [2, 4, 2, 11],
                            2018: [2, 5, 2, 9],
                            2019: [2, 11, 2, 15],
                            2020: [2, 10, 2, 14],
                            2021: [2, 8, 2, 13],
                            2022: [2, 12, 2, 19],
                            2023: [2, 6, 2, 11],
                            2024: [2, 5, 2, 10],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 7],
                            2013: [3, 25, 3, 30],
                            2014: [4, 14, 4, 17],
                            2015: [4, 2, 4, 2],
                            2016: [3, 24, 3, 24],
                            2017: [4, 10, 4, 13],
                            2018: [3, 26, 3, 31, 4, 30, 4, 30],
                            2019: [4, 18, 4, 30],
                            2020: [4, 6, 4, 11],
                            2021: [3, 29, 4, 3],
                            2022: [4, 11, 4, 16],
                            2023: [4, 3, 4, 8],
                            2024: [3, 25, 3, 30],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 25],
                            2013: [5, 10, 5, 18],
                            2014: [5, 30, 6, 7],
                            2015: [5, 15, 5, 23],
                            2016: [5, 6, 5, 14],
                            2017: [5, 26, 5, 26],
                            2018: [5, 11, 5, 19],
                            2019: [5, 31, 6, 1],
                            2020: [5, 18, 5, 30],
                            2021: [5, 10, 5, 22],
                            2022: [5, 23, 5, 28],
                            2023: [5, 15, 5, 19],
                            2024: [5, 21, 5, 24],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 23, 9, 5],
                            2013: [7, 15, 8, 28],
                            2014: [7, 21, 9, 3],
                            2015: [7, 13, 8, 26],
                            2016: [6, 27, 8, 10],
                            2017: [6, 26, 8, 9],
                            2018: [6, 28, 8, 8],
                            2019: [7, 4, 8, 14],
                            2020: [7, 16, 8, 26],
                            2021: [7, 22, 9, 1],
                            2022: [7, 14, 8, 24],
                            2023: [7, 6, 8, 16],
                            2024: [6, 24, 8, 3],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 29, 11, 2],
                            2013: [10, 21, 10, 25],
                            2014: [10, 27, 10, 30],
                            2015: [10, 17, 10, 24],
                            2016: [10, 4, 10, 15],
                            2017: [10, 2, 10, 13, 10, 30, 10, 30],
                            2018: [10, 1, 10, 12],
                            2019: [10, 4, 10, 11, 11, 1, 11, 1],
                            2020: [10, 19, 10, 24],
                            2021: [10, 25, 10, 30],
                            2022: [10, 24, 11, 4],
                            2023: [10, 2, 10, 2, 10, 16, 10, 30],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 22, 1, 7],
                            2012: [12, 19, 1, 4],
                            2013: [12, 21, 1, 3],
                            2014: [12, 22, 1, 5],
                            2015: [12, 21, 1, 5],
                            2016: [12, 19, 1, 2],
                            2017: [12, 21, 1, 3],
                            2018: [12, 19, 1, 4],
                            2019: [12, 23, 1, 4],
                            2020: [12, 19, 1, 5],
                            2021: [12, 22, 1, 8],
                            2022: [12, 21, 1, 5],
                            2023: [12, 21, 1, 3],
                            name: "Weihnachtsferien"
                        }]
                    },
                    "Schleswig-Holstein": {
                        _state_code: "sh",
                        SH: [{
                            2012: [3, 30, 4, 13],
                            2013: [3, 25, 4, 9],
                            2014: [4, 16, 5, 2],
                            2015: [4, 1, 4, 17],
                            2016: [3, 24, 4, 9],
                            2017: [4, 7, 4, 21],
                            2018: [3, 29, 4, 13],
                            2019: [4, 4, 4, 18],
                            2020: [3, 30, 4, 17],
                            2021: [4, 1, 4, 16],
                            2022: [4, 4, 4, 16],
                            2023: [4, 6, 4, 22],
                            2024: [4, 2, 4, 19],
                            name: "Osterferien"
                        }, {
                            2012: [5, 18, 5, 18],
                            2013: [5, 10, 5, 10],
                            2014: [5, 30, 5, 30],
                            2015: [5, 15, 5, 15],
                            2016: [5, 6, 5, 6],
                            2017: [5, 26, 5, 26],
                            2018: [5, 11, 5, 11],
                            2019: [5, 31, 5, 31],
                            2020: [5, 22, 5, 22],
                            2021: [5, 14, 5, 14],
                            2022: [5, 27, 5, 27],
                            2023: [5, 19, 5, 20],
                            2024: [5, 10, 5, 11],
                            name: "Pfingstferien"
                        }, {
                            2012: [6, 25, 8, 4],
                            2013: [6, 24, 8, 3],
                            2014: [7, 14, 8, 23],
                            2015: [7, 20, 8, 29],
                            2016: [7, 25, 9, 3],
                            2017: [7, 24, 9, 2],
                            2018: [7, 9, 8, 18],
                            2019: [7, 1, 8, 10],
                            2020: [6, 29, 8, 8],
                            2021: [6, 21, 7, 31],
                            2022: [7, 4, 8, 13],
                            2023: [7, 17, 8, 26],
                            2024: [7, 22, 8, 31],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 4, 10, 19],
                            2013: [10, 4, 10, 18],
                            2014: [10, 13, 10, 25],
                            2015: [10, 19, 10, 31],
                            2016: [10, 17, 10, 29],
                            2017: [10, 16, 10, 27],
                            2018: [10, 1, 10, 19],
                            2019: [10, 4, 10, 18],
                            2020: [10, 5, 10, 17],
                            2021: [10, 4, 10, 16],
                            2022: [10, 10, 10, 21],
                            2023: [10, 16, 10, 27],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 6],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 6],
                            2014: [12, 22, 1, 6],
                            2015: [12, 21, 1, 6],
                            2016: [12, 23, 1, 6],
                            2017: [12, 21, 1, 6],
                            2018: [12, 21, 1, 4],
                            2019: [12, 23, 1, 6],
                            2020: [12, 21, 1, 6],
                            2021: [12, 23, 1, 8],
                            2022: [12, 23, 1, 7],
                            2023: [12, 27, 1, 6],
                            name: "Weihnachtsferien"
                        }]
                    },
                    Th\u00fcringen: {
                        _state_code: "th",
                        SH: [{
                            2012: [2, 6, 2, 11],
                            2013: [2, 18, 2, 23],
                            2014: [2, 17, 2, 22],
                            2015: [2, 2, 2, 7],
                            2016: [2, 1, 2, 6],
                            2017: [2, 6, 2, 11],
                            2018: [2, 5, 2, 9],
                            2019: [2, 11, 2, 15],
                            2020: [2, 10, 2, 14],
                            2021: [2, 8, 2, 13],
                            2022: [2, 12, 2, 19],
                            2023: [2, 13, 2, 17],
                            2024: [2, 12, 2, 16],
                            name: "Winterferien"
                        }, {
                            2012: [4, 2, 4, 13],
                            2013: [3, 25, 4, 6],
                            2014: [4, 19, 5, 2],
                            2015: [3, 30, 4, 11],
                            2016: [3, 24, 4, 2],
                            2017: [4, 10, 4, 21],
                            2018: [3, 26, 4, 7],
                            2019: [4, 15, 4, 27],
                            2020: [4, 6, 4, 18],
                            2021: [3, 29, 4, 10],
                            2022: [4, 11, 4, 23],
                            2023: [4, 3, 4, 15],
                            2024: [3, 25, 4, 6],
                            name: "Osterferien"
                        }, {
                            2012: [5, 25, 5, 29],
                            2013: [5, 10, 5, 10],
                            2014: [5, 30, 5, 30],
                            2015: [5, 15, 5, 15],
                            2016: [5, 6, 5, 6],
                            2017: [5, 26, 5, 26],
                            2018: [5, 11, 5, 11],
                            2019: [5, 31, 5, 31],
                            2020: [5, 22, 5, 22],
                            2021: [5, 14, 5, 14],
                            2022: [5, 27, 5, 27],
                            2023: [5, 19, 5, 19],
                            2024: [5, 10, 5, 10],
                            name: "Pfingstferien"
                        }, {
                            2012: [7, 23, 8, 31],
                            2013: [7, 15, 8, 23],
                            2014: [7, 21, 8, 29],
                            2015: [7, 13, 8, 21],
                            2016: [6, 27, 8, 10],
                            2017: [6, 26, 8, 9],
                            2018: [7, 2, 8, 11],
                            2019: [7, 8, 8, 17],
                            2020: [7, 20, 8, 29],
                            2021: [7, 26, 9, 4],
                            2022: [7, 18, 8, 27],
                            2023: [7, 10, 8, 19],
                            2024: [6, 20, 7, 31],
                            name: "Sommerferien"
                        }, {
                            2012: [10, 22, 11, 3],
                            2013: [10, 21, 11, 2],
                            2014: [10, 6, 10, 18],
                            2015: [10, 5, 10, 17],
                            2016: [10, 10, 10, 22],
                            2017: [10, 2, 10, 14],
                            2018: [10, 1, 10, 13],
                            2019: [10, 7, 10, 19],
                            2020: [10, 17, 10, 30],
                            2021: [10, 25, 11, 6],
                            2022: [10, 17, 10, 29],
                            2023: [10, 2, 10, 14],
                            name: "Herbstferien"
                        }, {
                            2011: [12, 23, 1, 1],
                            2012: [12, 24, 1, 5],
                            2013: [12, 23, 1, 4],
                            2014: [12, 22, 1, 3],
                            2015: [12, 23, 1, 2],
                            2016: [12, 23, 12, 31],
                            2017: [12, 22, 1, 5],
                            2018: [12, 21, 1, 4],
                            2019: [12, 21, 1, 3],
                            2020: [12, 23, 1, 2],
                            2021: [12, 23, 12, 31],
                            2022: [12, 22, 1, 3],
                            2023: [12, 22, 1, 5],
                            name: "Weihnachtsferien"
                        }]
                    }
                },
                dk: {
                    PH: [{name: "Nyt\xe5rsdag", fixed_date: [1, 1]}, {
                        name: "Sk\xe6rtorsdag",
                        variable_date: "easter",
                        offset: -3
                    }, {name: "Langfredag", variable_date: "easter", offset: -2}, {
                        name: "P\xe5skedag",
                        variable_date: "easter"
                    }, {name: "2. P\xe5skedag", variable_date: "easter", offset: 1}, {
                        name: "Store Bededag",
                        variable_date: "easter",
                        offset: 26
                    }, {name: "Kristi Himmelfartsdag", variable_date: "easter", offset: 39}, {
                        name: "Pinsedag",
                        variable_date: "easter",
                        offset: 49
                    }, {name: "2. Pinsedag", variable_date: "easter", offset: 50}, {
                        name: "Grundlovsdag",
                        fixed_date: [6, 5]
                    }, {name: "Juleaftensdag", fixed_date: [12, 24]}, {
                        name: "Juledag",
                        fixed_date: [12, 25]
                    }, {name: "2. Juledag", fixed_date: [12, 26]}]
                },
                es: {
                    PH: [{name: "Cap d'Any", fixed_date: [1, 1], only_states: ["Catalu\xf1a"]}, {
                        name: "A\xf1o Nuevo",
                        fixed_date: [1, 1]
                    }, {
                        name: "Reis",
                        fixed_date: [1, 6],
                        only_states: ["Catalu\xf1a"]
                    }, {name: "Epifan\xeda del Se\xf1or", fixed_date: [1, 6]}, {
                        name: "D\xeda de Andaluc\xeda",
                        fixed_date: [2, 28],
                        only_states: ["Andaluc\xeda"]
                    }, {
                        name: "Dia de les Illes Balears",
                        fixed_date: [3, 1],
                        only_states: ["Islas Baleares"]
                    }, {
                        name: "Sant Josep",
                        fixed_date: [3, 19],
                        only_states: ["Comunidad Valenciana"]
                    }, {name: "San Jos\xe9", fixed_date: [3, 19], only_states: ["Murcia"]}, {
                        name: "Jueve Santo",
                        variable_date: "easter",
                        offset: -3,
                        only_states: ["Andaluc\xeda", "Arag\xf3n", "Castilla y Le\xf3n", "Castilla-La Mancha", "Canarias", "Extremadura", "Galicia", "Islas Baleares", "La Rioja", "Comunidad de Madrid", "Regi\xf3n de Murcia", "Navarra", "Asturias", "Pa\xeds Vasco", "Cantabria", "Ceuta", "Melilla"]
                    }, {
                        name: "Divendres Sant",
                        variable_date: "easter",
                        offset: -2,
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {name: "Viernes Santo", variable_date: "easter", offset: -2}, {
                        name: "Dilluns de Pasqua Florida",
                        variable_date: "easter",
                        offset: 1,
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {
                        name: "Lunes de Pascua de Resurrecci\xf3n",
                        variable_date: "easter",
                        offset: 1,
                        only_states: ["Pa\xeds Vasco", "Navarra"]
                    }, {
                        name: "D\xeda de Arag\xf3n",
                        fixed_date: [4, 23],
                        only_states: ["Arag\xf3n"]
                    }, {
                        name: "D\xeda de Castilla y Le\xf3n",
                        fixed_date: [4, 23],
                        only_states: ["Castilla y Le\xf3n"]
                    }, {
                        name: "Festa del Treball",
                        fixed_date: [5, 1],
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {name: "Fiesta del Trabajo", fixed_date: [5, 1]}, {
                        name: "Fiesta de la Comunidad de Madrid",
                        fixed_date: [5, 2],
                        only_states: ["Comunidad de Madrid"]
                    }, {
                        name: "D\xeda das Letras Galegas",
                        fixed_date: [5, 2],
                        only_states: ["Galicia"]
                    }, {
                        name: "D\xeda de Canarias",
                        fixed_date: [5, 30],
                        only_states: ["Canarias"]
                    }, {
                        name: "D\xeda de la Regi\xf3n Castilla-La Mancha",
                        fixed_date: [5, 31],
                        only_states: ["Castilla-La Mancha"]
                    }, {
                        name: "D\xeda de la Regi\xf3n de Murcia",
                        fixed_date: [6, 9],
                        only_states: ["Regi\xf3n de Murcia"]
                    }, {
                        name: "D\xeda de la Rioja",
                        fixed_date: [6, 9],
                        only_states: ["La Rioja"]
                    }, {name: "San Antonio", fixed_date: [6, 13], only_states: ["Ceuta"]}, {
                        name: "Sant Joan",
                        fixed_date: [6, 24],
                        only_states: ["Catalu\xf1a"]
                    }, {name: "San Juan", fixed_date: [6, 24], only_states: ["Ceuta"]}, {
                        name: "Santiago Ap\xf3stol",
                        fixed_date: [7, 25],
                        only_states: ["Galicia"]
                    }, {
                        name: "Santa Mar\xeda de \xc1frica",
                        fixed_date: [8, 6],
                        only_states: ["Ceuta"]
                    }, {
                        name: "l'Assumpci\xf3",
                        fixed_date: [8, 15],
                        only_states: ["Catalu\xf1a"]
                    }, {name: "Asunci\xf3n de la Virgen", fixed_date: [8, 15]}, {
                        name: "D\xeda de Ceuta",
                        fixed_date: [9, 2],
                        only_states: ["Ceuta"]
                    }, {
                        name: "D\xeda de Asturias",
                        fixed_date: [9, 8],
                        only_states: ["Asturias"]
                    }, {
                        name: "D\xeda de Extremadura",
                        fixed_date: [9, 8],
                        only_states: ["Extremadura"]
                    }, {
                        name: "Diada Nacional de Catalunya",
                        fixed_date: [9, 11],
                        only_states: ["Catalu\xf1a"]
                    }, {
                        name: "D\xeda de Cantabria",
                        fixed_date: [9, 17],
                        only_states: ["Cantabria"]
                    }, {
                        name: "D\xeda de Melilla",
                        fixed_date: [9, 15],
                        only_states: ["Melilla"]
                    }, {
                        name: "Dia de la Comunitat Valenciana",
                        fixed_date: [10, 9],
                        only_states: ["Comunidad Valenciana"]
                    }, {
                        name: "Festa Nacional d'Espanya",
                        fixed_date: [10, 12],
                        only_states: ["Catalu\xf1a"]
                    }, {name: "Fiesta Nacional de Espa\xf1a", fixed_date: [10, 12]}, {
                        name: "Euskadi Eguna",
                        fixed_date: [10, 25],
                        only_states: ["Pa\xeds Vasco"]
                    }, {
                        name: "Tots Sants",
                        fixed_date: [11, 1],
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {
                        name: "Todos los Santos",
                        fixed_date: [11, 1]
                    }, {
                        name: "D\xeda de la Constituci\xf3n Espa\xf1ola",
                        fixed_date: [12, 6]
                    }, {
                        name: "La Pur\xedssima",
                        fixed_date: [12, 8],
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {name: "La Immaculada Concepci\xf3n", fixed_date: [12, 8]}, {
                        name: "Nadal",
                        fixed_date: [12, 25],
                        only_states: ["Catalu\xf1a", "Comunidad Valenciana", "Islas Baleares"]
                    }, {name: "Natividad del Se\xf1or", fixed_date: [12, 25]}, {
                        name: "Sant Esteve",
                        fixed_date: [12, 26],
                        only_states: ["Catalu\xf1a"]
                    }],
                    Andaluc\u00eda: {_state_code: "an"},
                    Arag\u00f3n: {_state_code: "ar"},
                    "Castilla y Le\xf3n": {_state_code: "cl"},
                    "Castilla-La Mancha": {_state_code: "cm"},
                    Canarias: {_state_code: "cn"},
                    Catalu\u00f1a: {_state_code: "ct"},
                    Extremadura: {_state_code: "ex"},
                    Galicia: {_state_code: "ga"},
                    "Islas Baleares": {_state_code: "ib"},
                    "La Rioja": {_state_code: "ri"},
                    "Comunidad de Madrid": {_state_code: "md"},
                    "Regi\xf3n de Murcia": {_state_code: "mc"},
                    Navarra: {_state_code: "nc"},
                    Asturias: {_state_code: "as"},
                    "Pa\xeds Vasco": {_state_code: "pv"},
                    Cantabria: {_state_code: "cb"},
                    "Comunidad Valenciana": {_state_code: "vc"},
                    Ceuta: {_state_code: "ce"},
                    Melilla: {_state_code: "ml"}
                },
                fi: {
                    PH: [{
                        name: "uudenvuodenp\xe4iv\xe4 - ny\xe5rsdagen",
                        fixed_date: [1, 1]
                    }, {
                        name: "loppiainen - trettondedagen",
                        fixed_date: [1, 6]
                    }, {
                        name: "pitk\xe4perjantai - l\xe5ngfredagen",
                        variable_date: "easter",
                        offset: -2
                    }, {
                        name: "p\xe4\xe4si\xe4isp\xe4iv\xe4 - p\xe5skdagen",
                        variable_date: "easter"
                    }, {
                        name: "toinen p\xe4\xe4si\xe4isp\xe4iv\xe4 - annandag p\xe5sk",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "vappu - f\xf6rsta maj", fixed_date: [5, 1]}, {
                        name: "helluntai - pingst",
                        variable_date: "easter",
                        offset: 49
                    }, {
                        name: "juhannusp\xe4iv\xe4 - midsommarafton",
                        variable_date: "nextSaturday20Jun"
                    }, {
                        name: "pyh\xe4inp\xe4iv\xe4 - alla helgons dag",
                        variable_date: "nextSaturday31Oct"
                    }, {
                        name: "itsen\xe4isyysp\xe4iv\xe4 - sj\xe4lvst\xe4ndighetsdagen",
                        fixed_date: [12, 6]
                    }, {
                        name: "joulup\xe4iv\xe4 - juldagen",
                        fixed_date: [12, 25]
                    }, {name: "toinen joulup\xe4iv\xe4 - annandag jul", fixed_date: [12, 26]}]
                },
                fr: {
                    PH: [{name: "Jour de l'an", fixed_date: [1, 1]}, {
                        name: "Vendredi saint",
                        variable_date: "easter",
                        offset: -2,
                        only_states: ["Moselle", "Bas-Rhin", "Haut-Rhin", "Guadeloupe", "Martinique", "Polyn\xe9sie fran\xe7aise"]
                    }, {
                        name: "Lundi de P\xe2ques",
                        variable_date: "easter",
                        offset: 1
                    }, {
                        name: "Abolition de l'esclavage (Mayotte)",
                        fixed_date: [4, 27],
                        only_states: ["Mayotte"]
                    }, {
                        name: "Saint-Pierre-Chanel",
                        fixed_date: [4, 28],
                        only_states: ["Wallis-et-Futuna"]
                    }, {name: "F\xeate du Travail", fixed_date: [5, 1]}, {
                        name: "F\xeate de la Victoire",
                        fixed_date: [5, 8]
                    }, {
                        name: "Abolition de l'esclavage (Martinique)",
                        fixed_date: [5, 22],
                        only_states: ["Martinique"]
                    }, {
                        name: "Abolition de l'esclavage (Guadeloupe)",
                        fixed_date: [5, 27],
                        only_states: ["Guadeloupe"]
                    }, {
                        name: "Abolition de l'esclavage (Saint-Martin)",
                        fixed_date: [5, 28],
                        only_states: ["Saint-Martin (France)"]
                    }, {
                        name: "Jeudi de l'Ascension",
                        variable_date: "easter",
                        offset: 39
                    }, {
                        name: "Lundi de Pentec\xf4te",
                        variable_date: "easter",
                        offset: 50
                    }, {
                        name: "Abolition de l'esclavage (Guyane)",
                        fixed_date: [6, 10],
                        only_states: ["Guyane"]
                    }, {
                        name: "F\xeate de l'autonomie",
                        fixed_date: [6, 29],
                        only_states: ["Polyn\xe9sie fran\xe7aise"]
                    }, {name: "F\xeate nationale", fixed_date: [7, 14]}, {
                        name: "F\xeate Victor Schoelcher",
                        fixed_date: [7, 21],
                        only_states: ["Guadeloupe", "Martinique"]
                    }, {
                        name: "F\xeate du Territoire",
                        fixed_date: [7, 29],
                        only_states: ["Wallis-et-Futuna"]
                    }, {name: "Assomption", fixed_date: [8, 15]}, {
                        name: "F\xeate de la citoyennet\xe9",
                        fixed_date: [9, 24],
                        only_states: ["Nouvelle-Cal\xe9donie"]
                    }, {
                        name: "Abolition de l'esclavage (Saint-Barth\xe9lemy)",
                        fixed_date: [10, 9],
                        only_states: ["Saint-Barth\xe9lemy"]
                    }, {name: "Toussaint", fixed_date: [11, 1]}, {
                        name: "Armistice",
                        fixed_date: [11, 11]
                    }, {
                        name: "Abolition de l'esclavage (R\xe9union)",
                        fixed_date: [12, 20],
                        only_states: ["R\xe9union"]
                    }, {name: "No\xebl", fixed_date: [12, 25]}, {
                        name: "Saint-\xc9tienne ",
                        fixed_date: [12, 26],
                        only_states: ["Moselle", "Bas-Rhin", "Haut-Rhin"]
                    }],
                    "Auvergne-Rh\xf4ne-Alpes": {
                        _state_code: "ara",
                        SH: [{
                            2018: [2, 11, 2, 25],
                            2019: [2, 17, 3, 3],
                            2020: [2, 23, 3, 8],
                            2021: [2, 7, 2, 21],
                            2022: [2, 12, 2, 27],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 8, 4, 22],
                            2019: [4, 14, 4, 28],
                            2020: [4, 19, 5, 3],
                            2021: [4, 11, 4, 25],
                            2022: [4, 16, 5, 1],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 5, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Bourgogne-Franche-Comt\xe9": {
                        _state_code: "bfc",
                        SH: [{
                            2018: [2, 11, 2, 25],
                            2019: [2, 17, 3, 3],
                            2020: [2, 23, 3, 8],
                            2021: [2, 7, 2, 21],
                            2022: [2, 12, 2, 27],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 8, 4, 22],
                            2019: [4, 14, 4, 28],
                            2020: [4, 19, 5, 3],
                            2021: [4, 11, 4, 25],
                            2022: [4, 16, 5, 1],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 5, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Nouvelle-Aquitaine": {
                        _state_code: "naq",
                        SH: [{
                            2018: [2, 11, 2, 25],
                            2019: [2, 17, 3, 3],
                            2020: [2, 23, 3, 8],
                            2021: [2, 7, 2, 21],
                            2022: [2, 12, 2, 27],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 8, 4, 22],
                            2019: [4, 14, 4, 28],
                            2020: [4, 19, 5, 3],
                            2021: [4, 11, 4, 25],
                            2022: [4, 16, 5, 1],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 5, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Bretagne: {
                        _state_code: "bre",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Centre-Val de Loire": {
                        _state_code: "cvl",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Grand Est": {
                        _state_code: "ges",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Hauts-de-France": {
                        _state_code: "hdf",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Normandie: {
                        _state_code: "nor",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Pays de la Loire": {
                        _state_code: "pdl",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Provence-Alpes-C\xf4te d'Azur": {
                        _state_code: "pac",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 10, 2, 24],
                            2020: [2, 16, 3, 1],
                            2021: [2, 21, 3, 7],
                            2022: [2, 5, 2, 20],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 22, 5, 6],
                            2019: [4, 7, 4, 22],
                            2020: [4, 12, 4, 26],
                            2021: [4, 11, 4, 25],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "\xcele-de-France": {
                        _state_code: "idf",
                        SH: [{
                            2018: [2, 18, 3, 4],
                            2019: [2, 24, 3, 10],
                            2020: [2, 9, 2, 23],
                            2021: [2, 14, 2, 28],
                            2022: [2, 19, 3, 6],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 15, 4, 29],
                            2019: [4, 21, 5, 5],
                            2020: [4, 5, 4, 19],
                            2021: [4, 11, 4, 25],
                            2022: [4, 23, 5, 8],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 28],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Occitanie: {
                        _state_code: "occ",
                        SH: [{
                            2018: [2, 18, 3, 4],
                            2019: [2, 24, 3, 10],
                            2020: [2, 9, 2, 23],
                            2021: [2, 14, 2, 28],
                            2022: [2, 19, 3, 6],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 15, 4, 29],
                            2019: [4, 21, 5, 5],
                            2020: [4, 5, 4, 19],
                            2021: [4, 11, 4, 25],
                            2022: [4, 23, 5, 8],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            2022: [5, 26, 5, 28],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 9, 1],
                            2022: [7, 7, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            2021: [12, 19, 1, 2],
                            2022: [12, 17, 1, 2],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Corse: {
                        _state_code: "cor",
                        SH: [{
                            2018: [2, 27, 3, 11],
                            2019: [2, 24, 3, 10],
                            2020: [2, 16, 3, 1],
                            2021: [2, 14, 2, 28],
                            2022: [2, 19, 3, 6],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 24, 5, 6],
                            2019: [4, 21, 5, 5],
                            2020: [4, 19, 5, 3],
                            2021: [4, 11, 4, 25],
                            2022: [4, 23, 5, 8],
                            name: "Vacances de Printemps"
                        }, {
                            2018: [5, 10, 5, 10],
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 14, 5, 16],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 11, 9, 4],
                            2019: [7, 7, 9, 2],
                            2020: [7, 5, 8, 31],
                            2021: [7, 8, 8, 30],
                            2022: [7, 8, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 24, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 1],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Guadeloupe: {
                        _state_code: "gua",
                        SH: [{
                            2018: [2, 9, 2, 21],
                            2019: [2, 24, 3, 10],
                            2020: [2, 16, 3, 1],
                            2021: [2, 10, 2, 21],
                            2022: [2, 19, 3, 6],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [3, 25, 4, 8],
                            2019: [4, 19, 5, 1],
                            2020: [4, 9, 4, 22],
                            2021: [3, 28, 4, 11],
                            2022: [4, 13, 4, 24],
                            name: "Vacances de P\xe2ques"
                        }, {
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 28, 5, 29],
                            2022: [5, 27, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 7, 9, 3],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 6, 8, 30],
                            2022: [7, 7, 8, 31],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 2],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Saint-Martin (France)": {
                        _state_code: "mf",
                        SH: [{
                            2018: [2, 9, 2, 21],
                            2019: [2, 24, 3, 10],
                            2020: [2, 16, 3, 1],
                            2021: [2, 10, 2, 21],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [3, 25, 4, 8],
                            2019: [4, 19, 5, 1],
                            2020: [4, 9, 4, 22],
                            2021: [3, 28, 4, 11],
                            name: "Vacances de P\xe2ques"
                        }, {
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 25, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 7, 9, 3],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 6, 8, 30],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 2],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Saint-Barth\xe9lemy": {
                        _state_code: "bl",
                        SH: [{
                            2018: [2, 9, 2, 21],
                            2019: [2, 24, 3, 10],
                            2020: [2, 16, 3, 1],
                            2021: [2, 10, 2, 21],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [3, 25, 4, 8],
                            2019: [4, 19, 5, 1],
                            2020: [4, 9, 4, 22],
                            2021: [3, 28, 4, 11],
                            name: "Vacances de P\xe2ques"
                        }, {
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 7, 9, 3],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 6, 8, 30],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 18, 11, 2],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 6],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Guyane: {
                        _state_code: "guf",
                        SH: [{
                            2018: [2, 11, 2, 25],
                            2019: [2, 24, 3, 10],
                            2020: [2, 16, 3, 1],
                            2021: [2, 14, 2, 28],
                            2022: [2, 19, 3, 6],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [3, 30, 4, 15],
                            2019: [4, 19, 5, 1],
                            2020: [4, 10, 4, 26],
                            2021: [4, 2, 4, 18],
                            2022: [4, 14, 5, 1],
                            name: "Vacances de P\xe2ques"
                        }, {
                            2019: [5, 30, 6, 2],
                            2020: [5, 21, 5, 24],
                            2021: [5, 13, 5, 16],
                            2022: [5, 25, 5, 29],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 8, 9, 2],
                            2019: [7, 9, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 4, 8, 31],
                            2022: [7, 9, 8, 31],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 25, 11, 8],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 5],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Martinique: {
                        _state_code: "mtq",
                        SH: [{
                            2018: [2, 8, 2, 18],
                            2019: [2, 24, 3, 10],
                            2020: [2, 23, 3, 8],
                            2021: [2, 7, 2, 21],
                            2022: [2, 19, 3, 6],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [3, 25, 4, 8],
                            2019: [4, 14, 4, 28],
                            2020: [4, 5, 4, 19],
                            2021: [3, 28, 4, 11],
                            2022: [4, 9, 4, 24],
                            name: "Vacances de P\xe2ques"
                        }, {
                            2018: [5, 8, 5, 13],
                            2019: [5, 30, 6, 2],
                            2020: [5, 14, 5, 15],
                            2022: [5, 27, 5, 27],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [7, 7, 9, 3],
                            2019: [7, 7, 9, 1],
                            2020: [7, 5, 8, 31],
                            2021: [7, 7, 8, 30],
                            2022: [7, 7, 8, 31],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 21, 11, 4],
                            2019: [10, 20, 11, 3],
                            2020: [10, 25, 11, 8],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 23, 1, 5],
                            2019: [12, 22, 1, 5],
                            2020: [12, 20, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    Mayotte: {
                        _state_code: "may",
                        SH: [{
                            2018: [2, 25, 3, 11],
                            2019: [2, 24, 3, 10],
                            2020: [3, 1, 3, 15],
                            2021: [2, 28, 3, 14],
                            2022: [2, 26, 3, 13],
                            name: "Vacances de Carnaval"
                        }, {
                            2018: [5, 6, 5, 13],
                            2019: [4, 27, 5, 5],
                            2020: [5, 3, 5, 10],
                            2021: [5, 1, 5, 16],
                            2022: [4, 30, 5, 15],
                            name: "Vacances de P\xe2ques"
                        }, {2020: [5, 21, 5, 24], name: "Pont de l'Ascension"}, {
                            2018: [7, 8, 8, 22],
                            2019: [7, 7, 8, 22],
                            2020: [7, 5, 8, 23],
                            2021: [7, 7, 8, 22],
                            2022: [7, 6, 8, 23],
                            name: "Grandes Vacances"
                        }, {
                            2018: [10, 7, 10, 21],
                            2019: [10, 13, 10, 27],
                            2020: [10, 11, 10, 25],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 9, 1, 6],
                            2019: [12, 15, 1, 12],
                            2020: [12, 13, 1, 10],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "La R\xe9union": {
                        _state_code: "lre",
                        SH: [{
                            2018: [3, 11, 3, 25],
                            2019: [3, 10, 3, 24],
                            2020: [3, 8, 3, 22],
                            2021: [3, 7, 3, 21],
                            2022: [3, 12, 3, 27],
                            name: "Vacances apr\xe8s 3\xe8me p\xe9riode"
                        }, {
                            2018: [5, 6, 5, 16],
                            2019: [5, 8, 5, 19],
                            2020: [5, 1, 5, 13],
                            2021: [5, 5, 5, 16],
                            2022: [5, 14, 5, 29],
                            name: "Vacances apr\xe8s 4\xe8me p\xe9riode"
                        }, {
                            2018: [7, 8, 8, 16],
                            2019: [7, 7, 8, 15],
                            2020: [7, 8, 8, 15],
                            2022: [7, 9, 8, 15],
                            name: "Vacances hiver austral"
                        }, {
                            2018: [10, 14, 10, 28],
                            2019: [10, 13, 10, 27],
                            2020: [10, 11, 11, 25],
                            name: "Vacances apr\xe8s 1\xe8re p\xe9riode"
                        }, {
                            2018: [12, 23, 1, 27],
                            2019: [12, 20, 1, 26],
                            2020: [12, 20, 1, 24],
                            name: "Vacances \xe9t\xe9 austral"
                        }]
                    },
                    "Nouvelle-Cal\xe9donie": {
                        _state_code: "nc",
                        SH: [{
                            2018: [4, 7, 4, 15],
                            2019: [4, 6, 4, 14],
                            2020: [4, 4, 4, 13],
                            2021: [4, 3, 4, 18],
                            2022: [4, 2, 4, 16],
                            name: "Vacances 1\xe8re p\xe9riode"
                        }, {
                            2018: [6, 9, 6, 24],
                            2019: [6, 8, 6, 23],
                            2020: [6, 6, 6, 21],
                            2021: [6, 5, 6, 20],
                            2022: [6, 4, 6, 18],
                            name: "Vacances 2\xe8me p\xe9riode"
                        }, {
                            2018: [8, 11, 8, 26],
                            2019: [8, 10, 8, 25],
                            2020: [8, 8, 8, 23],
                            2021: [8, 7, 8, 22],
                            2022: [8, 6, 8, 20],
                            name: "Vacances 3\xe8me p\xe9riode"
                        }, {
                            2018: [10, 13, 10, 18],
                            2019: [10, 12, 10, 27],
                            2020: [10, 10, 10, 25],
                            2021: [10, 9, 10, 24],
                            2022: [10, 8, 10, 22],
                            name: "Vacances 4\xe8me p\xe9riode"
                        }, {
                            2018: [12, 15, 2, 17],
                            2019: [12, 14, 2, 16],
                            2020: [12, 18, 2, 14],
                            2021: [12, 18, 2, 13],
                            2022: [12, 17, 2, 12],
                            name: "Vacances d'\xc9t\xe9"
                        }]
                    },
                    "Polyn\xe9sie fran\xe7aise": {
                        _state_code: "pf",
                        SH: [{
                            2018: [2, 18, 2, 25],
                            2019: [2, 17, 2, 24],
                            2020: [2, 16, 2, 23],
                            2021: [2, 21, 2, 28],
                            2022: [2, 19, 2, 27],
                            2023: [2, 19, 2, 26],
                            name: "Vacances de f\xe9vrier"
                        }, {
                            2018: [3, 30, 4, 15],
                            2019: [4, 7, 4, 22],
                            2020: [3, 29, 4, 13],
                            2021: [4, 6, 4, 18],
                            2022: [4, 2, 4, 18],
                            2023: [4, 2, 4, 16],
                            name: "Vacances d'avril"
                        }, {
                            2018: [5, 20, 5, 27],
                            2019: [5, 26, 6, 2],
                            2020: [5, 17, 5, 24],
                            2021: [5, 25, 5, 30],
                            2022: [5, 21, 5, 29],
                            2023: [5, 21, 5, 27],
                            name: "Vacances de mai"
                        }, {
                            2018: [7, 7, 8, 15],
                            2019: [7, 7, 8, 13],
                            2020: [7, 5, 8, 9],
                            2021: [7, 3, 8, 8],
                            2022: [7, 2, 8, 7],
                            2023: [7, 2, 8, 7],
                            name: "Grandes Vacances"
                        }, {
                            2018: [9, 16, 9, 23],
                            2019: [9, 15, 9, 22],
                            2020: [9, 13, 9, 20],
                            2021: [9, 12, 9, 19],
                            2022: [9, 10, 9, 18],
                            name: "Vacances de septembre"
                        }, {
                            2018: [10, 28, 11, 11],
                            2019: [10, 27, 11, 11],
                            2020: [10, 25, 11, 8],
                            2021: [10, 24, 11, 7],
                            2022: [10, 22, 11, 6],
                            name: "Vacances d'octobre-novembre"
                        }, {
                            2018: [12, 16, 1, 13],
                            2019: [12, 15, 1, 12],
                            2020: [12, 13, 1, 10],
                            2021: [12, 12, 1, 9],
                            2022: [12, 10, 1, 8],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Saint-Pierre-et-Miquelon": {
                        _state_code: "pm",
                        SH: [{
                            2018: [2, 24, 3, 11],
                            2019: [2, 16, 3, 3],
                            2020: [2, 22, 3, 8],
                            2021: [2, 19, 3, 7],
                            name: "Vacances d'Hiver"
                        }, {
                            2018: [4, 28, 5, 13],
                            2019: [4, 20, 5, 5],
                            2020: [4, 18, 5, 3],
                            2021: [4, 24, 5, 9],
                            2022: [4, 15, 5, 1],
                            name: "Vacances de Printemps"
                        }, {
                            2020: [5, 21, 5, 24],
                            2021: [5, 13, 5, 16],
                            2022: [5, 26, 5, 29],
                            name: "Pont de l'Ascension"
                        }, {
                            2018: [6, 30, 9, 6],
                            2019: [7, 4, 9, 4],
                            2020: [7, 4, 9, 2],
                            2021: [7, 3, 9, 1],
                            2022: [7, 1, 8, 31],
                            name: "Vacances d'\xc9t\xe9"
                        }, {
                            2018: [10, 27, 11, 4],
                            2019: [10, 26, 11, 5],
                            2020: [10, 22, 11, 1],
                            name: "Vacances de la Toussaint"
                        }, {
                            2018: [12, 22, 1, 6],
                            2019: [12, 21, 1, 5],
                            2020: [12, 19, 1, 3],
                            name: "Vacances de No\xebl"
                        }]
                    },
                    "Wallis-et-Futuna": {
                        _state_code: "wf",
                        SH: [{
                            2018: [4, 1, 4, 15],
                            2019: [3, 31, 4, 14],
                            2020: [3, 29, 4, 13],
                            2021: [4, 3, 4, 18],
                            name: "Vacances 1\xe8re p\xe9riode"
                        }, {
                            2018: [6, 8, 6, 24],
                            2019: [6, 9, 6, 23],
                            2020: [6, 5, 6, 21],
                            2021: [6, 5, 6, 20],
                            name: "Vacances 2\xe8me p\xe9riode"
                        }, {
                            2018: [8, 10, 8, 26],
                            2019: [8, 11, 8, 25],
                            2020: [8, 9, 8, 23],
                            2021: [8, 7, 8, 22],
                            name: "Vacances 3\xe8me p\xe9riode"
                        }, {
                            2018: [10, 14, 10, 28],
                            2019: [10, 13, 10, 27],
                            2020: [10, 11, 10, 25],
                            2021: [10, 9, 10, 24],
                            name: "Vacances 4\xe8me p\xe9riode"
                        }, {
                            2018: [12, 16, 2, 10],
                            2019: [12, 15, 2, 9],
                            2020: [12, 13, 2, 14],
                            2021: [12, 18, 2, 19],
                            name: "Vacances d'\xc9t\xe9"
                        }]
                    }
                },
                gb: {
                    England: {
                        PH: [{name: "New Year\u2019s Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "Early May bank holiday",
                            variable_date: "firstMayMonday"
                        }, {name: "Spring bank holiday", variable_date: "lastMayMonday"}, {
                            name: "Summer bank holiday",
                            variable_date: "lastAugustMonday"
                        }, {name: "Christmas", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                    },
                    Wales: {
                        PH: [{name: "New Year\u2019s Day", fixed_date: [1, 1]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                            name: "Early May bank holiday",
                            variable_date: "firstMayMonday"
                        }, {name: "Spring bank holiday", variable_date: "lastMayMonday"}, {
                            name: "Summer bank holiday",
                            variable_date: "lastAugustMonday"
                        }, {name: "Christmas", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                    }
                },
                gr: {
                    PH: [{
                        name: "\u03a0\u03c1\u03c9\u03c4\u03bf\u03c7\u03c1\u03bf\u03bd\u03b9\u03ac",
                        fixed_date: [1, 1]
                    }, {
                        name: "\u0398\u03b5\u03bf\u03c6\u03ac\u03bd\u03b9\u03b1",
                        fixed_date: [1, 6]
                    }, {
                        name: "\u039a\u03b1\u03b8\u03b1\u03c1\u03ac \u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1",
                        variable_date: "orthodox easter",
                        offset: -48
                    }, {
                        name: "25\u03b7 \u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5",
                        fixed_date: [3, 25]
                    }, {
                        name: "\u039c\u03b5\u03b3\u03ac\u03bb\u03b7 \u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae",
                        variable_date: "orthodox easter",
                        offset: -2
                    }, {
                        name: "\u03a0\u03ac\u03c3\u03c7\u03b1",
                        variable_date: "orthodox easter",
                        offset: 0
                    }, {
                        name: "\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1 \u03c4\u03bf\u03c5 \u03a0\u03ac\u03c3\u03c7\u03b1",
                        variable_date: "orthodox easter",
                        offset: 1
                    }, {
                        name: "\u03a0\u03c1\u03c9\u03c4\u03bf\u03bc\u03b1\u03b3\u03b9\u03ac",
                        fixed_date: [5, 1]
                    }, {
                        name: "\u039a\u03bf\u03af\u03bc\u03b7\u03c3\u03b7 \u03c4\u03b7\u03c2 \u0398\u03b5\u03bf\u03c4\u03cc\u03ba\u03bf\u03c5",
                        fixed_date: [8, 15]
                    }, {
                        name: "28\u03b7 \u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5",
                        fixed_date: [10, 28]
                    }, {
                        name: "\u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd\u03b3\u03b5\u03bd\u03bd\u03b1",
                        fixed_date: [12, 25]
                    }, {
                        name: "2\u03b7 \u03bc\u03ad\u03c1\u03b1 \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03c5\u03b3\u03ad\u03bd\u03bd\u03c9\u03bd",
                        fixed_date: [12, 26]
                    }],
                    SH: [{
                        2019: [1, 30, 1, 30],
                        2020: [1, 30, 1, 30],
                        name: "\u03a4\u03c1\u03b9\u03ce\u03bd \u0399\u03b5\u03c1\u03b1\u03c1\u03c7\u03ce\u03bd"
                    }, {
                        2019: [4, 22, 5, 6],
                        2020: [4, 13, 4, 26],
                        name: "\u03a0\u03ac\u03c3\u03c7\u03b1"
                    }, {
                        2019: [6, 17, 6, 17],
                        2020: [6, 8, 6, 8],
                        name: "\u0391\u03b3\u03af\u03bf\u03c5 \u03a0\u03bd\u03b5\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2"
                    }, {
                        2019: [7, 1, 8, 31],
                        2020: [7, 1, 8, 31],
                        name: "\u039a\u03b1\u03bb\u03bf\u03ba\u03b1\u03af\u03c1\u03b9"
                    }, {
                        2019: [11, 17, 11, 17],
                        name: "\u03a0\u03bf\u03bb\u03c5\u03c4\u03b5\u03c7\u03bd\u03b5\u03af\u03bf"
                    }, {
                        2018: [12, 24, 1, 7],
                        2019: [12, 24, 1, 7],
                        2020: [12, 24, 1, 7],
                        name: "\u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd\u03b3\u03b5\u03bd\u03bd\u03b1"
                    }]
                },
                hu: {
                    PH: [{name: "\xfaj\xe9v", fixed_date: [1, 1]}, {
                        name: "az 1848-as forradalom \xfcnnepe",
                        fixed_date: [3, 15]
                    }, {name: "nagyp\xe9ntek", variable_date: "easter", offset: -2}, {
                        name: "h\xfasv\xe9tvas\xe1rnap",
                        variable_date: "easter"
                    }, {
                        name: "h\xfasv\xe9th\xe9tf\u0151",
                        variable_date: "easter",
                        offset: 1
                    }, {
                        name: "p\xfcnk\xf6sdvas\xe1rnap",
                        variable_date: "easter",
                        offset: 49
                    }, {
                        name: "p\xfcnk\xf6sdh\xe9tf\u0151",
                        variable_date: "easter",
                        offset: 50
                    }, {name: "a munka \xfcnnepe", fixed_date: [5, 1]}, {
                        name: "az \xe1llamalap\xedt\xe1s \xfcnnepe",
                        fixed_date: [8, 20]
                    }, {name: "az 1956-os forradalom \xfcnnepe", fixed_date: [10, 23]}, {
                        name: "mindenszentek",
                        fixed_date: [11, 1]
                    }, {name: "kar\xe1csony", fixed_date: [12, 25]}, {
                        name: "kar\xe1csony m\xe1snap",
                        fixed_date: [12, 26]
                    }],
                    SH: [{
                        2015: [4, 2, 4, 7],
                        2016: [3, 24, 3, 29],
                        2017: [4, 13, 4, 18],
                        name: "tavaszi sz\xfcnet"
                    }, {
                        2015: [6, 16, 8, 31],
                        2016: [6, 16, 8, 31],
                        2017: [6, 16, 8, 31],
                        name: "ny\xe1ri sz\xfcnet"
                    }, {
                        2014: [10, 27, 10, 31],
                        2015: [10, 26, 10, 30],
                        2016: [11, 2, 11, 4],
                        name: "\u0151szi sz\xfcnet"
                    }, {2014: [12, 22, 1, 2], 2015: [12, 21, 12, 31], 2016: [12, 22, 1, 2], name: "t\xe9li sz\xfcnet"}]
                },
                ie: {
                    PH: [{name: "New Year\u2019s Day", fixed_date: [1, 1]}, {
                        name: "St Patrick\u2019s Day",
                        fixed_date: [3, 17]
                    }, {name: "St Patrick\u2019s Day", variable_date: "nextMo-Fr17March"}, {
                        name: "Good Friday",
                        variable_date: "easter",
                        offset: -2
                    }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                        name: "May Bank Holiday",
                        variable_date: "firstMayMonday"
                    }, {name: "June Bank Holiday", variable_date: "firstJuneMonday"}, {
                        name: "August Bank Holiday",
                        variable_date: "firstAugustMonday"
                    }, {
                        name: "October Bank Holiday (Halloween)",
                        variable_date: "lastOctoberMonday"
                    }, {name: "Christmas", fixed_date: [12, 25]}, {
                        name: "St Stephen\u2019s Day",
                        fixed_date: [12, 26]
                    }, {name: "Bank Holiday", fixed_date: [12, 27]}]
                },
                it: {
                    PH: [{name: "Capodanno", fixed_date: [1, 1]}, {
                        name: "Epifania",
                        fixed_date: [1, 6]
                    }, {name: "Liberazione dal nazifascismo (1945)", fixed_date: [4, 25]}, {
                        name: "Pasqua",
                        variable_date: "easter"
                    }, {name: "Luned\xec di Pasqua", variable_date: "easter", offset: 1}, {
                        name: "Festa del lavoro",
                        fixed_date: [5, 1]
                    }, {name: "Festa della Repubblica", fixed_date: [6, 2]}, {
                        name: "Assunzione di Maria",
                        fixed_date: [8, 15]
                    }, {name: "Ognissanti", fixed_date: [11, 1]}, {
                        name: "Immacolata Concezione",
                        fixed_date: [12, 8]
                    }, {name: "Natale di Ges\xf9", fixed_date: [12, 25]}, {name: "Santo Stefano", fixed_date: [12, 26]}]
                },
                nl: {
                    PH: [{name: "Nieuwjaarsdag", fixed_date: [1, 1]}, {
                        name: "Goede vrijdag",
                        variable_date: "easter",
                        offset: -2
                    }, {name: "Tweede Paasdag", variable_date: "easter", offset: 1}, {
                        name: "Koningsdag",
                        fixed_date: [4, 27]
                    }, {name: "Bevrijdingsdag", fixed_date: [5, 5]}, {
                        name: "Hemelvaartsdag",
                        variable_date: "easter",
                        offset: 39
                    }, {name: "Tweede Pinksterdag", variable_date: "easter", offset: 50}, {
                        name: "Eerste Kerstdag",
                        fixed_date: [12, 25]
                    }, {name: "Tweede Kerstdag", fixed_date: [12, 26]}]
                },
                no: {
                    PH: [{name: "Nytt\xe5rsdag", fixed_date: [1, 1]}, {
                        name: "Skj\xe6rtorsdag",
                        variable_date: "easter",
                        offset: -3
                    }, {name: "Langfredag", variable_date: "easter", offset: -2}, {
                        name: "P\xe5skedag",
                        variable_date: "easter"
                    }, {name: "2. P\xe5skedag", variable_date: "easter", offset: 1}, {
                        name: "1. Mai",
                        fixed_date: [5, 1]
                    }, {name: "Grunnlovsdagen", fixed_date: [5, 17]}, {
                        name: "Kristi Himmelfartsdag",
                        variable_date: "easter",
                        offset: 39
                    }, {name: "Pinsedag", variable_date: "easter", offset: 49}, {
                        name: "2. Pinsedag",
                        variable_date: "easter",
                        offset: 50
                    }, {name: "Juledag", fixed_date: [12, 25]}, {name: "2. Juledag", fixed_date: [12, 26]}]
                },
                nz: {
                    PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                        name: "Day after New Year's Day",
                        fixed_date: [1, 2]
                    }, {name: "Waitangi Day", fixed_date: [2, 6]}, {
                        name: "Good Friday",
                        variable_date: "easter",
                        offset: -2
                    }, {name: "Easter Monday", variable_date: "easter", offset: 1}, {
                        name: "Anzac Day",
                        fixed_date: [4, 25]
                    }, {name: "Queen's Birthday", variable_date: "firstJuneMonday"}, {
                        name: "Labour Day",
                        variable_date: "firstOctoberMonday",
                        offset: 21
                    }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Boxing Day", fixed_date: [12, 26]}]
                },
                pl: {
                    PH: [{name: "Nowy Rok", fixed_date: [1, 1]}, {
                        name: "\u015awi\u0119to Trzech Kr\xf3li",
                        fixed_date: [1, 6]
                    }, {
                        name: "Wielkanoc",
                        variable_date: "easter"
                    }, {
                        name: "Lany Poniedzia\u0142ek - drugi dzie\u0144 Wielkiej Nocy",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "Pierwszy Maja", fixed_date: [5, 1]}, {
                        name: "Trzeci Maja",
                        fixed_date: [5, 3]
                    }, {
                        name: "Zielone \u015awi\u0105tki",
                        variable_date: "easter",
                        offset: 49
                    }, {
                        name: "Bo\u017ce Cia\u0142o",
                        variable_date: "easter",
                        offset: 60
                    }, {
                        name: "Wniebowzi\u0119cie Naj\u015bwi\u0119tszej Maryi Panny",
                        fixed_date: [8, 15]
                    }, {
                        name: "Wszystkich \u015awi\u0119tych",
                        fixed_date: [11, 1]
                    }, {
                        name: "\u015awi\u0119to Niepodleg\u0142o\u015bci",
                        fixed_date: [11, 11]
                    }, {
                        name: "pierwszy dzie\u0144 Bo\u017cego Narodzenia",
                        fixed_date: [12, 25]
                    }, {name: "drugi dzie\u0144 Bo\u017cego Narodzenia", fixed_date: [12, 26]}]
                },
                ro: {
                    PH: [{name: "Anul Nou", fixed_date: [1, 1]}, {
                        name: "A doua zi de Anul Nou",
                        fixed_date: [1, 2]
                    }, {
                        name: "Ziua Unirii Principatelor Rom\xe2ne (Ziua Unirii)",
                        fixed_date: [1, 24]
                    }, {
                        name: "Pa\u0219tele ortodox",
                        variable_date: "orthodox easter"
                    }, {
                        name: "A doua zi de Pa\u0219te ortodox",
                        variable_date: "orthodox easter",
                        offset: 1
                    }, {name: "Ziua Muncii", fixed_date: [5, 1]}, {
                        name: "Rusaliile",
                        variable_date: "orthodox easter",
                        offset: 50
                    }, {
                        name: "A doua zi de Rusalii",
                        variable_date: "orthodox easter",
                        offset: 51
                    }, {name: "Adormirea Maicii Domnului", fixed_date: [8, 15]}, {
                        name: "Sf\xe2ntul Apostol Andrei",
                        fixed_date: [11, 30]
                    }, {
                        name: "Ziua Na\u021bional\u0103 (Ziua Marii Uniri)",
                        fixed_date: [12, 1]
                    }, {name: "Cr\u0103ciunul", fixed_date: [12, 25]}, {
                        name: "A doua zi de Cr\u0103ciun",
                        fixed_date: [12, 26]
                    }],
                    SH: [{
                        2015: [1, 31, 2, 8],
                        2016: [1, 30, 2, 7],
                        2021: [1, 30, 2, 7],
                        name: "Vacan\u0163a intersemestrial\u0103"
                    }, {
                        2015: [4, 11, 4, 19],
                        2016: [4, 23, 5, 3],
                        2021: [4, 30, 5, 9],
                        name: "Vacan\u021ba de prim\u0103var\u0103"
                    }, {
                        2015: [6, 20, 9, 13],
                        2016: [6, 18, 9, 4],
                        2021: [6, 26, 9, 13],
                        name: "Vacan\u021ba de var\u0103"
                    }, {
                        2014: [12, 20, 1, 4],
                        2015: [12, 19, 1, 3],
                        2020: [12, 23, 1, 10],
                        2021: [12, 23, 1, 9],
                        name: "Vacan\u021ba de iarn\u0103"
                    }]
                },
                ru: {
                    PH: [{
                        name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 1]
                    }, {
                        name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 2]
                    }, {
                        name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 3]
                    }, {
                        name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 4]
                    }, {
                        name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 5]
                    }, {
                        name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 6]
                    }, {
                        name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                        fixed_date: [1, 7]
                    }, {
                        name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                        fixed_date: [1, 8]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                        fixed_date: [2, 23]
                    }, {
                        name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                        fixed_date: [3, 8]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                        fixed_date: [5, 9]
                    }, {
                        name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                        fixed_date: [5, 1]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                        fixed_date: [11, 4]
                    }, {name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438", fixed_date: [6, 12]}],
                    \u0422\u0430\u0442\u0430\u0440\u0441\u0442\u0430\u043d: {
                        _state_code: "tatarstan",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0422\u0430\u0442\u0430\u0440\u0441\u0442\u0430\u043d",
                            fixed_date: [8, 30]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041a\u043e\u043d\u0441\u0442\u0438\u0442\u0443\u0446\u0438\u0438 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0422\u0430\u0442\u0430\u0440\u0441\u0442\u0430\u043d",
                            fixed_date: [11, 6]
                        }]
                    },
                    \u0411\u0430\u0448\u043a\u043e\u0440\u0442\u043e\u0441\u0442\u0430\u043d: {
                        _state_code: "bashkortostan",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0411\u0430\u0448\u043a\u0438\u0440\u0438\u0438",
                            fixed_date: [10, 11]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041a\u043e\u043d\u0441\u0442\u0438\u0442\u0443\u0446\u0438\u0438 \u0411\u0430\u0448\u043a\u043e\u0440\u0442\u043e\u0441\u0442\u0430\u043d\u0430",
                            fixed_date: [12, 24]
                        }]
                    },
                    \u0427\u0443\u0432\u0430\u0448\u0438\u044f: {
                        _state_code: "chuvashia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0427\u0443\u0432\u0430\u0448\u0441\u043a\u043e\u0439 \u0440\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438",
                            fixed_date: [6, 24]
                        }]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u0421\u0430\u0445\u0430 (\u042f\u043a\u0443\u0442\u0438\u044f)": {
                        _state_code: "sakha",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0421\u0430\u0445\u0430",
                            fixed_date: [4, 27]
                        }, {
                            name: "\u042b\u0441\u044b\u0430\u0445",
                            fixed_date: [6, 23]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0421\u0430\u0445\u0430",
                            fixed_date: [9, 27]
                        }]
                    },
                    \u041a\u0430\u043b\u043c\u044b\u043a\u0438\u044f: {
                        _state_code: "kalmykia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0426\u0430\u0433\u0430\u043d \u0421\u0430\u0440",
                            fixed_date: [1, 14]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0421\u0442\u0435\u043f\u043d\u043e\u0433\u043e \u0423\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u041a\u043e\u043d\u0441\u0442\u0438\u0442\u0443\u0446\u0438\u0438) \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u043b\u043c\u044b\u043a\u0438\u044f",
                            fixed_date: [4, 5]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0411\u0443\u0434\u0434\u044b \u0428\u0430\u043a\u044c\u044f\u043c\u0443\u043d",
                            fixed_date: [6, 6]
                        }, {
                            name: "\u0417\u0443\u043b",
                            fixed_date: [12, 15]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043f\u0430\u043c\u044f\u0442\u0438 \u0436\u0435\u0440\u0442\u0432 \u0434\u0435\u043f\u043e\u0440\u0442\u0430\u0446\u0438\u0438 \u043a\u0430\u043b\u043c\u044b\u0446\u043a\u043e\u0433\u043e \u043d\u0430\u0440\u043e\u0434\u0430",
                            fixed_date: [12, 28]
                        }]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u0411\u0443\u0440\u044f\u0442\u0438\u044f": {
                        _state_code: "buryatia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {name: "\u0421\u0430\u0433\u0430\u0430\u043b\u0433\u0430\u043d", fixed_date: [1, 14]}]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u0430\u0440\u0435\u043b\u0438\u044f": {
                        _state_code: "karelia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u0430\u0440\u0435\u043b\u0438\u044f",
                            fixed_date: [6, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u041a\u0430\u0440\u0435\u043b\u0438\u0438 \u043e\u0442 \u0444\u0430\u0448\u0438\u0441\u0442\u0441\u043a\u0438\u0445 \u0437\u0430\u0445\u0432\u0430\u0442\u0447\u0438\u043a\u043e\u0432",
                            fixed_date: [9, 30]
                        }]
                    },
                    "\u041f\u0440\u0438\u0432\u043e\u043b\u0436\u0441\u043a\u0438\u0439 \u0444\u0435\u0434\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u043a\u0440\u0443\u0433": {
                        _state_code: "udmurtia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0413\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0423\u0434\u043c\u0443\u0440\u0442\u0441\u043a\u043e\u0439 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438",
                            fixed_date: [5, 31]
                        }]
                    },
                    \u0410\u0434\u044b\u0433\u0435\u044f: {
                        _state_code: "adygea",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0410\u0434\u044b\u0433\u0435\u044f",
                            fixed_date: [10, 5]
                        }]
                    },
                    \u0414\u0430\u0433\u0435\u0441\u0442\u0430\u043d: {
                        _state_code: "dagestan",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041a\u043e\u043d\u0441\u0442\u0438\u0442\u0443\u0446\u0438\u0438 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0414\u0430\u0433\u0435\u0441\u0442\u0430\u043d",
                            fixed_date: [7, 26]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430 \u043d\u0430\u0440\u043e\u0434\u043e\u0432 \u0414\u0430\u0433\u0435\u0441\u0442\u0430\u043d\u0430",
                            fixed_date: [9, 15]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }]
                    },
                    \u0418\u043d\u0433\u0443\u0448\u0435\u0442\u0438\u044f: {
                        _state_code: "ingushetia",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0418\u043d\u0433\u0443\u0448\u0435\u0442\u0438\u044f",
                            fixed_date: [6, 4]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }]
                    },
                    "\u041a\u0430\u0440\u0430\u0447\u0430\u0435\u0432\u043e-\u0427\u0435\u0440\u043a\u0435\u0441\u0438\u044f": {
                        _state_code: "karachay_cherkess",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0432\u043e\u0437\u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0430\u0447\u0430\u0435\u0432\u0441\u043a\u043e\u0433\u043e \u043d\u0430\u0440\u043e\u0434\u0430",
                            fixed_date: [5, 3]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }]
                    },
                    \u0427\u0435\u0447\u043d\u044f: {
                        _state_code: "chechnya",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043c\u0438\u0440\u0430 \u0432 \u0427\u0435\u0447\u0435\u043d\u0441\u043a\u043e\u0439 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0435",
                            fixed_date: [4, 16]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }]
                    },
                    "\u041a\u0430\u0431\u0430\u0440\u0434\u0438\u043d\u043e-\u0411\u0430\u043b\u043a\u0430\u0440\u0438\u044f": {
                        _state_code: "kabardino_balkaria",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0432\u043e\u0437\u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u043a\u0430\u0440\u0441\u043a\u043e\u0433\u043e \u043d\u0430\u0440\u043e\u0434\u0430",
                            fixed_date: [3, 28]
                        }, {
                            name: "\u0427\u0435\u0440\u043a\u0435\u0441\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c \u0442\u0440\u0430\u0443\u0440\u0430",
                            fixed_date: [5, 21]
                        }, {
                            name: "\u0423\u0440\u0430\u0437\u0430-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [7, 28]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u041a\u0430\u0431\u0430\u0440\u0434\u0438\u043d\u043e-\u0411\u0430\u043b\u043a\u0430\u0440\u0441\u043a\u043e\u0439 \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438",
                            fixed_date: [9, 1]
                        }, {
                            name: "\u041a\u0443\u0440\u0431\u0430\u043d-\u0431\u0430\u0439\u0440\u0430\u043c",
                            fixed_date: [10, 4]
                        }]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u0410\u043b\u0442\u0430\u0439": {
                        _state_code: "altai",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {name: "\u0427\u0430\u0433\u0430-\u0411\u0430\u0439\u0440\u0430\u043c", fixed_date: [1, 14]}]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u0422\u044b\u0432\u0430": {
                        _state_code: "tuva",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u041d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0428\u0430\u0433\u0430\u0430",
                            fixed_date: [1, 14]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0422\u044b\u0432\u0430",
                            fixed_date: [8, 15]
                        }]
                    },
                    "\u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c": {
                        _state_code: "saratov",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {name: "\u0420\u0430\u0434\u043e\u043d\u0438\u0446\u0430", fixed_date: [4, 29]}]
                    },
                    "\u0411\u0440\u044f\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c": {
                        _state_code: "bryansk",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0420\u0430\u0434\u043e\u043d\u0438\u0446\u0430",
                            fixed_date: [4, 29]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0433\u043e\u0440\u043e\u0434\u0430 \u0411\u0440\u044f\u043d\u0441\u043a\u0430",
                            fixed_date: [9, 17]
                        }]
                    },
                    "\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u043e\u043c\u0438": {
                        _state_code: "komi",
                        PH: [{
                            name: "1. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 1]
                        }, {
                            name: "2. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 2]
                        }, {
                            name: "3. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 3]
                        }, {
                            name: "4. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 4]
                        }, {
                            name: "5. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 5]
                        }, {
                            name: "6. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 6]
                        }, {
                            name: "\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e",
                            fixed_date: [1, 7]
                        }, {
                            name: "8. \u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            fixed_date: [1, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u0438\u043a\u0430 \u041e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0430",
                            fixed_date: [2, 23]
                        }, {
                            name: "\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c",
                            fixed_date: [3, 8]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u041f\u043e\u0431\u0435\u0434\u044b",
                            fixed_date: [5, 9]
                        }, {
                            name: "\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a \u0412\u0435\u0441\u043d\u044b \u0438 \u0422\u0440\u0443\u0434\u0430",
                            fixed_date: [5, 1]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0430",
                            fixed_date: [11, 4]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u043e\u0441\u0441\u0438\u0438",
                            fixed_date: [6, 12]
                        }, {
                            name: "\u0414\u0435\u043d\u044c \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u041a\u043e\u043c\u0438",
                            fixed_date: [8, 22]
                        }]
                    }
                },
                se: {
                    PH: [{name: "ny\xe5rsdagen", fixed_date: [1, 1]}, {
                        name: "trettondedag jul",
                        fixed_date: [1, 6]
                    }, {name: "l\xe5ngfredagen", variable_date: "easter", offset: -2}, {
                        name: "p\xe5skdagen",
                        variable_date: "easter"
                    }, {name: "annandag p\xe5sk", variable_date: "easter", offset: 1}, {
                        name: "f\xf6rsta maj",
                        fixed_date: [5, 1]
                    }, {name: "pingstdagen", variable_date: "easter", offset: 49}, {
                        name: "nationaldagen",
                        fixed_date: [6, 6]
                    }, {name: "midsommardagen", variable_date: "nextSaturday20Jun"}, {
                        name: "alla helgons dag",
                        variable_date: "nextSaturday31Oct"
                    }, {name: "juldagen", fixed_date: [12, 25]}, {name: "annandag jul", fixed_date: [12, 26]}]
                },
                si: {
                    PH: [{
                        name: "novo leto",
                        fixed_date: [1, 1]
                    }, {
                        name: "Pre\u0161ernov dan, slovenski kulturni praznik",
                        fixed_date: [2, 8]
                    }, {
                        name: "velikono\u010dna nedelja",
                        variable_date: "easter"
                    }, {
                        name: "velikono\u010dni ponedeljek",
                        variable_date: "easter",
                        offset: 1
                    }, {name: "dan upora proti okupatorju", fixed_date: [4, 27]}, {
                        name: "praznik dela 1",
                        fixed_date: [5, 1]
                    }, {name: "praznik dela 2", fixed_date: [5, 2]}, {
                        name: "binko\u0161tna nedelja - binko\u0161ti",
                        variable_date: "easter",
                        offset: 49
                    }, {name: "dan dr\u017eavnosti", fixed_date: [6, 25]}, {
                        name: "Marijino vnebovzetje",
                        fixed_date: [8, 15]
                    }, {name: "dan reformacije", fixed_date: [10, 31]}, {
                        name: "dan spomina na mrtve",
                        fixed_date: [11, 1]
                    }, {name: "bo\u017ei\u010d", fixed_date: [12, 25]}, {
                        name: "dan samostojnosti in enotnosti",
                        fixed_date: [12, 26]
                    }]
                },
                sk: {
                    PH: [{name: "De\u0148 vzniku Slovenskej republiky", fixed_date: [1, 1]}, {
                        name: "Zjavenie P\xe1na",
                        fixed_date: [1, 6]
                    }, {
                        name: "Ve\u013ek\xfd piatok",
                        variable_date: "easter",
                        offset: -2
                    }, {
                        name: "Ve\u013ekono\u010dn\xe1 nede\u013ea",
                        variable_date: "easter"
                    }, {
                        name: "Ve\u013ekono\u010dn\xfd pondelok",
                        variable_date: "easter",
                        offset: 1
                    }, {
                        name: "Sviatok pr\xe1ce",
                        fixed_date: [5, 1]
                    }, {
                        name: "De\u0148 v\xed\u0165azstva nad fa\u0161izmom",
                        fixed_date: [5, 8]
                    }, {
                        name: "Sviatok sv\xe4t\xe9ho Cyrila a Metoda",
                        fixed_date: [7, 5]
                    }, {
                        name: "V\xfdro\u010die Slovensk\xe9ho n\xe1rodn\xe9ho povstania",
                        fixed_date: [8, 29]
                    }, {
                        name: "De\u0148 \xdastavy Slovenskej republiky",
                        fixed_date: [9, 1]
                    }, {
                        name: "Sviatok Panny M\xe1rie Sedembolestnej",
                        fixed_date: [9, 15]
                    }, {
                        name: "Sviatok v\u0161etk\xfdch sv\xe4t\xfdch",
                        fixed_date: [11, 1]
                    }, {
                        name: "De\u0148 boja za slobodu a demokraciu",
                        fixed_date: [11, 17]
                    }, {
                        name: "\u0160tedr\xfd de\u0148",
                        fixed_date: [12, 24]
                    }, {
                        name: "Prv\xfd sviatok viano\u010dn\xfd",
                        fixed_date: [12, 25]
                    }, {name: "Druh\xfd sviatok viano\u010dn\xfd", fixed_date: [12, 26]}]
                },
                ua: {
                    PH: [{
                        name: "\u041d\u043e\u0432\u0438\u0439 \u0440\u0456\u043a",
                        fixed_date: [1, 1]
                    }, {
                        name: "\u0420\u0456\u0437\u0434\u0432\u043e",
                        fixed_date: [1, 7]
                    }, {
                        name: "\u041c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u0438\u0439 \u0436\u0456\u043d\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c",
                        fixed_date: [3, 8]
                    }, {
                        name: "\u0412\u0435\u043b\u0438\u043a\u0434\u0435\u043d\u044c",
                        variable_date: "orthodox easter",
                        offset: 1
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041f\u0440\u0430\u0446\u0456 1",
                        fixed_date: [5, 1]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041f\u0440\u0430\u0446\u0456 2",
                        fixed_date: [5, 2]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041f\u0435\u0440\u0435\u043c\u043e\u0433\u0438",
                        fixed_date: [5, 9]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041a\u043e\u043d\u0441\u0442\u0438\u0442\u0443\u0446\u0456\u0457 \u0423\u043a\u0440\u0430\u0457\u043d\u0438",
                        fixed_date: [6, 28]
                    }, {
                        name: "\u0414\u0435\u043d\u044c \u041d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0456 \u0423\u043a\u0440\u0430\u0457\u043d\u0438",
                        fixed_date: [8, 24]
                    }]
                },
                us: {
                    PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                        name: "Memorial Day",
                        variable_date: "lastMayMonday"
                    }, {name: "Independence Day", fixed_date: [7, 4]}, {
                        name: "Labor Day",
                        variable_date: "firstSeptemberMonday"
                    }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                        name: "Thanksgiving",
                        variable_date: "firstNovemberThursday",
                        offset: 21
                    }, {name: "Christmas Day", fixed_date: [12, 25]}],
                    Alabama: {
                        _state_code: "al",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Robert E. Lee/Martin Luther King Birthday",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "George Washington/Thomas Jefferson Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Confederate Memorial Day",
                            variable_date: "firstAprilMonday",
                            offset: 21
                        }, {name: "Jefferson Davis' Birthday", variable_date: "firstJuneMonday"}]
                    },
                    Alaska: {
                        _state_code: "ak",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Veterans Day",
                            fixed_date: [11, 11]
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Seward's Day",
                            variable_date: "lastMarchMonday"
                        }, {name: "Alaska Day", fixed_date: [10, 18]}]
                    },
                    Arizona: {
                        _state_code: "az",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Dr. Martin Luther King Jr./Civil Rights Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Arkansas: {
                        _state_code: "ar",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Dr. Martin Luther King Jr. and Robert E. Lee's Birthdays",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "George Washington's Birthday and Daisy Gatson Bates Day",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    California: {
                        _state_code: "ca",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "C\xe9sar Ch\xe1vez Day",
                            fixed_date: [3, 31]
                        }]
                    },
                    Colorado: {
                        _state_code: "co",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Connecticut: {
                        _state_code: "ct",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Lincoln's Birthday",
                            fixed_date: [2, 12]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}]
                    },
                    Delaware: {
                        _state_code: "de",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Day After Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }]
                    },
                    "District of Columbia": {
                        _state_code: "dc",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Emancipation Day",
                            fixed_date: [4, 16]
                        }]
                    },
                    Florida: {
                        _state_code: "fl",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Veterans Day",
                            fixed_date: [11, 11]
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Friday after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Georgia: {
                        _state_code: "ga",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Robert E. Lee's Birthday",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Washington's Birthday", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Confederate Memorial Day", variable_date: "lastAprilMonday"}]
                    },
                    Guam: {
                        _state_code: "gu",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Guam Discovery Day",
                            fixed_date: [3, 5]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Liberation Day",
                            fixed_date: [7, 21]
                        }, {name: "All Souls' Day", fixed_date: [11, 2]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Lady of Camarin Day", fixed_date: [12, 8]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }]
                    },
                    Hawaii: {
                        _state_code: "hi",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Veterans Day",
                            fixed_date: [11, 11]
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Prince Jonah Kuhio Kalanianaole Day",
                            fixed_date: [3, 26]
                        }, {name: "Kamehameha Day", fixed_date: [6, 11]}, {
                            name: "Statehood Day",
                            variable_date: "firstAugustFriday",
                            offset: 14
                        }, {name: "Election Day", variable_date: "firstNovemberMonday", offset: 1}]
                    },
                    Idaho: {
                        _state_code: "id",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Martin Luther King, Jr.-Idaho Human Rights Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Illinois: {
                        _state_code: "il",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Lincoln's Birthday",
                            fixed_date: [2, 12]
                        }, {name: "Casimir Pulaski Day", variable_date: "firstMarchMonday"}, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }]
                    },
                    Indiana: {
                        _state_code: "in",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Lincoln's Birthday",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }, {
                            name: "Primary Election Day",
                            variable_date: "firstMayMonday",
                            offset: 1
                        }, {name: "Election Day", variable_date: "firstNovemberMonday", offset: 1}]
                    },
                    Iowa: {
                        _state_code: "ia",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Lincoln's Birthday",
                            fixed_date: [2, 12]
                        }]
                    },
                    Kansas: {
                        _state_code: "ks",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Kentucky: {
                        _state_code: "ky",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "New Year's Eve", fixed_date: [12, 31]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }]
                    },
                    Louisiana: {
                        _state_code: "la",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Mardi Gras",
                            variable_date: "easter",
                            offset: -47
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }]
                    },
                    Maine: {
                        _state_code: "me",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Patriots' Day",
                            variable_date: "firstAprilMonday",
                            offset: 14
                        }]
                    },
                    Maryland: {
                        _state_code: "md",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Native American Heritage Day",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Massachusetts: {
                        _state_code: "ma",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Patriots' Day",
                            variable_date: "firstAprilMonday",
                            offset: 14
                        }]
                    },
                    Michigan: {
                        _state_code: "mi",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "New Year's Eve", fixed_date: [12, 31]}]
                    },
                    Minnesota: {
                        _state_code: "mn",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Mississippi: {
                        _state_code: "ms",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Martin Luther King's and Robert E. Lee's Birthdays",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Confederate Memorial Day",
                            variable_date: "lastAprilMonday"
                        }]
                    },
                    Missouri: {
                        _state_code: "mo",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Truman Day", fixed_date: [5, 8]}]
                    },
                    Montana: {
                        _state_code: "mt",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "New Year's Eve",
                            fixed_date: [12, 31]
                        }]
                    },
                    Nebraska: {
                        _state_code: "ne",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Arbor Day",
                            variable_date: "lastAprilFriday"
                        }]
                    },
                    Nevada: {
                        _state_code: "nv",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Veterans Day",
                            fixed_date: [11, 11]
                        }, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Nevada Day",
                            variable_date: "lastOctoberFriday"
                        }, {name: "Family Day", variable_date: "firstNovemberThursday", offset: 22}]
                    },
                    "New Hampshire": {
                        _state_code: "nh",
                        PH: [{
                            name: "New Year's Day",
                            fixed_date: [1, 1]
                        }, {
                            name: "Martin Luther King, Jr. Civil Rights Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Day after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }]
                    },
                    "New Jersey": {
                        _state_code: "nj",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Lincoln's Birthday",
                            fixed_date: [2, 12]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }]
                    },
                    "New Mexico": {
                        _state_code: "nm",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Day after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    "New York": {
                        _state_code: "ny",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Lincoln's Birthday",
                            fixed_date: [2, 12]
                        }, {name: "Election Day", variable_date: "firstNovemberMonday", offset: 1}]
                    },
                    "North Carolina": {
                        _state_code: "nc",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Day after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Day after Christmas", fixed_date: [12, 26]}, {
                            name: "Good Friday",
                            variable_date: "easter",
                            offset: -2
                        }]
                    },
                    "North Dakota": {
                        _state_code: "nd",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Ohio: {
                        _state_code: "oh",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Oklahoma: {
                        _state_code: "ok",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Day after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Oregon: {
                        _state_code: "or",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Pennsylvania: {
                        _state_code: "pa",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Flag Day", fixed_date: [6, 14]}]
                    },
                    "Puerto Rico": {
                        _state_code: "pr",
                        PH: [{name: "D\xeda de A\xf1o Nuevo", fixed_date: [1, 1]}, {
                            name: "D\xeda de Reyes",
                            fixed_date: [1, 6]
                        }, {
                            name: "Natalicio de Eugenio Mar\xeda de Hostos",
                            variable_date: "firstJanuaryMonday",
                            offset: 7
                        }, {
                            name: "Natalicio de Martin Luther King, Jr.",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "D\xeda de los Presidentes",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {
                            name: "D\xeda de la Abolici\xf3n de Esclavitud",
                            fixed_date: [3, 22]
                        }, {
                            name: "Viernes Santo",
                            variable_date: "easter",
                            offset: -2
                        }, {
                            name: "Natalicio de Jos\xe9 de Diego",
                            variable_date: "firstAprilMonday",
                            offset: 14
                        }, {
                            name: "Recordaci\xf3n de los Muertos de la Guerra",
                            variable_date: "lastMayMonday"
                        }, {
                            name: "D\xeda de la Independencia",
                            fixed_date: [7, 4]
                        }, {
                            name: "Constituci\xf3n de Puerto Rico",
                            fixed_date: [7, 25]
                        }, {
                            name: "Natalicio de Dr. Jos\xe9 Celso Barbosa",
                            fixed_date: [7, 27]
                        }, {
                            name: "D\xeda del Trabajo",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "D\xeda de la Raza Descubrimiento de Am\xe9rica",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {
                            name: "D\xeda del Veterano",
                            fixed_date: [11, 11]
                        }, {
                            name: "D\xeda del Descubrimiento de Puerto Rico",
                            fixed_date: [11, 19]
                        }, {
                            name: "D\xeda de Acci\xf3n de Gracias",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Noche Buena", fixed_date: [12, 24]}, {
                            name: "D\xeda de Navidad",
                            fixed_date: [12, 25]
                        }]
                    },
                    "Rhode Island": {
                        _state_code: "ri",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Victory Day",
                            variable_date: "firstAugustMonday",
                            offset: 7
                        }]
                    },
                    "South Carolina": {
                        _state_code: "sc",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Confederate Memorial Day",
                            fixed_date: [5, 10]
                        }]
                    },
                    "South Dakota": {
                        _state_code: "sd",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Native American Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Tennessee: {
                        _state_code: "tn",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}]
                    },
                    Texas: {
                        _state_code: "tx",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {
                            name: "Friday after Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 22
                        }, {name: "Christmas Eve", fixed_date: [12, 24]}, {
                            name: "Christmas Day",
                            fixed_date: [12, 25]
                        }, {name: "Day after Christmas", fixed_date: [12, 26]}]
                    },
                    "United States Virgin Islands": {
                        _state_code: "vi",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {
                            name: "Labor Day",
                            variable_date: "firstSeptemberMonday"
                        }, {
                            name: "Virgin Islands-Puerto Rico Friendship Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Three Kings Day",
                            fixed_date: [1, 6]
                        }, {name: "Transfer Day", fixed_date: [3, 31]}, {
                            name: "Holy Thursday",
                            variable_date: "easter",
                            offset: -3
                        }, {name: "Good Friday", variable_date: "easter", offset: -2}, {
                            name: "Easter Monday",
                            variable_date: "easter",
                            offset: 1
                        }, {name: "Emancipation Day", fixed_date: [7, 3]}, {
                            name: "Hurricane Supplication Day",
                            variable_date: "firstJulyMonday",
                            offset: 21
                        }, {name: "Hurricane Thanksgiving", fixed_date: [10, 25]}, {
                            name: "Liberty Day",
                            fixed_date: [11, 1]
                        }, {name: "Christmas Second Day", fixed_date: [12, 26]}, {
                            name: "New Year's Eve",
                            fixed_date: [12, 31]
                        }]
                    },
                    Utah: {
                        _state_code: "ut",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {name: "Pioneer Day", fixed_date: [7, 24]}]
                    },
                    Vermont: {
                        _state_code: "vt",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Town Meeting Day",
                            variable_date: "firstMarchTuesday"
                        }, {name: "Battle of Bennington", variable_date: "firstAugustMonday", offset: 14}]
                    },
                    Virginia: {
                        _state_code: "va",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {
                            name: "Election Day",
                            variable_date: "firstNovemberMonday",
                            offset: 1
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    Washington: {
                        _state_code: "wa",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    },
                    "West Virginia": {
                        _state_code: "wv",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "West Virginia Day",
                            fixed_date: [6, 20]
                        }, {name: "Lincoln's Day", variable_date: "firstNovemberThursday", offset: 22}]
                    },
                    Wisconsin: {
                        _state_code: "wi",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}, {
                            name: "Primary Election Day",
                            variable_date: "firstAugustTuesday",
                            offset: 7
                        }, {name: "Election Day", variable_date: "firstNovemberMonday", offset: 1}]
                    },
                    Wyoming: {
                        _state_code: "wy",
                        PH: [{name: "New Year's Day", fixed_date: [1, 1]}, {
                            name: "Martin Luther King, Jr. Day",
                            variable_date: "firstJanuaryMonday",
                            offset: 14
                        }, {
                            name: "Washington's Birthday",
                            variable_date: "firstFebruaryMonday",
                            offset: 14
                        }, {name: "Memorial Day", variable_date: "lastMayMonday"}, {
                            name: "Independence Day",
                            fixed_date: [7, 4]
                        }, {name: "Labor Day", variable_date: "firstSeptemberMonday"}, {
                            name: "Columbus Day",
                            variable_date: "firstOctoberMonday",
                            offset: 7
                        }, {name: "Veterans Day", fixed_date: [11, 11]}, {
                            name: "Thanksgiving",
                            variable_date: "firstNovemberThursday",
                            offset: 21
                        }, {name: "Christmas Day", fixed_date: [12, 25]}]
                    }
                },
                vn: {
                    PH: [{
                        name: "T\u1ebft D\u01b0\u01a1ng L\u1ecbch",
                        fixed_date: [1, 1]
                    }, {
                        name: "Ng\xe0y Qu\u1ed1c t\u1ebf Ph\u1ee5 n\u1eef",
                        fixed_date: [3, 8]
                    }, {
                        name: "Ng\xe0y th\xe0nh l\u1eadp \u0110o\xe0n Thanh ni\xean C\u1ed9ng s\u1ea3n H\u1ed3 Ch\xed Minh",
                        fixed_date: [3, 26]
                    }, {
                        name: "Ng\xe0y Qu\u1ed1c t\u1ebf Thi\u1ebfu nhi",
                        fixed_date: [6, 1]
                    }, {
                        name: "Ng\xe0y Nh\xe0 gi\xe1o Vi\u1ec7t Nam",
                        fixed_date: [11, 20]
                    }, {
                        name: "Ng\xe0y Gi\u1ea3i ph\xf3ng mi\u1ec1n Nam, Th\u1ed1ng nh\u1ea5t \u0110\u1ea5t n\u01b0\u1edbc",
                        fixed_date: [4, 30]
                    }, {
                        name: "Ng\xe0y Qu\u1ed1c t\u1ebf lao \u0111\u1ed9ng",
                        fixed_date: [5, 1]
                    }, {name: "Qu\u1ed1c Kh\xe1nh", fixed_date: [9, 2]}, {
                        name: "L\u1ec5 Gi\xe1ng Sinh",
                        fixed_date: [12, 25]
                    }]
                },
                xa: {
                    PH: [{name: "New Year", fixed_date: [1, 1]}],
                    SH: [{
                        2020: [6, 21, 9, 23],
                        2021: [6, 21, 9, 23],
                        2022: [6, 21, 9, 23],
                        2023: [6, 21, 9, 23],
                        2024: [6, 21, 9, 23],
                        2025: [6, 21, 9, 23],
                        2026: [6, 21, 9, 23],
                        2027: [6, 21, 9, 23],
                        2028: [6, 21, 9, 23],
                        2029: [6, 21, 9, 23],
                        2030: [6, 21, 9, 23],
                        2031: [6, 21, 9, 23],
                        2032: [6, 21, 9, 23],
                        name: "Summer"
                    }]
                }
            }), _t = {
                "assuming ok for ko": {
                    daytime: "sunrise-sunset",
                    spring: "Mar-May",
                    summer: "Jun-Aug",
                    autumn: "Sep-Nov",
                    winter: "Dec-Feb",
                    _: "-",
                    "=": "-",
                    fr\u00fchling: "Mar-May",
                    fr\u00fchjahr: "Mar-May",
                    sommer: "Jun-Aug",
                    herbst: "Sep-Nov",
                    gesloten: "off",
                    feestdag: "PH",
                    feestdagen: "PH",
                    m: "Mo",
                    w: "We",
                    f: "Fr",
                    primavera: "Mar-May",
                    estate: "Jun-Aug",
                    autunno: "Sep-Nov",
                    inverno: "Dec-Feb"
                },
                "please use English written ok for ko": {"(?:an )?feiertag(?:s|en?)?": "PH"},
                "please use off for ko": {"ruhetage?": "off", geschlossen: "off", geschl: "off", except: "off"},
                "please use ok for workday": {
                    wd: "Mo-Fr",
                    "on work days?": "Mo-Fr",
                    "weekdays?": "Mo-Fr",
                    "werktags?": "Mo-Sa",
                    vardagar: "Mo-Fr"
                },
                "omit hour keyword": {h: ""},
                "omit ko": {
                    season: "",
                    hs: "",
                    hrs: "",
                    hours: "",
                    uhr: "",
                    ge\u00f6ffnet: "",
                    zwischen: "",
                    ist: "",
                    durchgehend: "",
                    "\xf6ffnungszeit(?:en)?:?": ""
                },
                "omit tag key": {"opening_hours\\s*=": ""},
                "omit wrong keyword open end": {from: "", ab: "", von: ""},
                "assuming open end for ko": {"(?:bis|till?|-|\u2013)? ?(?:open ?end|late)": "+"},
                "please use ok for uncertainty": {"~": "-", "\uff5e": "-"},
                "please use fallback rule": {otherwise: "||"},
                "please use ok for missing data": {"\\?": ""},
                "please use ok for ko": {
                    "\u2192": "-",
                    "\u2212": "-",
                    "\u2014": "-",
                    \u30fc: "-",
                    to: "-",
                    \u0434\u043e: "-",
                    a: "-",
                    as: "-",
                    \u00e1: "-",
                    \u00e1s: "-",
                    \u00e0s: "-",
                    ate: "-",
                    "till?": "-",
                    until: "-",
                    through: "-",
                    and: ",",
                    "&": ",",
                    "\uff1a": ":",
                    "'": '"',
                    always: "24/7",
                    "always open": "24/7",
                    "always closed": "closed",
                    nonstop: "24/7",
                    "24x7": "24/7",
                    anytime: "24/7",
                    "all day": "24/7",
                    daily: "Mo-Su",
                    everyday: "Mo-Su",
                    "every day": "Mo-Su",
                    "all days": "Mo-Su",
                    "7j/7": "Mo-Su",
                    "7/7": "Mo-Su",
                    "7days": "Mo-Su",
                    "7 days": "Mo-Su",
                    "7 days a week": "Mo-Su",
                    "7 days/week": "Mo-Su",
                    "24 hours 7 days a week": "24/7",
                    "24 hours": "00:00-24:00",
                    midday: "12:00",
                    midnight: "00:00",
                    "(?:public )?holidays?": "PH",
                    "(?:one )?day after public holiday": "PH +1 day",
                    "(?:one )?day before public holiday": "PH -1 day",
                    "school ?holidays?": "SH",
                    "weekends?": "Sa,Su",
                    daylight: "sunrise-sunset",
                    "on(?:_| )?appointments?": '"on appointment"',
                    "by(?:_| )?appointments?": '"by appointment"',
                    "nach(?: |_)vereinbarung": '"Nach Vereinbarung"',
                    "nach(?: |_)absprache": '"Nach Absprache"',
                    bis: "-",
                    t\u00e4glich: "Mo-Su",
                    "(?:schul)?ferien": "SH",
                    "(?:an|nur)? ?sonn-?(?: und |/)feiertag(?:s|en?)?": "PH,Su",
                    und: ",",
                    u: ",",
                    auch: ",",
                    ferm\u00e9: "off",
                    et: ",",
                    \u00e0: "-",
                    "jours f\xe9ri\xe9s": "PH",
                    sundown: "sunset",
                    morgend\u00e4mmerung: "dawn",
                    abendd\u00e4mmerung: "dusk",
                    sonnenaufgang: "sunrise",
                    sonnenuntergang: "sunset",
                    ostern: "easter"
                },
                "please use English abbreviation ok for so": {so: "Su"},
                "please use English abbreviation ok for ko": {
                    sun: "Su",
                    "sundays?": "Su",
                    mon: "Mo",
                    "mondays?": "Mo",
                    "tues?": "Tu",
                    "tuesdays?": "Tu",
                    "weds?": "We",
                    "wednesdays?": "We",
                    thu: "Th",
                    "thurs?": "Th",
                    "thursdays?": "Th",
                    fri: "Fr",
                    "fridays?": "Fr",
                    sat: "Sa",
                    "saturdays?": "Sa",
                    son: "Su",
                    "sonn-": "Su",
                    "sonntags?": "Su",
                    "montags?": "Mo",
                    di: "Tu",
                    "die?": "Tu",
                    "dienstags?": "Tu",
                    mi: "We",
                    "mit?": "We",
                    "mittwochs?": "We",
                    "don?": "Th",
                    "donnerstags?": "Th",
                    fre: "Fr",
                    "freitags?": "Fr",
                    sam: "Sa",
                    "samstags?": "Sa",
                    dim: "Su",
                    dimanche: "Su",
                    "lun?": "Mo",
                    lundi: "Mo",
                    mardi: "Tu",
                    mer: "We",
                    mercredi: "We",
                    "jeu?": "Th",
                    jeudi: "Th",
                    "ven?": "Fr",
                    vendredi: "Fr",
                    samedi: "Sa",
                    "zon?": "Su",
                    zontag: "Su",
                    zondag: "Su",
                    maandag: "Mo",
                    din: "Tu",
                    dinsdag: "Tu",
                    "woe?": "We",
                    woensdag: "We",
                    donderdag: "Th",
                    "vri?": "Fr",
                    vrijdag: "Fr",
                    "zat?": "Sa",
                    zaterdag: "Sa",
                    ned\u011ble: "Su",
                    ne: "Su",
                    pond\u011bl\u00ed: "Mo",
                    po: "Mo",
                    \u00fater\u00fd: "Tu",
                    \u00fat: "Tu",
                    st\u0159eda: "We",
                    st: "We",
                    \u010dtvrtek: "Th",
                    \u010dt: "Th",
                    p\u00e1tek: "Fr",
                    p\u00e1: "Fr",
                    sobota: "Sa",
                    martes: "Tu",
                    mi\u00e9rcoles: "We",
                    jueves: "Th",
                    viernes: "Fr",
                    s\u00e1bado: "Sa",
                    domingo: "Su",
                    lunes: "Mo",
                    selasa: "Su",
                    rabu: "Mo",
                    kami: "Tu",
                    jumat: "We",
                    sabtu: "Th",
                    minggu: "Fr",
                    senin: "Sa",
                    s\u00f6ndag: "Su",
                    s\u00f6ndagar: "Su",
                    m\u00e5ndag: "Mo",
                    ma: "Mo",
                    tisdag: "Tu",
                    onsdag: "We",
                    torsdag: "Th",
                    fredag: "Fr",
                    l\u00f6rdag: "Sa",
                    l\u00f6rdagar: "Sa",
                    niedziela: "Su",
                    niedz: "Su",
                    n: "Su",
                    ndz: "Su",
                    poniedzia\u0142ek: "Mo",
                    poniedzialek: "Mo",
                    pon: "Mo",
                    pn: "Mo",
                    wtorek: "Tu",
                    wt: "Tu",
                    \u015broda: "We",
                    sroda: "We",
                    \u015br: "We",
                    sr: "We",
                    czwartek: "Th",
                    czw: "Th",
                    cz: "Th",
                    pi\u0105tek: "Fr",
                    piatek: "Fr",
                    pt: "Fr",
                    sob: "Sa",
                    \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435: "Su",
                    \u0412\u0441: "Su",
                    "voskresen'ye": "Su",
                    \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a: "Mo",
                    \u041f\u043d: "Mo",
                    "ponedel'nik": "Mo",
                    \u0432\u0442\u043e\u0440\u043d\u0438\u043a: "Tu",
                    vtornik: "Tu",
                    \u0441\u0440\u0435\u0434\u0430: "We",
                    sreda: "We",
                    \u0447\u0435\u0442\u0432\u0435\u0440\u0433: "Th",
                    chetverk: "Th",
                    \u043f\u044f\u0442\u043d\u0438\u0446\u0430: "Fr",
                    pyatnitsa: "Fr",
                    \u0441\u0443\u0431\u0431\u043e\u0442\u0430: "Sa",
                    subbota: "Sa",
                    s\u00f8ndag: "Su",
                    mandag: "Mo",
                    tirsdag: "Tu",
                    l\u00f8rdag: "Sa",
                    dom: "Su",
                    "domenica?": "Su",
                    "domeniche?": "Su",
                    lun: "Mo",
                    "luned\xec?": "Mo",
                    "mar?": "Tu",
                    "marted\xec?": "Tu",
                    "mer?": "We",
                    "mercoled\xec?": "We",
                    gio: "Th",
                    "gioved\xec?": "Th",
                    ven: "Fr",
                    "venerd\xec?": "Fr",
                    sab: "Sa",
                    "sabato?": "Sa",
                    j\u00e4nner: "Jan",
                    january: "Jan",
                    february: "Feb",
                    march: "Mar",
                    april: "Apr",
                    "june?": "Jun",
                    "july?": "Jul",
                    august: "Aug",
                    september: "Sep",
                    sept: "Sep",
                    october: "Oct",
                    november: "Nov",
                    december: "Dec",
                    januar: "Jan",
                    februar: "Feb",
                    "m\xe4rz?": "Mar",
                    maerz: "Mar",
                    mai: "May",
                    juni: "Jun",
                    juli: "Jul",
                    okt: "Oct",
                    oktober: "Oct",
                    dez: "Dec",
                    dezember: "Dec",
                    janvier: "Jan",
                    f\u00e9vrier: "Feb",
                    f\u00e9v: "Feb",
                    mars: "Mar",
                    avril: "Apr",
                    avr: "Apr",
                    juin: "Jun",
                    juillet: "Jul",
                    ao\u00fbt: "Aug",
                    ao\u00fb: "Aug",
                    septembre: "Sep",
                    octobre: "Oct",
                    novembre: "Nov",
                    d\u00e9cembre: "Dec",
                    januari: "Jan",
                    februari: "Feb",
                    maart: "Mar",
                    mei: "May",
                    augustus: "Aug",
                    gennaio: "Jan",
                    febbraio: "Feb",
                    marzo: "Mar",
                    aprile: "Apr",
                    "giugno?": "Jun",
                    "luglio?": "Jul",
                    agosto: "Aug",
                    settembre: "Sep",
                    ottobre: "Oct",
                    dicembre: "Dec"
                },
                "please use ok for similar looking ko": {\u043eff: "off"},
                "please use 24 hours time for ko": {
                    pm: "pm",
                    "p.m.": "pm",
                    \u0440\u043c: "pm",
                    am: "am",
                    "a.m.": "am",
                    \u0430\u043c: "am"
                },
                "please use restriction comment time for ko": {damen: 'open "Damen"', herren: 'open "Herren"'},
                "please use ok for typographically correct": {
                    "\u2013": "-",
                    "\u201e": '"',
                    "\u201c": '"',
                    "\u201d": '"',
                    "\xab": '"',
                    "\xbb": '"',
                    "\u201a": '"',
                    "\u2018": '"',
                    "\u2019": '"',
                    "\u300c": '"',
                    "\u300d": '"',
                    "\u300e": '"',
                    "\u300f": '"'
                }
            }, Ut = {
                "unexpected token": 'Unexpected token: "{{token}}" This means that the syntax is not valid at that point or it is currently not supported.',
                "no string": "The value (first parameter) is not a string.",
                nothing: "The value contains nothing meaningful which can be parsed.",
                "nothing useful": "This rule does not contain anything useful. Please remove this empty rule.",
                "combine rules": 'Separate rules detected each of which only consists of a time selector. These rules should be written as one rule by combining them using "{{ok}}".',
                "value ends with token": 'The value ends with "{{token}}". Please either continue after "{{token}}" or remove "{{token}}".',
                "programmers joke": "Might it be possible that you are a programmer and adding a semicolon after each statement is hardwired in your muscle memory ;) ? The thing is that the semicolon in the opening_hours syntax is defined as rule separator. So for compatibility reasons you should omit this last semicolon.",
                "interpreted as year": 'The number {{number}} will be interpreted as year. This is probably not intended. Times can be specified as "12:00".',
                "rule before fallback empty": "Rule before fallback rule does not contain anything useful",
                "hour min separator": 'Please use ":" as hour/minute-separator',
                "warnings severity": 'The parameter optional_conf_parm["warnings_severity"] must be an integer number between 0 and 7 (inclusive). Given {{severity}}, expected one of the following numbers: {{allowed}}.',
                "optional conf parm type": "The optional_conf_parm parameter is of unknown type. Given {{given}}",
                "conf param tag key missing": 'The optional_conf_parm["tag_key"] is missing, required by optional_conf_parm["map_value"].',
                "conf param mode invalid": 'The optional_conf_parm["mode"] parameter is a invalid number. Gave {{given}}, expected one of the following numbers: {{allowed}}.',
                "conf param unknown type": 'The optional_conf_parm["{{key}}"] parameter is of unknown type. Given {{given}}, expected {{expected}}.',
                "library bug": 'An error occurred during evaluation of the value "{{value}}". Please file a bug report or pull request: {{url}}.{{message}}',
                "library bug PR only": 'An error occurred during evaluation of the value "{{value}}". Please submit a pull request: {{url}}.{{message}}',
                "use multi": 'You have used {{count}} {{part2}} Rules can be separated by ";".',
                "selector multi 2a": "{{what}} in one rule. You may only use one in one rule.",
                "selector multi 2b": 'not connected {{what}} in one rule. This is probably an error. Equal selector types can (and should) always be written in conjunction separated by comma. Example for time ranges "12:00-13:00,15:00-18:00". Example for weekdays "Mo-We,Fr".',
                "selector state": "state keywords",
                comments: "comments",
                "holiday ranges": "holiday ranges",
                months: "months",
                weekdays: "weekdays",
                ranges: "ranges",
                "default state": "This rule which changes the default state (which is closed) for all following rules is not the first rule. The rule will overwrite all previous rules. It can be legitimate to change the default state to open for example and then only specify for which times the facility is closed.",
                vague: 'This rule is not very explicit because there is no time selector being used. A time selector is the part specifying hours when the object is opened, for example "10:00-19:00". Please add a time selector to this rule or use a comment to make it more explicit.',
                "empty comment": "You have used an empty comment. Please either write something in the comment or use the keyword unknown instead.",
                separator_for_readability: "You have used the optional symbol <separator_for_readability> in the wrong place. Please check the syntax specification to see where it could be used or remove it.",
                "strange 24/7": 'You used 24/7 in a way that is probably not interpreted as "24 hours 7 days a week". For correctness you might want to use "open" or "closed" for this rule and then write your exceptions which should achieve the same goal and is more clear e.g. "open; Mo 12:00-14:00 off".',
                "public holiday": 'There was no PH (public holiday) specified. This is not very explicit.{{part2}} Please either append a "PH off" rule if the amenity is closed on all public holidays or use something like "Sa,Su,PH 12:00-16:00" to say that on Saturdays, Sundays and on public holidays the amenity is open 12:00-16:00. If the amenity is open everyday including public holidays then you can make this explicit by writing "Mo-Su,PH". If you are not certain try to find it out. If you can\u2019t then do not add PH to the value and ignore this warning.',
                "public holiday part2": ' Unfortunately the tag key (e.g. "opening_hours", or "lit") is unknown to opening_hours.js. This warning only applies to the key {{keys}}. If your value is for that key than read on. If not you can ignore the following.',
                "additional_rule_separator not used after time wrapping midnight": 'This rule overwrites parts of the previous rule. This happens because normal rules apply to the whole day and overwrite any definition made by previous rules. You can make this rule an additional rule by using a "," instead of the normal ";" to separate the rules. Note that the overwriting can also be desirable in which case you can ignore this warning.',
                "additional rule which evaluates to closed": 'This rule will be evaluated as closed but it was specified as additional rule. It should be specified as normal rule using ";" as rule separator. See https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:rule_modifier:closed.',
                switched: 'The selector "{{first}}" was switched with the selector "{{second}}" for readability and compatibility reasons.',
                "no colon after": 'Please don\u2019t use ":" after {{token}}.',
                "number -5 to 5": "Number between -5 and 5 (except 0) expected.",
                "one weekday constraint": "You can not use more than one constrained weekday in a month range",
                "range constrained weekdays": "You can not use a range of constrained weekdays in a month range",
                expected: '"{{symbol}}" expected.',
                "range zero": "You can not use {{type}} ranges with period equals zero.",
                "period one year+": 'Please don\u2019t use {{type}} ranges with period equals one. If you want to express that a facility is open starting from a year without limit use "<year>+".',
                "period one": "Please don\u2019t use {{type}} ranges with period equals one.",
                "month 31": "The day for {{month}} must be between 1 and 31.",
                "month 30": "Month {{month}} doesn't have 31 days. The last day of {{month}} is day 30.",
                "month feb": "Month {{month}} either has 28 or 29 days (leap years).",
                "point in time": "hyphen (-) or open end (+) in time range {{calc}}expected. For working with points in time, the mode for {{libraryname}} has to be altered. Maybe wrong tag?",
                calculation: "calculation",
                "time range continue": "Time range does not continue as expected",
                "period continue": 'Time period does not continue as expected. Example "/01:30".',
                "time range mode": '{{libraryname}} is running in "time range mode". Found point in time.',
                "point in time mode": '{{libraryname}} is running in "points in time mode". Found time range.',
                "outside current day": "Time range starts outside of the current day",
                "two midnights": "Time spanning more than two midnights not supported",
                "without minutes": 'Time range without minutes specified. Not very explicit! Please use this syntax instead "{{syntax}}".',
                "outside day": "Time range starts outside of the current day",
                "zero calculation": 'Adding zero in a variable time calculation does not change the variable time. Please omit the calculation (example: "sunrise-(sunset-00:00)").',
                "calculation syntax": "Calculation with variable time is not in the right syntax",
                missing: 'Missing "{{symbol}}"',
                "(time)": "(time)",
                "bad range": "Bad range: {{from}}-{{to}}",
                "] or more numbers": '"]" or more numbers expected.',
                "additional rule no sense": 'An additional rule does not make sense here. Just use a ";" as rule separator. See https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:additional_rule_separator',
                "unexpected token weekday range": "Unexpected token in weekday range: {{token}}",
                "max differ": "There should be no reason to differ more than {{maxdiffer}} days from a {{name}}. If so tell us \u2026",
                "adding 0": "Adding 0 does not change the date. Please omit this.",
                "unexpected token holiday": "Unexpected token (holiday parser): {{token}}",
                "no holiday definition": "There are no holidays ({{name}}) defined for country {{cc}}.",
                "no holiday definition state": "There are no holidays ({{name}}) defined for country {{cc}} and state {{state}}.",
                "no country code": "Country code missing which is needed to select the correct holidays (see README how to provide it)",
                "no SH definition": "School holiday {{name}}not defined for the year {{year}}.",
                "movable no formula": "Movable day {{name}} can not not be calculated. Please add the formula how to calculate it.",
                "movable not in year": "The movable day {{name}} plus {{days}} days is not in the year of the movable day anymore. Currently not supported.",
                "year range one year": 'A year range in which the start year is equal to the end year does not make sense. Please remove the end year. E.g. "{{year}} May 23"',
                "year range reverse": "A year range in which the start year is greater than the end year does not make sense. Please turn it over.",
                "year past": "The year is in the past.",
                "unexpected token year range": "Unexpected token in year range: {{token}}",
                "week range reverse": "You have specified a week range in reverse order or leaping over a year. This is (currently) not supported.",
                "week negative": "You have specified a week date less then one. A valid week date range is 1-53.",
                "week exceed": "You have specified a week date greater then 53. A valid week date range is 1-53.",
                "week period less than 2": 'You have specified a week period which is less than two. If you want to select the whole range from week {{weekfrom}} to week {{weekto}} then just omit the "/{{period}}".',
                "week period greater than 26": 'You have specified a week period which is greater than 26. 26.5 is the half of the maximum 53 week dates per year so a week date period greater than 26 would only apply once per year. Please specify the week selector as "week {{weekfrom}}" if that is what you want to express.',
                "unexpected token week range": "Unexpected token in week range: {{token}}",
                "unexpected token month range": "Unexpected token in month range: {{token}}",
                "day range reverse": "Range in wrong order. From day is greater than to day.",
                "open end": "Specified as open end. Closing time was guessed.",
                "date parameter needed": "Date parameter needed.",
                "assuming ok for ko": 'Assuming "{{ok}}" for "{{ko}}".',
                "please use ok for ko": 'Please use notation "{{ok}}" for "{{ko}}".',
                "please use ok for similar looking ko": 'Please use notation "{{ok}}" for "{{ko}}". Those characters look very similar but are not the same!',
                "rant degree sign used for zero": "Note that this is not a (superscript) zero but a degree sign which is misused as zero. A superscript zero is defined in Unicode (\xb0) and would have been more appropriate/uniform here. But note that the use of none-ASCII digits is not allowed.",
                "please use English written ok for ko": 'Please use the English written "{{ok}}" for "{{ko}}".',
                "please use English abbreviation ok for ko": 'Please use the English abbreviation "{{ok}}" for "{{ko}}".',
                "please use English abbreviation ok for so": 'Please use the English abbreviation "{{ok}}" for "{{ko}}". Note that it might also mean Saturday in Polish.',
                "please use off for ko": 'Please use "{{ok}}" for "{{ko}}". Example: "Mo-Fr 08:00-12:00; Tu off".',
                "please use ok for workday": 'Assuming "{{ok}}" for "{{ko}}". Please avoid using "workday": https://wiki.openstreetmap.org/wiki/Talk:Key:opening_hours#need_syntax_for_holidays_and_workingdays',
                "omit hour keyword": 'Please omit "{{ko}}" or use a colon instead. Example: "12:00-14:00".',
                "omit ko": 'Please omit "{{ko}}".',
                "omit tag key": 'Please omit "{{ko}}". The tag key must not be in the tag value.',
                "omit wrong keyword open end": 'Please omit "{{ko}}". The tag key must not be in the tag value.',
                "assuming open end for ko": 'Assuming "{{ok}}" (open end time) for "{{ko}}". Example: "12:00+".',
                "please use ok for uncertainty": 'Please use notation "{{ok}}" for "{{ko}}". If there is reason to suspect uncertainty consider adding a comment. Example: 12:00-14:00 "only on sunshine".',
                "please use fallback rule": 'Please use notation "{{ok}}" (Fallback rule) for "{{ko}}". Example: Mo-Fr 12:00-14:00; PH off || "by appointment"',
                "please use ok for missing data": "Please consider adding a FIXME tag instead.",
                "please use 24 hours time for ko": "Please use time format in 24 hours notation instead of the legacy 12 hours variant. If the 12 hours variant is used you might have to convert the hours to the 24 hours notation.",
                "please use restriction comment time for ko": 'It looks like you might want to define additional restrictions. If that is the case and they can not be expressed by other syntax elements then you could use a comment together with the `open` keyword. Example: open "female only"',
                "please use ok for typographically correct": 'Please use notation "{{ok}}" for "{{ko}}". Although using "{{ko}}" is typographical correct, it is not defined in the opening_hours syntax. Correct typography should be done on application level \u2026'
            }, Dt = {
                en: {opening_hours: {pretty: {off: "closed", SH: "school holidays", PH: "public holidays"}}},
                de: {
                    opening_hours: {
                        texts: {
                            "unexpected token": 'Unerwartetes Zeichen: "{{token}}" Das bedeutet, dass die Syntax an dieser Stelle nicht erkannt werden konnte.',
                            "no string": "Der Wert (erster Parameter) ist kein String",
                            nothing: "Der Wert enth\xe4lt nichts, was ausgewertet werden k\xf6nnte.",
                            "nothing useful": "Diese Regel enth\xe4lt nichts n\xfctzliches. Bitte entferne diese leere Regel.",
                            "combine rules": 'Getrennte Regeln erkannt welche jeweils nur aus einer Zeit Bereichsdefinition bestehen. Diese Regeln sollten mittels "{{ok}}" zu einer Regel kombiniert werden.',
                            "value ends with token": 'Der Wert endet mit "{{token}}". Bitte erg\xe4nze den Wert nach "{{token}}" oder l\xf6sche "{{token}}".',
                            "programmers joke": "Kann es sein, dass du ein Programmierer bist und das Hinzuf\xfcgen eines Semikolons nach jedem Statement ist zwanghaft ;) ? Es ist so, dass das Semikolon in der opening_hours-Syntax als Trenner f\xfcr Regeln definiert ist. Bitte verzichte an dieser Stelle auf ein Semikolon.",
                            "interpreted as year": 'Die Zahl {{number}} wird als Jahr interpretiert. Vermutlich ist das nicht beabsichtigt. Uhrzeiten werden als "12:00" angegeben.',
                            "rule before fallback empty": "Die Regel vor der Fallback-Regel enth\xe4lt nichts n\xfctzliches",
                            "hour min separator": 'Bitte benutze ":" als Stunden/Minuten-Trenner',
                            "warnings severity": 'Der Parameter optional_conf_parm["warnings_severity"] muss eine ganze Zahl zwischen (einschlie\xdflich) 0 und (einschlie\xdflich) 7 sein. Gegeben: {{severity}}, erwartet: Eine der Zahlen: {{allowed}}.',
                            "optional conf parm type": "Der optional_conf_parm Parameter hat einen unbekannten Typ. Gegeben: {{given}}",
                            "conf param tag key missing": 'Der optional_conf_parm["tag_key"] fehlt, ist aber notwendig wegen optional_conf_parm["map_value"].',
                            "conf param mode invalid": 'Der optional_conf_parm["mode"]-Parameter ist eine ung\xfcltige Zahl. Gegeben: {{given}}, erwartet: Eine der Zahlen: {{allowed}}.',
                            "conf param unknown type": 'Der optional_conf_parm["{{key}}"] Parameter hat einen unbekannten Typ. Gegeben: {{given}}, erwartet: {{expected}}.',
                            "library bug": 'Bei der Auswertung des Wertes "{{value}}" ist ein Fehler aufgetreten. Bitte melde diesen Fehler oder korrigiere diesen mittels eines Pull Requests oder Patches: {{-url}}.{{message}}',
                            "library bug PR only": 'Bei der Auswertung des Wertes "{{value}}" ist ein Fehler aufgetreten. Du kannst dies korrigieren, indem du das Problem l\xf6st und in Form eines Pull Requests oder Patches zum Projekt beitr\xe4gst: {{-url}}.{{message}}',
                            "use multi": 'Du hast {{count}} {{-part2}} Einzelne Regeln k\xf6nnen mit ";" getrennt werden.',
                            "selector multi 2a": "{{what}} in einer Regel benutzt. Du kannst nur einen davon je Regel verwenden",
                            "selector multi 2b": 'nicht verbundene {{what}} in einer Regel benutzt. Das ist vermutlich ein Fehler. Gleiche Selektoren k\xf6nnen (und sollten) immer zusammen und durch Kommas getrennt geschrieben werden. Beispiel f\xfcr Zeitspannen "12:00-13:00,15:00-18:00". Beispiel f\xfcr Wochentage "Mo-We,Fr".',
                            "selector state": "Status-Schl\xfcsselw\xf6rter (offen, geschlossen)",
                            comments: "Kommentare",
                            months: "Monate",
                            weekdays: "Wochentage",
                            ranges: "Zeitspannen",
                            "default state": "Diese Regel, welche den Standard-Status (d.h. geschlossen) f\xfcr alle folgenden Regeln \xe4ndert, ist nicht die erste Regel. Diese Regel \xfcberschreibt alle vorherigen Regeln. Es kann legitim sein, den Standard-Status z.B. auf ge\xf6ffnet festzulegen und dann nur die Zeiten, zu denen geschlossen ist, anzugeben.",
                            vague: 'Diese Regel ist nicht sehr aussagekr\xe4ftig, da kein Zeit Selektor angegeben wurde. Ein Zeit Selektor ist die Komponente die angibt, zu welcher Tageszeit ein Objekt ge\xf6ffnet hat, zum Beispiel "10:00-19:00". Bitte f\xfcge eine Zeitangabe oder einen Kommentar hinzu, um dies zu verbessern.',
                            "empty comment": 'Du hast einen leeren Kommentar verwendet." Bitte schreibe entweder einen Kommentar-Text oder benutze stattdessen das Schl\xfcsselwort "unknown".',
                            separator_for_readability: "Du hast das optionale Symbol <separator_for_readability> an der falschen Stelle benutzt. Bitte lies die Syntax-Spezifikation um zu sehen, wo es verwendet werden kann, oder entferne es.",
                            "strange 24/7": 'Du hast 24/7 in einer Art verwendet, welche wahrscheinlich nicht als "24 Stunden, 7 Tage die Woche" interpretiert wird. Der Richtigkeit halber solltest du "open" oder "closed" f\xfcr diese Regel verwenden und dann die Ausnahmen angeben um das selbe Ziel zu erreichen. So ist es klarer \u2013 zum Beispiel "open; Mo 12:00-14:00 off".',
                            "public holiday": 'Es wurde keine Regel f\xfcr "PH" (feiertags) angegeben. Dies ist nicht sehr aussagekr\xe4ftig.{{-part2}} Bitte f\xfcge die Regel "PH off" an, wenn die Einrichtung an allen Feiertagen geschlossen ist oder schreibe "Sa,Su,PH 12:00-16:00" um auszudr\xfccken, dass Samstags, Sonntags und feiertags von 12:00-16:00 ge\xf6ffnet ist. Falls die Einrichtung t\xe4glich und an Feiertagen ge\xf6ffnet ist, kann dies explizit mittels "Mo-Su,PH" ausgedr\xfcckt werden. Wenn du dir im Unklaren bist, versuche die \xd6ffnungszeit zu kl\xe4ren. Falls das nicht m\xf6glich ist, lass die Angabe weg und ignoriere diese Warnung.',
                            "public holiday part2": ' Leider ist der "tag key" (beispielsweise "opening_hours", oder "lit") in opening_hours.js nicht bekannt. Diese Warnung betrifft nur die Keys: {{keys}}. Falls deine Angabe nicht f\xfcr einen dieser ist, ignoriere bitte folgenden Hinweis:',
                            "additional_rule_separator not used after time wrapping midnight": 'Diese Regel \xfcberschreibt Teile der vorherigen Regel. Der Grund daf\xfcr ist, dass normale Regeln auf den ganzen Tag zutreffen und alle Definitionen von vorhergehenden Regeln f\xfcr diesen Tag \xfcberschreiben. Du kannst diese Regel als additive Regel deklarieren indem du ein "," anstelle des \xfcblichen ";" f\xfcr diese Regel verwendest. Beachte das die \xdcberschreibung auch gew\xfcnscht sein kann und in so einem Fall diese Warnung ignoriert werden kann.',
                            "additional rule which evaluates to closed": 'Diese Regel wird als geschlossen ausgewertet aber wurde als additive Regel angegeben. Sie sollte als normale Regel mittels ";" definiert sein. Siehe https://wiki.openstreetmap.org/wiki/DE:Key:opening_hours/specification#explain:rule_modifier:closed.',
                            switched: 'Der Selektor "{{first}}" wurde f\xfcr eine bessere Lesbarkeit und der Vollst\xe4ndigkeit halber mit "{{second}}" getauscht.',
                            "no colon after": 'Bitte Benutze kein ":" nach dem Token {{token}}.',
                            "number -5 to 5": "Zahl zwischen -5 und 5 (au\xdfer 0) erwartet.",
                            "one weekday constraint": "Du kannst h\xf6chstens einen beschr\xe4nkten Wochentag in einer Monats-Spanne verwenden",
                            "range constrained weekdays": "Du kannst keine Wochentags-Spanne als Beschr\xe4nkung in einer Monats-Spanne verwenden",
                            expected: '"{{-symbol}}" erwartet.',
                            "range zero": 'Du kannst keine {{type}}-Spanne mit Periode "0" verwenden.',
                            "period one year+": 'Bitte verwende keine {{type}}-Spannen mit Periode "1". Wenn du ausdr\xfccken willst, das eine Einrichtung ab einem bestimmten Jahr immer offen ist, benutze bitte "<year>+".',
                            "period one": 'Bitte verwende keine {{type}}-Spannen mit Periode "1".',
                            "month 31": "Die Tagesangabe f\xfcr {{month}} muss zwischen 1 und 31 liegen.",
                            "month 30": "Der Monat {{month}} hat keine 31 Tage. Der letzte Tag von {{month}} ist Tag 30.",
                            "month feb": '"Der Monat {{month}} hat entweder 28 oder 29 Tage (Schaltjahre)."',
                            "point in time": "Erwarte Bindestrich (-) oder offenes Ende (+) in der Zeitspanne {{calc}}. Um mit Zeitpunkten zu arbeiten, muss der Modus f\xfcr  {{libraryname}} umgestellt werden. Vielleicht falsches OSM-tag verwendet?",
                            calculation: "Berechnung",
                            "time range continue": "Die Zeitspanne geht nicht wie erwartet weiter",
                            "period continue": 'Die Zeitspannen-Periode geht nicht wie erwartet weiter. Beispiel "/01:30".',
                            "time range mode": '{{libraryname}} wurde im "Zeitspannen-Modus" aufgerufen. Zeitpunkt gefunden.',
                            "time ranges": "Zeitspannen",
                            "holiday ranges": "Feiertagen",
                            "point in time mode": '{{libraryname}} wurde im "Zeitpunkt-Modus" aufgerufen. Zeitspanne gefunden.',
                            "outside current day": "Zeitspanne beginnt au\xdferhalb des aktuellen Tages",
                            "two midnights": "Zeitspanne welche mehrmals Mitternacht beinhaltet wird nicht unterst\xfctzt",
                            "without minutes": 'Zeitspanne ohne Minutenangabe angegeben. Das ist nicht sehr eindeutig! Bitte verwende stattdessen folgende Syntax "{{syntax}}".',
                            "outside day": "Die Zeitspanne beginnt au\xdferhalb des aktuellen Tages",
                            "zero calculation": 'Das Hinzuf\xfcgen von 0 in einer variablen Zeitberechnung \xe4ndert die variable Zeit nicht. Bitte entferne die Zeitberechnung (Beispiel: "sunrise-(sunset-00:00)").',
                            "calculation syntax": "Berechnung mit variabler Zeit hat nicht die korrekte Syntax",
                            missing: 'Fehlendes "{{symbol}}"',
                            "(time)": "(Zeit)",
                            "bad range": "Ung\xfcltige Zeitspanne: {{from}}-{{to}}",
                            "] or more numbers": '"]" oder weitere Zahlen erwartet.',
                            "additional rule no sense": 'Eine weitere Regel an dieser Stelle ergibt keinen Sinn. Benutze einfach ";" als Trenner f\xfcr Regeln. Siehe https://wiki.openstreetmap.org/wiki/Key:opening_hours/specification#explain:additional_rule_separator',
                            "unexpected token weekday range": "Unerwartes Token in Tages-Spanne: {{token}}",
                            "max differ": "Es sollte keinen Grund geben, mehr als {{maxdiffer}} Tage von einem {{name}} abzuweichen. Wenn n\xf6tig, teile uns dies bitte mit \u2026",
                            "adding 0": "Addition von 0 ver\xe4ndert das Datum nicht. Bitte weglassen.",
                            "unexpected token holiday": "Unerwarteter Token (in Feiertags-Auswertung): {{token}}",
                            "no holiday definition": "{{name}} ist f\xfcr das Land {{cc}} nicht definiert.",
                            "no holiday definition state": "{{name}} ist f\xfcr das Land {{cc}} und Bundesland {{state}} nicht definiert.",
                            "no country code": "Der L\xe4ndercode fehlt. Dieser wird ben\xf6tigt um die korrekten Feiertage zu bestimmen (siehe in der README wie dieser anzugeben ist)",
                            "no SH definition": "Die Schulferien {{name}}sind f\xfcr das Jahr {{year}} nicht definiert",
                            "movable no formula": "Der bewegliche Feiertag {{name}} kann nicht berechnet werden. Bitte f\xfcge eine entsprechende Formel hinzu.",
                            "movable not in year": "Der bewegliche Feiertag {{name}} plus {{days}} Tage befindet sich nicht mehr im selben Jahr. Aktuell nicht unterst\xfctzt.",
                            "year range one year": 'Eine Jahres-Spanne mit gleichem Jahr als Beginn und Ende ergibt keinen Sinn. Bitte entferne das Ende-Jahr. zum Beispiel: "{{year}} May 23"',
                            "year range reverse": "Eine Jahres-Spanne mit Beginn gr\xf6\xdfer als Ende ergibt keinen Sinn. Bitte umdrehen.",
                            "year past": "Das Jahr liegt in der Vergangenheit.",
                            "unexpected token year range": "Unerwartetes Token in der Jahres-Spanne: {{token}}",
                            "week range reverse": "Du hast eine Wochen-Spanne in umgekehrter Reihenfolge oder mehrere Jahre umfassende angegeben. Dies ist aktuell nicht unterst\xfctzt.",
                            "week negative": "Du hast eine Kalenderwoche kleiner 1 angegeben. Korrekte Angaben sind 1-53.",
                            "week exceed": "Du hast eine Kalenderwoche gr\xf6\xdfer als 53 angegeben. Korrekte Angaben sind 1-53.",
                            "week period less than 2": 'Du hast eine Wochenperiode kleiner 2 angegeben. Wenn du die gesamte Spanne von {{weekfrom}} bis {{weekto}} angeben willst, lasse "/{{period}}" einfach weg.',
                            "week period greater than 26": 'Du hast eine Wochen-Periode gr\xf6\xdfer als 26 angegeben. 26,5 ist die H\xe4lfte des Maximums von 53 Wochen pro Jahr. Damit w\xfcrde eine Periode gr\xf6\xdfer als 26 nur einmal pro Jahr auftreten. Bitte gibt den Wochen-Selektor als "week {{weekfrom}}" an, wenn es das ist, was du ausdr\xfccken m\xf6chtest.',
                            "unexpected token week range": "Unerwartetes Token in Wochen-Spanne: {{token}}",
                            "unexpected token month range": "Unerwartetes Token in Monats-Spanne: {{token}}",
                            "day range reverse": "Zeitspanne in falscher Reihenfolge. Beginn ist gr\xf6\xdfer als Ende.",
                            "open end": 'Angegeben als "open end". Schlie\xdfzeit wurde geraten.',
                            "date parameter needed": "Datumsparameter n\xf6tig.",
                            "assuming ok for ko": '"{{ko}}" wird als "{{ok}}" interpretiert.',
                            "please use ok for ko": 'Bitte verwende "{{-ok}}" anstelle von "{{-ko}}".',
                            "please use ok for similar looking ko": 'Please use notation "{{ok}}" for "{{ko}}". Those characters look very similar but are not the same!',
                            "rant degree sign used for zero": "Beachte das dies ein Gradzeichen ist, welches als (hochgestellte) Null missbraucht wurde. Eine hochgestellte Null ist in Unicode definiert (\xb0) und w\xe4re angebrachter/einheitlicher an dieser Stelle. Allerdings ist die Verwendung von nicht ASCII Ziffern nicht erlaubt.",
                            "please use English written ok for ko": 'Bitte benutze die englische Schreibweise "{{ok}}" f\xfcr "{{ko}}".',
                            "please use English abbreviation ok for ko": 'Bitte benutze die englische Abk\xfcrzung "{{ok}}" f\xfcr "{{ko}}".',
                            "please use English abbreviation ok for so": 'Bitte benutze die englische Abk\xfcrzung "{{ok}}" f\xfcr "{{ko}}". Beachte das Samstag in Polnisch gemeint sein kann.',
                            "please use off for ko": 'Bitte benutze "{{ok}}" f\xfcr "{{ko}}". Beispiel: "Mo-Fr 08:00-12:00; Tu off".',
                            "please use ok for workday": '"{{ko}}" wird als "{{ok}}" interpretiert. Werktag sollte nicht verwendet werden. Siehe https://wiki.openstreetmap.org/wiki/Talk:Key:opening_hours#need_syntax_for_holidays_and_workingdays',
                            "omit hour keyword": 'Bitte lasse "{{ko}}" weg oder verwende einen Doppelpunkt. Beispiel: "12:00-14:00".',
                            "omit ko": 'Bitte verzichte auf "{{ko}}".',
                            "omit tag key": 'Bitte lasse "{{ko}}" weg. Der Tag Schl\xfcssel darf nicht im Tag Wert sein.',
                            "omit wrong keyword open end": 'Bitte lasse "{{ko}}" weg. Falls du "open end" ausdr\xfccken m\xf6chtest verwende bitte ein "+". Beispiel: "12:00+".',
                            "assuming open end for ko": '"{{ko}}" wird als "{{ok}}" ("open end") interpretiert. Example: "12:00+".',
                            "please use ok for uncertainty": 'Bitte verwende "{{ok}}" f\xfcr "{{ko}}". Falls der begr\xfcndete Verdacht der Ungewissheit vorliegt ziehe die Verwendung eines Kommentars in Betracht. Beispiel: 12:00-14:00 "only on sunshine".',
                            "please use fallback rule": 'Bitte verwende "{{ok}}" (Fallback Regel) f\xfcr "{{ko}}". Beispiel: Mo-Fr 12:00-14:00; PH off || "nach Vereinbarung"',
                            "please use ok for missing data": "Bitte verwende eine FIXME Notiz.",
                            "please use 24 hours time for ko": "Bitte verwende 24 Stunden Zeitangaben anstelle der veralteten 12 Stunden Variante. Falls die 12 Stunden Variante verwendet wird ist eventuelle eine Konvertierung notwendig.",
                            "please use restriction comment time for ko": 'Es sieht so aus also m\xf6chtest du zus\xe4tzliche Einschr\xe4nkungen f\xfcr eine \xd6ffnungszeit geben. Falls sich dies nicht mit der Syntax ausdr\xfccken l\xe4sst k\xf6nnen Kommentare verwendet werden. Zus\xe4tzlich sollte eventuell das Schl\xfcsselwort `open` benutzt werden. Beispiel: open "Nur Frauen".',
                            "please use ok for typographically correct": 'Bitte verwende "{{-ok}}" f\xfcr "{{ko}}". Auch wenn "{{ko}}" typografisch korrekt ist, ist dies in der opening_hours Syntax nicht definiert. Korrekte Typographie sollte auf Anwendungsebene sichergestellt werden \u2026'
                        }, pretty: {off: "geschlossen", SH: "Schulferien", PH: "Feiertags"}
                    }
                },
                eo: {
                    opening_hours: {
                        texts: {
                            "assuming ok for ko": '"{{ko}}" estas interpretita kiel "{{ok}}".',
                            "please use ok for ko": 'Bonvolu uzi la esprimon "{{-ok}}" anstata\u016d "{{ko}}".',
                            "please use English abbreviation ok for ko": 'Bonvolu uzi la anglan mallongigon "{{ok}}" f\xfcr "{{ko}}".'
                        }, pretty: {off: "fermita", SH: "lernejaj ferioj", PH: "festotagoj"}
                    }
                },
                fi: {opening_hours: {pretty: {off: "suljettu", SH: "koululomat", PH: "lailliset vapaap\xe4iv\xe4t"}}},
                fr: {
                    opening_hours: {
                        texts: {
                            "assuming ok for ko": 'S\'il vous pla\xeet utiliser "<ok>" pour "<ko>".',
                            "please use ok for ko": 'S\'il vous pla\xeet utiliser "{{-ok}}" pour "{{ko}}".',
                            "please use English abbreviation ok for ko": 'S\'il vous pla\xeet utiliser l\'abr\xe9viation "{{-ok}}" pour "{{ko}}".'
                        }, pretty: {off: "ferm\xe9", SH: "vacances scolaires", PH: "vacances publiques"}
                    }
                },
                nl: {
                    opening_hours: {
                        texts: {"please use English abbreviation ok for ko": 'Neem de engelse afkorting "{{ok}}" voor "{{ko}}" alstublieft.'},
                        pretty: {off: "gesloten", SH: "schoolvakantie", PH: "feestdagen"}
                    }
                },
                ru: {
                    opening_hours: {
                        pretty: {
                            off: "\u0437\u0430\u043a\u0440\u044b\u0442\u043e",
                            SH: "\u043a\u0430\u043d\u0438\u043a\u0443\u043b\u044b",
                            PH: "\u043f\u0440\u0430\u0437\u0434\u043d\u0438\u043a"
                        }
                    }
                }
            };
            if (ue.default.isInitialized) for (var At in Dt) ue.default.addResourceBundle(At, "opening_hours", Dt[At].opening_hours, !0); else ue.default.init({
                fallbackLng: "en",
                resources: Dt,
                getAsync: !0,
                useCookie: !0
            });
            return function Bt(gt, Xt, Mn) {
                var Hn = {dawn: 330, sunrise: 360, sunset: 1080, dusk: 1110},
                    Bn = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    zt = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], An = {
                        su: [0, "weekday"],
                        mo: [1, "weekday"],
                        tu: [2, "weekday"],
                        we: [3, "weekday"],
                        th: [4, "weekday"],
                        fr: [5, "weekday"],
                        sa: [6, "weekday"],
                        jan: [0, "month"],
                        feb: [1, "month"],
                        mar: [2, "month"],
                        apr: [3, "month"],
                        may: [4, "month"],
                        jun: [5, "month"],
                        jul: [6, "month"],
                        aug: [7, "month"],
                        sep: [8, "month"],
                        oct: [9, "month"],
                        nov: [10, "month"],
                        dec: [11, "month"],
                        day: ["day", "calcday"],
                        days: ["days", "calcday"],
                        sunrise: ["sunrise", "timevar"],
                        sunset: ["sunset", "timevar"],
                        dawn: ["dawn", "timevar"],
                        dusk: ["dusk", "timevar"],
                        easter: ["easter", "event"],
                        week: ["week", "week"],
                        open: ["open", "state"],
                        closed: ["closed", "state"],
                        off: ["off", "state"],
                        unknown: ["unknown", "state"]
                    }, lr = {
                        zero_pad_hour: !0,
                        one_zero_if_hour_zero: !1,
                        leave_off_closed: !0,
                        keyword_for_off_closed: "off",
                        rule_sep_string: " ",
                        print_semicolon: !0,
                        leave_weekday_sep_one_day_betw: !0,
                        sep_one_day_between: ",",
                        zero_pad_month_and_week_numbers: !0,
                        locale: "en"
                    }, xn = {
                        opening_hours: {mode: 0, warn_for_PH_missing: !0},
                        collection_times: {mode: 2},
                        "opening_hours:.+": {mode: 0},
                        ".+:opening_hours": {mode: 0},
                        ".+:opening_hours:.+": {mode: 0},
                        smoking_hours: {mode: 0},
                        service_times: {mode: 2},
                        happy_hours: {mode: 0},
                        lit: {
                            mode: 0,
                            map: {
                                yes: 'sunset-sunrise open "specified as yes: At night (unknown time schedule or daylight detection)"',
                                automatic: 'unknown "specified as automatic: When someone enters the way the lights are turned on."',
                                no: 'off "specified as no: There are no lights installed."',
                                interval: 'unknown "specified as interval"',
                                limited: 'unknown "specified as limited"'
                            }
                        }
                    }, _n = 1440, gn = 864e5, cn = "opening_hours.js", Gt = "https://github.com/opening-hours/" + cn,
                    nr = "en";
                "object" == typeof ue.default && (nr = ue.default.language);
                var Nn, hr, Tr, sn, dt = function (v, x) {
                    var ie;
                    return "object" == typeof ue.default && "function" == typeof ue.default.t && "string" == typeof nr && -1 !== ["de"].indexOf(nr) ? ie = (ue.default.language !== nr ? ue.default.getFixedT(nr) : ue.default.t)("opening_hours:texts." + v, x) : (typeof (ie = Ut[v]) > "u" && (ie = v), ie.replace(/{{([^{}]*)}}/g, function (Z, Le) {
                        return typeof x[Le] < "u" ? x[Le] : Z
                    }))
                };
                if ("object" == typeof Xt && null !== Xt) "object" == typeof Xt.address && ("string" == typeof Xt.address.country_code && (Nn = Xt.address.country_code), "string" == typeof Xt.address.state ? hr = Xt.address.state : "string" == typeof Xt.address.county && (hr = Xt.address.county)), "string" == typeof Xt.lon && "string" == typeof Xt.lat && (Tr = Xt.lat, sn = Xt.lon); else if (null === Xt) Nn = "de", hr = "Baden-W\xfcrttemberg", Tr = "49.5400039", sn = "9.7937133"; else if (typeof Xt < "u") throw"The nominatim_object parameter is of unknown type. Given " + typeof Xt + ", expected object.";
                var Lt, In, Jn, $t = 4, Cr = !1;
                if ("number" == typeof Mn) Lt = Mn; else if ("object" == typeof Mn) {
                    if ("string" == typeof Mn.locale && (nr = Mn.locale.split("-")[0]), G("mode", "number") && (Lt = Mn.mode), G("warnings_severity", "number") && -1 === [0, 1, 2, 3, 4, 5, 6, 7].indexOf($t = Mn.warnings_severity)) throw dt("warnings severity", {
                        severity: $t,
                        allowed: "[ 0, 1, 2, 3, 4, 5, 6, 7 ]"
                    });
                    G("tag_key", "string") && (In = Mn.tag_key), G("map_value", "boolean") && (Cr = Mn.map_value)
                } else if (typeof Mn < "u") throw dt("optional conf parm type", {given: typeof Mn});
                if ("string" == typeof In) Jn = function $(v) {
                    var x, X = !1;
                    return Object.keys(xn).forEach(function (ie) {
                        !0 !== X && (v === ie ? (x = ie, X = !0) : new RegExp(ie).test(v) && (x = ie))
                    }), x
                }(In), Cr && "object" == typeof xn[Jn] && "object" == typeof xn[Jn].map && "string" == typeof xn[Jn].map[gt] && (gt = xn[Jn].map[gt]); else if (Cr) throw dt("conf param tag key missing");
                if (typeof Lt > "u") Lt = "string" == typeof In && void 0 !== xn[Jn] && "number" == typeof xn[Jn].mode ? xn[Jn].mode : 0; else if (-1 === [0, 1, 2].indexOf(Lt)) throw dt("conf param mode invalid", {
                    given: Lt,
                    allowed: "[ 0, 1, 2 ]"
                });
                if ("string" != typeof gt) throw dt("no string");
                if (/^(?:\s*;?)+$/.test(gt)) throw dt("nothing");
                for (var Tt = [], Fn = !1, Lr = !1, $n = !1, mr = function z(v) {
                    for (var x = [], X = [], ie = !1; "" !== v;) {
                        var Z = v.match(/^([a-z]{2,})\b((?:[.]| before| after)?)/i), Le = void 0;
                        if (Z && "" === Z[2] && (Le = An[Z[1].toLowerCase()]), "object" == typeof Le) X.push(Le.concat([v.length])), v = v.substr(Z[1].length); else if (Z = v.match(/^\s+/)) v = v.substr(Z[0].length); else if (Z = v.match(/^24\/7/)) X.push([Z[0], Z[0], v.length]), v = v.substr(Z[0].length); else if (/^;/.test(v)) x.push([X, ie, v.length]), v = v.substr(1), X = [], ie = !1; else if (/^[:.]/.test(v)) "." === v[0] && !Fn && Tt.push([-1, v.length - 1, dt("hour min separator")]), X.push([":", "timesep", v.length]), v = v.substr(1); else if (Z = v.match(/^(?:PH|SH)/i)) X.push([Z[0].toUpperCase(), "holiday", v.length]), v = v.substr(2); else if (Z = v.match(/^[\xb0\u2070-\u209F\u00B2\u00B3\u00B9]{1,2}/)) {
                            var te = {176: 0, 8304: 0, 185: 1, 178: 2, 179: 3}, Ze = Z[0].split("").map(function (it) {
                                var bt = it.charCodeAt(0);
                                return "number" == typeof te[bt] ? te[bt] : 8308 <= bt && bt <= 8313 ? bt - 8304 : 8320 <= bt && bt <= 8329 ? bt - 8320 : void 0
                            }).join(""), ft = "";
                            if (X.length > 0 && J(X, X.length - 1, "number") && (ft += ":"), ft += Ze, !Fn) {
                                for (var lt = 0; lt <= Z[0].length; lt++) 176 === v.charCodeAt(lt) && Tt.push([-1, v.length - (1 + lt), dt("rant degree sign used for zero")]);
                                Tt.push([-1, v.length - Z[0].length, dt("please use ok for ko", {ko: Z[0], ok: ft})])
                            }
                            v = ft + v.substr(Z[0].length)
                        } else if (Z = v.match(/^(&|_|\u2192|\u2013|\u2212|\u2014|\u30fc|=|\xb7|\xf6ffnungszeit(?:en)?:?|opening_hours\s*=|\?|~|\uff5e|\uff1a|always (?:open|closed)|24x7|24 hours 7 days a week|24 hours|7 ?days(?:(?: a |\/)week)?|7j?\/7|all days?|every day|(?:bis|till?|-|\u2013)? ?(?:open ?end|late)|(?:(?:one )?day (?:before|after) )?(?:school|public) holidays?|days?\b|\u0434\u043e|\u0440\u043c|\u0430\u043c|jours f\xe9ri\xe9s|on work days?|sonntags?|(?:nur |an )?sonn-?(?:(?: und |\/)feiertag(?:s|en?)?)?|(?:an )?feiertag(?:s|en?)?|(?:nach|on|by) (?:appointments?|vereinbarung|absprache)|p\.m\.|a\.m\.|[_a-z\xe4\xf6\xdf\xe0\xe1\xe9\xf8\u010d\u011b\xed\xfa\xfd\u0159\u041f\u043d\u0412\u0441\u043e]+\b|\xe0|\xe1|mo|tu|we|th|fr|sa|su|jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)(\.?)/i)) {
                            if ("object" == typeof (ht = A(Z[1].toLowerCase(), v.length))) X.push([ht[0], ht[1], v.length]), v = v.substr(Z[0].length); else if ("string" == typeof ht) {
                                if ("am" === ht || "pm" === ht) {
                                    var Jt, It = X.length - 1;
                                    It >= 0 && (It - 2 >= 0 && J(X, It - 2, "number", "timesep", "number") ? Jt = X[It -= 2] : J(X, It, "number") && (Jt = X[It]), "object" == typeof Jt && ("pm" === ht && Jt[0] < 12 && (Jt[0] += 12), "am" === ht && 12 === Jt[0] && (Jt[0] = 0), X[It] = Jt)), ht = ""
                                }
                                var Ht = z(ht)[0];
                                if (!0 === Ht[1]) throw w();
                                for (lt = 0; lt < Ht[0].length; lt++) X.push([Ht[0][lt][0], Ht[0][lt][1], v.length]);
                                v = v.substr(Z[0].length)
                            } else X.push([v[0].toLowerCase(), v[0].toLowerCase(), v.length - 1]), v = v.substr(1);
                            "string" == typeof Z[2] && "" !== Z[2] && !Fn && Tt.push([-1, v.length, dt("omit ko", {ko: Z[2]})])
                        } else if (Z = v.match(/^(\d+)(?:([.])([^\d]))?/)) Number(Z[1]) > 1900 ? (X.push([Number(Z[1]), "year", v.length]), Number(Z[1]) >= 2100 && Tt.push([-1, v.length - 1, dt("interpreted as year", {number: Number(Z[1])})])) : X.push([Number(Z[1]), "number", v.length]), v = v.substr(Z[1].length + ("string" == typeof Z[2] ? Z[2].length : 0)), "string" == typeof Z[2] && "" !== Z[2] && !Fn && Tt.push([-1, v.length, dt("omit ko", {ko: Z[2]})]); else if (/^\|\|/.test(v)) {
                            if (0 === X.length) throw O(-1, v.length - 2, dt("rule before fallback empty"));
                            x.push([X, ie, v.length]), X = [], v = v.substr(2), ie = !0
                        } else if (Z = v.match(/^"([^"]+)"/)) X.push([Z[1], "comment", v.length]), v = v.substr(Z[0].length); else if (Z = v.match(/^(["'\u201e\u201c\u201a\u2018\u2019\xab\u300c\u300e])([^"'\u201c\u201d\u2018\u2019\xbb\u300d\u300f;|]*)(["'\u201d\u201c\u2018\u2019\xbb\u300d\u300f])/)) {
                            for (var Ct = 1; Ct <= 3; Ct += 2) {
                                var ht;
                                if ("string" != typeof (ht = A(Z[Ct], v.length - (3 === Ct ? Z[1].length + Z[2].length : 0))) && '"' !== Z[Ct]) throw w("A character for error tolerance was allowed in the regular expression but is not covered by word_error_correction which is needed to format a proper message for the user.")
                            }
                            X.push([Z[2], "comment", v.length]), v = v.substr(Z[0].length)
                        } else /^(?:\u2423|\s)/.test(v) || X.push([v[0].toLowerCase(), v[0].toLowerCase(), v.length]), v = v.substr(1)
                    }
                    return x.push([X, ie]), x
                }(gt), fn = "", Xn = !0, yn = [], Yt = {}, Pt = [], Ce = 0; Ce < mr.length; Ce++) if (0 !== mr[Ce][0].length) {
                    var le = 0, Ee = !1;
                    do {
                        if (le === mr[Ce][0].length) break;
                        var Je = {
                            time: [],
                            wraptime: [],
                            weekday: [],
                            holiday: [],
                            week: [],
                            month: [],
                            monthday: [],
                            year: [],
                            date: [],
                            fallback: mr[Ce][1],
                            additional: !!le,
                            meaning: !0,
                            unknown: !1,
                            comment: void 0,
                            build_from_token_rule: void 0
                        };
                        if (Je.build_from_token_rule = [Ce, le, Pt.length], le = vt(mr[Ce][0], le, Je, Ce), Pt.push([mr[Ce][0].slice(Je.build_from_token_rule[1], 0 === (le = "object" == typeof le ? le[0] : 0) ? mr[Ce][0].length : le), mr[Ce][1], mr[Ce][2]]), Ee && Pt.length > 1 && Pt[Pt.length - 1][0].unshift(Pt[Pt.length - 2][0].pop()), Ee = 0 !== le, ["year", "holiday", "month", "monthday", "week", "weekday"].forEach(function (v) {
                            Je[v].length > 0 && (Je.date.push(Je[v]), Je[v] = [])
                        }), yn.push(Je), Je.wraptime.length > 0) {
                            for (var Et = {
                                time: Je.wraptime,
                                date: [],
                                meaning: Je.meaning,
                                unknown: Je.unknown,
                                comment: Je.comment,
                                wrapped: !0,
                                build_from_token_rule: Je.build_from_token_rule
                            }, vn = 0; vn < Je.date.length; vn++) {
                                Et.date.push([]);
                                for (var q = 0; q < Je.date[vn].length; q++) Et.date[Et.date.length - 1].push(et(Je.date[vn][q], -gn))
                            }
                            yn.push(Et)
                        }
                    } while (le)
                } else Tt.push([Ce, -1, dt("nothing useful") + (Ce === mr.length - 1 && Ce > 0 && !mr[Ce][1] ? " " + dt("programmers joke") : "")]);

                function G(v, x) {
                    if (typeof Mn[v] === x) return !0;
                    if (typeof Mn[v] < "u") throw dt("conf param unknown type", {
                        key: v,
                        given: typeof Mn[v],
                        expected: x
                    });
                    return !1
                }

                function O(v, x, X, ie) {
                    if (typeof ie > "u" && (ie = mr), "number" == typeof v) {
                        var Z = 0;
                        return -1 === v ? Z = gt.length - x : typeof ie[v][0][x] > "u" ? -1 === x ? (Z = gt.length, "object" == typeof ie[v + 1] && "number" == typeof ie[v + 1][2] ? Z -= ie[v + 1][2] : "number" == typeof ie[v][2] && (Z -= ie[v][2])) : (w("Bug in warning generation code which could not determine the exact position of the warning or error in value."), Z = gt.length, "number" == typeof ie[v][2] && (Z -= ie[v][2], console.warn("Last token for rule: " + JSON.stringify(ie[v])), console.log(gt.substring(0, Z) + " <--- (" + X + ")"), console.log("\n")), console.warn("tokens_to_use[nrule][2] is undefined. This is ok if nrule is the last rule.")) : (Z = gt.length, "object" == typeof ie[v][0][x + 1] ? Z -= ie[v][0][x + 1][2] : "number" == typeof ie[v][2] && (Z -= ie[v][2])), gt.substring(0, Z) + " <--- (" + X + ")"
                    }
                    if ("string" == typeof v) return v.substring(0, x) + " <--- (" + X + ")"
                }

                function w(v, x) {
                    return "string" != typeof x && (x = "library bug"), v = dt(x, {
                        value: gt,
                        url: Gt,
                        message: v = typeof v > "u" ? "" : " " + v
                    }), console.error(v), v
                }

                function A(v, x) {
                    var X, ie = An[v];
                    return "object" == typeof ie ? ie : (Object.keys(_t).forEach(function (Z) {
                        X || Object.keys(_t[Z]).forEach(function (Le) {
                            if (!X && new RegExp("^" + Le + "$").test(v)) {
                                var te = _t[Z][Le];
                                Fn || Tt.push([-1, x - v.length, dt(Z, {ko: v, ok: te})]), X = te
                            }
                        })
                    }), X)
                }

                function R(v) {
                    if ($t < 4) return [];
                    if (!Fn && "object" == typeof v) {
                        for (var x = ["year", "month", "week", "holiday"], X = ["weekday", "time", "24/7", "state", "comment"], ie = [], Z = [], Le = {}, te = 0; te < Pt.length; te++) if (0 !== Pt[te][0].length) {
                            var Ze = [0, 0, void 0];
                            ie[te] = {}, Z[te] = [];
                            do {
                                Ze = ae(Pt[te][0], Ze[1]);
                                for (var ft = 0; ft <= Ze[1]; ft++) "object" == typeof Pt[te][0][ft] && "PH" === Pt[te][0][ft][0] && (Le.PH = !0);
                                Ze[0] === Ze[1] && "24/7" === Pt[te][0][Ze[0]][0] && (Le["24/7"] = !0), "object" != typeof ie[te][Ze[2]] ? ie[te][Ze[2]] = [Ze[1]] : ie[te][Ze[2]].push(Ze[1]), Z[te].push(Ze[2]), Ze[1]++
                            } while (Ze[1] < Pt[te][0].length)
                        }
                        for (te = 0; te < ie.length; te++) {
                            Object.keys(ie[te]).forEach(function (xt) {
                                ie[te][xt].length > 1 && (Tt.push([te, ie[te][xt][ie[te][xt].length - 1], dt("use multi", {
                                    count: ie[te][xt].length,
                                    part2: /^(?:comment|state)/.test(xt) ? dt("selector multi 2a", {what: dt("state" === xt ? "selector state" : "comments")}) : dt("selector multi 2b", {what: dt(xt + (/^(?:month|weekday)$/.test(xt) ? "s" : " ranges"))})
                                })]), Lr = !0)
                            }), "object" == typeof ie[te].state && 1 === Object.keys(ie[te]).length ? 0 !== te && Tt.push([te, Pt[te][0].length - 1, dt("default state")]) : typeof ie[te].time > "u" && ("object" == typeof ie[te].state && "open" === Pt[te][0][ie[te].state[0]][0] && typeof ie[te].comment > "u" || typeof ie[te].comment > "u" && typeof ie[te].state > "u" && typeof ie[te]["24/7"] > "u") && Tt.push([te, Pt[te][0].length - 1, dt("vague")]), "object" == typeof ie[te].comment && 0 === Pt[te][0][ie[te].comment[0]][0].length && Tt.push([te, ie[te].comment[0], dt("empty comment")]);
                            for (var lt = 0; lt < Z[te].length - 1; lt++) {
                                var ht = Z[te][lt], It = Z[te][lt + 1];
                                (-1 !== x.indexOf(ht) && -1 !== x.indexOf(It) || -1 !== X.indexOf(ht) && -1 !== X.indexOf(It)) && ":" === Pt[te][0][ie[te][ht][0]][0] && Tt.push([te, ie[te][ht][0], dt("separator_for_readability")])
                            }
                            if ("object" == typeof Yt[te] && "boolean" == typeof Yt[te].time_wraps_over_midnight && !0 === Yt[te].time_wraps_over_midnight && "object" == typeof ie[te + 1] && typeof ie[te + 1]["rule separator"] > "u" && !1 === Pt[te + 1][1]) {
                                var Ht = [te, te + 1].map(function (xt) {
                                    for (var Ot = 0; Ot < x.length - 1; Ot++) if ("object" == typeof ie[xt][x[Ot]]) return !0;
                                    return !1
                                }).filter(function (xt) {
                                    return xt
                                }).length, Ct = !1;
                                if ("object" == typeof Yt[te] && "object" == typeof Yt[te] && "object" == typeof Yt[te].week_days && "object" == typeof Yt[te + 1] && "object" == typeof Yt[te + 1].week_days) for (lt = 0; lt < Yt[te].week_days.length; lt++) {
                                    var it = Yt[te].week_days[lt];
                                    if (-1 !== Yt[te + 1].week_days.indexOf(6 === it ? 0 : it + 1)) {
                                        Ct = !0;
                                        break
                                    }
                                } else Ct = !0;
                                Ht < 2 && Ct && !1 !== (Mn || {}).additional_rule_separator && Tt.push([te + 1, Pt[te + 1][0].length - 1, dt("additional_rule_separator not used after time wrapping midnight"), Pt])
                            }
                            "object" == typeof Pt[te][0][0] && "," === Pt[te][0][0][0] && "rule separator" === Pt[te][0][0][1] && "object" == typeof ie[te].state && ("closed" === Pt[te][0][ie[te].state[0]][0] || "off" === Pt[te][0][ie[te].state[0]][0]) && Tt.push([te, Pt[te][0].length - 1, dt("additional rule which evaluates to closed"), Pt])
                        }
                        if (!0 === v.advance() && Le["24/7"] && !Fn && Tt.push([-1, 0, dt("strange 24/7")]), $t >= 5 && !Le.PH && !Le["24/7"] && !Fn && ("string" == typeof In && xn[Jn].warn_for_PH_missing || "string" != typeof In)) {
                            var Vt = [];
                            Object.keys(xn).forEach(function (Qt) {
                                xn[Qt].warn_for_PH_missing && Vt.push(Qt)
                            }), Tt.push([-1, 0, dt("public holiday", {part2: "string" != typeof In ? dt("public holiday part2", {keys: Vt.join(", ")}) : ""})])
                        }
                        Z.length > 1 && Z.filter(function (Qt) {
                            return 1 === Qt.length && "time" === Qt[0]
                        }).length === Z.length && Tt.push([-1, 0, dt("combine rules", {ok: ","})]), ve()
                    }
                    Fn = !0;
                    var hn = [];
                    for (lt = 0; lt < Tt.length; lt++) hn.push(O(Tt[lt][0], Tt[lt][1], Tt[lt][2], Tt[lt][3]));
                    return hn
                }

                function P(v, x) {
                    return "string" == typeof v[x][3] ? 3 : ("comment" === v[x][1] || "state" === v[x][1] || "24/7" === v[x][1] || "rule separator" === v[x][1]) && 1
                }

                function ae(v, x) {
                    for (var ie, Z, X = x; X >= 0 && !(Z = P(v, X)); X--) ;
                    if (ie = X, 1 === Z) return ie + 1 < v.length && ":" === v[ie + 1][0] && ie++, [X, ie, v[X][Z]];
                    for (ie++; ie < v.length; ie++) if (P(v, ie)) return [X, ie - 1, v[X][Z]];
                    return [X, ie - 1, v[X][Z]]
                }

                function ve(v) {
                    var ie, x = {}, X = !1;
                    fn = "";
                    var Z = [];
                    "object" == typeof v && ("object" == typeof v.conf && (x = v.conf), "number" == typeof v.rule_index && (ie = v.rule_index), !0 === v.get_internals && (X = !0)), Object.keys(lr).forEach(function (xt) {
                        typeof x[xt] > "u" && (x[xt] = lr[xt])
                    });
                    for (var Le = "en" === x.locale || "all" === x.locale, te = Le ? Bn : [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(function (xt) {
                        return new Date(2018, xt - 1, 1).toLocaleString(x.locale, {month: "short"})
                    }), Ze = Le ? zt : [1, 2, 3, 4, 5, 6, 7].map(function (xt) {
                        return new Date(2017, 0, xt).toLocaleString(x.locale, {weekday: "short"})
                    }), ft = 0; ft < Pt.length; ft++) if (0 !== Pt[ft][0].length) {
                        if ("number" == typeof ie) {
                            if (ie !== ft) continue
                        } else 0 !== ft && (fn += Pt[ft][1] ? x.rule_sep_string + "|| " : ("rule separator" === Pt[ft][0][0][1] ? "," : x.print_semicolon ? ";" : "") + x.rule_sep_string);
                        var lt = [0, 0, void 0], ht = [], It = 0;
                        do {
                            if (lt = ae(Pt[ft][0], lt[1]), It > 50) throw w("Infinite loop.");
                            "rule separator" !== lt[2] && ht.push([lt, Or(Pt[ft][0], lt[0], lt[1], lt[2], x)]), lt[1]++, It++
                        } while (lt[1] < Pt[ft][0].length);
                        var Jt = ht.slice();
                        Lr || ht.sort(function (xt, Ot) {
                            var wt = ["year", "month", "week", "holiday", "weekday", "time", "24/7", "state", "comment"];
                            return wt.indexOf(xt[0][2]) - wt.indexOf(Ot[0][2])
                        });
                        var Ht = fn.length;
                        if ("string" == typeof x.locale && "en" !== x.locale) {
                            var Ct;
                            Ct = ue.default.language !== x.locale ? ue.default.getFixedT(x.locale) : ue.default.t;
                            for (var it = 0; it < ht.length; it++) {
                                var bt = ht[it][0][2];
                                "weekday" === bt ? zt.forEach(function (xt, Ot) {
                                    ht[it][1] = ht[it][1].replace(new RegExp(xt, "g"), Ze[Ot])
                                }) : "month" === bt ? Bn.forEach(function (xt, Ot) {
                                    ht[it][1] = ht[it][1].replace(new RegExp(xt, "g"), te[Ot])
                                }) : -1 === ht[it][1].indexOf(":") && (ht[it][1] = Ct(["opening_hours:pretty." + ht[it][1], ht[it][1]]))
                            }
                        }
                        if (fn += ht.map(function (xt) {
                            return xt[1]
                        }).join(" "), Z.push(ht), !$n) {
                            it = 0;
                            for (var Vt = Jt.length; it < Vt; it++) if (Jt[it] !== ht[it]) {
                                for (var hn = it + Ht, Qt = 0; Qt <= it; Qt++) hn += ht[Qt][1].length;
                                Tt.push([fn, hn, dt("switched", {first: ht[it][0][2], second: Jt[it][0][2]})])
                            }
                        }
                    }
                    return $n = !0, X ? [Z, Pt] : fn
                }

                function J(v, x) {
                    if (x + arguments.length - 2 > v.length) return !1;
                    for (var X = 0; X < arguments.length - 2; X++) if (v[x + X][1] !== arguments[X + 2]) return !1;
                    return !0
                }

                function et(v, x) {
                    return function (X) {
                        var ie = v(new Date(X.getTime() + x));
                        return typeof ie[1] > "u" ? ie : [ie[0], new Date(ie[1].getTime() - x)]
                    }
                }

                function vt(v, x, X, ie) {
                    for (var Z = !1, Le = []; x < v.length;) {
                        if (J(v, x, "weekday")) x = Zn(v, x, X, void 0, ie); else if (J(v, x, "24/7")) X.time.push(function () {
                            return [!0]
                        }), x++; else if (J(v, x, "holiday")) x = J(v, x + 1, ",") ? Mr(v, x, X, !0) : Mr(v, x, X, !1), Xn = !1; else if (J(v, x, "month", "number") || J(v, x, "month", "weekday") || J(v, x, "year", "month", "number") || J(v, x, "year", "event") || J(v, x, "event")) x = dn(v, x, ie), Xn = !1; else if (J(v, x, "year")) x = _r(v, x), Xn = !1; else if (J(v, x, "month")) x = rr(v, x); else if (J(v, x, "week")) v[x][3] = "week", x = cr(v, x); else if (0 === x || x === v.length - 1 || ":" !== v[x][0] || "string" == typeof Le[1] && "time" === Le[1]) if (J(v, x, "number", "timesep") || J(v, x, "timevar") || J(v, x, "(", "timevar") || J(v, x, "number", "-")) Le = [x = Er(v, x, X, !1, ie), "time"]; else if (J(v, x, "state")) "open" === v[x][0] ? X.meaning = !0 : "closed" === v[x][0] || "off" === v[x][0] ? X.meaning = !1 : (X.meaning = !1, X.unknown = !0), Z = !0, "object" == typeof v[++x] && "," === v[x][0] && (x = [x + 1]); else if (J(v, x, "comment")) X.comment = v[x][0], Z || (X.meaning = !1, X.unknown = !0), Z = !0, "object" == typeof v[++x] && "," === v[x][0] && (x = [x + 1]); else {
                            if (0 !== x && x !== v.length - 1 || !J(v, x, "rule separator")) {
                                var te = R();
                                throw O(ie, x, dt("unexpected token", {token: v[x][1]})) + (te ? " " + te.join("; ") : "")
                            }
                            x++
                        } else !Fn && J(v, x - 1, "holiday") && Tt.push([ie, x, dt("no colon after", {token: v[x - 1][1]})]), x++;
                        if ("object" == typeof x) {
                            v[x[0] - 1][1] = "rule separator";
                            break
                        }
                        "number" == typeof Le[0] && Le[0] !== x && (Le = [])
                    }
                    return x
                }

                function Mt(v, x) {
                    return new Date(v.getFullYear(), v.getMonth(), v.getDate(), 0, x)
                }

                function Zt(v, x) {
                    var X = x - v.getDay();
                    return new Date(v.getFullYear(), v.getMonth(), v.getDate() + X + (X < 0 ? 7 : 0))
                }

                function ln(v, x, X) {
                    for (; x < v.length; x++) {
                        if (J(v, x, "number", "-", "number")) X(v[x][0], v[x + 2][0], x), x += 3; else if (J(v, x, "-", "number")) X(-v[x + 1][0], -v[x + 1][0], x), x += 2; else {
                            if (!J(v, x, "number")) throw O(Ce, x + J(v, x, "-"), "Unexpected token in number range: " + v[x][1]);
                            X(v[x][0], v[x][0], x), x++
                        }
                        if (!J(v, x, ",")) break
                    }
                    return x
                }

                function kt(v, x) {
                    for (var X = 0, ie = ln(v, x, function (Le, te, Ze) {
                        if (0 === Le || Le < -5 || Le > 5) throw O(Ce, Ze, dt("number -5 to 5"));
                        if (Le !== te) throw O(Ce, Ze + 2, dt("range constrained weekdays"));
                        if (0 !== X) throw O(Ce, Ze, dt("one weekday constraint"));
                        X = Le
                    }), Z = x; Z < ie; Z++) v[Z][4] = "positive_number";
                    if (!J(v, ie, "]")) throw O(Ce, ie, dt("expected", {symbol: "]"}));
                    return [X, ie + 1]
                }

                function Nt(v, x, X, ie) {
                    if (!Fn) {
                        if (0 === x) throw O(Ce, v, dt("range zero", {type: X}));
                        1 === x && Tt.push("string" == typeof ie && "no_end_year" === ie ? [Ce, v, dt("period one year+", {type: X})] : [Ce, v, dt("period one", {type: X})])
                    }
                }

                function zn(v, x, X, ie, Z) {
                    var Le = Zt(new Date(v, x + (ie[0] > 0 ? 0 : 1), 1), X);
                    return Le.setDate(Le.getDate() + 7 * (ie[0] + (ie[0] > 0 ? -1 : 0))), "object" == typeof Z && Z[1] && Le.setDate(Le.getDate() + Z[0]), Le
                }

                function Rn(v, x, X, ie) {
                    if (x < 1 || x > 31) throw O(X, ie, dt("month 31", {month: Bn[v]}));
                    if ((3 === v || 5 === v || 8 === v || 10 === v) && 31 === x) throw O(X, ie, dt("month 30", {month: Bn[v]}));
                    if (1 === v && 30 === x) throw O(X, ie, dt("month feb", {month: Bn[v]}))
                }

                function Er(v, x, X, ie, Z) {
                    for (ie || (v[x][3] = "time"); x < v.length; x++) {
                        var Ze, ft, Le = [], te = [];
                        if (te[0] = J(v, x, "number", "timesep", "number"), Le[0] = J(v, x, "(", "timevar"), te[0] || J(v, x, "timevar") || Le[0]) {
                            var Ht, lt = !1, ht = !1, It = [0, 0], Jt = [];
                            te[0] ? Ze = Sr(v, Z, x + Le[0]) : (Jt[0] = v[x + Le[0]][0], Ze = Hn[Jt[0]], Le[0] && (It[0] = wn(v, x), Ze += It[0]));
                            var Ct = x + (te[0] ? 3 : Le[0] ? 7 : 1) + 1;
                            if (!J(v, Ct - 1, "-")) if (J(v, Ct - 1, "+")) ht = !0; else {
                                if (0 === Lt) throw O(Z, x + (te[0] ? "object" == typeof v[x + 3] ? 3 : 2 : Le[0] ? 2 : "object" == typeof v[x + 1] ? 1 : 0), dt("point in time", {
                                    calc: Le[0] ? dt("calculation") + " " : "",
                                    libraryname: cn
                                }));
                                ft = Ze + 1, lt = !0
                            }
                            if (ht) 1 === ie && (Ze += _n), ft = Ze >= 1320 ? Ze + 480 : Ze >= 1020 ? Ze + 600 : _n; else if (!lt) {
                                if (te[1] = J(v, Ct, "number", "timesep", "number"), Le[1] = J(v, Ct, "(", "timevar"), !te[1] && !J(v, Ct, "timevar") && !Le[1]) throw O(Z, Ct - ("object" == typeof v[Ct] ? 0 : 1), dt("time range continue"));
                                te[1] ? ft = Sr(v, Z, Ct) : (Jt[1] = v[Ct + Le[1]][0], ft = Hn[Jt[1]]), Le[1] && (It[1] = wn(v, Ct), ft += It[1])
                            }
                            if (J(v, x = Ct + (lt ? -1 : te[1] ? 3 : Le[1] ? 7 : !ht), "/", "number")) {
                                if (J(v, x + 2, "timesep", "number")) Ht = Sr(v, Z, x + 1), x += 4; else if (Ht = v[x + 1][0], J(v, x += 2, "timesep")) throw O(Z, x, dt("period continue"));
                                if (0 === Lt) throw O(Z, x - 1, dt("time range mode", {libraryname: cn}));
                                lt = !0
                            } else if (J(v, x, "+")) Er(v, Ct, X, !(ft < Ze) || 1, Z), x++; else if (1 === Lt && !lt) throw O(Z, Ct, dt("point in time mode", {libraryname: cn}));
                            if ("string" == typeof Tr ? (!te[0] || !(te[1] || ht || lt)) && (Xn = !1) : Jt = [], !ie && Ze >= _n) throw O(Z, Ct - 2, dt("outside current day"));
                            if ((ft < Ze || te[0] && te[1] && Ze === ft) && (ft += _n), ft > 2880) throw O(Z, Ct + (te[1] ? 4 : Le[1] ? 7 : 1) - 2, dt("two midnights"));
                            0 === Ze && ft === _n ? X.time.push(function () {
                                return [!0]
                            }) : ft > _n ? (X.time.push(function (it, bt, nn, Vt, hn, Qt, xt, Ot) {
                                return function (wt) {
                                    var bn = 60 * wt.getHours() + wt.getMinutes();
                                    if (nn[0]) {
                                        var Gn = k.default.getTimes(wt, Tr, sn)[nn[0]];
                                        it = 60 * Gn.getHours() + Gn.getMinutes() + Vt[0]
                                    }
                                    if (nn[1]) {
                                        var Cn = k.default.getTimes(wt, Tr, sn)[nn[1]];
                                        bt = 60 * Cn.getHours() + Cn.getMinutes() + Vt[1], bt += _n
                                    } else Qt && "number" != typeof xt && (bt = it + 1);
                                    if ("number" == typeof xt) {
                                        if (bn < it) return [!1, Mt(wt, it)];
                                        if (bn <= bt) for (var En = it; bn + xt >= En; En += xt) {
                                            if (En === bn) return [!0, Mt(wt, bn + 1)];
                                            if (bn < En) return [!1, Mt(wt, En)]
                                        }
                                        return [!1, Mt(wt, _n)]
                                    }
                                    return bn < it ? [!1, Mt(wt, it)] : [!0, Mt(wt, bt), hn, Ot]
                                }
                            }(Ze, ft, Jt, It, ht, lt, Ht, ie)), ft - _n > 0 && (typeof Yt[Z] > "u" && (Yt[Z] = {}), Yt[Z].time_wraps_over_midnight = !0, X.wraptime.push(function (it, bt, nn, Vt, hn, Qt) {
                                return function (xt) {
                                    var Ot = 60 * xt.getHours() + xt.getMinutes();
                                    if (bt[1]) {
                                        var wt = k.default.getTimes(xt, Tr, sn)[bt[1]];
                                        it = 60 * wt.getHours() + wt.getMinutes() + nn[1]
                                    }
                                    if ("number" == typeof hn) {
                                        if (Ot <= it) for (var bn = 0; Ot + hn >= bn; bn += hn) {
                                            if (bn === Ot) return [!0, Mt(xt, Ot + 1)];
                                            if (Ot < bn) return [!1, Mt(xt, bn)]
                                        }
                                    } else if (Ot < it) return [!0, Mt(xt, it), Vt, Qt];
                                    return [!1, void 0]
                                }
                            }(ft - _n, Jt, It, ht, Ht, ie)))) : X.time.push(function (it, bt, nn, Vt, hn, Qt, xt) {
                                return function (Ot) {
                                    var wt = 60 * Ot.getHours() + Ot.getMinutes();
                                    if (nn[0]) {
                                        var bn = k.default.getTimes(Ot, Tr, sn)[nn[0]];
                                        it = 60 * bn.getHours() + bn.getMinutes() + Vt[0]
                                    }
                                    if (nn[1]) {
                                        var Gn = k.default.getTimes(Ot, Tr, sn)[nn[1]];
                                        bt = 60 * Gn.getHours() + Gn.getMinutes() + Vt[1]
                                    } else Qt && "number" != typeof xt && (bt = it + 1);
                                    if ("number" == typeof xt) {
                                        if (wt < it) return [!1, Mt(Ot, it)];
                                        if (wt <= bt) for (var Cn = it; wt + xt >= Cn; Cn += xt) {
                                            if (Cn === wt) return [!0, Mt(Ot, wt + 1)];
                                            if (wt < Cn) return [!1, Mt(Ot, Cn)]
                                        }
                                        return [!1, Mt(Ot, _n)]
                                    }
                                    return wt < it ? [!1, Mt(Ot, it)] : wt < bt ? [!0, Mt(Ot, bt), hn] : [!1, Mt(Ot, it + _n)]
                                }
                            }(Ze, ft, Jt, It, ht, lt, Ht))
                        } else {
                            if (!J(v, x, "number", "-", "number")) {
                                if (J(v, x, "(")) throw O(Z, x, 'Missing variable time (e.g. sunrise) after: "' + v[x][1] + '"');
                                if (J(v, x, "number", "timesep")) throw O(Z, x + 1, 'Missing minutes in time range after: "' + v[x + 1][1] + '"');
                                if (J(v, x, "number")) throw O(Z, x + ("object" == typeof v[x + 1] ? 1 : 0), 'Missing time separator in time range after: "' + v[x][1] + '"');
                                return [x]
                            }
                            if (Ze = 60 * v[x][0], ft = 60 * v[x + 2][0], Fn || Tt.push([Z, x + 2, dt("without minutes", {syntax: (v[x][0] < 10 ? "0" : "") + v[x][0] + ":00-" + (v[x + 2][0] < 10 ? "0" : "") + v[x + 2][0] + ":00"})]), Ze >= _n) throw O(Z, x, dt("outside day"));
                            if (ft < Ze && (ft += _n), ft > 2880) throw O(Z, x + 2, dt("two midnights"));
                            ft > _n ? (X.time.push(function (it, bt) {
                                return function (nn) {
                                    return 60 * nn.getHours() + nn.getMinutes() < it ? [!1, Mt(nn, it)] : [!0, Mt(nn, bt)]
                                }
                            }(Ze, ft)), ft - _n > 0 && (typeof Yt[Z] > "u" && (Yt[Z] = {}), Yt[Z].time_wraps_over_midnight = !0, X.wraptime.push(function (it) {
                                return function (bt) {
                                    return 60 * bt.getHours() + bt.getMinutes() < it ? [!0, Mt(bt, it)] : [!1, void 0]
                                }
                            }(ft - _n)))) : X.time.push(function (it, bt) {
                                return function (nn) {
                                    var Vt = 60 * nn.getHours() + nn.getMinutes();
                                    return Vt < it ? [!1, Mt(nn, it)] : Vt < bt ? [!0, Mt(nn, bt), ht] : [!1, Mt(nn, it + _n)]
                                }
                            }(Ze, ft)), x += 3
                        }
                        if (!J(v, x, ",")) break;
                        typeof v[x + 1] > "u" && !Fn && Tt.push([Z, x, dt("value ends with token", {token: v[x][1]})])
                    }
                    return x
                }

                function Sr(v, x, X) {
                    if (v[X + 2][0] > 59) throw O(x, X + 2, "Minutes are greater than 59.");
                    return 60 * v[X][0] + v[X + 2][0]
                }

                function wn(v, x) {
                    var X;
                    if (J(v, x + 2, "+") || J(v, x + 2, "-")) if (J(v, x + 3, "number", "timesep", "number")) {
                        if (J(v, x + 6, ")")) {
                            var ie = "+" === v[x + 2][0] ? "1" : "-1", Z = Sr(v, Ce, x + 3) * ie;
                            return 0 === Z && Tt.push([Ce, x + 5, dt("zero calculation")]), Z
                        }
                        X = [x + 6, ". " + dt("missing", {symbol: ")"}) + "."]
                    } else X = [x + 5, " " + dt("(time)") + "."]; else X = [x + 2, ". " + dt("expected", {symbol: '+" or "-'})];
                    if (X) throw O(Ce, X[0], dt("calculation syntax") + X[1])
                }

                function Zn(v, x, X, ie, Z) {
                    for (ie || (ie = !0, v[x][3] = "weekday"); x < v.length; x++) {
                        if (J(v, x, "weekday", "[")) {
                            var Le = [], te = ln(v, x + 2, function (it, bt, nn) {
                                if (0 === it || it < -5 || it > 5) throw O(Z, nn, dt("number -5 to 5"));
                                if (it === bt) Le.push(it); else {
                                    if (!(it < bt)) throw O(Z, nn + 2, dt("bad range", {from: it, to: bt}));
                                    for (var Vt = it; Vt <= bt; Vt++) {
                                        if (0 === Vt || Vt < -5 || Vt > 5) throw O(Z, nn + 2, dt("number -5 to 5"));
                                        Le.push(Vt)
                                    }
                                }
                            });
                            if (!J(v, te, "]")) throw O(Z, te + ("object" == typeof v[te] ? 0 : -1), dt("] or more numbers"));
                            var Ze = ur(v, te + 1, 6, "constrained weekdays");
                            Xn = !1;
                            for (var ft = 0; ft < Le.length; ft++) X.weekday.push(function (it, bt, nn) {
                                return function (Vt) {
                                    var Ot, hn = dr(Vt, !1), Qt = new Date(Vt.getFullYear(), Vt.getMonth(), 1),
                                        xt = new Date(Vt.getFullYear(), Vt.getMonth() + 1, 1);
                                    Ot = zn(Vt.getFullYear(), Vt.getMonth(), it, [bt]);
                                    var bn, wt = new Date(Ot.getFullYear(), Ot.getMonth(), Ot.getDate() + nn);
                                    if (wt.getTime() < Qt.getTime()) {
                                        if (!(Ot.getTime() >= Qt.getTime())) return [!1, xt];
                                        wt = Zt(new Date(Vt.getFullYear(), Vt.getMonth() + (bt > 0 ? 0 : 1) + 1, 1), it), Ot.setDate(wt.getDate() + 7 * (bt + (bt > 0 ? -1 : 0)) + nn)
                                    } else if (wt.getTime() >= xt.getTime() && Ot.getTime() >= xt.getTime()) return [!1, xt];
                                    if (nn > 0) {
                                        if ((bn = Zt(new Date(Vt.getFullYear(), Vt.getMonth() + (bt > 0 ? 0 : 1) - 1, 1), it)).setDate(bn.getDate() + 7 * (bt + (bt > 0 ? -1 : 0)) + nn), hn === dr(bn, !1)) return [!0, Mt(Vt, _n)]
                                    } else if (nn < 0) if ((bn = Zt(new Date(Vt.getFullYear(), Vt.getMonth() + (bt > 0 ? 0 : 1) + 1, 1), it)).setDate(bn.getDate() + 7 * (bt + (bt > 0 ? -1 : 0)) + nn), bn.getTime() >= xt.getTime()) {
                                        if (wt.getTime() >= xt.getTime()) return [!1, bn]
                                    } else {
                                        if (wt.getTime() < xt.getTime() && dr(wt, !1) === hn) return [!0, Mt(Vt, _n)];
                                        wt = bn
                                    }
                                    return Vt.getDate() === wt.getDate() ? [!0, Mt(Vt, _n)] : Vt.getDate() < wt.getDate() ? [!1, wt] : [!1, xt]
                                }
                            }(v[x][0], Le[ft], Ze[0]));
                            x = te + 1 + Ze[1]
                        } else {
                            if (!J(v, x, "weekday")) {
                                if (J(v, x, "holiday")) return Xn = !1, Mr(v, x, X, !0, ie);
                                throw J(v, x - 1, ",") ? O(Z, x - 1, dt("additional rule no sense")) : O(Z, x, dt("unexpected token weekday range", {token: v[x][1]}))
                            }
                            var lt = J(v, x + 1, "-", "weekday"), ht = v[x][0], It = lt ? v[x + 2][0] : ht, Jt = !0;
                            if (It < ht) {
                                var Ht = It;
                                It = ht - 1, ht = Ht + 1, Jt = !1
                            }
                            var Ct = Array.apply(0, Array(It - ht + 1)).map(function (it, bt) {
                                return bt + It
                            });
                            typeof Yt[Z] > "u" && (Yt[Z] = {}), "object" == typeof Yt[Z].week_days ? Array.prototype.push.apply(Yt[Z].week_days, Ct) : Yt[Z].week_days = Ct, X.weekday.push(It < ht ? function () {
                                return [!0]
                            } : function (it, bt, nn) {
                                return function (Vt) {
                                    var hn = Vt.getDay();
                                    return hn < it || hn > bt ? [!nn, Zt(Vt, it)] : [nn, Zt(Vt, bt + 1)]
                                }
                            }(ht, It, Jt)), x += lt ? 3 : 1
                        }
                        if (!J(v, x, ",")) break
                    }
                    return x
                }

                function ur(v, x, X, ie) {
                    var Z = [0, 0];
                    if (Z[0] = J(v, x, "+") || (J(v, x, "-") ? -1 : 0), 0 !== Z[0] && J(v, x + 1, "number", "calcday")) {
                        if (v[x + 1][0] > X) throw O(Ce, x + 2, dt("max differ", {maxdiffer: X, name: ie}));
                        Z[0] *= v[x + 1][0], 0 === Z[0] && !Fn && Tt.push([Ce, x + 2, dt("adding 0")]), Z[1] = 3
                    } else Z[0] = 0;
                    return Z
                }

                function Mr(v, x, X, ie, Z) {
                    for (Z || (v[x][3] = ie ? "weekday" : "holiday"); x < v.length; x++) {
                        if (!J(v, x, "holiday")) {
                            if (J(v, x, "weekday")) return Zn(v, x, X, !0, Ce);
                            throw J(v, x - 1, ",") ? O(Ce, x - 1, dt("additional rule no sense")) : O(Ce, x, dt("unexpected token holiday", {token: v[x][1]}))
                        }
                        if ("PH" === v[x][0]) {
                            var Le = Ft(v[x][0]), te = ur(v, x + 1, 1, "public holiday"), Ze = function (ft, lt) {
                                return function (ht) {
                                    for (var It = ar(ft, ht.getFullYear(), lt), Jt = dr(ht, !0), Ht = 0; Ht < It.length; Ht++) {
                                        var Ct = dr(It[Ht][0], !0);
                                        if (Jt < Ct) {
                                            if (lt[0] > 0) {
                                                var it = ar(ft, ht.getFullYear() - 1, lt), bt = it[it.length - 1],
                                                    nn = dr(bt[0], !0);
                                                if (Jt < nn) return [!1, bt[0]];
                                                if (Jt === nn) return [!0, Mt(bt[0], _n), "Day after " + bt[1]]
                                            }
                                            return [!1, It[Ht][0]]
                                        }
                                        if (Jt === Ct) return [!0, new Date(ht.getFullYear(), ht.getMonth(), ht.getDate() + 1), (lt[0] > 0 ? "Day after " : lt[0] < 0 ? "Day before " : "") + It[Ht][1]]
                                    }
                                    if (lt[0] < 0) {
                                        var hn = ar(ft, ht.getFullYear() + 1, lt)[0];
                                        if (Jt === dr(hn[0], !0)) return [!0, Mt(hn[0], _n), "Day before " + hn[1]]
                                    }
                                    return [!1, new Date(It[0][0].getFullYear() + 1, It[0][0].getMonth(), It[0][0].getDate())]
                                }
                            }(Le, te);
                            ie ? X.weekday.push(Ze) : X.holiday.push(Ze), x += 1 + te[1]
                        } else "SH" === v[x][0] && (Ze = function (ht) {
                            return function (It) {
                                for (var Jt = dr(It), Ht = 0; Ht < ht.length; Ht++) {
                                    var Ct = vr(ht[Ht], It.getFullYear(), !1);
                                    if (!(typeof Ct > "u")) for (var it = 0; it < Ct.length; it += 4) {
                                        var bt = new Date(It.getFullYear(), Ct[2 + it] - 1, Ct[3 + it] + 1),
                                            nn = 100 * (Ct[0 + it] - 1) + Ct[1 + it],
                                            Vt = 100 * (Ct[2 + it] - 1) + Ct[3 + it];
                                        bt = dr(bt);
                                        var hn = Vt < nn;
                                        if (Jt < nn) {
                                            var Qt = vr(ht[ht.length - 1], It.getFullYear() - 1, !1);
                                            if ("object" == typeof Qt) {
                                                var Ot = 100 * (Qt[Qt.length - 2] - 1) + Qt[Qt.length - 1];
                                                return 100 * (Qt[Qt.length - 4] - 1) + Qt[Qt.length - 3] > Ot && Jt <= Ot ? [!0, new Date(It.getFullYear(), Qt[Qt.length - 2] - 1, Qt[Qt.length - 1] + 1), ht[ht.length - 1].name] : [!1, new Date(It.getFullYear(), Ct[0 + it] - 1, Ct[1 + it])]
                                            }
                                            return [!1, new Date(It.getFullYear(), Ct[0 + it] - 1, Ct[1 + it])]
                                        }
                                        if (nn <= Jt && (Jt <= Vt || hn)) return [!0, new Date(It.getFullYear() + hn, Ct[2 + it] - 1, Ct[3 + it] + 1), ht[Ht].name];
                                        if (bt === Jt) return it + 4 < Ct.length ? (it += 4, [!1, new Date(It.getFullYear(), Ct[0 + it] - 1, Ct[1 + it])]) : [!1, new Date(It.getFullYear(), Ct[2 + it] - 1, Ct[3 + it] + 2)]
                                    }
                                }
                                throw w(dt("no SH definition", {
                                    name: "",
                                    year: It.getFullYear()
                                }), "library bug PR only")
                            }
                        }(Le = Ft(v[x][0])), ie ? X.weekday.push(Ze) : X.holiday.push(Ze), x += 1);
                        if (!J(v, x, ",")) break
                    }
                    return x
                }

                function dr(v, x) {
                    return (x ? 1e4 * v.getFullYear() : 0) + 100 * v.getMonth() + v.getDate()
                }

                function vr(v, x, X) {
                    "boolean" != typeof X && (X = !0);
                    var ie = v[x];
                    if (!(typeof ie > "u" && (ie = v.default, typeof ie > "u"))) return ie;
                    if (X) throw w(dt("no SH definition", {name: v.name + " ", year: x}), "library bug PR only")
                }

                function Ft(v) {
                    if ("string" != typeof Nn) throw dt("no country code");
                    if (!rt[Nn]) throw w(dt("no holiday definition", {name: v, cc: Nn}), "library bug PR only");
                    var x = [];
                    if ("string" == typeof hr && "object" == typeof rt[Nn][hr] && "object" == typeof rt[Nn][hr][v]) {
                        var X = rt[Nn][v] || [], ie = rt[Nn][hr][v];
                        if ("PH" === v) x = ie; else if (X.length) {
                            var Z = X.map(function (Ze) {
                                return Ze.name
                            });
                            (x = []).push.apply(x, X), x.push.apply(x, ie.filter(function (ft) {
                                return -1 === Z.indexOf(ft.name)
                            })), x.sort(function (Ze, ft) {
                                var lt = Object.keys(Ze).find(function (Ht) {
                                    return "name" !== Ht
                                }), ht = Object.keys(ft).find(function (Ht) {
                                    return "name" !== Ht
                                }), It = Ze[lt], Jt = ft[ht];
                                return It[0] - Jt[0] || It[1] - Jt[1]
                            })
                        } else x = ie
                    } else {
                        if (!rt[Nn][v]) throw w(dt("no holiday definition state", {
                            name: v,
                            cc: Nn,
                            state: hr
                        }), "library bug PR only");
                        var Le = rt[Nn][v];
                        switch (v) {
                            case"PH":
                                Le.forEach(function (te) {
                                    "only_states" in te && -1 === te.only_states.indexOf(hr) || x.push(te)
                                });
                                break;
                            case"SH":
                                x = Le
                        }
                    }
                    if (0 === x.length) throw w(dt("no holiday definition", {name: v, cc: Nn}), "library bug PR only");
                    return x
                }

                function en(v) {
                    var x = Math.floor(v / 100), X = v - 19 * Math.floor(v / 19), ie = Math.floor((x - 17) / 25),
                        Z = x - Math.floor(x / 4) - Math.floor((x - ie) / 3) + 19 * X + 15;
                    Z -= 30 * Math.floor(Z / 30), Z -= Math.floor(Z / 28) * (1 - Math.floor(Z / 28) * Math.floor(29 / (Z + 1)) * Math.floor((21 - X) / 11));
                    var it, Le = v + Math.floor(v / 4) + Z + 2 - x + Math.floor(x / 4),
                        te = Z - (Le -= 7 * Math.floor(Le / 7)), Ze = 3 + Math.floor((te + 40) / 44),
                        ft = te + 28 - 31 * Math.floor(Ze / 4), Jt = (v % 19 * 19 + 15) % 30,
                        Ct = Jt + (v % 4 * 2 + v % 7 * 4 - Jt + 34) % 7;
                    it = Ct < 9 || Ct + 4 < 31 ? new Date(v, 3, Ct + 4) : new Date(v, 4, Ct - 26);
                    var bt = new Date(v, 2, 0), nn = bt.getDate() - bt.getDay(),
                        hn = 24 - (6 + new Date(v, 4, 24).getDay()) % 7, xt = 0 === new Date(v, 6, 1).getDay() ? 2 : 1;

                    function Ot(Cn, En) {
                        return 1 + (7 + En - new Date(v, Cn, 1).getDay()) % 7
                    }

                    function wt(Cn, En) {
                        var jn = new Date(v, Cn + 1, 0), Nr = (7 + jn.getDay() - En) % 7;
                        return jn.getDate() - Nr
                    }

                    function bn(Cn, En) {
                        var jn = Cn - En.getDay();
                        return jn < 0 && (jn += 7), En.setDate(En.getDate() + jn), En
                    }

                    function Gn(Cn, En, jn) {
                        if (Cn >= En) throw w("Not implemented yet.");
                        if (Cn <= jn.getDay() && jn.getDay() <= En) return jn;
                        var Nr = Cn - jn.getDay();
                        return Nr < 0 && (Nr += 7), jn.setDate(jn.getDate() + Nr), jn
                    }

                    return {
                        easter: new Date(v, Ze - 1, ft),
                        "orthodox easter": it,
                        victoriaDay: new Date(v, 4, hn),
                        canadaDay: new Date(v, 6, xt),
                        firstJanuaryMonday: new Date(v, 0, Ot(0, 1)),
                        firstFebruaryMonday: new Date(v, 1, Ot(1, 1)),
                        lastFebruarySunday: new Date(v, 1, nn),
                        firstMarchMonday: new Date(v, 2, Ot(2, 1)),
                        firstAprilMonday: new Date(v, 3, Ot(3, 1)),
                        firstMayMonday: new Date(v, 4, Ot(4, 1)),
                        firstJuneMonday: new Date(v, 5, Ot(5, 1)),
                        firstJulyMonday: new Date(v, 6, Ot(6, 1)),
                        firstAugustMonday: new Date(v, 7, Ot(7, 1)),
                        firstSeptemberMonday: new Date(v, 8, Ot(8, 1)),
                        firstSeptemberTuesday: new Date(v, 8, Ot(8, 2)),
                        firstSeptemberSunday: new Date(v, 8, Ot(8, 0)),
                        firstOctoberMonday: new Date(v, 9, Ot(9, 1)),
                        firstNovemberMonday: new Date(v, 10, Ot(10, 1)),
                        firstNovemberTuesday: new Date(v, 10, Ot(10, 2)),
                        firstMarchTuesday: new Date(v, 2, Ot(2, 2)),
                        firstAugustTuesday: new Date(v, 7, Ot(7, 2)),
                        firstAugustFriday: new Date(v, 7, Ot(7, 5)),
                        firstNovemberThursday: new Date(v, 10, Ot(10, 4)),
                        lastMayMonday: new Date(v, 4, wt(4, 1)),
                        lastMarchMonday: new Date(v, 2, wt(2, 1)),
                        lastAprilMonday: new Date(v, 3, wt(3, 1)),
                        lastAprilFriday: new Date(v, 3, wt(3, 5)),
                        lastAugustMonday: new Date(v, 7, wt(7, 1)),
                        lastSeptemberMonday: new Date(v, 8, wt(8, 1)),
                        lastSeptemberFriday: new Date(v, 8, wt(8, 5)),
                        lastOctoberMonday: new Date(v, 9, wt(9, 1)),
                        lastOctoberFriday: new Date(v, 9, wt(9, 5)),
                        nextSaturday20Jun: bn(6, new Date(v, 5, 20)),
                        nextSaturday31Oct: bn(6, new Date(v, 9, 31)),
                        nextWednesday16Nov: bn(3, new Date(v, 10, 16)),
                        "nextMo-Fr17March": Gn(1, 5, new Date(v, 2, 17)),
                        "nextMo-Sa01May": Gn(1, 6, new Date(v, 4, 1)),
                        "nextMo-Sa07August": Gn(1, 6, new Date(v, 7, 7)),
                        "nextMo-Sa25December": Gn(1, 6, new Date(v, 11, 25))
                    }
                }

                function ar(v, x, X) {
                    var Le, ie = en(x), Z = [];
                    return v.forEach(function (te) {
                        if ("fixed_date" in te) Le = new Date(x, te.fixed_date[0] - 1, te.fixed_date[1]); else {
                            if (!("variable_date" in te)) throw w("Unexpected object: " + JSON.stringify(te, null, "    "));
                            var Ze = ie[te.variable_date];
                            if (!Ze) throw dt("movable no formula", {name: te.name});
                            var ft = 0;
                            if ("offset" in te && (ft = te.offset), Le = new Date(Ze.getFullYear(), Ze.getMonth(), Ze.getDate() + ft), x !== Le.getFullYear()) throw dt("movable not in year", {
                                name: te.variable_date,
                                days: ft
                            })
                        }
                        X[0] && Le.setDate(Le.getDate() + X[0]), Z.push([Le, te.name])
                    }), Z = Z.sort(function (te, Ze) {
                        return te[0].getTime() < Ze[0].getTime() ? -1 : te[0].getTime() > Ze[0].getTime() ? 1 : 0
                    })
                }

                function _r(v, x) {
                    for (v[x][3] = "year"; x < v.length; x++) {
                        if (!J(v, x, "year")) throw J(v, x - 1, ",") ? O(Ce, x - 1, dt("additional rule no sense")) : O(Ce, x, dt("unexpected token year range", {token: v[x][1]}));
                        var ie, Z, X = !1;
                        J(v, x + 1, "-", "year", "/", "number") ? (X = !0, ie = !0, Nt(x + 4, Z = parseInt(v[x + 4][0]), "year")) : (X = J(v, x + 1, "-", "year"), (ie = J(v, x + 1, "/", "number")) ? Nt(x + 2, Z = parseInt(v[x + 2][0]), "year", "no_end_year") : J(v, x + 1, "+") && (Z = 1, ie = 2));
                        var Le = parseInt(v[x][0]);
                        if (X && v[x + 2][0] <= Le) throw O(Ce, x, v[x + 2][0] === Le ? dt("year range one year", {year: Le}) : dt("year range reverse"));
                        if (!X && Le < (new Date).getFullYear() && Tt.push([Ce, x, dt("year past")]), X && v[x + 2][0] < (new Date).getFullYear() && Tt.push([Ce, x + 2, dt("year past")]), Je.year.push(function (te, Ze, ft, lt, ht, It) {
                            return function (Jt) {
                                var Ht = Jt.getFullYear(), Ct = lt ? parseInt(te[Ze + 2][0]) : ft;
                                if (Ht < ft) return [!1, new Date(ft, 0, 1)];
                                if (ht) {
                                    if (ft <= Ht) {
                                        if (lt && Ht > Ct) return [!1];
                                        if (It > 0) return (Ht - ft) % It == 0 ? [!0, new Date(Ht + 1, 0, 1)] : [!1, new Date(Ht + It - 1, 0, 1)]
                                    }
                                } else if (lt) {
                                    if (Ht <= Ct) return [!0, new Date(Ct + 1, 0, 1)]
                                } else if (Ht === ft) return [!0];
                                return [!1]
                            }
                        }(v, x, Le, X, ie, Z)), !J(v, x += 1 + (X ? 2 : 0) + (ie ? 2 === ie ? 1 : 2 : 0), ",")) break
                    }
                    return x
                }

                function cr(v, x) {
                    for (; x < v.length; x++) {
                        if (J(v, x, "week") && x++, !J(v, x, "number")) throw J(v, x - 1, ",") ? O(Ce, x - 1, dt("additional rule no sense")) : O(Ce, x, dt("unexpected token week range", {token: v[x][1]}));
                        var X = J(v, x + 1, "-", "number"), ie = 0, Z = v[x][0], Le = X ? v[x + 2][0] : Z;
                        if (Z > Le) throw O(Ce, x + 2, dt("week range reverse"));
                        if (Z < 1) throw O(Ce, x, dt("week negative"));
                        if (Le > 53) throw O(Ce, X ? x + 2 : x, dt("week exceed"));
                        if (X && (ie = J(v, x + 3, "/", "number"))) {
                            if (ie = v[x + 4][0], v[x + 4][4] = "positive_number", ie < 2) throw O(Ce, x + 4, dt("week period less than 2", {
                                weekfrom: Z,
                                weekto: Le,
                                period: ie
                            }));
                            if (ie > 26) throw O(Ce, x + 4, dt("week period greater than 26", {weekfrom: Z}))
                        }
                        if (Xn && (!(Z <= 1 && Le >= 53) || ie) && (Xn = !1), Je.week.push(ie || 1 !== Z || 53 !== Le ? function (te, Ze, ft) {
                            return function (lt) {
                                var ht = pr(lt);
                                return ht < te || ht > Ze ? [!1, Ln(te, lt)] : ft ? (ht - te) % ft == 0 ? [!0, Ln(ht + 1, lt)] : [!1, Ln(ht + ft - 1, lt)] : [!0, Ln(53 === Ze ? 1 : Ze + 1, lt)]
                            }
                        }(Z, Le, ie) : function () {
                            return [!0]
                        }), !J(v, x += 1 + (X ? 2 : 0) + (ie ? 2 : 0), ",")) break
                    }
                    return x
                }

                function pr(v) {
                    (v = new Date(+v)).setHours(0, 0, 0, 0), v.setDate(v.getDate() + 4 - (v.getDay() || 7));
                    var x = new Date(v.getFullYear(), 0, 1);
                    return Math.ceil(((v - x) / 864e5 + 1) / 7)
                }

                function br(v, x) {
                    var X = new Date(x, 0, 1 + 7 * (v - 1)), ie = X.getDay(), Z = X;
                    return Z.setDate(ie <= 4 ? X.getDate() - X.getDay() + 1 : X.getDate() + 8 - X.getDay()), Z
                }

                function Ln(v, x) {
                    for (var X, ie = -1; ie <= 1; ie++) if ((X = br(v, x.getFullYear() + ie)).getTime() > x.getTime()) return X;
                    throw w()
                }

                function rr(v, x, X, ie) {
                    for (ie || (v[x][3] = "month"); x < v.length; x++) {
                        if (J(v, x, "month", "number") && !J(v, x + 2, "timesep", "number")) return dn(v, x, Ce, !0);
                        if (!J(v, x, "month")) throw O(Ce, x, dt("unexpected token month range", {token: v[x][1]}));
                        var Z = J(v, x + 1, "-", "month"), Le = v[x][0], te = Z ? v[x + 2][0] : Le;
                        Z && Xn ? Le !== (te + 1) % 12 && (Xn = !1) : Xn = !1;
                        var Ze = !0;
                        if (te < Le) {
                            var ft = te;
                            te = Le - 1, Le = ft + 1, Ze = !1
                        }
                        var lt = function (ht, It, Jt) {
                            return function (Ht) {
                                var Ct = Ht.getMonth();
                                return It < ht ? [!Jt] : Ct < ht || Ct > It ? [!Jt, Ir(Ht, ht)] : [Jt, Ir(Ht, It + 1)]
                            }
                        }(Le, te, Ze);
                        if (!0 === X ? Je.monthday.push(lt) : Je.month.push(lt), !J(v, x += Z ? 3 : 1, ",")) break
                    }
                    return x
                }

                function Ir(v, x) {
                    return new Date(v.getFullYear(), x < v.getMonth() ? x + 12 : x)
                }

                function dn(v, x, X, ie) {
                    for (ie || (v[x][3] = "month"); x < v.length; x++) {
                        var lt, ht, Z = [], Le = [], te = [], Ze = [], ft = [];
                        if (Z[0] = J(v, x, "year"), Le[0] = J(v, x + Z[0], "month", "number"), te[0] = J(v, x + Z[0], "event"), te[0] && (Ze[0] = ur(v, x + Z[0] + 1, 200, "event like easter")), J(v, x + Z[0], "month", "weekday", "[") ? (ft[0] = kt(v, x + Z[0] + 3), Ze[0] = ur(v, ft[0][1], 6, "constrained weekdays"), lt = ft[0][1] + ("object" == typeof Ze[0] && Ze[0][1] ? 3 : 0)) : lt = x + Z[0] + (te[0] ? "object" == typeof Ze[0] && Ze[0][1] ? 4 : 1 : 2), (Le[0] || te[0] || ft[0]) && J(v, lt, "-") && (Z[1] = J(v, lt + 1, "year"), Le[1] = J(v, ht = lt + 1 + Z[1], "month", "number"), Le[1] || (te[1] = J(v, ht, "event"), te[1] ? Ze[1] = ur(v, ht + 1, 366, "event like easter") : J(v, ht, "month", "weekday", "[") && (ft[1] = kt(v, ht + 3), Ze[1] = ur(v, ft[1][1], 6, "constrained weekdays")))), Z[0] === Z[1] && (Le[1] || te[1] || ft[1])) {
                            Le[0] && Rn(v[x + Z[0]][0], v[x + Z[0] + 1][0], X, x + Z[0] + 1), Le[1] && Rn(v[ht][0], v[ht + 1][0], X, ht + 1);
                            var It = function (Qt, xt, Ot, wt, bn, Gn, Cn, En) {
                                return function (jn) {
                                    var ne, tt, Nr = new Date(jn.getFullYear() + 1, 0, 1);
                                    if (bn[0]) {
                                        if (ne = en(wt[0] ? parseInt(Qt[xt][0]) : jn.getFullYear())[Qt[xt + wt[0]][0]], "object" == typeof Gn[0] && Gn[0][1]) {
                                            var Ne = ne.getFullYear();
                                            if (ne.setDate(ne.getDate() + Gn[0][0]), Ne !== ne.getFullYear()) throw O(Ot, xt + wt[0] + 3 * Gn[0][1], dt("movable not in year", {
                                                name: Qt[xt + wt[0]][0],
                                                days: Gn[0][0]
                                            }))
                                        }
                                    } else ne = En[0] ? zn(wt[0] ? Qt[xt][0] : jn.getFullYear(), Qt[xt + wt[0]][0], Qt[xt + wt[0] + 1][0], En[0], Gn[0]) : new Date(wt[0] ? Qt[xt][0] : jn.getFullYear(), Qt[xt + wt[0]][0], Qt[xt + wt[0] + 1][0]);
                                    if (bn[1]) {
                                        if (tt = en(wt[1] ? parseInt(Qt[Cn - 1][0]) : jn.getFullYear())[Qt[Cn][0]], "object" == typeof Gn[1] && Gn[1][1]) {
                                            var tn = tt.getFullYear();
                                            if (tt.setDate(tt.getDate() + Gn[1][0]), tn !== tt.getFullYear()) throw O(Ot, Cn + Gn[1][1], dt("movable not in year", {
                                                name: Qt[Cn][0],
                                                days: Gn[1][0]
                                            }))
                                        }
                                    } else tt = En[1] ? zn(wt[1] ? Qt[Cn - 1][0] : jn.getFullYear(), Qt[Cn][0], Qt[Cn + 1][0], En[1], Gn[1]) : new Date(wt[1] ? Qt[Cn - 1][0] : jn.getFullYear(), Qt[Cn][0], Qt[Cn + 1][0] + 1);
                                    var Wn = !0;
                                    if (tt < ne) {
                                        var Vr = tt;
                                        tt = ne, ne = Vr, Wn = !1
                                    }
                                    return jn.getTime() < ne.getTime() ? [!Wn, ne] : jn.getTime() < tt.getTime() ? [Wn, tt] : wt[0] ? [!Wn] : [!Wn, Nr]
                                }
                            }(v, x, X, Z, te, Ze, ht, ft);
                            !0 === ie ? Je.month.push(It) : Je.monthday.push(It), x = (ft[1] ? ft[1][1] : ht + (te[1] ? 1 : 2)) + ("object" == typeof Ze[1] ? Ze[1][1] : 0)
                        } else if (Le[0]) {
                            var Jt = v[x][0], Ht = v[x + (Z = Z[0])][0], Ct = !0;
                            do {
                                var it = v[x + 1 + Z][0], bt = J(v, x + 2 + Z, "-", "number"), nn = void 0,
                                    Vt = v[x + Z + (bt ? 3 : 1)][0] + 1;
                                if (bt && J(v, x + Z + 4, "/", "number") && (nn = v[x + Z + 5][0], v[x + Z + 5][4] = "positive_number", Nt(x + Z + 5, nn, "day")), Ct) {
                                    var hn = x + Z + 1 + (bt ? 2 : 0) + (nn ? 2 : 0) + !(bt || nn);
                                    if (J(v, hn, "timesep", "number") && (J(v, hn + 2, "+") || J(v, hn + 2, "-") || 0 !== Lt)) return rr(v, x, !0, !0)
                                }
                                if (Vt < it) throw O(X, x + Z + 3, dt("day range reverse"));
                                Rn(Ht, it, X, x + 1 + Z), Rn(Ht, Vt - 1, X, x + Z + (bt ? 3 : 1)), It = function (xt, Ot, wt, bn, Gn, Cn) {
                                    return function (En) {
                                        var jn = new Date(En.getFullYear() + 1, 0, 1),
                                            Nr = new Date(Ot ? xt : En.getFullYear(), wt, bn);
                                        if (1 === wt && bn !== Nr.getDate()) return [!1];
                                        var L = new Date(Nr.getFullYear(), wt, Gn);
                                        if (1 === wt && bt && Gn !== L.getDate()) return [!1];
                                        if (En.getTime() < Nr.getTime()) return [!1, Nr];
                                        if (En.getTime() >= L.getTime()) return [!1, jn];
                                        if (!Cn) return [!0, L];
                                        var Ne = Math.floor((En.getTime() - Nr.getTime()) / gn) % Cn;
                                        return 0 === Ne ? [!0, new Date(En.getFullYear(), En.getMonth(), En.getDate() + 1)] : [!1, new Date(En.getFullYear(), En.getMonth(), En.getDate() + Cn - Ne)]
                                    }
                                }(Jt, Z, Ht, it, Vt, nn), !0 === ie ? Je.month.push(It) : Je.monthday.push(It), x += 2 + Z + (bt ? 2 : 0) + (nn ? 2 : 0), Ct = !1
                            } while (J(v, x, ",", "number"))
                        } else if (te[0]) It = function (xt, Ot, wt, bn, Gn) {
                            return function (Cn) {
                                var jn = en(bn ? xt[Ot][0] : Cn.getFullYear())[xt[Ot + bn][0]];
                                if (!jn) throw dt("movable no formula", {name: xt[Ot + bn][0]});
                                if (Gn[0] && (jn.setDate(jn.getDate() + Gn[0]), Cn.getFullYear() !== jn.getFullYear())) throw O(wt, Ot + bn + Gn[1], dt("movable not in year", {
                                    name: xt[Ot + bn][0],
                                    days: Gn[0]
                                }));
                                return Cn.getTime() < jn.getTime() ? [!1, jn] : 100 * jn.getMonth() + jn.getDate() === 100 * Cn.getMonth() + Cn.getDate() ? [!0, new Date(Cn.getFullYear(), Cn.getMonth(), Cn.getDate() + 1)] : [!1, new Date(Cn.getFullYear() + 1, 0, 1)]
                            }
                        }(v, x, X, Z[0], Ze[0]), !0 === ie ? Je.month.push(It) : Je.monthday.push(It), x += Z[0] + te[0] + ("number" == typeof Ze[0][1] && Ze[0][1] ? 3 : 0); else {
                            if (!ft[0]) return J(v, x, "month") ? rr(v, x, !0, !0) : x;
                            x = rr(v, x)
                        }
                        if (!J(v, x, ",")) break
                    }
                    return x
                }

                function Or(v, x, X, ie, Z) {
                    for (var Le = "", te = x; te <= X;) J(v, te, "weekday") ? (!Z.leave_weekday_sep_one_day_betw && te - x > 1 && (J(v, te - 1, ",") || J(v, te - 1, "-")) && J(v, te - 2, "weekday") && v[te][0] === (v[te - 2][0] + 1) % 7 && (Le = Le.substring(0, Le.length - 1) + Z.sep_one_day_between), Le += zt[v[te][0]]) : te - x > 0 && "time" === ie && J(v, te - 1, "timesep") && J(v, te, "number") ? Le += (v[te][0] < 10 ? "0" : "") + v[te][0].toString() : "time" === ie && Z.zero_pad_hour && te !== v.length && J(v, te, "number") && J(v, te + 1, "timesep") ? Le += (v[te][0] < 10 ? 0 === v[te][0] && Z.one_zero_if_hour_zero ? "" : "0" : "") + v[te][0].toString() : "time" === ie && te + 2 <= X && J(v, te, "number") && J(v, te + 1, "-") && J(v, te + 2, "number") ? (Le += (v[te][0] < 10 ? 0 === v[te][0] && Z.one_zero_if_hour_zero ? "" : "0" : "") + v[te][0].toString(), Le += ":00-" + (v[te + 2][0] < 10 ? "0" : "") + v[te + 2][0].toString() + ":00", te += 2) : J(v, te, "comment") ? Le += '"' + v[te][0].toString() + '"' : J(v, te, "closed") ? Le += Z.leave_off_closed ? v[te][0] : Z.keyword_for_off_closed : te - x > 0 && J(v, te, "number") && ("month" === ie || "week" === ie) ? Le += (J(v, te - 1, "month") || J(v, te - 1, "week") ? " " : "") + (Z.zero_pad_month_and_week_numbers && "positive_number" !== v[te][4] && v[te][0] < 10 ? "0" : "") + v[te][0] : te - x > 0 && J(v, te, "month") && J(v, te - 1, "year") ? Le += " " + Bn[[v[te][0]]] : te - x > 0 && J(v, te, "event") && J(v, te - 1, "year") ? Le += " " + v[te][0] : J(v, te, "month") ? (Le += Bn[[v[te][0]]], te + 1 <= X && J(v, te + 1, "weekday") && (Le += " ")) : te + 2 <= X && (J(v, te, "-") || J(v, te, "+")) && J(v, te + 1, "number", "calcday") ? (Le += " " + v[te][0] + v[te + 1][0] + " day" + (1 === Math.abs(v[te + 1][0]) ? "" : "s"), te += 2) : te === X && "weekday" === ie && ":" === v[te][0] || te === X && "time" === ie && "," === v[te][0] || (Le += v[te][0].toString()), te++;
                    return Le
                }

                this.getStatePair = function (v) {
                    for (var X, Z, Le, x = !1, ie = !1, te = [], Ze = 0; Ze < yn.length; Ze++) {
                        for (var ft = !0, lt = 0; lt < yn[Ze].date.length; lt++) {
                            for (var ht = yn[Ze].date[lt], It = !1, Jt = 0; Jt < ht.length; Jt++) (Ht = ht[Jt](v))[0] && (It = !0, "string" == typeof Ht[2] && (Z = [Ht[2], Ze])), (typeof X > "u" || "object" == typeof Ht[1] && Ht[1].getTime() < X.getTime()) && (X = Ht[1]);
                            if (!It) {
                                ft = !1;
                                break
                            }
                        }
                        ft && ((yn[Ze].date.length > 0 || Ze > 0 && yn[Ze].meaning && 0 === yn[Ze - 1].date.length) && (yn[Ze].meaning || yn[Ze].unknown) && !yn[Ze].wrapped && !yn[Ze].additional && !yn[Ze].fallback && (te = []), te.push(Ze))
                    }
                    for (Ze = 0; Ze < te.length; Ze++) {
                        var Ct = te[Ze];
                        0 === yn[Ct].time.length && (!yn[Ct].fallback || yn[Ct].fallback && !x && !ie) && (x = yn[Ct].meaning, ie = yn[Ct].unknown, Le = Ct);
                        for (var it = 0; it < yn[Ct].time.length; it++) {
                            var Ht;
                            if ((Ht = yn[Ct].time[it](v))[0] && (!yn[Ct].fallback || yn[Ct].fallback && !x && !ie)) {
                                if (x = yn[Ct].meaning, ie = yn[Ct].unknown, Le = Ct, "object" == typeof Z && Z[0] === dt("open end") && (Z = void 0), !0 === Ht[2] && (x || ie) && (Z = [dt("open end"), Le], x = !1, ie = !0, "function" == typeof yn[Ct].time[it + 1])) {
                                    var bt = yn[Ct].time[it + 1](v);
                                    !bt[0] && "object" == typeof bt[1] && yn[Ct].time[it](new Date(v.getTime() - 1))[0] && (x = !1, ie = !1)
                                }
                                yn[Ct].fallback && (typeof X > "u" || typeof Ht[1] < "u" && Ht[1] < X) && (X = Ht[1])
                            }
                            (typeof X > "u" || "object" == typeof Ht[1] && Ht[1] < X) && (X = Ht[1])
                        }
                    }
                    return "object" == typeof yn[Le] && "string" == typeof yn[Le].comment ? Z = yn[Le].comment : "object" == typeof Z && (Z = Z[1] === Le ? Z[0] : void 0), [x, X, ie, Z, Le]
                }, this.getState = function (v) {
                    return this.getIterator(v).getState()
                }, this.getUnknown = function (v) {
                    return this.getIterator(v).getUnknown()
                }, this.getStateString = function (v, x) {
                    return this.getIterator(v).getStateString(x)
                }, this.getComment = function (v) {
                    return this.getIterator(v).getComment()
                }, this.getMatchingRule = function (v) {
                    return this.getIterator(v).getMatchingRule()
                }, this.getWarnings = function () {
                    return R(this.getIterator())
                }, this.prettifyValue = function (v) {
                    return this.getWarnings(), ve(v)
                }, this.getNextChange = function (v, x) {
                    var X = this.getIterator(v);
                    if (X.advance(x)) return X.getDate()
                }, this.isWeekStable = function () {
                    return Xn
                }, this.isEqualTo = function (v, x) {
                    var X;
                    typeof x > "u" && (x = new Date), X = this.isWeekStable() && v.isWeekStable() ? new Date(x.getTime() + 10 * gn) : new Date(x.getTime() + 366 * gn * 5);
                    for (var ie = this.getIterator(x), Z = v.getIterator(x); ie.advance(X);) {
                        Z.advance(X);
                        var Le = [];
                        if (ie.getDate().getTime() !== Z.getDate().getTime() && Le.push("getDate"), ie.getState() !== Z.getState() && Le.push("getState"), ie.getUnknown() !== Z.getUnknown() && Le.push("getUnknown"), ie.getComment() !== Z.getComment() && Le.push("getComment"), Le.length) {
                            var te = {};
                            return te[ie.getDate().getTime()] = Le, [!1, {
                                matching_rule: ie.getMatchingRule(),
                                matching_rule_other: Z.getMatchingRule(),
                                deviation_for_time: te
                            }]
                        }
                    }
                    return [!0]
                }, this.getOpenIntervals = function (v, x) {
                    var X = [], ie = this.getIterator(v);
                    for ((ie.getState() || ie.getUnknown()) && X.push([v, void 0, ie.getUnknown(), ie.getComment()]); ie.advance(x);) ie.getState() || ie.getUnknown() ? (0 !== X.length && typeof X[X.length - 1][1] > "u" && (X[X.length - 1][1] = ie.getDate()), X.push([ie.getDate(), void 0, ie.getUnknown(), ie.getComment()])) : 0 !== X.length && typeof X[X.length - 1][1] > "u" && (X[X.length - 1][1] = ie.getDate());
                    return X.length > 0 && typeof X[X.length - 1][1] > "u" && (X[X.length - 1][1] = x), X
                }, this.getOpenDuration = function (v, x) {
                    for (var X = 0, ie = 0, Z = this.getIterator(v), Le = Z.getState() || Z.getUnknown() ? v : void 0, te = Z.getState(), Ze = Z.getUnknown(); Z.advance(x);) Z.getState() || Z.getUnknown() ? ("object" == typeof Le && (Ze ? ie += Z.getDate().getTime() - Le.getTime() : te && (X += Z.getDate().getTime() - Le.getTime())), Le = Z.getDate(), te = Z.getState(), Ze = Z.getUnknown()) : "object" == typeof Le && (Ze ? ie += Z.getDate().getTime() - Le.getTime() : X += Z.getDate().getTime() - Le.getTime(), Le = void 0);
                    return "object" == typeof Le && (Ze ? ie += x.getTime() - Le.getTime() : X += x.getTime() - Le.getTime()), [X, ie]
                }, this.getIterator = function (v) {
                    return new function (x) {
                        typeof v > "u" && (v = new Date);
                        var X = [void 0, v, void 0, void 0, void 0], ie = x.getStatePair(v);
                        this.getDate = function () {
                            return X[1]
                        }, this.setDate = function (Z) {
                            if ("object" != typeof Z) throw dt("date parameter needed");
                            X = [void 0, Z, void 0, void 0, void 0], ie = x.getStatePair(Z)
                        }, this.getState = function () {
                            return ie[0]
                        }, this.getUnknown = function () {
                            return ie[2]
                        }, this.getStateString = function (Z) {
                            return ie[0] ? "open" : ie[2] ? "unknown" : Z ? "closed" : "close"
                        }, this.getComment = function () {
                            return ie[3]
                        }, this.getMatchingRule = function () {
                            if (!(typeof ie[4] > "u")) return yn[ie[4]].build_from_token_rule[2]
                        }, this.advance = function (Z) {
                            if (typeof Z > "u") Z = new Date(X[1].getTime() + 366 * gn * 5); else if (Z.getTime() <= X[1].getTime()) return !1;
                            do {
                                if (typeof ie[1] > "u") return !1;
                                if (ie[1].getTime() <= X[1].getTime()) throw"Fatal: infinite loop in nextChange";
                                if (ie[1].getTime() >= Z.getTime()) return !1;
                                ie = x.getStatePair((X = ie)[1])
                            } while (ie[0] === X[0] && ie[2] === X[2] && ie[3] === X[3]);
                            return !0
                        }
                    }(this)
                }
            }
        }(D(3095), D(6965))
    }, 1135: (Pe, he, D) => {
        "use strict";
        D.d(he, {X: () => V});
        var a = D(7579);

        class V extends a.x {
            constructor(k) {
                super(), this._value = k
            }

            get value() {
                return this.getValue()
            }

            _subscribe(k) {
                const ue = super._subscribe(k);
                return !ue.closed && k.next(this._value), ue
            }

            getValue() {
                const {hasError: k, thrownError: ue, _value: de} = this;
                if (k) throw ue;
                return this._throwIfClosed(), de
            }

            next(k) {
                super.next(this._value = k)
            }
        }
    }, 9751: (Pe, he, D) => {
        "use strict";
        D.d(he, {y: () => Te});
        var a = D(930), V = D(727), K = D(8822), k = D(9635), ue = D(2416), de = D(576), be = D(2806);
        let Te = (() => {
            class Q {
                constructor(xe) {
                    xe && (this._subscribe = xe)
                }

                lift(xe) {
                    const Be = new Q;
                    return Be.source = this, Be.operator = xe, Be
                }

                subscribe(xe, Be, mt) {
                    const ye = function ce(Q) {
                        return Q && Q instanceof a.Lv || function me(Q) {
                            return Q && (0, de.m)(Q.next) && (0, de.m)(Q.error) && (0, de.m)(Q.complete)
                        }(Q) && (0, V.Nn)(Q)
                    }(xe) ? xe : new a.Hp(xe, Be, mt);
                    return (0, be.x)(() => {
                        const {operator: Ue, source: $e} = this;
                        ye.add(Ue ? Ue.call(ye, $e) : $e ? this._subscribe(ye) : this._trySubscribe(ye))
                    }), ye
                }

                _trySubscribe(xe) {
                    try {
                        return this._subscribe(xe)
                    } catch (Be) {
                        xe.error(Be)
                    }
                }

                forEach(xe, Be) {
                    return new (Be = Se(Be))((mt, ye) => {
                        const Ue = new a.Hp({
                            next: $e => {
                                try {
                                    xe($e)
                                } catch (yt) {
                                    ye(yt), Ue.unsubscribe()
                                }
                            }, error: ye, complete: mt
                        });
                        this.subscribe(Ue)
                    })
                }

                _subscribe(xe) {
                    var Be;
                    return null === (Be = this.source) || void 0 === Be ? void 0 : Be.subscribe(xe)
                }

                [K.L]() {
                    return this
                }

                pipe(...xe) {
                    return (0, k.U)(xe)(this)
                }

                toPromise(xe) {
                    return new (xe = Se(xe))((Be, mt) => {
                        let ye;
                        this.subscribe(Ue => ye = Ue, Ue => mt(Ue), () => Be(ye))
                    })
                }
            }

            return Q.create = Oe => new Q(Oe), Q
        })();

        function Se(Q) {
            var Oe;
            return null !== (Oe = Q ?? ue.v.Promise) && void 0 !== Oe ? Oe : Promise
        }
    }, 7579: (Pe, he, D) => {
        "use strict";
        D.d(he, {x: () => be});
        var a = D(9751), V = D(727);
        const k = (0, D(3888).d)(Se => function () {
            Se(this), this.name = "ObjectUnsubscribedError", this.message = "object unsubscribed"
        });
        var ue = D(8737), de = D(2806);
        let be = (() => {
            class Se extends a.y {
                constructor() {
                    super(), this.closed = !1, this.currentObservers = null, this.observers = [], this.isStopped = !1, this.hasError = !1, this.thrownError = null
                }

                lift(ce) {
                    const Q = new Te(this, this);
                    return Q.operator = ce, Q
                }

                _throwIfClosed() {
                    if (this.closed) throw new k
                }

                next(ce) {
                    (0, de.x)(() => {
                        if (this._throwIfClosed(), !this.isStopped) {
                            this.currentObservers || (this.currentObservers = Array.from(this.observers));
                            for (const Q of this.currentObservers) Q.next(ce)
                        }
                    })
                }

                error(ce) {
                    (0, de.x)(() => {
                        if (this._throwIfClosed(), !this.isStopped) {
                            this.hasError = this.isStopped = !0, this.thrownError = ce;
                            const {observers: Q} = this;
                            for (; Q.length;) Q.shift().error(ce)
                        }
                    })
                }

                complete() {
                    (0, de.x)(() => {
                        if (this._throwIfClosed(), !this.isStopped) {
                            this.isStopped = !0;
                            const {observers: ce} = this;
                            for (; ce.length;) ce.shift().complete()
                        }
                    })
                }

                unsubscribe() {
                    this.isStopped = this.closed = !0, this.observers = this.currentObservers = null
                }

                get observed() {
                    var ce;
                    return (null === (ce = this.observers) || void 0 === ce ? void 0 : ce.length) > 0
                }

                _trySubscribe(ce) {
                    return this._throwIfClosed(), super._trySubscribe(ce)
                }

                _subscribe(ce) {
                    return this._throwIfClosed(), this._checkFinalizedStatuses(ce), this._innerSubscribe(ce)
                }

                _innerSubscribe(ce) {
                    const {hasError: Q, isStopped: Oe, observers: xe} = this;
                    return Q || Oe ? V.Lc : (this.currentObservers = null, xe.push(ce), new V.w0(() => {
                        this.currentObservers = null, (0, ue.P)(xe, ce)
                    }))
                }

                _checkFinalizedStatuses(ce) {
                    const {hasError: Q, thrownError: Oe, isStopped: xe} = this;
                    Q ? ce.error(Oe) : xe && ce.complete()
                }

                asObservable() {
                    const ce = new a.y;
                    return ce.source = this, ce
                }
            }

            return Se.create = (me, ce) => new Te(me, ce), Se
        })();

        class Te extends be {
            constructor(me, ce) {
                super(), this.destination = me, this.source = ce
            }

            next(me) {
                var ce, Q;
                null === (Q = null === (ce = this.destination) || void 0 === ce ? void 0 : ce.next) || void 0 === Q || Q.call(ce, me)
            }

            error(me) {
                var ce, Q;
                null === (Q = null === (ce = this.destination) || void 0 === ce ? void 0 : ce.error) || void 0 === Q || Q.call(ce, me)
            }

            complete() {
                var me, ce;
                null === (ce = null === (me = this.destination) || void 0 === me ? void 0 : me.complete) || void 0 === ce || ce.call(me)
            }

            _subscribe(me) {
                var ce, Q;
                return null !== (Q = null === (ce = this.source) || void 0 === ce ? void 0 : ce.subscribe(me)) && void 0 !== Q ? Q : V.Lc
            }
        }
    }, 930: (Pe, he, D) => {
        "use strict";
        D.d(he, {Hp: () => mt, Lv: () => Q});
        var a = D(576), V = D(727), K = D(2416), k = D(7849), ue = D(5032);
        const de = Se("C", void 0, void 0);

        function Se(We, pe, Qe) {
            return {kind: We, value: pe, error: Qe}
        }

        var me = D(3410), ce = D(2806);

        class Q extends V.w0 {
            constructor(pe) {
                super(), this.isStopped = !1, pe ? (this.destination = pe, (0, V.Nn)(pe) && pe.add(this)) : this.destination = yt
            }

            static create(pe, Qe, nt) {
                return new mt(pe, Qe, nt)
            }

            next(pe) {
                this.isStopped ? $e(function Te(We) {
                    return Se("N", We, void 0)
                }(pe), this) : this._next(pe)
            }

            error(pe) {
                this.isStopped ? $e(function be(We) {
                    return Se("E", void 0, We)
                }(pe), this) : (this.isStopped = !0, this._error(pe))
            }

            complete() {
                this.isStopped ? $e(de, this) : (this.isStopped = !0, this._complete())
            }

            unsubscribe() {
                this.closed || (this.isStopped = !0, super.unsubscribe(), this.destination = null)
            }

            _next(pe) {
                this.destination.next(pe)
            }

            _error(pe) {
                try {
                    this.destination.error(pe)
                } finally {
                    this.unsubscribe()
                }
            }

            _complete() {
                try {
                    this.destination.complete()
                } finally {
                    this.unsubscribe()
                }
            }
        }

        const Oe = Function.prototype.bind;

        function xe(We, pe) {
            return Oe.call(We, pe)
        }

        class Be {
            constructor(pe) {
                this.partialObserver = pe
            }

            next(pe) {
                const {partialObserver: Qe} = this;
                if (Qe.next) try {
                    Qe.next(pe)
                } catch (nt) {
                    ye(nt)
                }
            }

            error(pe) {
                const {partialObserver: Qe} = this;
                if (Qe.error) try {
                    Qe.error(pe)
                } catch (nt) {
                    ye(nt)
                } else ye(pe)
            }

            complete() {
                const {partialObserver: pe} = this;
                if (pe.complete) try {
                    pe.complete()
                } catch (Qe) {
                    ye(Qe)
                }
            }
        }

        class mt extends Q {
            constructor(pe, Qe, nt) {
                let Ke;
                if (super(), (0, a.m)(pe) || !pe) Ke = {
                    next: pe ?? void 0,
                    error: Qe ?? void 0,
                    complete: nt ?? void 0
                }; else {
                    let ge;
                    this && K.v.useDeprecatedNextContext ? (ge = Object.create(pe), ge.unsubscribe = () => this.unsubscribe(), Ke = {
                        next: pe.next && xe(pe.next, ge),
                        error: pe.error && xe(pe.error, ge),
                        complete: pe.complete && xe(pe.complete, ge)
                    }) : Ke = pe
                }
                this.destination = new Be(Ke)
            }
        }

        function ye(We) {
            K.v.useDeprecatedSynchronousErrorHandling ? (0, ce.O)(We) : (0, k.h)(We)
        }

        function $e(We, pe) {
            const {onStoppedNotification: Qe} = K.v;
            Qe && me.z.setTimeout(() => Qe(We, pe))
        }

        const yt = {
            closed: !0, next: ue.Z, error: function Ue(We) {
                throw We
            }, complete: ue.Z
        }
    }, 727: (Pe, he, D) => {
        "use strict";
        D.d(he, {Lc: () => de, w0: () => ue, Nn: () => be});
        var a = D(576);
        const K = (0, D(3888).d)(Se => function (ce) {
            Se(this), this.message = ce ? `${ce.length} errors occurred during unsubscription:\n${ce.map((Q, Oe) => `${Oe + 1}) ${Q.toString()}`).join("\n  ")}` : "", this.name = "UnsubscriptionError", this.errors = ce
        });
        var k = D(8737);

        class ue {
            constructor(me) {
                this.initialTeardown = me, this.closed = !1, this._parentage = null, this._finalizers = null
            }

            unsubscribe() {
                let me;
                if (!this.closed) {
                    this.closed = !0;
                    const {_parentage: ce} = this;
                    if (ce) if (this._parentage = null, Array.isArray(ce)) for (const xe of ce) xe.remove(this); else ce.remove(this);
                    const {initialTeardown: Q} = this;
                    if ((0, a.m)(Q)) try {
                        Q()
                    } catch (xe) {
                        me = xe instanceof K ? xe.errors : [xe]
                    }
                    const {_finalizers: Oe} = this;
                    if (Oe) {
                        this._finalizers = null;
                        for (const xe of Oe) try {
                            Te(xe)
                        } catch (Be) {
                            me = me ?? [], Be instanceof K ? me = [...me, ...Be.errors] : me.push(Be)
                        }
                    }
                    if (me) throw new K(me)
                }
            }

            add(me) {
                var ce;
                if (me && me !== this) if (this.closed) Te(me); else {
                    if (me instanceof ue) {
                        if (me.closed || me._hasParent(this)) return;
                        me._addParent(this)
                    }
                    (this._finalizers = null !== (ce = this._finalizers) && void 0 !== ce ? ce : []).push(me)
                }
            }

            _hasParent(me) {
                const {_parentage: ce} = this;
                return ce === me || Array.isArray(ce) && ce.includes(me)
            }

            _addParent(me) {
                const {_parentage: ce} = this;
                this._parentage = Array.isArray(ce) ? (ce.push(me), ce) : ce ? [ce, me] : me
            }

            _removeParent(me) {
                const {_parentage: ce} = this;
                ce === me ? this._parentage = null : Array.isArray(ce) && (0, k.P)(ce, me)
            }

            remove(me) {
                const {_finalizers: ce} = this;
                ce && (0, k.P)(ce, me), me instanceof ue && me._removeParent(this)
            }
        }

        ue.EMPTY = (() => {
            const Se = new ue;
            return Se.closed = !0, Se
        })();
        const de = ue.EMPTY;

        function be(Se) {
            return Se instanceof ue || Se && "closed" in Se && (0, a.m)(Se.remove) && (0, a.m)(Se.add) && (0, a.m)(Se.unsubscribe)
        }

        function Te(Se) {
            (0, a.m)(Se) ? Se() : Se.unsubscribe()
        }
    }, 2416: (Pe, he, D) => {
        "use strict";
        D.d(he, {v: () => a});
        const a = {
            onUnhandledError: null,
            onStoppedNotification: null,
            Promise: void 0,
            useDeprecatedSynchronousErrorHandling: !1,
            useDeprecatedNextContext: !1
        }
    }, 9841: (Pe, he, D) => {
        "use strict";
        D.d(he, {a: () => me, l: () => ce});
        var a = D(9751), V = D(4742), K = D(2076), k = D(4671), ue = D(3268), de = D(3269), be = D(1810), Te = D(5403),
            Se = D(9672);

        function me(...Oe) {
            const xe = (0, de.yG)(Oe), Be = (0, de.jO)(Oe), {args: mt, keys: ye} = (0, V.D)(Oe);
            if (0 === mt.length) return (0, K.D)([], xe);
            const Ue = new a.y(ce(mt, xe, ye ? $e => (0, be.n)(ye, $e) : k.y));
            return Be ? Ue.pipe((0, ue.Z)(Be)) : Ue
        }

        function ce(Oe, xe, Be = k.y) {
            return mt => {
                Q(xe, () => {
                    const {length: ye} = Oe, Ue = new Array(ye);
                    let $e = ye, yt = ye;
                    for (let We = 0; We < ye; We++) Q(xe, () => {
                        const pe = (0, K.D)(Oe[We], xe);
                        let Qe = !1;
                        pe.subscribe((0, Te.x)(mt, nt => {
                            Ue[We] = nt, Qe || (Qe = !0, yt--), yt || mt.next(Be(Ue.slice()))
                        }, () => {
                            --$e || mt.complete()
                        }))
                    }, mt)
                }, mt)
            }
        }

        function Q(Oe, xe, Be) {
            Oe ? (0, Se.f)(Be, Oe, xe) : xe()
        }
    }, 7272: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => ue});
        var a = D(8189), K = D(3269), k = D(2076);

        function ue(...de) {
            return function V() {
                return (0, a.J)(1)
            }()((0, k.D)(de, (0, K.yG)(de)))
        }
    }, 515: (Pe, he, D) => {
        "use strict";
        D.d(he, {E: () => V});
        const V = new (D(9751).y)(ue => ue.complete())
    }, 4128: (Pe, he, D) => {
        "use strict";
        D.d(he, {D: () => Te});
        var a = D(9751), V = D(4742), K = D(8421), k = D(3269), ue = D(5403), de = D(3268), be = D(1810);

        function Te(...Se) {
            const me = (0, k.jO)(Se), {args: ce, keys: Q} = (0, V.D)(Se), Oe = new a.y(xe => {
                const {length: Be} = ce;
                if (!Be) return void xe.complete();
                const mt = new Array(Be);
                let ye = Be, Ue = Be;
                for (let $e = 0; $e < Be; $e++) {
                    let yt = !1;
                    (0, K.Xf)(ce[$e]).subscribe((0, ue.x)(xe, We => {
                        yt || (yt = !0, Ue--), mt[$e] = We
                    }, () => ye--, void 0, () => {
                        (!ye || !yt) && (Ue || xe.next(Q ? (0, be.n)(Q, mt) : mt), xe.complete())
                    }))
                }
            });
            return me ? Oe.pipe((0, de.Z)(me)) : Oe
        }
    }, 2076: (Pe, he, D) => {
        "use strict";
        D.d(he, {D: () => nt});
        var a = D(8421), V = D(9672), K = D(4482), k = D(5403);

        function ue(Ke, ge = 0) {
            return (0, K.e)((se, Fe) => {
                se.subscribe((0, k.x)(Fe, Ge => (0, V.f)(Fe, Ke, () => Fe.next(Ge), ge), () => (0, V.f)(Fe, Ke, () => Fe.complete(), ge), Ge => (0, V.f)(Fe, Ke, () => Fe.error(Ge), ge)))
            })
        }

        function de(Ke, ge = 0) {
            return (0, K.e)((se, Fe) => {
                Fe.add(Ke.schedule(() => se.subscribe(Fe), ge))
            })
        }

        var Se = D(9751), ce = D(2202), Q = D(576);

        function xe(Ke, ge) {
            if (!Ke) throw new Error("Iterable cannot be null");
            return new Se.y(se => {
                (0, V.f)(se, ge, () => {
                    const Fe = Ke[Symbol.asyncIterator]();
                    (0, V.f)(se, ge, () => {
                        Fe.next().then(Ge => {
                            Ge.done ? se.complete() : se.next(Ge.value)
                        })
                    }, 0, !0)
                })
            })
        }

        var Be = D(3670), mt = D(8239), ye = D(1144), Ue = D(6495), $e = D(2206), yt = D(4532), We = D(3260);

        function nt(Ke, ge) {
            return ge ? function Qe(Ke, ge) {
                if (null != Ke) {
                    if ((0, Be.c)(Ke)) return function be(Ke, ge) {
                        return (0, a.Xf)(Ke).pipe(de(ge), ue(ge))
                    }(Ke, ge);
                    if ((0, ye.z)(Ke)) return function me(Ke, ge) {
                        return new Se.y(se => {
                            let Fe = 0;
                            return ge.schedule(function () {
                                Fe === Ke.length ? se.complete() : (se.next(Ke[Fe++]), se.closed || this.schedule())
                            })
                        })
                    }(Ke, ge);
                    if ((0, mt.t)(Ke)) return function Te(Ke, ge) {
                        return (0, a.Xf)(Ke).pipe(de(ge), ue(ge))
                    }(Ke, ge);
                    if ((0, $e.D)(Ke)) return xe(Ke, ge);
                    if ((0, Ue.T)(Ke)) return function Oe(Ke, ge) {
                        return new Se.y(se => {
                            let Fe;
                            return (0, V.f)(se, ge, () => {
                                Fe = Ke[ce.h](), (0, V.f)(se, ge, () => {
                                    let Ge, at;
                                    try {
                                        ({value: Ge, done: at} = Fe.next())
                                    } catch (Ye) {
                                        return void se.error(Ye)
                                    }
                                    at ? se.complete() : se.next(Ge)
                                }, 0, !0)
                            }), () => (0, Q.m)(Fe?.return) && Fe.return()
                        })
                    }(Ke, ge);
                    if ((0, We.L)(Ke)) return function pe(Ke, ge) {
                        return xe((0, We.Q)(Ke), ge)
                    }(Ke, ge)
                }
                throw(0, yt.z)(Ke)
            }(Ke, ge) : (0, a.Xf)(Ke)
        }
    }, 8421: (Pe, he, D) => {
        "use strict";
        D.d(he, {Xf: () => Oe});
        var a = D(655), V = D(1144), K = D(8239), k = D(9751), ue = D(3670), de = D(2206), be = D(4532), Te = D(6495),
            Se = D(3260), me = D(576), ce = D(7849), Q = D(8822);

        function Oe(We) {
            if (We instanceof k.y) return We;
            if (null != We) {
                if ((0, ue.c)(We)) return function xe(We) {
                    return new k.y(pe => {
                        const Qe = We[Q.L]();
                        if ((0, me.m)(Qe.subscribe)) return Qe.subscribe(pe);
                        throw new TypeError("Provided object does not correctly implement Symbol.observable")
                    })
                }(We);
                if ((0, V.z)(We)) return function Be(We) {
                    return new k.y(pe => {
                        for (let Qe = 0; Qe < We.length && !pe.closed; Qe++) pe.next(We[Qe]);
                        pe.complete()
                    })
                }(We);
                if ((0, K.t)(We)) return function mt(We) {
                    return new k.y(pe => {
                        We.then(Qe => {
                            pe.closed || (pe.next(Qe), pe.complete())
                        }, Qe => pe.error(Qe)).then(null, ce.h)
                    })
                }(We);
                if ((0, de.D)(We)) return Ue(We);
                if ((0, Te.T)(We)) return function ye(We) {
                    return new k.y(pe => {
                        for (const Qe of We) if (pe.next(Qe), pe.closed) return;
                        pe.complete()
                    })
                }(We);
                if ((0, Se.L)(We)) return function $e(We) {
                    return Ue((0, Se.Q)(We))
                }(We)
            }
            throw(0, be.z)(We)
        }

        function Ue(We) {
            return new k.y(pe => {
                (function yt(We, pe) {
                    var Qe, nt, Ke, ge;
                    return (0, a.mG)(this, void 0, void 0, function* () {
                        try {
                            for (Qe = (0, a.KL)(We); !(nt = yield Qe.next()).done;) if (pe.next(nt.value), pe.closed) return
                        } catch (se) {
                            Ke = {error: se}
                        } finally {
                            try {
                                nt && !nt.done && (ge = Qe.return) && (yield ge.call(Qe))
                            } finally {
                                if (Ke) throw Ke.error
                            }
                        }
                        pe.complete()
                    })
                })(We, pe).catch(Qe => pe.error(Qe))
            })
        }
    }, 6451: (Pe, he, D) => {
        "use strict";
        D.d(he, {T: () => de});
        var a = D(8189), V = D(8421), K = D(515), k = D(3269), ue = D(2076);

        function de(...be) {
            const Te = (0, k.yG)(be), Se = (0, k._6)(be, 1 / 0), me = be;
            return me.length ? 1 === me.length ? (0, V.Xf)(me[0]) : (0, a.J)(Se)((0, ue.D)(me, Te)) : K.E
        }
    }, 9646: (Pe, he, D) => {
        "use strict";
        D.d(he, {of: () => K});
        var a = D(3269), V = D(2076);

        function K(...k) {
            const ue = (0, a.yG)(k);
            return (0, V.D)(k, ue)
        }
    }, 5403: (Pe, he, D) => {
        "use strict";
        D.d(he, {x: () => V});
        var a = D(930);

        function V(k, ue, de, be, Te) {
            return new K(k, ue, de, be, Te)
        }

        class K extends a.Lv {
            constructor(ue, de, be, Te, Se, me) {
                super(ue), this.onFinalize = Se, this.shouldUnsubscribe = me, this._next = de ? function (ce) {
                    try {
                        de(ce)
                    } catch (Q) {
                        ue.error(Q)
                    }
                } : super._next, this._error = Te ? function (ce) {
                    try {
                        Te(ce)
                    } catch (Q) {
                        ue.error(Q)
                    } finally {
                        this.unsubscribe()
                    }
                } : super._error, this._complete = be ? function () {
                    try {
                        be()
                    } catch (ce) {
                        ue.error(ce)
                    } finally {
                        this.unsubscribe()
                    }
                } : super._complete
            }

            unsubscribe() {
                var ue;
                if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
                    const {closed: de} = this;
                    super.unsubscribe(), !de && (null === (ue = this.onFinalize) || void 0 === ue || ue.call(this))
                }
            }
        }
    }, 4351: (Pe, he, D) => {
        "use strict";
        D.d(he, {b: () => K});
        var a = D(5577), V = D(576);

        function K(k, ue) {
            return (0, V.m)(ue) ? (0, a.z)(k, ue, 1) : (0, a.z)(k, 1)
        }
    }, 8372: (Pe, he, D) => {
        "use strict";
        D.d(he, {b: () => k});
        var a = D(4049), V = D(4482), K = D(5403);

        function k(ue, de = a.z) {
            return (0, V.e)((be, Te) => {
                let Se = null, me = null, ce = null;
                const Q = () => {
                    if (Se) {
                        Se.unsubscribe(), Se = null;
                        const xe = me;
                        me = null, Te.next(xe)
                    }
                };

                function Oe() {
                    const xe = ce + ue, Be = de.now();
                    if (Be < xe) return Se = this.schedule(void 0, xe - Be), void Te.add(Se);
                    Q()
                }

                be.subscribe((0, K.x)(Te, xe => {
                    me = xe, ce = de.now(), Se || (Se = de.schedule(Oe, ue), Te.add(Se))
                }, () => {
                    Q(), Te.complete()
                }, void 0, () => {
                    me = Se = null
                }))
            })
        }
    }, 6590: (Pe, he, D) => {
        "use strict";
        D.d(he, {d: () => K});
        var a = D(4482), V = D(5403);

        function K(k) {
            return (0, a.e)((ue, de) => {
                let be = !1;
                ue.subscribe((0, V.x)(de, Te => {
                    be = !0, de.next(Te)
                }, () => {
                    be || de.next(k), de.complete()
                }))
            })
        }
    }, 1884: (Pe, he, D) => {
        "use strict";
        D.d(he, {x: () => k});
        var a = D(4671), V = D(4482), K = D(5403);

        function k(de, be = a.y) {
            return de = de ?? ue, (0, V.e)((Te, Se) => {
                let me, ce = !0;
                Te.subscribe((0, K.x)(Se, Q => {
                    const Oe = be(Q);
                    (ce || !de(me, Oe)) && (ce = !1, me = Oe, Se.next(Q))
                }))
            })
        }

        function ue(de, be) {
            return de === be
        }
    }, 9300: (Pe, he, D) => {
        "use strict";
        D.d(he, {h: () => K});
        var a = D(4482), V = D(5403);

        function K(k, ue) {
            return (0, a.e)((de, be) => {
                let Te = 0;
                de.subscribe((0, V.x)(be, Se => k.call(ue, Se, Te++) && be.next(Se)))
            })
        }
    }, 590: (Pe, he, D) => {
        "use strict";
        D.d(he, {P: () => be});
        var a = D(6805), V = D(9300), K = D(5698), k = D(6590), ue = D(8068), de = D(4671);

        function be(Te, Se) {
            const me = arguments.length >= 2;
            return ce => ce.pipe(Te ? (0, V.h)((Q, Oe) => Te(Q, Oe, ce)) : de.y, (0, K.q)(1), me ? (0, k.d)(Se) : (0, ue.T)(() => new a.K))
        }
    }, 4004: (Pe, he, D) => {
        "use strict";
        D.d(he, {U: () => K});
        var a = D(4482), V = D(5403);

        function K(k, ue) {
            return (0, a.e)((de, be) => {
                let Te = 0;
                de.subscribe((0, V.x)(be, Se => {
                    be.next(k.call(ue, Se, Te++))
                }))
            })
        }
    }, 9718: (Pe, he, D) => {
        "use strict";
        D.d(he, {h: () => V});
        var a = D(4004);

        function V(K) {
            return (0, a.U)(() => K)
        }
    }, 8189: (Pe, he, D) => {
        "use strict";
        D.d(he, {J: () => K});
        var a = D(5577), V = D(4671);

        function K(k = 1 / 0) {
            return (0, a.z)(V.y, k)
        }
    }, 5577: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => Te});
        var a = D(4004), V = D(8421), K = D(4482), k = D(9672), ue = D(5403), be = D(576);

        function Te(Se, me, ce = 1 / 0) {
            return (0, be.m)(me) ? Te((Q, Oe) => (0, a.U)((xe, Be) => me(Q, xe, Oe, Be))((0, V.Xf)(Se(Q, Oe))), ce) : ("number" == typeof me && (ce = me), (0, K.e)((Q, Oe) => function de(Se, me, ce, Q, Oe, xe, Be, mt) {
                const ye = [];
                let Ue = 0, $e = 0, yt = !1;
                const We = () => {
                    yt && !ye.length && !Ue && me.complete()
                }, pe = nt => Ue < Q ? Qe(nt) : ye.push(nt), Qe = nt => {
                    xe && me.next(nt), Ue++;
                    let Ke = !1;
                    (0, V.Xf)(ce(nt, $e++)).subscribe((0, ue.x)(me, ge => {
                        Oe?.(ge), xe ? pe(ge) : me.next(ge)
                    }, () => {
                        Ke = !0
                    }, void 0, () => {
                        if (Ke) try {
                            for (Ue--; ye.length && Ue < Q;) {
                                const ge = ye.shift();
                                Be ? (0, k.f)(me, Be, () => Qe(ge)) : Qe(ge)
                            }
                            We()
                        } catch (ge) {
                            me.error(ge)
                        }
                    }))
                };
                return Se.subscribe((0, ue.x)(me, pe, () => {
                    yt = !0, We()
                })), () => {
                    mt?.()
                }
            }(Q, Oe, Se, ce)))
        }
    }, 3099: (Pe, he, D) => {
        "use strict";
        D.d(he, {B: () => ue});
        var a = D(8421), V = D(7579), K = D(930), k = D(4482);

        function ue(be = {}) {
            const {
                connector: Te = (() => new V.x),
                resetOnError: Se = !0,
                resetOnComplete: me = !0,
                resetOnRefCountZero: ce = !0
            } = be;
            return Q => {
                let Oe, xe, Be, mt = 0, ye = !1, Ue = !1;
                const $e = () => {
                    xe?.unsubscribe(), xe = void 0
                }, yt = () => {
                    $e(), Oe = Be = void 0, ye = Ue = !1
                }, We = () => {
                    const pe = Oe;
                    yt(), pe?.unsubscribe()
                };
                return (0, k.e)((pe, Qe) => {
                    mt++, !Ue && !ye && $e();
                    const nt = Be = Be ?? Te();
                    Qe.add(() => {
                        mt--, 0 === mt && !Ue && !ye && (xe = de(We, ce))
                    }), nt.subscribe(Qe), !Oe && mt > 0 && (Oe = new K.Hp({
                        next: Ke => nt.next(Ke), error: Ke => {
                            Ue = !0, $e(), xe = de(yt, Se, Ke), nt.error(Ke)
                        }, complete: () => {
                            ye = !0, $e(), xe = de(yt, me), nt.complete()
                        }
                    }), (0, a.Xf)(pe).subscribe(Oe))
                })(Q)
            }
        }

        function de(be, Te, ...Se) {
            if (!0 === Te) return void be();
            if (!1 === Te) return;
            const me = new K.Hp({
                next: () => {
                    me.unsubscribe(), be()
                }
            });
            return (0, a.Xf)(Te(...Se)).subscribe(me)
        }
    }, 8675: (Pe, he, D) => {
        "use strict";
        D.d(he, {O: () => k});
        var a = D(7272), V = D(3269), K = D(4482);

        function k(...ue) {
            const de = (0, V.yG)(ue);
            return (0, K.e)((be, Te) => {
                (de ? (0, a.z)(ue, be, de) : (0, a.z)(ue, be)).subscribe(Te)
            })
        }
    }, 3900: (Pe, he, D) => {
        "use strict";
        D.d(he, {w: () => k});
        var a = D(8421), V = D(4482), K = D(5403);

        function k(ue, de) {
            return (0, V.e)((be, Te) => {
                let Se = null, me = 0, ce = !1;
                const Q = () => ce && !Se && Te.complete();
                be.subscribe((0, K.x)(Te, Oe => {
                    Se?.unsubscribe();
                    let xe = 0;
                    const Be = me++;
                    (0, a.Xf)(ue(Oe, Be)).subscribe(Se = (0, K.x)(Te, mt => Te.next(de ? de(Oe, mt, Be, xe++) : mt), () => {
                        Se = null, Q()
                    }))
                }, () => {
                    ce = !0, Q()
                }))
            })
        }
    }, 5698: (Pe, he, D) => {
        "use strict";
        D.d(he, {q: () => k});
        var a = D(515), V = D(4482), K = D(5403);

        function k(ue) {
            return ue <= 0 ? () => a.E : (0, V.e)((de, be) => {
                let Te = 0;
                de.subscribe((0, K.x)(be, Se => {
                    ++Te <= ue && (be.next(Se), ue <= Te && be.complete())
                }))
            })
        }
    }, 8505: (Pe, he, D) => {
        "use strict";
        D.d(he, {b: () => ue});
        var a = D(576), V = D(4482), K = D(5403), k = D(4671);

        function ue(de, be, Te) {
            const Se = (0, a.m)(de) || be || Te ? {next: de, error: be, complete: Te} : de;
            return Se ? (0, V.e)((me, ce) => {
                var Q;
                null === (Q = Se.subscribe) || void 0 === Q || Q.call(Se);
                let Oe = !0;
                me.subscribe((0, K.x)(ce, xe => {
                    var Be;
                    null === (Be = Se.next) || void 0 === Be || Be.call(Se, xe), ce.next(xe)
                }, () => {
                    var xe;
                    Oe = !1, null === (xe = Se.complete) || void 0 === xe || xe.call(Se), ce.complete()
                }, xe => {
                    var Be;
                    Oe = !1, null === (Be = Se.error) || void 0 === Be || Be.call(Se, xe), ce.error(xe)
                }, () => {
                    var xe, Be;
                    Oe && (null === (xe = Se.unsubscribe) || void 0 === xe || xe.call(Se)), null === (Be = Se.finalize) || void 0 === Be || Be.call(Se)
                }))
            }) : k.y
        }
    }, 8068: (Pe, he, D) => {
        "use strict";
        D.d(he, {T: () => k});
        var a = D(6805), V = D(4482), K = D(5403);

        function k(de = ue) {
            return (0, V.e)((be, Te) => {
                let Se = !1;
                be.subscribe((0, K.x)(Te, me => {
                    Se = !0, Te.next(me)
                }, () => Se ? Te.complete() : Te.error(de())))
            })
        }

        function ue() {
            return new a.K
        }
    }, 4049: (Pe, he, D) => {
        "use strict";
        D.d(he, {P: () => me, z: () => Se});
        var a = D(727);

        class V extends a.w0 {
            constructor(Q, Oe) {
                super()
            }

            schedule(Q, Oe = 0) {
                return this
            }
        }

        const K = {
            setInterval(ce, Q, ...Oe) {
                const {delegate: xe} = K;
                return xe?.setInterval ? xe.setInterval(ce, Q, ...Oe) : setInterval(ce, Q, ...Oe)
            }, clearInterval(ce) {
                const {delegate: Q} = K;
                return (Q?.clearInterval || clearInterval)(ce)
            }, delegate: void 0
        };
        var k = D(8737), de = D(6063);

        class be {
            constructor(Q, Oe = be.now) {
                this.schedulerActionCtor = Q, this.now = Oe
            }

            schedule(Q, Oe = 0, xe) {
                return new this.schedulerActionCtor(this, Q).schedule(xe, Oe)
            }
        }

        be.now = de.l.now;
        const Se = new class Te extends be {
            constructor(Q, Oe = be.now) {
                super(Q, Oe), this.actions = [], this._active = !1
            }

            flush(Q) {
                const {actions: Oe} = this;
                if (this._active) return void Oe.push(Q);
                let xe;
                this._active = !0;
                do {
                    if (xe = Q.execute(Q.state, Q.delay)) break
                } while (Q = Oe.shift());
                if (this._active = !1, xe) {
                    for (; Q = Oe.shift();) Q.unsubscribe();
                    throw xe
                }
            }
        }(class ue extends V {
            constructor(Q, Oe) {
                super(Q, Oe), this.scheduler = Q, this.work = Oe, this.pending = !1
            }

            schedule(Q, Oe = 0) {
                var xe;
                if (this.closed) return this;
                this.state = Q;
                const Be = this.id, mt = this.scheduler;
                return null != Be && (this.id = this.recycleAsyncId(mt, Be, Oe)), this.pending = !0, this.delay = Oe, this.id = null !== (xe = this.id) && void 0 !== xe ? xe : this.requestAsyncId(mt, this.id, Oe), this
            }

            requestAsyncId(Q, Oe, xe = 0) {
                return K.setInterval(Q.flush.bind(Q, this), xe)
            }

            recycleAsyncId(Q, Oe, xe = 0) {
                if (null != xe && this.delay === xe && !1 === this.pending) return Oe;
                null != Oe && K.clearInterval(Oe)
            }

            execute(Q, Oe) {
                if (this.closed) return new Error("executing a cancelled action");
                this.pending = !1;
                const xe = this._execute(Q, Oe);
                if (xe) return xe;
                !1 === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null))
            }

            _execute(Q, Oe) {
                let Be, xe = !1;
                try {
                    this.work(Q)
                } catch (mt) {
                    xe = !0, Be = mt || new Error("Scheduled action threw falsy error")
                }
                if (xe) return this.unsubscribe(), Be
            }

            unsubscribe() {
                if (!this.closed) {
                    const {id: Q, scheduler: Oe} = this, {actions: xe} = Oe;
                    this.work = this.state = this.scheduler = null, this.pending = !1, (0, k.P)(xe, this), null != Q && (this.id = this.recycleAsyncId(Oe, Q, null)), this.delay = null, super.unsubscribe()
                }
            }
        }), me = Se
    }, 6063: (Pe, he, D) => {
        "use strict";
        D.d(he, {l: () => a});
        const a = {now: () => (a.delegate || Date).now(), delegate: void 0}
    }, 3410: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => a});
        const a = {
            setTimeout(V, K, ...k) {
                const {delegate: ue} = a;
                return ue?.setTimeout ? ue.setTimeout(V, K, ...k) : setTimeout(V, K, ...k)
            }, clearTimeout(V) {
                const {delegate: K} = a;
                return (K?.clearTimeout || clearTimeout)(V)
            }, delegate: void 0
        }
    }, 2202: (Pe, he, D) => {
        "use strict";
        D.d(he, {h: () => V});
        const V = function a() {
            return "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator"
        }()
    }, 8822: (Pe, he, D) => {
        "use strict";
        D.d(he, {L: () => a});
        const a = "function" == typeof Symbol && Symbol.observable || "@@observable"
    }, 6805: (Pe, he, D) => {
        "use strict";
        D.d(he, {K: () => V});
        const V = (0, D(3888).d)(K => function () {
            K(this), this.name = "EmptyError", this.message = "no elements in sequence"
        })
    }, 3269: (Pe, he, D) => {
        "use strict";
        D.d(he, {_6: () => de, jO: () => k, yG: () => ue});
        var a = D(576), V = D(3532);

        function K(be) {
            return be[be.length - 1]
        }

        function k(be) {
            return (0, a.m)(K(be)) ? be.pop() : void 0
        }

        function ue(be) {
            return (0, V.K)(K(be)) ? be.pop() : void 0
        }

        function de(be, Te) {
            return "number" == typeof K(be) ? be.pop() : Te
        }
    }, 4742: (Pe, he, D) => {
        "use strict";
        D.d(he, {D: () => ue});
        const {isArray: a} = Array, {getPrototypeOf: V, prototype: K, keys: k} = Object;

        function ue(be) {
            if (1 === be.length) {
                const Te = be[0];
                if (a(Te)) return {args: Te, keys: null};
                if (function de(be) {
                    return be && "object" == typeof be && V(be) === K
                }(Te)) {
                    const Se = k(Te);
                    return {args: Se.map(me => Te[me]), keys: Se}
                }
            }
            return {args: be, keys: null}
        }
    }, 8737: (Pe, he, D) => {
        "use strict";

        function a(V, K) {
            if (V) {
                const k = V.indexOf(K);
                0 <= k && V.splice(k, 1)
            }
        }

        D.d(he, {P: () => a})
    }, 3888: (Pe, he, D) => {
        "use strict";

        function a(V) {
            const k = V(ue => {
                Error.call(ue), ue.stack = (new Error).stack
            });
            return k.prototype = Object.create(Error.prototype), k.prototype.constructor = k, k
        }

        D.d(he, {d: () => a})
    }, 1810: (Pe, he, D) => {
        "use strict";

        function a(V, K) {
            return V.reduce((k, ue, de) => (k[ue] = K[de], k), {})
        }

        D.d(he, {n: () => a})
    }, 2806: (Pe, he, D) => {
        "use strict";
        D.d(he, {O: () => k, x: () => K});
        var a = D(2416);
        let V = null;

        function K(ue) {
            if (a.v.useDeprecatedSynchronousErrorHandling) {
                const de = !V;
                if (de && (V = {errorThrown: !1, error: null}), ue(), de) {
                    const {errorThrown: be, error: Te} = V;
                    if (V = null, be) throw Te
                }
            } else ue()
        }

        function k(ue) {
            a.v.useDeprecatedSynchronousErrorHandling && V && (V.errorThrown = !0, V.error = ue)
        }
    }, 9672: (Pe, he, D) => {
        "use strict";

        function a(V, K, k, ue = 0, de = !1) {
            const be = K.schedule(function () {
                k(), de ? V.add(this.schedule(null, ue)) : this.unsubscribe()
            }, ue);
            if (V.add(be), !de) return be
        }

        D.d(he, {f: () => a})
    }, 4671: (Pe, he, D) => {
        "use strict";

        function a(V) {
            return V
        }

        D.d(he, {y: () => a})
    }, 1144: (Pe, he, D) => {
        "use strict";
        D.d(he, {z: () => a});
        const a = V => V && "number" == typeof V.length && "function" != typeof V
    }, 2206: (Pe, he, D) => {
        "use strict";
        D.d(he, {D: () => V});
        var a = D(576);

        function V(K) {
            return Symbol.asyncIterator && (0, a.m)(K?.[Symbol.asyncIterator])
        }
    }, 576: (Pe, he, D) => {
        "use strict";

        function a(V) {
            return "function" == typeof V
        }

        D.d(he, {m: () => a})
    }, 3670: (Pe, he, D) => {
        "use strict";
        D.d(he, {c: () => K});
        var a = D(8822), V = D(576);

        function K(k) {
            return (0, V.m)(k[a.L])
        }
    }, 6495: (Pe, he, D) => {
        "use strict";
        D.d(he, {T: () => K});
        var a = D(2202), V = D(576);

        function K(k) {
            return (0, V.m)(k?.[a.h])
        }
    }, 8239: (Pe, he, D) => {
        "use strict";
        D.d(he, {t: () => V});
        var a = D(576);

        function V(K) {
            return (0, a.m)(K?.then)
        }
    }, 3260: (Pe, he, D) => {
        "use strict";
        D.d(he, {L: () => k, Q: () => K});
        var a = D(655), V = D(576);

        function K(ue) {
            return (0, a.FC)(this, arguments, function* () {
                const be = ue.getReader();
                try {
                    for (; ;) {
                        const {value: Te, done: Se} = yield(0, a.qq)(be.read());
                        if (Se) return yield(0, a.qq)(void 0);
                        yield yield(0, a.qq)(Te)
                    }
                } finally {
                    be.releaseLock()
                }
            })
        }

        function k(ue) {
            return (0, V.m)(ue?.getReader)
        }
    }, 3532: (Pe, he, D) => {
        "use strict";
        D.d(he, {K: () => V});
        var a = D(576);

        function V(K) {
            return K && (0, a.m)(K.schedule)
        }
    }, 4482: (Pe, he, D) => {
        "use strict";
        D.d(he, {A: () => V, e: () => K});
        var a = D(576);

        function V(k) {
            return (0, a.m)(k?.lift)
        }

        function K(k) {
            return ue => {
                if (V(ue)) return ue.lift(function (de) {
                    try {
                        return k(de, this)
                    } catch (be) {
                        this.error(be)
                    }
                });
                throw new TypeError("Unable to lift unknown Observable type")
            }
        }
    }, 3268: (Pe, he, D) => {
        "use strict";
        D.d(he, {Z: () => k});
        var a = D(4004);
        const {isArray: V} = Array;

        function k(ue) {
            return (0, a.U)(de => function K(ue, de) {
                return V(de) ? ue(...de) : ue(de)
            }(ue, de))
        }
    }, 5032: (Pe, he, D) => {
        "use strict";

        function a() {
        }

        D.d(he, {Z: () => a})
    }, 9635: (Pe, he, D) => {
        "use strict";
        D.d(he, {U: () => K, z: () => V});
        var a = D(4671);

        function V(...k) {
            return K(k)
        }

        function K(k) {
            return 0 === k.length ? a.y : 1 === k.length ? k[0] : function (de) {
                return k.reduce((be, Te) => Te(be), de)
            }
        }
    }, 7849: (Pe, he, D) => {
        "use strict";
        D.d(he, {h: () => K});
        var a = D(2416), V = D(3410);

        function K(k) {
            V.z.setTimeout(() => {
                const {onUnhandledError: ue} = a.v;
                if (!ue) throw k;
                ue(k)
            })
        }
    }, 4532: (Pe, he, D) => {
        "use strict";

        function a(V) {
            return new TypeError(`You provided ${null !== V && "object" == typeof V ? "an invalid object" : `'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)
        }

        D.d(he, {z: () => a})
    }, 3095: Pe => {
        !function () {
            "use strict";
            var he = Math.PI, D = Math.sin, a = Math.cos, V = Math.tan, K = Math.asin, k = Math.atan2, ue = Math.acos,
                de = he / 180, be = 864e5;

            function ce(De) {
                return new Date((De + .5 - 2440588) * be)
            }

            function Q(De) {
                return function me(De) {
                    return De.valueOf() / be - .5 + 2440588
                }(De) - 2451545
            }

            var Oe = 23.4397 * de;

            function xe(De, re) {
                return k(D(De) * a(Oe) - V(re) * D(Oe), a(De))
            }

            function Be(De, re) {
                return K(D(re) * a(Oe) + a(re) * D(Oe) * D(De))
            }

            function mt(De, re, Ve) {
                return k(D(De), a(De) * D(re) - V(Ve) * a(re))
            }

            function ye(De, re, Ve) {
                return K(D(re) * D(Ve) + a(re) * a(Ve) * a(De))
            }

            function Ue(De, re) {
                return de * (280.16 + 360.9856235 * De) - re
            }

            function yt(De) {
                return de * (357.5291 + .98560028 * De)
            }

            function We(De) {
                return De + de * (1.9148 * D(De) + .02 * D(2 * De) + 3e-4 * D(3 * De)) + 102.9372 * de + he
            }

            function pe(De) {
                var Ve = We(yt(De));
                return {dec: Be(Ve, 0), ra: xe(Ve, 0)}
            }

            var Qe = {
                    getPosition: function (De, re, Ve) {
                        var Ae = de * -Ve, rt = de * re, _t = Q(De), Ut = pe(_t), Dt = Ue(_t, Ae) - Ut.ra;
                        return {azimuth: mt(Dt, rt, Ut.dec), altitude: ye(Dt, rt, Ut.dec)}
                    }
                },
                nt = Qe.times = [[-.833, "sunrise", "sunset"], [-.3, "sunriseEnd", "sunsetStart"], [-6, "dawn", "dusk"], [-12, "nauticalDawn", "nauticalDusk"], [-18, "nightEnd", "night"], [6, "goldenHourEnd", "goldenHour"]];

            function se(De, re, Ve) {
                return 9e-4 + (De + re) / (2 * he) + Ve
            }

            function Fe(De, re, Ve) {
                return 2451545 + De + .0053 * D(re) - .0069 * D(2 * Ve)
            }

            function Ye(De, re, Ve, Ae, rt, _t, Ut) {
                var Dt = function Ge(De, re, Ve) {
                    return ue((D(De) - D(re) * D(Ve)) / (a(re) * a(Ve)))
                }(De, Ve, Ae);
                return Fe(se(Dt, re, rt), _t, Ut)
            }

            function we(De) {
                var Ve = de * (134.963 + 13.064993 * De), Ae = de * (93.272 + 13.22935 * De),
                    rt = de * (218.316 + 13.176396 * De) + 6.289 * de * D(Ve), _t = 5.128 * de * D(Ae),
                    Ut = 385001 - 20905 * a(Ve);
                return {ra: xe(rt, _t), dec: Be(rt, _t), dist: Ut}
            }

            function Re(De, re) {
                return new Date(De.valueOf() + re * be / 24)
            }

            Qe.addTime = function (De, re, Ve) {
                nt.push([De, re, Ve])
            }, Qe.getTimes = function (De, re, Ve, Ae) {
                var Bn, zt, An, xn, rt = de * -Ve, _t = de * re, Ut = function at(De) {
                        return -2.076 * Math.sqrt(De) / 60
                    }(Ae = Ae || 0), At = function ge(De, re) {
                        return Math.round(De - 9e-4 - re / (2 * he))
                    }(Q(De), rt), Bt = se(0, rt, At), gt = yt(Bt), Xt = We(gt), Mn = Be(Xt, 0), Hn = Fe(Bt, gt, Xt),
                    gn = {solarNoon: ce(Hn), nadir: ce(Hn - .5)};
                for (Bn = 0, zt = nt.length; Bn < zt; Bn += 1) xn = Ye(((An = nt[Bn])[0] + Ut) * de, rt, _t, Mn, At, gt, Xt), gn[An[1]] = ce(Hn - (xn - Hn)), gn[An[2]] = ce(xn);
                return gn
            }, Qe.getMoonPosition = function (De, re, Ve) {
                var Ae = de * -Ve, rt = de * re, _t = Q(De), Ut = we(_t), Dt = Ue(_t, Ae) - Ut.ra,
                    At = ye(Dt, rt, Ut.dec), Bt = k(D(Dt), V(rt) * a(Ut.dec) - D(Ut.dec) * a(Dt));
                return At += function $e(De) {
                    return De < 0 && (De = 0), 2967e-7 / Math.tan(De + .00312536 / (De + .08901179))
                }(At), {azimuth: mt(Dt, rt, Ut.dec), altitude: At, distance: Ut.dist, parallacticAngle: Bt}
            }, Qe.getMoonIllumination = function (De) {
                var re = Q(De || new Date), Ve = pe(re), Ae = we(re), rt = 149598e3,
                    _t = ue(D(Ve.dec) * D(Ae.dec) + a(Ve.dec) * a(Ae.dec) * a(Ve.ra - Ae.ra)),
                    Ut = k(rt * D(_t), Ae.dist - rt * a(_t)),
                    Dt = k(a(Ve.dec) * D(Ve.ra - Ae.ra), D(Ve.dec) * a(Ae.dec) - a(Ve.dec) * D(Ae.dec) * a(Ve.ra - Ae.ra));
                return {fraction: (1 + a(Ut)) / 2, phase: .5 + .5 * Ut * (Dt < 0 ? -1 : 1) / Math.PI, angle: Dt}
            }, Qe.getMoonTimes = function (De, re, Ve, Ae) {
                var rt = new Date(De);
                Ae ? rt.setUTCHours(0, 0, 0, 0) : rt.setHours(0, 0, 0, 0);
                for (var Dt, At, Bt, gt, Xt, Mn, Hn, Bn, zt, An, lr, xn, _n, _t = .133 * de, Ut = Qe.getMoonPosition(rt, re, Ve).altitude - _t, gn = 1; gn <= 24 && (Dt = Qe.getMoonPosition(Re(rt, gn), re, Ve).altitude - _t, Bn = ((Xt = (Ut + (At = Qe.getMoonPosition(Re(rt, gn + 1), re, Ve).altitude - _t)) / 2 - Dt) * (Hn = -(Mn = (At - Ut) / 2) / (2 * Xt)) + Mn) * Hn + Dt, An = 0, (zt = Mn * Mn - 4 * Xt * Dt) >= 0 && (lr = Hn - (_n = Math.sqrt(zt) / (2 * Math.abs(Xt))), xn = Hn + _n, Math.abs(lr) <= 1 && An++, Math.abs(xn) <= 1 && An++, lr < -1 && (lr = xn)), 1 === An ? Ut < 0 ? Bt = gn + lr : gt = gn + lr : 2 === An && (Bt = gn + (Bn < 0 ? xn : lr), gt = gn + (Bn < 0 ? lr : xn)), !Bt || !gt); gn += 2) Ut = At;
                var cn = {};
                return Bt && (cn.rise = Re(rt, Bt)), gt && (cn.set = Re(rt, gt)), !Bt && !gt && (cn[Bn > 0 ? "alwaysUp" : "alwaysDown"] = !0), cn
            }, Pe.exports = Qe
        }()
    }, 655: (Pe, he, D) => {
        "use strict";

        function ue(we, Re, De, re) {
            var rt, Ve = arguments.length,
                Ae = Ve < 3 ? Re : null === re ? re = Object.getOwnPropertyDescriptor(Re, De) : re;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) Ae = Reflect.decorate(we, Re, De, re); else for (var _t = we.length - 1; _t >= 0; _t--) (rt = we[_t]) && (Ae = (Ve < 3 ? rt(Ae) : Ve > 3 ? rt(Re, De, Ae) : rt(Re, De)) || Ae);
            return Ve > 3 && Ae && Object.defineProperty(Re, De, Ae), Ae
        }

        function de(we, Re) {
            return function (De, re) {
                Re(De, re, we)
            }
        }

        function Q(we, Re, De, re) {
            return new (De || (De = Promise))(function (Ae, rt) {
                function _t(At) {
                    try {
                        Dt(re.next(At))
                    } catch (Bt) {
                        rt(Bt)
                    }
                }

                function Ut(At) {
                    try {
                        Dt(re.throw(At))
                    } catch (Bt) {
                        rt(Bt)
                    }
                }

                function Dt(At) {
                    At.done ? Ae(At.value) : function Ve(Ae) {
                        return Ae instanceof De ? Ae : new De(function (rt) {
                            rt(Ae)
                        })
                    }(At.value).then(_t, Ut)
                }

                Dt((re = re.apply(we, Re || [])).next())
            })
        }

        function We(we) {
            return this instanceof We ? (this.v = we, this) : new We(we)
        }

        function pe(we, Re, De) {
            if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
            var Ve, re = De.apply(we, Re || []), Ae = [];
            return Ve = {}, rt("next"), rt("throw"), rt("return"), Ve[Symbol.asyncIterator] = function () {
                return this
            }, Ve;

            function rt(gt) {
                re[gt] && (Ve[gt] = function (Xt) {
                    return new Promise(function (Mn, Hn) {
                        Ae.push([gt, Xt, Mn, Hn]) > 1 || _t(gt, Xt)
                    })
                })
            }

            function _t(gt, Xt) {
                try {
                    !function Ut(gt) {
                        gt.value instanceof We ? Promise.resolve(gt.value.v).then(Dt, At) : Bt(Ae[0][2], gt)
                    }(re[gt](Xt))
                } catch (Mn) {
                    Bt(Ae[0][3], Mn)
                }
            }

            function Dt(gt) {
                _t("next", gt)
            }

            function At(gt) {
                _t("throw", gt)
            }

            function Bt(gt, Xt) {
                gt(Xt), Ae.shift(), Ae.length && _t(Ae[0][0], Ae[0][1])
            }
        }

        function nt(we) {
            if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
            var De, Re = we[Symbol.asyncIterator];
            return Re ? Re.call(we) : (we = function mt(we) {
                var Re = "function" == typeof Symbol && Symbol.iterator, De = Re && we[Re], re = 0;
                if (De) return De.call(we);
                if (we && "number" == typeof we.length) return {
                    next: function () {
                        return we && re >= we.length && (we = void 0), {value: we && we[re++], done: !we}
                    }
                };
                throw new TypeError(Re ? "Object is not iterable." : "Symbol.iterator is not defined.")
            }(we), De = {}, re("next"), re("throw"), re("return"), De[Symbol.asyncIterator] = function () {
                return this
            }, De);

            function re(Ae) {
                De[Ae] = we[Ae] && function (rt) {
                    return new Promise(function (_t, Ut) {
                        !function Ve(Ae, rt, _t, Ut) {
                            Promise.resolve(Ut).then(function (Dt) {
                                Ae({value: Dt, done: _t})
                            }, rt)
                        }(_t, Ut, (rt = we[Ae](rt)).done, rt.value)
                    })
                }
            }
        }

        D.d(he, {FC: () => pe, KL: () => nt, fM: () => de, gn: () => ue, mG: () => Q, qq: () => We})
    }, 3897: Pe => {
        Pe.exports = function he(D, a) {
            (null == a || a > D.length) && (a = D.length);
            for (var V = 0, K = new Array(a); V < a; V++) K[V] = D[V];
            return K
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 5372: Pe => {
        Pe.exports = function he(D) {
            if (Array.isArray(D)) return D
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 6115: Pe => {
        Pe.exports = function he(D) {
            if (void 0 === D) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return D
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 6690: Pe => {
        Pe.exports = function he(D, a) {
            if (!(D instanceof a)) throw new TypeError("Cannot call a class as a function")
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 9728: Pe => {
        function he(a, V) {
            for (var K = 0; K < V.length; K++) {
                var k = V[K];
                k.enumerable = k.enumerable || !1, k.configurable = !0, "value" in k && (k.writable = !0), Object.defineProperty(a, k.key, k)
            }
        }

        Pe.exports = function D(a, V, K) {
            return V && he(a.prototype, V), K && he(a, K), Object.defineProperty(a, "prototype", {writable: !1}), a
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 8416: Pe => {
        Pe.exports = function he(D, a, V) {
            return a in D ? Object.defineProperty(D, a, {
                value: V,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : D[a] = V, D
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 3808: Pe => {
        function he(D) {
            return Pe.exports = he = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (V) {
                return V.__proto__ || Object.getPrototypeOf(V)
            }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports, he(D)
        }

        Pe.exports = he, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 1655: (Pe, he, D) => {
        var a = D(6015);
        Pe.exports = function V(K, k) {
            if ("function" != typeof k && null !== k) throw new TypeError("Super expression must either be null or a function");
            K.prototype = Object.create(k && k.prototype, {
                constructor: {
                    value: K,
                    writable: !0,
                    configurable: !0
                }
            }), Object.defineProperty(K, "prototype", {writable: !1}), k && a(K, k)
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 9498: Pe => {
        Pe.exports = function he(D) {
            if (typeof Symbol < "u" && null != D[Symbol.iterator] || null != D["@@iterator"]) return Array.from(D)
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 2218: Pe => {
        Pe.exports = function he() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 4993: (Pe, he, D) => {
        var a = D(8698).default, V = D(6115);
        Pe.exports = function K(k, ue) {
            if (ue && ("object" === a(ue) || "function" == typeof ue)) return ue;
            if (void 0 !== ue) throw new TypeError("Derived constructors may only return object or undefined");
            return V(k)
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 6015: Pe => {
        function he(D, a) {
            return Pe.exports = he = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (K, k) {
                return K.__proto__ = k, K
            }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports, he(D, a)
        }

        Pe.exports = he, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 1589: (Pe, he, D) => {
        var a = D(5372), V = D(9498), K = D(6116), k = D(2218);
        Pe.exports = function ue(de) {
            return a(de) || V(de) || K(de) || k()
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 8698: Pe => {
        function he(D) {
            return Pe.exports = he = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (a) {
                return typeof a
            } : function (a) {
                return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
            }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports, he(D)
        }

        Pe.exports = he, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 6116: (Pe, he, D) => {
        var a = D(3897);
        Pe.exports = function V(K, k) {
            if (K) {
                if ("string" == typeof K) return a(K, k);
                var ue = Object.prototype.toString.call(K).slice(8, -1);
                if ("Object" === ue && K.constructor && (ue = K.constructor.name), "Map" === ue || "Set" === ue) return Array.from(K);
                if ("Arguments" === ue || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)) return a(K, k)
            }
        }, Pe.exports.__esModule = !0, Pe.exports.default = Pe.exports
    }, 9671: (Pe, he, D) => {
        "use strict";

        function a(K, k, ue, de, be, Te, Se) {
            try {
                var me = K[Te](Se), ce = me.value
            } catch (Q) {
                return void ue(Q)
            }
            me.done ? k(ce) : Promise.resolve(ce).then(de, be)
        }

        function V(K) {
            return function () {
                var k = this, ue = arguments;
                return new Promise(function (de, be) {
                    var Te = K.apply(k, ue);

                    function Se(ce) {
                        a(Te, de, be, Se, me, "next", ce)
                    }

                    function me(ce) {
                        a(Te, de, be, Se, me, "throw", ce)
                    }

                    Se(void 0)
                })
            }
        }

        D.d(he, {Z: () => V})
    }, 7340: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            IO: () => Be,
            LC: () => V,
            SB: () => Se,
            X$: () => k,
            ZE: () => $e,
            ZN: () => Ue,
            _j: () => a,
            eR: () => ce,
            jt: () => ue,
            k1: () => yt,
            l3: () => K,
            oB: () => Te,
            ru: () => de,
            vP: () => be
        });

        class a {
        }

        class V {
        }

        const K = "*";

        function k(We, pe) {
            return {type: 7, name: We, definitions: pe, options: {}}
        }

        function ue(We, pe = null) {
            return {type: 4, styles: pe, timings: We}
        }

        function de(We, pe = null) {
            return {type: 3, steps: We, options: pe}
        }

        function be(We, pe = null) {
            return {type: 2, steps: We, options: pe}
        }

        function Te(We) {
            return {type: 6, styles: We, offset: null}
        }

        function Se(We, pe, Qe) {
            return {type: 0, name: We, styles: pe, options: Qe}
        }

        function ce(We, pe, Qe = null) {
            return {type: 1, expr: We, animation: pe, options: Qe}
        }

        function Be(We, pe, Qe = null) {
            return {type: 11, selector: We, animation: pe, options: Qe}
        }

        function ye(We) {
            Promise.resolve().then(We)
        }

        class Ue {
            constructor(pe = 0, Qe = 0) {
                this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._originalOnDoneFns = [], this._originalOnStartFns = [], this._started = !1, this._destroyed = !1, this._finished = !1, this._position = 0, this.parentPlayer = null, this.totalTime = pe + Qe
            }

            _onFinish() {
                this._finished || (this._finished = !0, this._onDoneFns.forEach(pe => pe()), this._onDoneFns = [])
            }

            onStart(pe) {
                this._originalOnStartFns.push(pe), this._onStartFns.push(pe)
            }

            onDone(pe) {
                this._originalOnDoneFns.push(pe), this._onDoneFns.push(pe)
            }

            onDestroy(pe) {
                this._onDestroyFns.push(pe)
            }

            hasStarted() {
                return this._started
            }

            init() {
            }

            play() {
                this.hasStarted() || (this._onStart(), this.triggerMicrotask()), this._started = !0
            }

            triggerMicrotask() {
                ye(() => this._onFinish())
            }

            _onStart() {
                this._onStartFns.forEach(pe => pe()), this._onStartFns = []
            }

            pause() {
            }

            restart() {
            }

            finish() {
                this._onFinish()
            }

            destroy() {
                this._destroyed || (this._destroyed = !0, this.hasStarted() || this._onStart(), this.finish(), this._onDestroyFns.forEach(pe => pe()), this._onDestroyFns = [])
            }

            reset() {
                this._started = !1, this._finished = !1, this._onStartFns = this._originalOnStartFns, this._onDoneFns = this._originalOnDoneFns
            }

            setPosition(pe) {
                this._position = this.totalTime ? pe * this.totalTime : 1
            }

            getPosition() {
                return this.totalTime ? this._position / this.totalTime : 1
            }

            triggerCallback(pe) {
                const Qe = "start" == pe ? this._onStartFns : this._onDoneFns;
                Qe.forEach(nt => nt()), Qe.length = 0
            }
        }

        class $e {
            constructor(pe) {
                this._onDoneFns = [], this._onStartFns = [], this._finished = !1, this._started = !1, this._destroyed = !1, this._onDestroyFns = [], this.parentPlayer = null, this.totalTime = 0, this.players = pe;
                let Qe = 0, nt = 0, Ke = 0;
                const ge = this.players.length;
                0 == ge ? ye(() => this._onFinish()) : this.players.forEach(se => {
                    se.onDone(() => {
                        ++Qe == ge && this._onFinish()
                    }), se.onDestroy(() => {
                        ++nt == ge && this._onDestroy()
                    }), se.onStart(() => {
                        ++Ke == ge && this._onStart()
                    })
                }), this.totalTime = this.players.reduce((se, Fe) => Math.max(se, Fe.totalTime), 0)
            }

            _onFinish() {
                this._finished || (this._finished = !0, this._onDoneFns.forEach(pe => pe()), this._onDoneFns = [])
            }

            init() {
                this.players.forEach(pe => pe.init())
            }

            onStart(pe) {
                this._onStartFns.push(pe)
            }

            _onStart() {
                this.hasStarted() || (this._started = !0, this._onStartFns.forEach(pe => pe()), this._onStartFns = [])
            }

            onDone(pe) {
                this._onDoneFns.push(pe)
            }

            onDestroy(pe) {
                this._onDestroyFns.push(pe)
            }

            hasStarted() {
                return this._started
            }

            play() {
                this.parentPlayer || this.init(), this._onStart(), this.players.forEach(pe => pe.play())
            }

            pause() {
                this.players.forEach(pe => pe.pause())
            }

            restart() {
                this.players.forEach(pe => pe.restart())
            }

            finish() {
                this._onFinish(), this.players.forEach(pe => pe.finish())
            }

            destroy() {
                this._onDestroy()
            }

            _onDestroy() {
                this._destroyed || (this._destroyed = !0, this._onFinish(), this.players.forEach(pe => pe.destroy()), this._onDestroyFns.forEach(pe => pe()), this._onDestroyFns = [])
            }

            reset() {
                this.players.forEach(pe => pe.reset()), this._destroyed = !1, this._finished = !1, this._started = !1
            }

            setPosition(pe) {
                const Qe = pe * this.totalTime;
                this.players.forEach(nt => {
                    const Ke = nt.totalTime ? Math.min(1, Qe / nt.totalTime) : 1;
                    nt.setPosition(Ke)
                })
            }

            getPosition() {
                const pe = this.players.reduce((Qe, nt) => null === Qe || nt.totalTime > Qe.totalTime ? nt : Qe, null);
                return null != pe ? pe.getPosition() : 0
            }

            beforeDestroy() {
                this.players.forEach(pe => {
                    pe.beforeDestroy && pe.beforeDestroy()
                })
            }

            triggerCallback(pe) {
                const Qe = "start" == pe ? this._onStartFns : this._onDoneFns;
                Qe.forEach(nt => nt()), Qe.length = 0
            }
        }

        const yt = "!"
    }, 6895: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            Do: () => $e,
            ED: () => ie,
            EM: () => bi,
            HT: () => k,
            JF: () => Oi,
            K0: () => de,
            Mx: () => dr,
            O5: () => Ir,
            Ov: () => it,
            RF: () => x,
            S$: () => mt,
            VR: () => we,
            V_: () => Se,
            Ye: () => yt,
            b0: () => Ue,
            bD: () => li,
            ez: () => si,
            iq: () => Le,
            mk: () => en,
            n9: () => X,
            q: () => K,
            sg: () => br,
            tP: () => ft,
            uU: () => wt,
            w_: () => ue,
            zE: () => te
        });
        var a = D(4650);
        let V = null;

        function K() {
            return V
        }

        function k(p) {
            V || (V = p)
        }

        class ue {
        }

        const de = new a.OlP("DocumentToken");
        let be = (() => {
            class p {
                historyGo(_) {
                    throw new Error("Not implemented")
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)
            }, p.\u0275prov = a.Yz7({
                token: p, factory: function () {
                    return function Te() {
                        return (0, a.LFG)(me)
                    }()
                }, providedIn: "platform"
            }), p
        })();
        const Se = new a.OlP("Location Initialized");
        let me = (() => {
            class p extends be {
                constructor(_) {
                    super(), this._doc = _, this._location = window.location, this._history = window.history
                }

                getBaseHrefFromDOM() {
                    return K().getBaseHref(this._doc)
                }

                onPopState(_) {
                    const B = K().getGlobalEventTarget(this._doc, "window");
                    return B.addEventListener("popstate", _, !1), () => B.removeEventListener("popstate", _)
                }

                onHashChange(_) {
                    const B = K().getGlobalEventTarget(this._doc, "window");
                    return B.addEventListener("hashchange", _, !1), () => B.removeEventListener("hashchange", _)
                }

                get href() {
                    return this._location.href
                }

                get protocol() {
                    return this._location.protocol
                }

                get hostname() {
                    return this._location.hostname
                }

                get port() {
                    return this._location.port
                }

                get pathname() {
                    return this._location.pathname
                }

                get search() {
                    return this._location.search
                }

                get hash() {
                    return this._location.hash
                }

                set pathname(_) {
                    this._location.pathname = _
                }

                pushState(_, B, oe) {
                    ce() ? this._history.pushState(_, B, oe) : this._location.hash = oe
                }

                replaceState(_, B, oe) {
                    ce() ? this._history.replaceState(_, B, oe) : this._location.hash = oe
                }

                forward() {
                    this._history.forward()
                }

                back() {
                    this._history.back()
                }

                historyGo(_ = 0) {
                    this._history.go(_)
                }

                getState() {
                    return this._history.state
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.LFG(de))
            }, p.\u0275prov = a.Yz7({
                token: p, factory: function () {
                    return function Q() {
                        return new me((0, a.LFG)(de))
                    }()
                }, providedIn: "platform"
            }), p
        })();

        function ce() {
            return !!window.history.pushState
        }

        function Oe(p, I) {
            if (0 == p.length) return I;
            if (0 == I.length) return p;
            let _ = 0;
            return p.endsWith("/") && _++, I.startsWith("/") && _++, 2 == _ ? p + I.substring(1) : 1 == _ ? p + I : p + "/" + I
        }

        function xe(p) {
            const I = p.match(/#|\?|$/), _ = I && I.index || p.length;
            return p.slice(0, _ - ("/" === p[_ - 1] ? 1 : 0)) + p.slice(_)
        }

        function Be(p) {
            return p && "?" !== p[0] ? "?" + p : p
        }

        let mt = (() => {
            class p {
                historyGo(_) {
                    throw new Error("Not implemented")
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)
            }, p.\u0275prov = a.Yz7({
                token: p, factory: function () {
                    return (0, a.f3M)(Ue)
                }, providedIn: "root"
            }), p
        })();
        const ye = new a.OlP("appBaseHref");
        let Ue = (() => {
            class p extends mt {
                constructor(_, B) {
                    super(), this._platformLocation = _, this._removeListenerFns = [], this._baseHref = B ?? this._platformLocation.getBaseHrefFromDOM() ?? (0, a.f3M)(de).location?.origin ?? ""
                }

                ngOnDestroy() {
                    for (; this._removeListenerFns.length;) this._removeListenerFns.pop()()
                }

                onPopState(_) {
                    this._removeListenerFns.push(this._platformLocation.onPopState(_), this._platformLocation.onHashChange(_))
                }

                getBaseHref() {
                    return this._baseHref
                }

                prepareExternalUrl(_) {
                    return Oe(this._baseHref, _)
                }

                path(_ = !1) {
                    const B = this._platformLocation.pathname + Be(this._platformLocation.search),
                        oe = this._platformLocation.hash;
                    return oe && _ ? `${B}${oe}` : B
                }

                pushState(_, B, oe, ke) {
                    const pt = this.prepareExternalUrl(oe + Be(ke));
                    this._platformLocation.pushState(_, B, pt)
                }

                replaceState(_, B, oe, ke) {
                    const pt = this.prepareExternalUrl(oe + Be(ke));
                    this._platformLocation.replaceState(_, B, pt)
                }

                forward() {
                    this._platformLocation.forward()
                }

                back() {
                    this._platformLocation.back()
                }

                getState() {
                    return this._platformLocation.getState()
                }

                historyGo(_ = 0) {
                    this._platformLocation.historyGo?.(_)
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.LFG(be), a.LFG(ye, 8))
            }, p.\u0275prov = a.Yz7({token: p, factory: p.\u0275fac, providedIn: "root"}), p
        })(), $e = (() => {
            class p extends mt {
                constructor(_, B) {
                    super(), this._platformLocation = _, this._baseHref = "", this._removeListenerFns = [], null != B && (this._baseHref = B)
                }

                ngOnDestroy() {
                    for (; this._removeListenerFns.length;) this._removeListenerFns.pop()()
                }

                onPopState(_) {
                    this._removeListenerFns.push(this._platformLocation.onPopState(_), this._platformLocation.onHashChange(_))
                }

                getBaseHref() {
                    return this._baseHref
                }

                path(_ = !1) {
                    let B = this._platformLocation.hash;
                    return null == B && (B = "#"), B.length > 0 ? B.substring(1) : B
                }

                prepareExternalUrl(_) {
                    const B = Oe(this._baseHref, _);
                    return B.length > 0 ? "#" + B : B
                }

                pushState(_, B, oe, ke) {
                    let pt = this.prepareExternalUrl(oe + Be(ke));
                    0 == pt.length && (pt = this._platformLocation.pathname), this._platformLocation.pushState(_, B, pt)
                }

                replaceState(_, B, oe, ke) {
                    let pt = this.prepareExternalUrl(oe + Be(ke));
                    0 == pt.length && (pt = this._platformLocation.pathname), this._platformLocation.replaceState(_, B, pt)
                }

                forward() {
                    this._platformLocation.forward()
                }

                back() {
                    this._platformLocation.back()
                }

                getState() {
                    return this._platformLocation.getState()
                }

                historyGo(_ = 0) {
                    this._platformLocation.historyGo?.(_)
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.LFG(be), a.LFG(ye, 8))
            }, p.\u0275prov = a.Yz7({token: p, factory: p.\u0275fac}), p
        })(), yt = (() => {
            class p {
                constructor(_) {
                    this._subject = new a.vpe, this._urlChangeListeners = [], this._urlChangeSubscription = null, this._locationStrategy = _;
                    const B = this._locationStrategy.getBaseHref();
                    this._basePath = function nt(p) {
                        if (new RegExp("^(https?:)?//").test(p)) {
                            const [, _] = p.split(/\/\/[^\/]+/);
                            return _
                        }
                        return p
                    }(xe(Qe(B))), this._locationStrategy.onPopState(oe => {
                        this._subject.emit({url: this.path(!0), pop: !0, state: oe.state, type: oe.type})
                    })
                }

                ngOnDestroy() {
                    this._urlChangeSubscription?.unsubscribe(), this._urlChangeListeners = []
                }

                path(_ = !1) {
                    return this.normalize(this._locationStrategy.path(_))
                }

                getState() {
                    return this._locationStrategy.getState()
                }

                isCurrentPathEqualTo(_, B = "") {
                    return this.path() == this.normalize(_ + Be(B))
                }

                normalize(_) {
                    return p.stripTrailingSlash(function pe(p, I) {
                        return p && new RegExp(`^${p}([/;?#]|$)`).test(I) ? I.substring(p.length) : I
                    }(this._basePath, Qe(_)))
                }

                prepareExternalUrl(_) {
                    return _ && "/" !== _[0] && (_ = "/" + _), this._locationStrategy.prepareExternalUrl(_)
                }

                go(_, B = "", oe = null) {
                    this._locationStrategy.pushState(oe, "", _, B), this._notifyUrlChangeListeners(this.prepareExternalUrl(_ + Be(B)), oe)
                }

                replaceState(_, B = "", oe = null) {
                    this._locationStrategy.replaceState(oe, "", _, B), this._notifyUrlChangeListeners(this.prepareExternalUrl(_ + Be(B)), oe)
                }

                forward() {
                    this._locationStrategy.forward()
                }

                back() {
                    this._locationStrategy.back()
                }

                historyGo(_ = 0) {
                    this._locationStrategy.historyGo?.(_)
                }

                onUrlChange(_) {
                    return this._urlChangeListeners.push(_), this._urlChangeSubscription || (this._urlChangeSubscription = this.subscribe(B => {
                        this._notifyUrlChangeListeners(B.url, B.state)
                    })), () => {
                        const B = this._urlChangeListeners.indexOf(_);
                        this._urlChangeListeners.splice(B, 1), 0 === this._urlChangeListeners.length && (this._urlChangeSubscription?.unsubscribe(), this._urlChangeSubscription = null)
                    }
                }

                _notifyUrlChangeListeners(_ = "", B) {
                    this._urlChangeListeners.forEach(oe => oe(_, B))
                }

                subscribe(_, B, oe) {
                    return this._subject.subscribe({next: _, error: B, complete: oe})
                }
            }

            return p.normalizeQueryParams = Be, p.joinWithSlash = Oe, p.stripTrailingSlash = xe, p.\u0275fac = function (_) {
                return new (_ || p)(a.LFG(mt))
            }, p.\u0275prov = a.Yz7({
                token: p, factory: function () {
                    return function We() {
                        return new yt((0, a.LFG)(mt))
                    }()
                }, providedIn: "root"
            }), p
        })();

        function Qe(p) {
            return p.replace(/\/index.html$/, "")
        }

        var se = (() => ((se = se || {})[se.Zero = 0] = "Zero", se[se.One = 1] = "One", se[se.Two = 2] = "Two", se[se.Few = 3] = "Few", se[se.Many = 4] = "Many", se[se.Other = 5] = "Other", se))(),
            Fe = (() => ((Fe = Fe || {})[Fe.Format = 0] = "Format", Fe[Fe.Standalone = 1] = "Standalone", Fe))(),
            Ge = (() => ((Ge = Ge || {})[Ge.Narrow = 0] = "Narrow", Ge[Ge.Abbreviated = 1] = "Abbreviated", Ge[Ge.Wide = 2] = "Wide", Ge[Ge.Short = 3] = "Short", Ge))(),
            at = (() => ((at = at || {})[at.Short = 0] = "Short", at[at.Medium = 1] = "Medium", at[at.Long = 2] = "Long", at[at.Full = 3] = "Full", at))(),
            Ye = (() => ((Ye = Ye || {})[Ye.Decimal = 0] = "Decimal", Ye[Ye.Group = 1] = "Group", Ye[Ye.List = 2] = "List", Ye[Ye.PercentSign = 3] = "PercentSign", Ye[Ye.PlusSign = 4] = "PlusSign", Ye[Ye.MinusSign = 5] = "MinusSign", Ye[Ye.Exponential = 6] = "Exponential", Ye[Ye.SuperscriptingExponent = 7] = "SuperscriptingExponent", Ye[Ye.PerMille = 8] = "PerMille", Ye[Ye.Infinity = 9] = "Infinity", Ye[Ye.NaN = 10] = "NaN", Ye[Ye.TimeSeparator = 11] = "TimeSeparator", Ye[Ye.CurrencyDecimal = 12] = "CurrencyDecimal", Ye[Ye.CurrencyGroup = 13] = "CurrencyGroup", Ye))(),
            we = (() => ((we = we || {})[we.Sunday = 0] = "Sunday", we[we.Monday = 1] = "Monday", we[we.Tuesday = 2] = "Tuesday", we[we.Wednesday = 3] = "Wednesday", we[we.Thursday = 4] = "Thursday", we[we.Friday = 5] = "Friday", we[we.Saturday = 6] = "Saturday", we))();

        function Ut(p, I) {
            return gn((0, a.cg1)(p)[a.wAp.DateFormat], I)
        }

        function Dt(p, I) {
            return gn((0, a.cg1)(p)[a.wAp.TimeFormat], I)
        }

        function At(p, I) {
            return gn((0, a.cg1)(p)[a.wAp.DateTimeFormat], I)
        }

        function Bt(p, I) {
            const _ = (0, a.cg1)(p), B = _[a.wAp.NumberSymbols][I];
            if (typeof B > "u") {
                if (I === Ye.CurrencyDecimal) return _[a.wAp.NumberSymbols][Ye.Decimal];
                if (I === Ye.CurrencyGroup) return _[a.wAp.NumberSymbols][Ye.Group]
            }
            return B
        }

        const zt = a.kL8;

        function An(p) {
            if (!p[a.wAp.ExtraData]) throw new Error(`Missing extra locale data for the locale "${p[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)
        }

        function gn(p, I) {
            for (let _ = I; _ > -1; _--) if (typeof p[_] < "u") return p[_];
            throw new Error("Locale data API: locale data undefined")
        }

        function cn(p) {
            const [I, _] = p.split(":");
            return {hours: +I, minutes: +_}
        }

        const Nn = /^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,
            hr = {},
            Tr = /((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;
        var sn = (() => ((sn = sn || {})[sn.Short = 0] = "Short", sn[sn.ShortGMT = 1] = "ShortGMT", sn[sn.Long = 2] = "Long", sn[sn.Extended = 3] = "Extended", sn))(),
            $t = (() => (($t = $t || {})[$t.FullYear = 0] = "FullYear", $t[$t.Month = 1] = "Month", $t[$t.Date = 2] = "Date", $t[$t.Hours = 3] = "Hours", $t[$t.Minutes = 4] = "Minutes", $t[$t.Seconds = 5] = "Seconds", $t[$t.FractionalSeconds = 6] = "FractionalSeconds", $t[$t.Day = 7] = "Day", $t))(),
            Lt = (() => ((Lt = Lt || {})[Lt.DayPeriods = 0] = "DayPeriods", Lt[Lt.Days = 1] = "Days", Lt[Lt.Months = 2] = "Months", Lt[Lt.Eras = 3] = "Eras", Lt))();

        function Cr(p, I, _, B) {
            let oe = function G(p) {
                if (w(p)) return p;
                if ("number" == typeof p && !isNaN(p)) return new Date(p);
                if ("string" == typeof p) {
                    if (p = p.trim(), /^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(p)) {
                        const [oe, ke = 1, pt = 1] = p.split("-").map(an => +an);
                        return In(oe, ke - 1, pt)
                    }
                    const _ = parseFloat(p);
                    if (!isNaN(p - _)) return new Date(_);
                    let B;
                    if (B = p.match(Nn)) return function O(p) {
                        const I = new Date(0);
                        let _ = 0, B = 0;
                        const oe = p[8] ? I.setUTCFullYear : I.setFullYear, ke = p[8] ? I.setUTCHours : I.setHours;
                        p[9] && (_ = Number(p[9] + p[10]), B = Number(p[9] + p[11])), oe.call(I, Number(p[1]), Number(p[2]) - 1, Number(p[3]));
                        const pt = Number(p[4] || 0) - _, an = Number(p[5] || 0) - B, Tn = Number(p[6] || 0),
                            ir = Math.floor(1e3 * parseFloat("0." + (p[7] || 0)));
                        return ke.call(I, pt, an, Tn, ir), I
                    }(B)
                }
                const I = new Date(p);
                if (!w(I)) throw new Error(`Unable to convert "${p}" into a date`);
                return I
            }(p);
            I = Jn(_, I) || I;
            let an, pt = [];
            for (; I;) {
                if (an = Tr.exec(I), !an) {
                    pt.push(I);
                    break
                }
                {
                    pt = pt.concat(an.slice(1));
                    const Kn = pt.pop();
                    if (!Kn) break;
                    I = Kn
                }
            }
            let Tn = oe.getTimezoneOffset();
            B && (Tn = vn(B, Tn), oe = function $(p, I, _) {
                const B = _ ? -1 : 1, oe = p.getTimezoneOffset();
                return function q(p, I) {
                    return (p = new Date(p.getTime())).setMinutes(p.getMinutes() + I), p
                }(p, B * (vn(I, oe) - oe))
            }(oe, B, !0));
            let ir = "";
            return pt.forEach(Kn => {
                const Qn = function Et(p) {
                    if (st[p]) return st[p];
                    let I;
                    switch (p) {
                        case"G":
                        case"GG":
                        case"GGG":
                            I = fn(Lt.Eras, Ge.Abbreviated);
                            break;
                        case"GGGG":
                            I = fn(Lt.Eras, Ge.Wide);
                            break;
                        case"GGGGG":
                            I = fn(Lt.Eras, Ge.Narrow);
                            break;
                        case"y":
                            I = $n($t.FullYear, 1, 0, !1, !0);
                            break;
                        case"yy":
                            I = $n($t.FullYear, 2, 0, !0, !0);
                            break;
                        case"yyy":
                            I = $n($t.FullYear, 3, 0, !1, !0);
                            break;
                        case"yyyy":
                            I = $n($t.FullYear, 4, 0, !1, !0);
                            break;
                        case"Y":
                            I = Je(1);
                            break;
                        case"YY":
                            I = Je(2, !0);
                            break;
                        case"YYY":
                            I = Je(3);
                            break;
                        case"YYYY":
                            I = Je(4);
                            break;
                        case"M":
                        case"L":
                            I = $n($t.Month, 1, 1);
                            break;
                        case"MM":
                        case"LL":
                            I = $n($t.Month, 2, 1);
                            break;
                        case"MMM":
                            I = fn(Lt.Months, Ge.Abbreviated);
                            break;
                        case"MMMM":
                            I = fn(Lt.Months, Ge.Wide);
                            break;
                        case"MMMMM":
                            I = fn(Lt.Months, Ge.Narrow);
                            break;
                        case"LLL":
                            I = fn(Lt.Months, Ge.Abbreviated, Fe.Standalone);
                            break;
                        case"LLLL":
                            I = fn(Lt.Months, Ge.Wide, Fe.Standalone);
                            break;
                        case"LLLLL":
                            I = fn(Lt.Months, Ge.Narrow, Fe.Standalone);
                            break;
                        case"w":
                            I = Ee(1);
                            break;
                        case"ww":
                            I = Ee(2);
                            break;
                        case"W":
                            I = Ee(1, !0);
                            break;
                        case"d":
                            I = $n($t.Date, 1);
                            break;
                        case"dd":
                            I = $n($t.Date, 2);
                            break;
                        case"c":
                        case"cc":
                            I = $n($t.Day, 1);
                            break;
                        case"ccc":
                            I = fn(Lt.Days, Ge.Abbreviated, Fe.Standalone);
                            break;
                        case"cccc":
                            I = fn(Lt.Days, Ge.Wide, Fe.Standalone);
                            break;
                        case"ccccc":
                            I = fn(Lt.Days, Ge.Narrow, Fe.Standalone);
                            break;
                        case"cccccc":
                            I = fn(Lt.Days, Ge.Short, Fe.Standalone);
                            break;
                        case"E":
                        case"EE":
                        case"EEE":
                            I = fn(Lt.Days, Ge.Abbreviated);
                            break;
                        case"EEEE":
                            I = fn(Lt.Days, Ge.Wide);
                            break;
                        case"EEEEE":
                            I = fn(Lt.Days, Ge.Narrow);
                            break;
                        case"EEEEEE":
                            I = fn(Lt.Days, Ge.Short);
                            break;
                        case"a":
                        case"aa":
                        case"aaa":
                            I = fn(Lt.DayPeriods, Ge.Abbreviated);
                            break;
                        case"aaaa":
                            I = fn(Lt.DayPeriods, Ge.Wide);
                            break;
                        case"aaaaa":
                            I = fn(Lt.DayPeriods, Ge.Narrow);
                            break;
                        case"b":
                        case"bb":
                        case"bbb":
                            I = fn(Lt.DayPeriods, Ge.Abbreviated, Fe.Standalone, !0);
                            break;
                        case"bbbb":
                            I = fn(Lt.DayPeriods, Ge.Wide, Fe.Standalone, !0);
                            break;
                        case"bbbbb":
                            I = fn(Lt.DayPeriods, Ge.Narrow, Fe.Standalone, !0);
                            break;
                        case"B":
                        case"BB":
                        case"BBB":
                            I = fn(Lt.DayPeriods, Ge.Abbreviated, Fe.Format, !0);
                            break;
                        case"BBBB":
                            I = fn(Lt.DayPeriods, Ge.Wide, Fe.Format, !0);
                            break;
                        case"BBBBB":
                            I = fn(Lt.DayPeriods, Ge.Narrow, Fe.Format, !0);
                            break;
                        case"h":
                            I = $n($t.Hours, 1, -12);
                            break;
                        case"hh":
                            I = $n($t.Hours, 2, -12);
                            break;
                        case"H":
                            I = $n($t.Hours, 1);
                            break;
                        case"HH":
                            I = $n($t.Hours, 2);
                            break;
                        case"m":
                            I = $n($t.Minutes, 1);
                            break;
                        case"mm":
                            I = $n($t.Minutes, 2);
                            break;
                        case"s":
                            I = $n($t.Seconds, 1);
                            break;
                        case"ss":
                            I = $n($t.Seconds, 2);
                            break;
                        case"S":
                            I = $n($t.FractionalSeconds, 1);
                            break;
                        case"SS":
                            I = $n($t.FractionalSeconds, 2);
                            break;
                        case"SSS":
                            I = $n($t.FractionalSeconds, 3);
                            break;
                        case"Z":
                        case"ZZ":
                        case"ZZZ":
                            I = yn(sn.Short);
                            break;
                        case"ZZZZZ":
                            I = yn(sn.Extended);
                            break;
                        case"O":
                        case"OO":
                        case"OOO":
                        case"z":
                        case"zz":
                        case"zzz":
                            I = yn(sn.ShortGMT);
                            break;
                        case"OOOO":
                        case"ZZZZ":
                        case"zzzz":
                            I = yn(sn.Long);
                            break;
                        default:
                            return null
                    }
                    return st[p] = I, I
                }(Kn);
                ir += Qn ? Qn(oe, _, Tn) : "''" === Kn ? "'" : Kn.replace(/(^'|'$)/g, "").replace(/''/g, "'")
            }), ir
        }

        function In(p, I, _) {
            const B = new Date(0);
            return B.setFullYear(p, I, _), B.setHours(0, 0, 0), B
        }

        function Jn(p, I) {
            const _ = function Re(p) {
                return (0, a.cg1)(p)[a.wAp.LocaleId]
            }(p);
            if (hr[_] = hr[_] || {}, hr[_][I]) return hr[_][I];
            let B = "";
            switch (I) {
                case"shortDate":
                    B = Ut(p, at.Short);
                    break;
                case"mediumDate":
                    B = Ut(p, at.Medium);
                    break;
                case"longDate":
                    B = Ut(p, at.Long);
                    break;
                case"fullDate":
                    B = Ut(p, at.Full);
                    break;
                case"shortTime":
                    B = Dt(p, at.Short);
                    break;
                case"mediumTime":
                    B = Dt(p, at.Medium);
                    break;
                case"longTime":
                    B = Dt(p, at.Long);
                    break;
                case"fullTime":
                    B = Dt(p, at.Full);
                    break;
                case"short":
                    const oe = Jn(p, "shortTime"), ke = Jn(p, "shortDate");
                    B = Tt(At(p, at.Short), [oe, ke]);
                    break;
                case"medium":
                    const pt = Jn(p, "mediumTime"), an = Jn(p, "mediumDate");
                    B = Tt(At(p, at.Medium), [pt, an]);
                    break;
                case"long":
                    const Tn = Jn(p, "longTime"), ir = Jn(p, "longDate");
                    B = Tt(At(p, at.Long), [Tn, ir]);
                    break;
                case"full":
                    const Kn = Jn(p, "fullTime"), Qn = Jn(p, "fullDate");
                    B = Tt(At(p, at.Full), [Kn, Qn])
            }
            return B && (hr[_][I] = B), B
        }

        function Tt(p, I) {
            return I && (p = p.replace(/\{([^}]+)}/g, function (_, B) {
                return null != I && B in I ? I[B] : _
            })), p
        }

        function Fn(p, I, _ = "-", B, oe) {
            let ke = "";
            (p < 0 || oe && p <= 0) && (oe ? p = 1 - p : (p = -p, ke = _));
            let pt = String(p);
            for (; pt.length < I;) pt = "0" + pt;
            return B && (pt = pt.slice(pt.length - I)), ke + pt
        }

        function $n(p, I, _ = 0, B = !1, oe = !1) {
            return function (ke, pt) {
                let an = function mr(p, I) {
                    switch (p) {
                        case $t.FullYear:
                            return I.getFullYear();
                        case $t.Month:
                            return I.getMonth();
                        case $t.Date:
                            return I.getDate();
                        case $t.Hours:
                            return I.getHours();
                        case $t.Minutes:
                            return I.getMinutes();
                        case $t.Seconds:
                            return I.getSeconds();
                        case $t.FractionalSeconds:
                            return I.getMilliseconds();
                        case $t.Day:
                            return I.getDay();
                        default:
                            throw new Error(`Unknown DateType value "${p}".`)
                    }
                }(p, ke);
                if ((_ > 0 || an > -_) && (an += _), p === $t.Hours) 0 === an && -12 === _ && (an = 12); else if (p === $t.FractionalSeconds) return function Lr(p, I) {
                    return Fn(p, 3).substring(0, I)
                }(an, I);
                const Tn = Bt(pt, Ye.MinusSign);
                return Fn(an, I, Tn, B, oe)
            }
        }

        function fn(p, I, _ = Fe.Format, B = !1) {
            return function (oe, ke) {
                return function Xn(p, I, _, B, oe, ke) {
                    switch (_) {
                        case Lt.Months:
                            return function Ve(p, I, _) {
                                const B = (0, a.cg1)(p), ke = gn([B[a.wAp.MonthsFormat], B[a.wAp.MonthsStandalone]], I);
                                return gn(ke, _)
                            }(I, oe, B)[p.getMonth()];
                        case Lt.Days:
                            return function re(p, I, _) {
                                const B = (0, a.cg1)(p), ke = gn([B[a.wAp.DaysFormat], B[a.wAp.DaysStandalone]], I);
                                return gn(ke, _)
                            }(I, oe, B)[p.getDay()];
                        case Lt.DayPeriods:
                            const pt = p.getHours(), an = p.getMinutes();
                            if (ke) {
                                const ir = function lr(p) {
                                    const I = (0, a.cg1)(p);
                                    return An(I), (I[a.wAp.ExtraData][2] || []).map(B => "string" == typeof B ? cn(B) : [cn(B[0]), cn(B[1])])
                                }(I), Kn = function xn(p, I, _) {
                                    const B = (0, a.cg1)(p);
                                    An(B);
                                    const ke = gn([B[a.wAp.ExtraData][0], B[a.wAp.ExtraData][1]], I) || [];
                                    return gn(ke, _) || []
                                }(I, oe, B), Qn = ir.findIndex(Rr => {
                                    if (Array.isArray(Rr)) {
                                        const [wr, Kr] = Rr, Vi = pt >= wr.hours && an >= wr.minutes,
                                            ri = pt < Kr.hours || pt === Kr.hours && an < Kr.minutes;
                                        if (wr.hours < Kr.hours) {
                                            if (Vi && ri) return !0
                                        } else if (Vi || ri) return !0
                                    } else if (Rr.hours === pt && Rr.minutes === an) return !0;
                                    return !1
                                });
                                if (-1 !== Qn) return Kn[Qn]
                            }
                            return function De(p, I, _) {
                                const B = (0, a.cg1)(p),
                                    ke = gn([B[a.wAp.DayPeriodsFormat], B[a.wAp.DayPeriodsStandalone]], I);
                                return gn(ke, _)
                            }(I, oe, B)[pt < 12 ? 0 : 1];
                        case Lt.Eras:
                            return function Ae(p, I) {
                                return gn((0, a.cg1)(p)[a.wAp.Eras], I)
                            }(I, B)[p.getFullYear() <= 0 ? 0 : 1];
                        default:
                            throw new Error(`unexpected translation type ${_}`)
                    }
                }(oe, ke, p, I, _, B)
            }
        }

        function yn(p) {
            return function (I, _, B) {
                const oe = -1 * B, ke = Bt(_, Ye.MinusSign), pt = oe > 0 ? Math.floor(oe / 60) : Math.ceil(oe / 60);
                switch (p) {
                    case sn.Short:
                        return (oe >= 0 ? "+" : "") + Fn(pt, 2, ke) + Fn(Math.abs(oe % 60), 2, ke);
                    case sn.ShortGMT:
                        return "GMT" + (oe >= 0 ? "+" : "") + Fn(pt, 1, ke);
                    case sn.Long:
                        return "GMT" + (oe >= 0 ? "+" : "") + Fn(pt, 2, ke) + ":" + Fn(Math.abs(oe % 60), 2, ke);
                    case sn.Extended:
                        return 0 === B ? "Z" : (oe >= 0 ? "+" : "") + Fn(pt, 2, ke) + ":" + Fn(Math.abs(oe % 60), 2, ke);
                    default:
                        throw new Error(`Unknown zone width "${p}"`)
                }
            }
        }

        function le(p) {
            return In(p.getFullYear(), p.getMonth(), p.getDate() + (4 - p.getDay()))
        }

        function Ee(p, I = !1) {
            return function (_, B) {
                let oe;
                if (I) {
                    const ke = new Date(_.getFullYear(), _.getMonth(), 1).getDay() - 1, pt = _.getDate();
                    oe = 1 + Math.floor((pt + ke) / 7)
                } else {
                    const ke = le(_), pt = function Ce(p) {
                        const I = In(p, 0, 1).getDay();
                        return In(p, 0, 1 + (I <= 4 ? 4 : 11) - I)
                    }(ke.getFullYear()), an = ke.getTime() - pt.getTime();
                    oe = 1 + Math.round(an / 6048e5)
                }
                return Fn(oe, p, Bt(B, Ye.MinusSign))
            }
        }

        function Je(p, I = !1) {
            return function (_, B) {
                return Fn(le(_).getFullYear(), p, Bt(B, Ye.MinusSign), I)
            }
        }

        const st = {};

        function vn(p, I) {
            p = p.replace(/:/g, "");
            const _ = Date.parse("Jan 01, 1970 00:00:00 " + p) / 6e4;
            return isNaN(_) ? I : _
        }

        function w(p) {
            return p instanceof Date && !isNaN(p.valueOf())
        }

        let wn = (() => {
            class p {
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)
            }, p.\u0275prov = a.Yz7({
                token: p, factory: function (_) {
                    let B = null;
                    return _ ? B = new _ : (oe = a.LFG(a.soG), B = new ur(oe)), B;
                    var oe
                }, providedIn: "root"
            }), p
        })();
        let ur = (() => {
            class p extends wn {
                constructor(_) {
                    super(), this.locale = _
                }

                getPluralCategory(_, B) {
                    switch (zt(B || this.locale)(_)) {
                        case se.Zero:
                            return "zero";
                        case se.One:
                            return "one";
                        case se.Two:
                            return "two";
                        case se.Few:
                            return "few";
                        case se.Many:
                            return "many";
                        default:
                            return "other"
                    }
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.LFG(a.soG))
            }, p.\u0275prov = a.Yz7({token: p, factory: p.\u0275fac}), p
        })();

        function dr(p, I) {
            I = encodeURIComponent(I);
            for (const _ of p.split(";")) {
                const B = _.indexOf("="), [oe, ke] = -1 == B ? [_, ""] : [_.slice(0, B), _.slice(B + 1)];
                if (oe.trim() === I) return decodeURIComponent(ke)
            }
            return null
        }

        const vr = /\s+/, Ft = [];
        let en = (() => {
            class p {
                constructor(_, B, oe, ke) {
                    this._iterableDiffers = _, this._keyValueDiffers = B, this._ngEl = oe, this._renderer = ke, this.initialClasses = Ft, this.stateMap = new Map
                }

                set klass(_) {
                    this.initialClasses = null != _ ? _.trim().split(vr) : Ft
                }

                set ngClass(_) {
                    this.rawClass = "string" == typeof _ ? _.trim().split(vr) : _
                }

                ngDoCheck() {
                    for (const B of this.initialClasses) this._updateState(B, !0);
                    const _ = this.rawClass;
                    if (Array.isArray(_) || _ instanceof Set) for (const B of _) this._updateState(B, !0); else if (null != _) for (const B of Object.keys(_)) this._updateState(B, Boolean(_[B]));
                    this._applyStateDiff()
                }

                _updateState(_, B) {
                    const oe = this.stateMap.get(_);
                    void 0 !== oe ? (oe.enabled !== B && (oe.changed = !0, oe.enabled = B), oe.touched = !0) : this.stateMap.set(_, {
                        enabled: B,
                        changed: !0,
                        touched: !0
                    })
                }

                _applyStateDiff() {
                    for (const _ of this.stateMap) {
                        const B = _[0], oe = _[1];
                        oe.changed ? (this._toggleClass(B, oe.enabled), oe.changed = !1) : oe.touched || (oe.enabled && this._toggleClass(B, !1), this.stateMap.delete(B)), oe.touched = !1
                    }
                }

                _toggleClass(_, B) {
                    (_ = _.trim()).length > 0 && _.split(vr).forEach(oe => {
                        B ? this._renderer.addClass(this._ngEl.nativeElement, oe) : this._renderer.removeClass(this._ngEl.nativeElement, oe)
                    })
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.ZZ4), a.Y36(a.aQg), a.Y36(a.SBq), a.Y36(a.Qsj))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngClass", ""]],
                inputs: {klass: ["class", "klass"], ngClass: "ngClass"},
                standalone: !0
            }), p
        })();

        class pr {
            constructor(I, _, B, oe) {
                this.$implicit = I, this.ngForOf = _, this.index = B, this.count = oe
            }

            get first() {
                return 0 === this.index
            }

            get last() {
                return this.index === this.count - 1
            }

            get even() {
                return this.index % 2 == 0
            }

            get odd() {
                return !this.even
            }
        }

        let br = (() => {
            class p {
                set ngForOf(_) {
                    this._ngForOf = _, this._ngForOfDirty = !0
                }

                set ngForTrackBy(_) {
                    this._trackByFn = _
                }

                get ngForTrackBy() {
                    return this._trackByFn
                }

                constructor(_, B, oe) {
                    this._viewContainer = _, this._template = B, this._differs = oe, this._ngForOf = null, this._ngForOfDirty = !0, this._differ = null
                }

                set ngForTemplate(_) {
                    _ && (this._template = _)
                }

                ngDoCheck() {
                    if (this._ngForOfDirty) {
                        this._ngForOfDirty = !1;
                        const _ = this._ngForOf;
                        !this._differ && _ && (this._differ = this._differs.find(_).create(this.ngForTrackBy))
                    }
                    if (this._differ) {
                        const _ = this._differ.diff(this._ngForOf);
                        _ && this._applyChanges(_)
                    }
                }

                _applyChanges(_) {
                    const B = this._viewContainer;
                    _.forEachOperation((oe, ke, pt) => {
                        if (null == oe.previousIndex) B.createEmbeddedView(this._template, new pr(oe.item, this._ngForOf, -1, -1), null === pt ? void 0 : pt); else if (null == pt) B.remove(null === ke ? void 0 : ke); else if (null !== ke) {
                            const an = B.get(ke);
                            B.move(an, pt), Ln(an, oe)
                        }
                    });
                    for (let oe = 0, ke = B.length; oe < ke; oe++) {
                        const an = B.get(oe).context;
                        an.index = oe, an.count = ke, an.ngForOf = this._ngForOf
                    }
                    _.forEachIdentityChange(oe => {
                        Ln(B.get(oe.currentIndex), oe)
                    })
                }

                static ngTemplateContextGuard(_, B) {
                    return !0
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.s_b), a.Y36(a.Rgc), a.Y36(a.ZZ4))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngFor", "", "ngForOf", ""]],
                inputs: {ngForOf: "ngForOf", ngForTrackBy: "ngForTrackBy", ngForTemplate: "ngForTemplate"},
                standalone: !0
            }), p
        })();

        function Ln(p, I) {
            p.context.$implicit = I.item
        }

        let Ir = (() => {
            class p {
                constructor(_, B) {
                    this._viewContainer = _, this._context = new dn, this._thenTemplateRef = null, this._elseTemplateRef = null, this._thenViewRef = null, this._elseViewRef = null, this._thenTemplateRef = B
                }

                set ngIf(_) {
                    this._context.$implicit = this._context.ngIf = _, this._updateView()
                }

                set ngIfThen(_) {
                    Or("ngIfThen", _), this._thenTemplateRef = _, this._thenViewRef = null, this._updateView()
                }

                set ngIfElse(_) {
                    Or("ngIfElse", _), this._elseTemplateRef = _, this._elseViewRef = null, this._updateView()
                }

                _updateView() {
                    this._context.$implicit ? this._thenViewRef || (this._viewContainer.clear(), this._elseViewRef = null, this._thenTemplateRef && (this._thenViewRef = this._viewContainer.createEmbeddedView(this._thenTemplateRef, this._context))) : this._elseViewRef || (this._viewContainer.clear(), this._thenViewRef = null, this._elseTemplateRef && (this._elseViewRef = this._viewContainer.createEmbeddedView(this._elseTemplateRef, this._context)))
                }

                static ngTemplateContextGuard(_, B) {
                    return !0
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.s_b), a.Y36(a.Rgc))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngIf", ""]],
                inputs: {ngIf: "ngIf", ngIfThen: "ngIfThen", ngIfElse: "ngIfElse"},
                standalone: !0
            }), p
        })();

        class dn {
            constructor() {
                this.$implicit = null, this.ngIf = null
            }
        }

        function Or(p, I) {
            if (I && !I.createEmbeddedView) throw new Error(`${p} must be a TemplateRef, but received '${(0, a.AaK)(I)}'.`)
        }

        class v {
            constructor(I, _) {
                this._viewContainerRef = I, this._templateRef = _, this._created = !1
            }

            create() {
                this._created = !0, this._viewContainerRef.createEmbeddedView(this._templateRef)
            }

            destroy() {
                this._created = !1, this._viewContainerRef.clear()
            }

            enforceState(I) {
                I && !this._created ? this.create() : !I && this._created && this.destroy()
            }
        }

        let x = (() => {
            class p {
                constructor() {
                    this._defaultViews = [], this._defaultUsed = !1, this._caseCount = 0, this._lastCaseCheckIndex = 0, this._lastCasesMatched = !1
                }

                set ngSwitch(_) {
                    this._ngSwitch = _, 0 === this._caseCount && this._updateDefaultCases(!0)
                }

                _addCase() {
                    return this._caseCount++
                }

                _addDefault(_) {
                    this._defaultViews.push(_)
                }

                _matchCase(_) {
                    const B = _ == this._ngSwitch;
                    return this._lastCasesMatched = this._lastCasesMatched || B, this._lastCaseCheckIndex++, this._lastCaseCheckIndex === this._caseCount && (this._updateDefaultCases(!this._lastCasesMatched), this._lastCaseCheckIndex = 0, this._lastCasesMatched = !1), B
                }

                _updateDefaultCases(_) {
                    if (this._defaultViews.length > 0 && _ !== this._defaultUsed) {
                        this._defaultUsed = _;
                        for (const B of this._defaultViews) B.enforceState(_)
                    }
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngSwitch", ""]],
                inputs: {ngSwitch: "ngSwitch"},
                standalone: !0
            }), p
        })(), X = (() => {
            class p {
                constructor(_, B, oe) {
                    this.ngSwitch = oe, oe._addCase(), this._view = new v(_, B)
                }

                ngDoCheck() {
                    this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.s_b), a.Y36(a.Rgc), a.Y36(x, 9))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngSwitchCase", ""]],
                inputs: {ngSwitchCase: "ngSwitchCase"},
                standalone: !0
            }), p
        })(), ie = (() => {
            class p {
                constructor(_, B, oe) {
                    oe._addDefault(new v(_, B))
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.s_b), a.Y36(a.Rgc), a.Y36(x, 9))
            }, p.\u0275dir = a.lG2({type: p, selectors: [["", "ngSwitchDefault", ""]], standalone: !0}), p
        })(), Le = (() => {
            class p {
                constructor(_) {
                    this._localization = _, this._caseViews = {}
                }

                set ngPlural(_) {
                    this._updateView(_)
                }

                addCase(_, B) {
                    this._caseViews[_] = B
                }

                _updateView(_) {
                    this._clearViews();
                    const oe = function Zn(p, I, _, B) {
                        let oe = `=${p}`;
                        if (I.indexOf(oe) > -1 || (oe = _.getPluralCategory(p, B), I.indexOf(oe) > -1)) return oe;
                        if (I.indexOf("other") > -1) return "other";
                        throw new Error(`No plural message found for value "${p}"`)
                    }(_, Object.keys(this._caseViews), this._localization);
                    this._activateView(this._caseViews[oe])
                }

                _clearViews() {
                    this._activeView && this._activeView.destroy()
                }

                _activateView(_) {
                    _ && (this._activeView = _, this._activeView.create())
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(wn))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngPlural", ""]],
                inputs: {ngPlural: "ngPlural"},
                standalone: !0
            }), p
        })(), te = (() => {
            class p {
                constructor(_, B, oe, ke) {
                    this.value = _;
                    const pt = !isNaN(Number(_));
                    ke.addCase(pt ? `=${_}` : _, new v(oe, B))
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.$8M("ngPluralCase"), a.Y36(a.Rgc), a.Y36(a.s_b), a.Y36(Le, 1))
            }, p.\u0275dir = a.lG2({type: p, selectors: [["", "ngPluralCase", ""]], standalone: !0}), p
        })(), ft = (() => {
            class p {
                constructor(_) {
                    this._viewContainerRef = _, this._viewRef = null, this.ngTemplateOutletContext = null, this.ngTemplateOutlet = null, this.ngTemplateOutletInjector = null
                }

                ngOnChanges(_) {
                    if (_.ngTemplateOutlet || _.ngTemplateOutletInjector) {
                        const B = this._viewContainerRef;
                        if (this._viewRef && B.remove(B.indexOf(this._viewRef)), this.ngTemplateOutlet) {
                            const {
                                ngTemplateOutlet: oe,
                                ngTemplateOutletContext: ke,
                                ngTemplateOutletInjector: pt
                            } = this;
                            this._viewRef = B.createEmbeddedView(oe, ke, pt ? {injector: pt} : void 0)
                        } else this._viewRef = null
                    } else this._viewRef && _.ngTemplateOutletContext && this.ngTemplateOutletContext && (this._viewRef.context = this.ngTemplateOutletContext)
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.s_b))
            }, p.\u0275dir = a.lG2({
                type: p,
                selectors: [["", "ngTemplateOutlet", ""]],
                inputs: {
                    ngTemplateOutletContext: "ngTemplateOutletContext",
                    ngTemplateOutlet: "ngTemplateOutlet",
                    ngTemplateOutletInjector: "ngTemplateOutletInjector"
                },
                standalone: !0,
                features: [a.TTD]
            }), p
        })();

        function ht(p, I) {
            return new a.vHH(2100, !1)
        }

        class It {
            createSubscription(I, _) {
                return I.subscribe({
                    next: _, error: B => {
                        throw B
                    }
                })
            }

            dispose(I) {
                I.unsubscribe()
            }
        }

        class Jt {
            createSubscription(I, _) {
                return I.then(_, B => {
                    throw B
                })
            }

            dispose(I) {
            }
        }

        const Ht = new Jt, Ct = new It;
        let it = (() => {
            class p {
                constructor(_) {
                    this._latestValue = null, this._subscription = null, this._obj = null, this._strategy = null, this._ref = _
                }

                ngOnDestroy() {
                    this._subscription && this._dispose(), this._ref = null
                }

                transform(_) {
                    return this._obj ? _ !== this._obj ? (this._dispose(), this.transform(_)) : this._latestValue : (_ && this._subscribe(_), this._latestValue)
                }

                _subscribe(_) {
                    this._obj = _, this._strategy = this._selectStrategy(_), this._subscription = this._strategy.createSubscription(_, B => this._updateLatestValue(_, B))
                }

                _selectStrategy(_) {
                    if ((0, a.QGY)(_)) return Ht;
                    if ((0, a.F4k)(_)) return Ct;
                    throw ht()
                }

                _dispose() {
                    this._strategy.dispose(this._subscription), this._latestValue = null, this._subscription = null, this._obj = null
                }

                _updateLatestValue(_, B) {
                    _ === this._obj && (this._latestValue = B, this._ref.markForCheck())
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.sBO, 16))
            }, p.\u0275pipe = a.Yjl({name: "async", type: p, pure: !1, standalone: !0}), p
        })();
        const xt = new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"), Ot = new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");
        let wt = (() => {
            class p {
                constructor(_, B, oe) {
                    this.locale = _, this.defaultTimezone = B, this.defaultOptions = oe
                }

                transform(_, B, oe, ke) {
                    if (null == _ || "" === _ || _ != _) return null;
                    try {
                        return Cr(_, B ?? this.defaultOptions?.dateFormat ?? "mediumDate", ke || this.locale, oe ?? this.defaultOptions?.timezone ?? this.defaultTimezone ?? void 0)
                    } catch (pt) {
                        throw ht()
                    }
                }
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)(a.Y36(a.soG, 16), a.Y36(xt, 24), a.Y36(Ot, 24))
            }, p.\u0275pipe = a.Yjl({name: "date", type: p, pure: !0, standalone: !0}), p
        })(), si = (() => {
            class p {
            }

            return p.\u0275fac = function (_) {
                return new (_ || p)
            }, p.\u0275mod = a.oAB({type: p}), p.\u0275inj = a.cJS({}), p
        })();
        const li = "browser";
        let bi = (() => {
            class p {
            }

            return p.\u0275prov = (0, a.Yz7)({
                token: p,
                providedIn: "root",
                factory: () => new Ki((0, a.LFG)(de), window)
            }), p
        })();

        class Ki {
            constructor(I, _) {
                this.document = I, this.window = _, this.offset = () => [0, 0]
            }

            setOffset(I) {
                this.offset = Array.isArray(I) ? () => I : I
            }

            getScrollPosition() {
                return this.supportsScrolling() ? [this.window.pageXOffset, this.window.pageYOffset] : [0, 0]
            }

            scrollToPosition(I) {
                this.supportsScrolling() && this.window.scrollTo(I[0], I[1])
            }

            scrollToAnchor(I) {
                if (!this.supportsScrolling()) return;
                const _ = function mi(p, I) {
                    const _ = p.getElementById(I) || p.getElementsByName(I)[0];
                    if (_) return _;
                    if ("function" == typeof p.createTreeWalker && p.body && (p.body.createShadowRoot || p.body.attachShadow)) {
                        const B = p.createTreeWalker(p.body, NodeFilter.SHOW_ELEMENT);
                        let oe = B.currentNode;
                        for (; oe;) {
                            const ke = oe.shadowRoot;
                            if (ke) {
                                const pt = ke.getElementById(I) || ke.querySelector(`[name="${I}"]`);
                                if (pt) return pt
                            }
                            oe = B.nextNode()
                        }
                    }
                    return null
                }(this.document, I);
                _ && (this.scrollToElement(_), _.focus())
            }

            setHistoryScrollRestoration(I) {
                if (this.supportScrollRestoration()) {
                    const _ = this.window.history;
                    _ && _.scrollRestoration && (_.scrollRestoration = I)
                }
            }

            scrollToElement(I) {
                const _ = I.getBoundingClientRect(), B = _.left + this.window.pageXOffset,
                    oe = _.top + this.window.pageYOffset, ke = this.offset();
                this.window.scrollTo(B - ke[0], oe - ke[1])
            }

            supportScrollRestoration() {
                try {
                    if (!this.supportsScrolling()) return !1;
                    const I = xi(this.window.history) || xi(Object.getPrototypeOf(this.window.history));
                    return !(!I || !I.writable && !I.set)
                } catch {
                    return !1
                }
            }

            supportsScrolling() {
                try {
                    return !!this.window && !!this.window.scrollTo && "pageXOffset" in this.window
                } catch {
                    return !1
                }
            }
        }

        function xi(p) {
            return Object.getOwnPropertyDescriptor(p, "scrollRestoration")
        }

        class Oi {
        }
    }, 529: (Pe, he, D) => {
        "use strict";
        D.d(he, {JF: () => yn, LE: () => Ue, TP: () => Ae, Zn: () => at, eN: () => Re});
        var a = D(6895), V = D(4650), K = D(9646), k = D(9751), ue = D(4351), de = D(9300), be = D(4004);

        class Te {
        }

        class Se {
        }

        class me {
            constructor(le) {
                this.normalizedNames = new Map, this.lazyUpdate = null, le ? this.lazyInit = "string" == typeof le ? () => {
                    this.headers = new Map, le.split("\n").forEach(Ee => {
                        const Je = Ee.indexOf(":");
                        if (Je > 0) {
                            const st = Ee.slice(0, Je), Et = st.toLowerCase(), vn = Ee.slice(Je + 1).trim();
                            this.maybeSetNormalizedName(st, Et), this.headers.has(Et) ? this.headers.get(Et).push(vn) : this.headers.set(Et, [vn])
                        }
                    })
                } : () => {
                    this.headers = new Map, Object.keys(le).forEach(Ee => {
                        let Je = le[Ee];
                        const st = Ee.toLowerCase();
                        "string" == typeof Je && (Je = [Je]), Je.length > 0 && (this.headers.set(st, Je), this.maybeSetNormalizedName(Ee, st))
                    })
                } : this.headers = new Map
            }

            has(le) {
                return this.init(), this.headers.has(le.toLowerCase())
            }

            get(le) {
                this.init();
                const Ee = this.headers.get(le.toLowerCase());
                return Ee && Ee.length > 0 ? Ee[0] : null
            }

            keys() {
                return this.init(), Array.from(this.normalizedNames.values())
            }

            getAll(le) {
                return this.init(), this.headers.get(le.toLowerCase()) || null
            }

            append(le, Ee) {
                return this.clone({name: le, value: Ee, op: "a"})
            }

            set(le, Ee) {
                return this.clone({name: le, value: Ee, op: "s"})
            }

            delete(le, Ee) {
                return this.clone({name: le, value: Ee, op: "d"})
            }

            maybeSetNormalizedName(le, Ee) {
                this.normalizedNames.has(Ee) || this.normalizedNames.set(Ee, le)
            }

            init() {
                this.lazyInit && (this.lazyInit instanceof me ? this.copyFrom(this.lazyInit) : this.lazyInit(), this.lazyInit = null, this.lazyUpdate && (this.lazyUpdate.forEach(le => this.applyUpdate(le)), this.lazyUpdate = null))
            }

            copyFrom(le) {
                le.init(), Array.from(le.headers.keys()).forEach(Ee => {
                    this.headers.set(Ee, le.headers.get(Ee)), this.normalizedNames.set(Ee, le.normalizedNames.get(Ee))
                })
            }

            clone(le) {
                const Ee = new me;
                return Ee.lazyInit = this.lazyInit && this.lazyInit instanceof me ? this.lazyInit : this, Ee.lazyUpdate = (this.lazyUpdate || []).concat([le]), Ee
            }

            applyUpdate(le) {
                const Ee = le.name.toLowerCase();
                switch (le.op) {
                    case"a":
                    case"s":
                        let Je = le.value;
                        if ("string" == typeof Je && (Je = [Je]), 0 === Je.length) return;
                        this.maybeSetNormalizedName(le.name, Ee);
                        const st = ("a" === le.op ? this.headers.get(Ee) : void 0) || [];
                        st.push(...Je), this.headers.set(Ee, st);
                        break;
                    case"d":
                        const Et = le.value;
                        if (Et) {
                            let vn = this.headers.get(Ee);
                            if (!vn) return;
                            vn = vn.filter(q => -1 === Et.indexOf(q)), 0 === vn.length ? (this.headers.delete(Ee), this.normalizedNames.delete(Ee)) : this.headers.set(Ee, vn)
                        } else this.headers.delete(Ee), this.normalizedNames.delete(Ee)
                }
            }

            forEach(le) {
                this.init(), Array.from(this.normalizedNames.keys()).forEach(Ee => le(this.normalizedNames.get(Ee), this.headers.get(Ee)))
            }
        }

        class Q {
            encodeKey(le) {
                return mt(le)
            }

            encodeValue(le) {
                return mt(le)
            }

            decodeKey(le) {
                return decodeURIComponent(le)
            }

            decodeValue(le) {
                return decodeURIComponent(le)
            }
        }

        const xe = /%(\d[a-f0-9])/gi,
            Be = {40: "@", "3A": ":", 24: "$", "2C": ",", "3B": ";", "3D": "=", "3F": "?", "2F": "/"};

        function mt(Ce) {
            return encodeURIComponent(Ce).replace(xe, (le, Ee) => Be[Ee] ?? le)
        }

        function ye(Ce) {
            return `${Ce}`
        }

        class Ue {
            constructor(le = {}) {
                if (this.updates = null, this.cloneFrom = null, this.encoder = le.encoder || new Q, le.fromString) {
                    if (le.fromObject) throw new Error("Cannot specify both fromString and fromObject.");
                    this.map = function Oe(Ce, le) {
                        const Ee = new Map;
                        return Ce.length > 0 && Ce.replace(/^\?/, "").split("&").forEach(st => {
                            const Et = st.indexOf("="), [vn, q] = -1 == Et ? [le.decodeKey(st), ""] : [le.decodeKey(st.slice(0, Et)), le.decodeValue(st.slice(Et + 1))],
                                $ = Ee.get(vn) || [];
                            $.push(q), Ee.set(vn, $)
                        }), Ee
                    }(le.fromString, this.encoder)
                } else le.fromObject ? (this.map = new Map, Object.keys(le.fromObject).forEach(Ee => {
                    const Je = le.fromObject[Ee], st = Array.isArray(Je) ? Je.map(ye) : [ye(Je)];
                    this.map.set(Ee, st)
                })) : this.map = null
            }

            has(le) {
                return this.init(), this.map.has(le)
            }

            get(le) {
                this.init();
                const Ee = this.map.get(le);
                return Ee ? Ee[0] : null
            }

            getAll(le) {
                return this.init(), this.map.get(le) || null
            }

            keys() {
                return this.init(), Array.from(this.map.keys())
            }

            append(le, Ee) {
                return this.clone({param: le, value: Ee, op: "a"})
            }

            appendAll(le) {
                const Ee = [];
                return Object.keys(le).forEach(Je => {
                    const st = le[Je];
                    Array.isArray(st) ? st.forEach(Et => {
                        Ee.push({param: Je, value: Et, op: "a"})
                    }) : Ee.push({param: Je, value: st, op: "a"})
                }), this.clone(Ee)
            }

            set(le, Ee) {
                return this.clone({param: le, value: Ee, op: "s"})
            }

            delete(le, Ee) {
                return this.clone({param: le, value: Ee, op: "d"})
            }

            toString() {
                return this.init(), this.keys().map(le => {
                    const Ee = this.encoder.encodeKey(le);
                    return this.map.get(le).map(Je => Ee + "=" + this.encoder.encodeValue(Je)).join("&")
                }).filter(le => "" !== le).join("&")
            }

            clone(le) {
                const Ee = new Ue({encoder: this.encoder});
                return Ee.cloneFrom = this.cloneFrom || this, Ee.updates = (this.updates || []).concat(le), Ee
            }

            init() {
                null === this.map && (this.map = new Map), null !== this.cloneFrom && (this.cloneFrom.init(), this.cloneFrom.keys().forEach(le => this.map.set(le, this.cloneFrom.map.get(le))), this.updates.forEach(le => {
                    switch (le.op) {
                        case"a":
                        case"s":
                            const Ee = ("a" === le.op ? this.map.get(le.param) : void 0) || [];
                            Ee.push(ye(le.value)), this.map.set(le.param, Ee);
                            break;
                        case"d":
                            if (void 0 === le.value) {
                                this.map.delete(le.param);
                                break
                            }
                        {
                            let Je = this.map.get(le.param) || [];
                            const st = Je.indexOf(ye(le.value));
                            -1 !== st && Je.splice(st, 1), Je.length > 0 ? this.map.set(le.param, Je) : this.map.delete(le.param)
                        }
                    }
                }), this.cloneFrom = this.updates = null)
            }
        }

        class yt {
            constructor() {
                this.map = new Map
            }

            set(le, Ee) {
                return this.map.set(le, Ee), this
            }

            get(le) {
                return this.map.has(le) || this.map.set(le, le.defaultValue()), this.map.get(le)
            }

            delete(le) {
                return this.map.delete(le), this
            }

            has(le) {
                return this.map.has(le)
            }

            keys() {
                return this.map.keys()
            }
        }

        function pe(Ce) {
            return typeof ArrayBuffer < "u" && Ce instanceof ArrayBuffer
        }

        function Qe(Ce) {
            return typeof Blob < "u" && Ce instanceof Blob
        }

        function nt(Ce) {
            return typeof FormData < "u" && Ce instanceof FormData
        }

        class ge {
            constructor(le, Ee, Je, st) {
                let Et;
                if (this.url = Ee, this.body = null, this.reportProgress = !1, this.withCredentials = !1, this.responseType = "json", this.method = le.toUpperCase(), function We(Ce) {
                    switch (Ce) {
                        case"DELETE":
                        case"GET":
                        case"HEAD":
                        case"OPTIONS":
                        case"JSONP":
                            return !1;
                        default:
                            return !0
                    }
                }(this.method) || st ? (this.body = void 0 !== Je ? Je : null, Et = st) : Et = Je, Et && (this.reportProgress = !!Et.reportProgress, this.withCredentials = !!Et.withCredentials, Et.responseType && (this.responseType = Et.responseType), Et.headers && (this.headers = Et.headers), Et.context && (this.context = Et.context), Et.params && (this.params = Et.params)), this.headers || (this.headers = new me), this.context || (this.context = new yt), this.params) {
                    const vn = this.params.toString();
                    if (0 === vn.length) this.urlWithParams = Ee; else {
                        const q = Ee.indexOf("?");
                        this.urlWithParams = Ee + (-1 === q ? "?" : q < Ee.length - 1 ? "&" : "") + vn
                    }
                } else this.params = new Ue, this.urlWithParams = Ee
            }

            serializeBody() {
                return null === this.body ? null : pe(this.body) || Qe(this.body) || nt(this.body) || function Ke(Ce) {
                    return typeof URLSearchParams < "u" && Ce instanceof URLSearchParams
                }(this.body) || "string" == typeof this.body ? this.body : this.body instanceof Ue ? this.body.toString() : "object" == typeof this.body || "boolean" == typeof this.body || Array.isArray(this.body) ? JSON.stringify(this.body) : this.body.toString()
            }

            detectContentTypeHeader() {
                return null === this.body || nt(this.body) ? null : Qe(this.body) ? this.body.type || null : pe(this.body) ? null : "string" == typeof this.body ? "text/plain" : this.body instanceof Ue ? "application/x-www-form-urlencoded;charset=UTF-8" : "object" == typeof this.body || "number" == typeof this.body || "boolean" == typeof this.body ? "application/json" : null
            }

            clone(le = {}) {
                const Ee = le.method || this.method, Je = le.url || this.url, st = le.responseType || this.responseType,
                    Et = void 0 !== le.body ? le.body : this.body,
                    vn = void 0 !== le.withCredentials ? le.withCredentials : this.withCredentials,
                    q = void 0 !== le.reportProgress ? le.reportProgress : this.reportProgress;
                let $ = le.headers || this.headers, G = le.params || this.params;
                const O = le.context ?? this.context;
                return void 0 !== le.setHeaders && ($ = Object.keys(le.setHeaders).reduce((w, z) => w.set(z, le.setHeaders[z]), $)), le.setParams && (G = Object.keys(le.setParams).reduce((w, z) => w.set(z, le.setParams[z]), G)), new ge(Ee, Je, Et, {
                    params: G,
                    headers: $,
                    context: O,
                    reportProgress: q,
                    responseType: st,
                    withCredentials: vn
                })
            }
        }

        var se = (() => ((se = se || {})[se.Sent = 0] = "Sent", se[se.UploadProgress = 1] = "UploadProgress", se[se.ResponseHeader = 2] = "ResponseHeader", se[se.DownloadProgress = 3] = "DownloadProgress", se[se.Response = 4] = "Response", se[se.User = 5] = "User", se))();

        class Fe {
            constructor(le, Ee = 200, Je = "OK") {
                this.headers = le.headers || new me, this.status = void 0 !== le.status ? le.status : Ee, this.statusText = le.statusText || Je, this.url = le.url || null, this.ok = this.status >= 200 && this.status < 300
            }
        }

        class Ge extends Fe {
            constructor(le = {}) {
                super(le), this.type = se.ResponseHeader
            }

            clone(le = {}) {
                return new Ge({
                    headers: le.headers || this.headers,
                    status: void 0 !== le.status ? le.status : this.status,
                    statusText: le.statusText || this.statusText,
                    url: le.url || this.url || void 0
                })
            }
        }

        class at extends Fe {
            constructor(le = {}) {
                super(le), this.type = se.Response, this.body = void 0 !== le.body ? le.body : null
            }

            clone(le = {}) {
                return new at({
                    body: void 0 !== le.body ? le.body : this.body,
                    headers: le.headers || this.headers,
                    status: void 0 !== le.status ? le.status : this.status,
                    statusText: le.statusText || this.statusText,
                    url: le.url || this.url || void 0
                })
            }
        }

        class Ye extends Fe {
            constructor(le) {
                super(le, 0, "Unknown Error"), this.name = "HttpErrorResponse", this.ok = !1, this.message = this.status >= 200 && this.status < 300 ? `Http failure during parsing for ${le.url || "(unknown url)"}` : `Http failure response for ${le.url || "(unknown url)"}: ${le.status} ${le.statusText}`, this.error = le.error || null
            }
        }

        function we(Ce, le) {
            return {
                body: le,
                headers: Ce.headers,
                context: Ce.context,
                observe: Ce.observe,
                params: Ce.params,
                reportProgress: Ce.reportProgress,
                responseType: Ce.responseType,
                withCredentials: Ce.withCredentials
            }
        }

        let Re = (() => {
            class Ce {
                constructor(Ee) {
                    this.handler = Ee
                }

                request(Ee, Je, st = {}) {
                    let Et;
                    if (Ee instanceof ge) Et = Ee; else {
                        let $, G;
                        $ = st.headers instanceof me ? st.headers : new me(st.headers), st.params && (G = st.params instanceof Ue ? st.params : new Ue({fromObject: st.params})), Et = new ge(Ee, Je, void 0 !== st.body ? st.body : null, {
                            headers: $,
                            context: st.context,
                            params: G,
                            reportProgress: st.reportProgress,
                            responseType: st.responseType || "json",
                            withCredentials: st.withCredentials
                        })
                    }
                    const vn = (0, K.of)(Et).pipe((0, ue.b)($ => this.handler.handle($)));
                    if (Ee instanceof ge || "events" === st.observe) return vn;
                    const q = vn.pipe((0, de.h)($ => $ instanceof at));
                    switch (st.observe || "body") {
                        case"body":
                            switch (Et.responseType) {
                                case"arraybuffer":
                                    return q.pipe((0, be.U)($ => {
                                        if (null !== $.body && !($.body instanceof ArrayBuffer)) throw new Error("Response is not an ArrayBuffer.");
                                        return $.body
                                    }));
                                case"blob":
                                    return q.pipe((0, be.U)($ => {
                                        if (null !== $.body && !($.body instanceof Blob)) throw new Error("Response is not a Blob.");
                                        return $.body
                                    }));
                                case"text":
                                    return q.pipe((0, be.U)($ => {
                                        if (null !== $.body && "string" != typeof $.body) throw new Error("Response is not a string.");
                                        return $.body
                                    }));
                                default:
                                    return q.pipe((0, be.U)($ => $.body))
                            }
                        case"response":
                            return q;
                        default:
                            throw new Error(`Unreachable: unhandled observe type ${st.observe}}`)
                    }
                }

                delete(Ee, Je = {}) {
                    return this.request("DELETE", Ee, Je)
                }

                get(Ee, Je = {}) {
                    return this.request("GET", Ee, Je)
                }

                head(Ee, Je = {}) {
                    return this.request("HEAD", Ee, Je)
                }

                jsonp(Ee, Je) {
                    return this.request("JSONP", Ee, {
                        params: (new Ue).append(Je, "JSONP_CALLBACK"),
                        observe: "body",
                        responseType: "json"
                    })
                }

                options(Ee, Je = {}) {
                    return this.request("OPTIONS", Ee, Je)
                }

                patch(Ee, Je, st = {}) {
                    return this.request("PATCH", Ee, we(st, Je))
                }

                post(Ee, Je, st = {}) {
                    return this.request("POST", Ee, we(st, Je))
                }

                put(Ee, Je, st = {}) {
                    return this.request("PUT", Ee, we(st, Je))
                }
            }

            return Ce.\u0275fac = function (Ee) {
                return new (Ee || Ce)(V.LFG(Te))
            }, Ce.\u0275prov = V.Yz7({token: Ce, factory: Ce.\u0275fac}), Ce
        })();

        function De(Ce, le) {
            return le(Ce)
        }

        function re(Ce, le) {
            return (Ee, Je) => le.intercept(Ee, {handle: st => Ce(st, Je)})
        }

        const Ae = new V.OlP("HTTP_INTERCEPTORS"), rt = new V.OlP("HTTP_INTERCEPTOR_FNS");

        function _t() {
            let Ce = null;
            return (le, Ee) => (null === Ce && (Ce = ((0, V.f3M)(Ae, {optional: !0}) ?? []).reduceRight(re, De)), Ce(le, Ee))
        }

        let Ut = (() => {
            class Ce extends Te {
                constructor(Ee, Je) {
                    super(), this.backend = Ee, this.injector = Je, this.chain = null
                }

                handle(Ee) {
                    if (null === this.chain) {
                        const Je = Array.from(new Set(this.injector.get(rt)));
                        this.chain = Je.reduceRight((st, Et) => function Ve(Ce, le, Ee) {
                            return (Je, st) => Ee.runInContext(() => le(Je, Et => Ce(Et, st)))
                        }(st, Et, this.injector), De)
                    }
                    return this.chain(Ee, Je => this.backend.handle(Je))
                }
            }

            return Ce.\u0275fac = function (Ee) {
                return new (Ee || Ce)(V.LFG(Se), V.LFG(V.lqb))
            }, Ce.\u0275prov = V.Yz7({token: Ce, factory: Ce.\u0275fac}), Ce
        })();
        const xn = /^\)\]\}',?\n/;
        let gn = (() => {
            class Ce {
                constructor(Ee) {
                    this.xhrFactory = Ee
                }

                handle(Ee) {
                    if ("JSONP" === Ee.method) throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");
                    return new k.y(Je => {
                        const st = this.xhrFactory.build();
                        if (st.open(Ee.method, Ee.urlWithParams), Ee.withCredentials && (st.withCredentials = !0), Ee.headers.forEach((A, R) => st.setRequestHeader(A, R.join(","))), Ee.headers.has("Accept") || st.setRequestHeader("Accept", "application/json, text/plain, */*"), !Ee.headers.has("Content-Type")) {
                            const A = Ee.detectContentTypeHeader();
                            null !== A && st.setRequestHeader("Content-Type", A)
                        }
                        if (Ee.responseType) {
                            const A = Ee.responseType.toLowerCase();
                            st.responseType = "json" !== A ? A : "text"
                        }
                        const Et = Ee.serializeBody();
                        let vn = null;
                        const q = () => {
                            if (null !== vn) return vn;
                            const A = st.statusText || "OK", R = new me(st.getAllResponseHeaders()),
                                P = function _n(Ce) {
                                    return "responseURL" in Ce && Ce.responseURL ? Ce.responseURL : /^X-Request-URL:/m.test(Ce.getAllResponseHeaders()) ? Ce.getResponseHeader("X-Request-URL") : null
                                }(st) || Ee.url;
                            return vn = new Ge({headers: R, status: st.status, statusText: A, url: P}), vn
                        }, $ = () => {
                            let {headers: A, status: R, statusText: P, url: ae} = q(), ve = null;
                            204 !== R && (ve = typeof st.response > "u" ? st.responseText : st.response), 0 === R && (R = ve ? 200 : 0);
                            let J = R >= 200 && R < 300;
                            if ("json" === Ee.responseType && "string" == typeof ve) {
                                const et = ve;
                                ve = ve.replace(xn, "");
                                try {
                                    ve = "" !== ve ? JSON.parse(ve) : null
                                } catch (vt) {
                                    ve = et, J && (J = !1, ve = {error: vt, text: ve})
                                }
                            }
                            J ? (Je.next(new at({
                                body: ve,
                                headers: A,
                                status: R,
                                statusText: P,
                                url: ae || void 0
                            })), Je.complete()) : Je.error(new Ye({
                                error: ve,
                                headers: A,
                                status: R,
                                statusText: P,
                                url: ae || void 0
                            }))
                        }, G = A => {
                            const {url: R} = q(), P = new Ye({
                                error: A,
                                status: st.status || 0,
                                statusText: st.statusText || "Unknown Error",
                                url: R || void 0
                            });
                            Je.error(P)
                        };
                        let O = !1;
                        const w = A => {
                            O || (Je.next(q()), O = !0);
                            let R = {type: se.DownloadProgress, loaded: A.loaded};
                            A.lengthComputable && (R.total = A.total), "text" === Ee.responseType && st.responseText && (R.partialText = st.responseText), Je.next(R)
                        }, z = A => {
                            let R = {type: se.UploadProgress, loaded: A.loaded};
                            A.lengthComputable && (R.total = A.total), Je.next(R)
                        };
                        return st.addEventListener("load", $), st.addEventListener("error", G), st.addEventListener("timeout", G), st.addEventListener("abort", G), Ee.reportProgress && (st.addEventListener("progress", w), null !== Et && st.upload && st.upload.addEventListener("progress", z)), st.send(Et), Je.next({type: se.Sent}), () => {
                            st.removeEventListener("error", G), st.removeEventListener("abort", G), st.removeEventListener("load", $), st.removeEventListener("timeout", G), Ee.reportProgress && (st.removeEventListener("progress", w), null !== Et && st.upload && st.upload.removeEventListener("progress", z)), st.readyState !== st.DONE && st.abort()
                        }
                    })
                }
            }

            return Ce.\u0275fac = function (Ee) {
                return new (Ee || Ce)(V.LFG(a.JF))
            }, Ce.\u0275prov = V.Yz7({token: Ce, factory: Ce.\u0275fac}), Ce
        })();
        const cn = new V.OlP("XSRF_ENABLED"), Gt = "XSRF-TOKEN",
            nr = new V.OlP("XSRF_COOKIE_NAME", {providedIn: "root", factory: () => Gt}), dt = "X-XSRF-TOKEN",
            Nn = new V.OlP("XSRF_HEADER_NAME", {providedIn: "root", factory: () => dt});

        class hr {
        }

        let Tr = (() => {
            class Ce {
                constructor(Ee, Je, st) {
                    this.doc = Ee, this.platform = Je, this.cookieName = st, this.lastCookieString = "", this.lastToken = null, this.parseCount = 0
                }

                getToken() {
                    if ("server" === this.platform) return null;
                    const Ee = this.doc.cookie || "";
                    return Ee !== this.lastCookieString && (this.parseCount++, this.lastToken = (0, a.Mx)(Ee, this.cookieName), this.lastCookieString = Ee), this.lastToken
                }
            }

            return Ce.\u0275fac = function (Ee) {
                return new (Ee || Ce)(V.LFG(a.K0), V.LFG(V.Lbi), V.LFG(nr))
            }, Ce.\u0275prov = V.Yz7({token: Ce, factory: Ce.\u0275fac}), Ce
        })();

        function sn(Ce, le) {
            const Ee = Ce.url.toLowerCase();
            if (!(0, V.f3M)(cn) || "GET" === Ce.method || "HEAD" === Ce.method || Ee.startsWith("http://") || Ee.startsWith("https://")) return le(Ce);
            const Je = (0, V.f3M)(hr).getToken(), st = (0, V.f3M)(Nn);
            return null != Je && !Ce.headers.has(st) && (Ce = Ce.clone({headers: Ce.headers.set(st, Je)})), le(Ce)
        }

        var Lt = (() => ((Lt = Lt || {})[Lt.Interceptors = 0] = "Interceptors", Lt[Lt.LegacyInterceptors = 1] = "LegacyInterceptors", Lt[Lt.CustomXsrfConfiguration = 2] = "CustomXsrfConfiguration", Lt[Lt.NoXsrfProtection = 3] = "NoXsrfProtection", Lt[Lt.JsonpSupport = 4] = "JsonpSupport", Lt[Lt.RequestsMadeViaParent = 5] = "RequestsMadeViaParent", Lt))();

        function Cr(Ce, le) {
            return {\u0275kind: Ce, \u0275providers: le}
        }

        function In(...Ce) {
            const le = [Re, gn, Ut, {provide: Te, useExisting: Ut}, {provide: Se, useExisting: gn}, {
                provide: rt,
                useValue: sn,
                multi: !0
            }, {provide: cn, useValue: !0}, {provide: hr, useClass: Tr}];
            for (const Ee of Ce) le.push(...Ee.\u0275providers);
            return (0, V.MR2)(le)
        }

        const Tt = new V.OlP("LEGACY_INTERCEPTOR_FN");

        function Lr({cookieName: Ce, headerName: le}) {
            const Ee = [];
            return void 0 !== Ce && Ee.push({provide: nr, useValue: Ce}), void 0 !== le && Ee.push({
                provide: Nn,
                useValue: le
            }), Cr(Lt.CustomXsrfConfiguration, Ee)
        }

        let yn = (() => {
            class Ce {
            }

            return Ce.\u0275fac = function (Ee) {
                return new (Ee || Ce)
            }, Ce.\u0275mod = V.oAB({type: Ce}), Ce.\u0275inj = V.cJS({
                providers: [In(Cr(Lt.LegacyInterceptors, [{
                    provide: Tt,
                    useFactory: _t
                }, {provide: rt, useExisting: Tt, multi: !0}]), Lr({cookieName: Gt, headerName: dt}))]
            }), Ce
        })()
    }, 4650: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            $8M: () => Vo,
            $WT: () => Mr,
            $Z: () => ef,
            AFp: () => im,
            ALo: () => Ep,
            AaK: () => Te,
            Akn: () => Qi,
            AsE: () => Lu,
            B6R: () => Zt,
            BQk: () => $s,
            CHM: () => Yi,
            CRH: () => Fp,
            CZH: () => rl,
            CqO: () => Lf,
            D6c: () => x_,
            DdM: () => pp,
            EJc: () => zv,
            EpF: () => Ff,
            F$t: () => Uf,
            F4k: () => Rf,
            FYo: () => Oc,
            FiY: () => jo,
            Gf: () => Op,
            GfV: () => Nc,
            GkF: () => Su,
            Gpc: () => ce,
            Hsn: () => $f,
            JOm: () => aa,
            Jf7: () => Fc,
            KtG: () => fa,
            LFG: () => Yt,
            LSH: () => $l,
            Lbi: () => Bv,
            Lck: () => jy,
            MAs: () => Nf,
            MGl: () => zs,
            MMx: () => Wu,
            MR2: () => Qg,
            NdJ: () => xu,
            O4$: () => Sa,
            OlP: () => Ar,
            Oqu: () => Ru,
            P3R: () => bc,
            PXZ: () => a_,
            Q6J: () => Cu,
            QGY: () => Mu,
            QbO: () => jv,
            Qsj: () => f1,
            R0b: () => Wi,
            RDi: () => Tg,
            Rgc: () => fs,
            SBq: () => qo,
            Sil: () => Wv,
            Suo: () => Np,
            TTD: () => di,
            TgZ: () => Bs,
            Tol: () => ah,
            Udp: () => Ou,
            VKq: () => mp,
            W1O: () => Vp,
            WD2: () => Zr,
            WLB: () => gp,
            XFs: () => Gt,
            Xpm: () => Mt,
            Xts: () => zl,
            Y36: () => yo,
            YKP: () => ap,
            YNc: () => Of,
            Yjl: () => Sr,
            Yz7: () => Bt,
            Z0I: () => Hn,
            ZZ4: () => gd,
            _Bn: () => ip,
            _UZ: () => wu,
            _Vd: () => Qo,
            _c5: () => S_,
            _uU: () => fh,
            aQg: () => yd,
            c2e: () => Uv,
            cJS: () => Xt,
            cg1: () => Vu,
            dDg: () => t_,
            dqk: () => sn,
            eFA: () => ym,
            ekj: () => Nu,
            eoX: () => pm,
            f3M: () => Ce,
            g9A: () => om,
            h0i: () => Po,
            hGG: () => M_,
            hij: () => Ks,
            iGM: () => Pp,
            ifc: () => w,
            ip1: () => rm,
            jDz: () => sp,
            kL8: () => Ih,
            kcU: () => ki,
            lG2: () => Er,
            lcZ: () => wp,
            lnq: () => ku,
            lqb: () => Ka,
            lri: () => fm,
            n5z: () => hl,
            n_E: () => qs,
            oAB: () => Nt,
            oJD: () => vc,
            oxw: () => jf,
            qLn: () => Xo,
            qOj: () => vu,
            qZA: () => js,
            qbA: () => yp,
            rWj: () => hm,
            s9C: () => Au,
            sBO: () => d_,
            s_b: () => el,
            soG: () => il,
            tBr: () => uo,
            tb: () => sm,
            tp0: () => Uo,
            uIk: () => Du,
            vHH: () => ye,
            vpe: () => ua,
            wAp: () => On,
            xi3: () => Sp,
            xp6: () => jc,
            ynx: () => Us,
            z2F: () => al,
            zSh: () => Yl,
            zs3: () => Ya
        });
        var a = D(7579), V = D(727), K = D(9751), k = D(6451), ue = D(3099);

        function de(e) {
            for (let t in e) if (e[t] === de) return t;
            throw Error("Could not find renamed property on target object.")
        }

        function be(e, t) {
            for (const n in t) t.hasOwnProperty(n) && !e.hasOwnProperty(n) && (e[n] = t[n])
        }

        function Te(e) {
            if ("string" == typeof e) return e;
            if (Array.isArray(e)) return "[" + e.map(Te).join(", ") + "]";
            if (null == e) return "" + e;
            if (e.overriddenName) return `${e.overriddenName}`;
            if (e.name) return `${e.name}`;
            const t = e.toString();
            if (null == t) return "" + t;
            const n = t.indexOf("\n");
            return -1 === n ? t : t.substring(0, n)
        }

        function Se(e, t) {
            return null == e || "" === e ? null === t ? "" : t : null == t || "" === t ? e : e + " " + t
        }

        const me = de({__forward_ref__: de});

        function ce(e) {
            return e.__forward_ref__ = ce, e.toString = function () {
                return Te(this())
            }, e
        }

        function Q(e) {
            return Oe(e) ? e() : e
        }

        function Oe(e) {
            return "function" == typeof e && e.hasOwnProperty(me) && e.__forward_ref__ === ce
        }

        function xe(e) {
            return e && !!e.\u0275providers
        }

        const mt = "https://g.co/ng/security#xss";

        class ye extends Error {
            constructor(t, n) {
                super(function Ue(e, t) {
                    return `NG0${Math.abs(e)}${t ? ": " + t.trim() : ""}`
                }(t, n)), this.code = t
            }
        }

        function $e(e) {
            return "string" == typeof e ? e : null == e ? "" : String(e)
        }

        function nt(e, t) {
            throw new ye(-201, !1)
        }

        function rt(e, t) {
            null == e && function _t(e, t, n, r) {
                throw new Error(`ASSERTION ERROR: ${e}` + (null == r ? "" : ` [Expected=> ${n} ${r} ${t} <=Actual]`))
            }(t, e, null, "!=")
        }

        function Bt(e) {
            return {token: e.token, providedIn: e.providedIn || null, factory: e.factory, value: void 0}
        }

        function Xt(e) {
            return {providers: e.providers || [], imports: e.imports || []}
        }

        function Mn(e) {
            return Bn(e, xn) || Bn(e, gn)
        }

        function Hn(e) {
            return null !== Mn(e)
        }

        function Bn(e, t) {
            return e.hasOwnProperty(t) ? e[t] : null
        }

        function lr(e) {
            return e && (e.hasOwnProperty(_n) || e.hasOwnProperty(cn)) ? e[_n] : null
        }

        const xn = de({\u0275prov: de}), _n = de({\u0275inj: de}), gn = de({ngInjectableDef: de}),
            cn = de({ngInjectorDef: de});
        var Gt = (() => ((Gt = Gt || {})[Gt.Default = 0] = "Default", Gt[Gt.Host = 1] = "Host", Gt[Gt.Self = 2] = "Self", Gt[Gt.SkipSelf = 4] = "SkipSelf", Gt[Gt.Optional = 8] = "Optional", Gt))();
        let nr;

        function Nn(e) {
            const t = nr;
            return nr = e, t
        }

        function hr(e, t, n) {
            const r = Mn(e);
            return r && "root" == r.providedIn ? void 0 === r.value ? r.value = r.factory() : r.value : n & Gt.Optional ? null : void 0 !== t ? t : void nt(Te(e))
        }

        const sn = (() => typeof globalThis < "u" && globalThis || typeof global < "u" && global || typeof window < "u" && window || typeof self < "u" && typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && self)(),
            In = {}, Jn = "__NG_DI_FLAG__", Tt = "ngTempTokenPath", Lr = /\n/gm, mr = "__source";
        let fn;

        function Xn(e) {
            const t = fn;
            return fn = e, t
        }

        function yn(e, t = Gt.Default) {
            if (void 0 === fn) throw new ye(-203, !1);
            return null === fn ? hr(e, void 0, t) : fn.get(e, t & Gt.Optional ? null : void 0, t)
        }

        function Yt(e, t = Gt.Default) {
            return (function dt() {
                return nr
            }() || yn)(Q(e), t)
        }

        function Ce(e, t = Gt.Default) {
            return Yt(e, le(t))
        }

        function le(e) {
            return typeof e > "u" || "number" == typeof e ? e : 0 | (e.optional && 8) | (e.host && 1) | (e.self && 2) | (e.skipSelf && 4)
        }

        function Ee(e) {
            const t = [];
            for (let n = 0; n < e.length; n++) {
                const r = Q(e[n]);
                if (Array.isArray(r)) {
                    if (0 === r.length) throw new ye(900, !1);
                    let i, o = Gt.Default;
                    for (let l = 0; l < r.length; l++) {
                        const h = r[l], y = st(h);
                        "number" == typeof y ? -1 === y ? i = h.token : o |= y : i = h
                    }
                    t.push(Yt(i, o))
                } else t.push(Yt(r))
            }
            return t
        }

        function Je(e, t) {
            return e[Jn] = t, e.prototype[Jn] = t, e
        }

        function st(e) {
            return e[Jn]
        }

        function q(e) {
            return {toString: e}.toString()
        }

        var $ = (() => (($ = $ || {})[$.OnPush = 0] = "OnPush", $[$.Default = 1] = "Default", $))(), w = (() => {
            return (e = w || (w = {}))[e.Emulated = 0] = "Emulated", e[e.None = 2] = "None", e[e.ShadowDom = 3] = "ShadowDom", w;
            var e
        })();
        const z = {}, A = [], R = de({\u0275cmp: de}), P = de({\u0275dir: de}), ae = de({\u0275pipe: de}),
            ve = de({\u0275mod: de}), J = de({\u0275fac: de}), et = de({__NG_ELEMENT_ID__: de});
        let vt = 0;

        function Mt(e) {
            return q(() => {
                const n = !0 === e.standalone, r = {}, i = {
                    type: e.type,
                    providersResolver: null,
                    decls: e.decls,
                    vars: e.vars,
                    factory: null,
                    template: e.template || null,
                    consts: e.consts || null,
                    ngContentSelectors: e.ngContentSelectors,
                    hostBindings: e.hostBindings || null,
                    hostVars: e.hostVars || 0,
                    hostAttrs: e.hostAttrs || null,
                    contentQueries: e.contentQueries || null,
                    declaredInputs: r,
                    inputs: null,
                    outputs: null,
                    exportAs: e.exportAs || null,
                    onPush: e.changeDetection === $.OnPush,
                    directiveDefs: null,
                    pipeDefs: null,
                    standalone: n,
                    dependencies: n && e.dependencies || null,
                    getStandaloneInjector: null,
                    selectors: e.selectors || A,
                    viewQuery: e.viewQuery || null,
                    features: e.features || null,
                    data: e.data || {},
                    encapsulation: e.encapsulation || w.Emulated,
                    id: "c" + vt++,
                    styles: e.styles || A,
                    _: null,
                    setInput: null,
                    schemas: e.schemas || null,
                    tView: null,
                    findHostDirectiveDefs: null,
                    hostDirectives: null
                }, o = e.dependencies, l = e.features;
                return i.inputs = Rn(e.inputs, r), i.outputs = Rn(e.outputs), l && l.forEach(h => h(i)), i.directiveDefs = o ? () => ("function" == typeof o ? o() : o).map(ln).filter(kt) : null, i.pipeDefs = o ? () => ("function" == typeof o ? o() : o).map(ur).filter(kt) : null, i
            })
        }

        function Zt(e, t, n) {
            const r = e.\u0275cmp;
            r.directiveDefs = () => ("function" == typeof t ? t() : t).map(ln), r.pipeDefs = () => ("function" == typeof n ? n() : n).map(ur)
        }

        function ln(e) {
            return wn(e) || Zn(e)
        }

        function kt(e) {
            return null !== e
        }

        function Nt(e) {
            return q(() => ({
                type: e.type,
                bootstrap: e.bootstrap || A,
                declarations: e.declarations || A,
                imports: e.imports || A,
                exports: e.exports || A,
                transitiveCompileScopes: null,
                schemas: e.schemas || null,
                id: e.id || null
            }))
        }

        function Rn(e, t) {
            if (null == e) return z;
            const n = {};
            for (const r in e) if (e.hasOwnProperty(r)) {
                let i = e[r], o = i;
                Array.isArray(i) && (o = i[1], i = i[0]), n[i] = r, t && (t[i] = o)
            }
            return n
        }

        const Er = Mt;

        function Sr(e) {
            return {
                type: e.type,
                name: e.name,
                factory: null,
                pure: !1 !== e.pure,
                standalone: !0 === e.standalone,
                onDestroy: e.type.prototype.ngOnDestroy || null
            }
        }

        function wn(e) {
            return e[R] || null
        }

        function Zn(e) {
            return e[P] || null
        }

        function ur(e) {
            return e[ae] || null
        }

        function Mr(e) {
            const t = wn(e) || Zn(e) || ur(e);
            return null !== t && t.standalone
        }

        function dr(e, t) {
            const n = e[ve] || null;
            if (!n && !0 === t) throw new Error(`Type ${Te(e)} does not have '\u0275mod' property.`);
            return n
        }

        const X = 15;

        function Vt(e) {
            return Array.isArray(e) && "object" == typeof e[1]
        }

        function hn(e) {
            return Array.isArray(e) && !0 === e[1]
        }

        function Qt(e) {
            return 0 != (4 & e.flags)
        }

        function xt(e) {
            return e.componentOffset > -1
        }

        function Ot(e) {
            return 1 == (1 & e.flags)
        }

        function wt(e) {
            return null !== e.template
        }

        function bn(e) {
            return 0 != (256 & e[2])
        }

        function ui(e, t) {
            return e.hasOwnProperty(J) ? e[J] : null
        }

        class Zr {
            constructor(t, n, r) {
                this.previousValue = t, this.currentValue = n, this.firstChange = r
            }

            isFirstChange() {
                return this.firstChange
            }
        }

        function di() {
            return bi
        }

        function bi(e) {
            return e.type.prototype.ngOnChanges && (e.setInput = xi), Ki
        }

        function Ki() {
            const e = Pi(this), t = e?.current;
            if (t) {
                const n = e.previous;
                if (n === z) e.previous = t; else for (let r in t) n[r] = t[r];
                e.current = null, this.ngOnChanges(t)
            }
        }

        function xi(e, t, n, r) {
            const i = this.declaredInputs[n], o = Pi(e) || function Oi(e, t) {
                return e[mi] = t
            }(e, {previous: z, current: null}), l = o.current || (o.current = {}), h = o.previous, y = h[i];
            l[i] = new Zr(y && y.currentValue, t, h === z), e[r] = t
        }

        di.ngInherit = !0;
        const mi = "__ngSimpleChanges__";

        function Pi(e) {
            return e[mi] || null
        }

        function He(e) {
            for (; Array.isArray(e);) e = e[0];
            return e
        }

        function Fi(e, t) {
            return He(t[e])
        }

        function gr(e, t) {
            return He(t[e.index])
        }

        function Di(e, t) {
            return e.data[t]
        }

        function ci(e, t) {
            return e[t]
        }

        function ti(e, t) {
            const n = t[e];
            return Vt(n) ? n : n[0]
        }

        function gi(e) {
            return 64 == (64 & e[2])
        }

        function Ci(e, t) {
            return null == t ? null : e[t]
        }

        function Ti(e) {
            e[18] = 0
        }

        function Ei(e, t) {
            e[5] += t;
            let n = e, r = e[3];
            for (; null !== r && (1 === t && 1 === n[5] || -1 === t && 0 === n[5]);) r[5] += t, n = r, r = r[3]
        }

        const kn = {lFrame: Ur(null), bindingsEnabled: !0};

        function qe() {
            return kn.bindingsEnabled
        }

        function Xe() {
            return kn.lFrame.lView
        }

        function er() {
            return kn.lFrame.tView
        }

        function Yi(e) {
            return kn.lFrame.contextLView = e, e[8]
        }

        function fa(e) {
            return kn.lFrame.contextLView = null, e
        }

        function jr() {
            let e = Ri();
            for (; null !== e && 64 === e.type;) e = e.parent;
            return e
        }

        function Ri() {
            return kn.lFrame.currentTNode
        }

        function fi(e, t) {
            const n = kn.lFrame;
            n.currentTNode = e, n.isParent = t
        }

        function wa() {
            return kn.lFrame.isParent
        }

        function Na() {
            kn.lFrame.isParent = !1
        }

        function u() {
            const e = kn.lFrame;
            let t = e.bindingRootIndex;
            return -1 === t && (t = e.bindingRootIndex = e.tView.bindingStartIndex), t
        }

        function c() {
            return kn.lFrame.bindingIndex
        }

        function N() {
            return kn.lFrame.bindingIndex++
        }

        function Y(e) {
            const t = kn.lFrame, n = t.bindingIndex;
            return t.bindingIndex = t.bindingIndex + e, n
        }

        function ze(e, t) {
            const n = kn.lFrame;
            n.bindingIndex = n.bindingRootIndex = e, jt(t)
        }

        function jt(e) {
            kn.lFrame.currentDirectiveIndex = e
        }

        function tr() {
            return kn.lFrame.currentQueryIndex
        }

        function Un(e) {
            kn.lFrame.currentQueryIndex = e
        }

        function Sn(e) {
            const t = e[1];
            return 2 === t.type ? t.declTNode : 1 === t.type ? e[6] : null
        }

        function Pn(e, t, n) {
            if (n & Gt.SkipSelf) {
                let i = t, o = e;
                for (; !(i = i.parent, null !== i || n & Gt.Host || (i = Sn(o), null === i || (o = o[X], 10 & i.type)));) ;
                if (null === i) return !1;
                t = i, e = o
            }
            const r = kn.lFrame = yr();
            return r.currentTNode = t, r.lView = e, !0
        }

        function sr(e) {
            const t = yr(), n = e[1];
            kn.lFrame = t, t.currentTNode = n.firstChild, t.lView = e, t.tView = n, t.contextLView = e, t.bindingIndex = n.bindingStartIndex, t.inI18n = !1
        }

        function yr() {
            const e = kn.lFrame, t = null === e ? null : e.child;
            return null === t ? Ur(e) : t
        }

        function Ur(e) {
            const t = {
                currentTNode: null,
                isParent: !0,
                lView: null,
                tView: null,
                selectedIndex: -1,
                contextLView: null,
                elementDepthCount: 0,
                currentNamespace: null,
                currentDirectiveIndex: -1,
                bindingRootIndex: -1,
                bindingIndex: -1,
                currentQueryIndex: 0,
                parent: e,
                child: null,
                inI18n: !1
            };
            return null !== e && (e.child = t), t
        }

        function $r() {
            const e = kn.lFrame;
            return kn.lFrame = e.parent, e.currentTNode = null, e.lView = null, e
        }

        const zr = $r;

        function Li() {
            const e = $r();
            e.isParent = !0, e.tView = null, e.selectedIndex = -1, e.contextLView = null, e.elementDepthCount = 0, e.currentDirectiveIndex = -1, e.currentNamespace = null, e.bindingRootIndex = -1, e.bindingIndex = -1, e.currentQueryIndex = 0
        }

        function xr() {
            return kn.lFrame.selectedIndex
        }

        function Qr(e) {
            kn.lFrame.selectedIndex = e
        }

        function fr() {
            const e = kn.lFrame;
            return Di(e.tView, e.selectedIndex)
        }

        function Sa() {
            kn.lFrame.currentNamespace = "svg"
        }

        function ki() {
            !function Fa() {
                kn.lFrame.currentNamespace = null
            }()
        }

        function mn(e, t) {
            for (let n = t.directiveStart, r = t.directiveEnd; n < r; n++) {
                const o = e.data[n].type.prototype, {
                    ngAfterContentInit: l,
                    ngAfterContentChecked: h,
                    ngAfterViewInit: y,
                    ngAfterViewChecked: T,
                    ngOnDestroy: j
                } = o;
                l && (e.contentHooks || (e.contentHooks = [])).push(-n, l), h && ((e.contentHooks || (e.contentHooks = [])).push(n, h), (e.contentCheckHooks || (e.contentCheckHooks = [])).push(n, h)), y && (e.viewHooks || (e.viewHooks = [])).push(-n, y), T && ((e.viewHooks || (e.viewHooks = [])).push(n, T), (e.viewCheckHooks || (e.viewCheckHooks = [])).push(n, T)), null != j && (e.destroyHooks || (e.destroyHooks = [])).push(n, j)
            }
        }

        function Dn(e, t, n) {
            _(e, t, 3, n)
        }

        function p(e, t, n, r) {
            (3 & e[2]) === n && _(e, t, n, r)
        }

        function I(e, t) {
            let n = e[2];
            (3 & n) === t && (n &= 2047, n += 1, e[2] = n)
        }

        function _(e, t, n, r) {
            const o = r ?? -1, l = t.length - 1;
            let h = 0;
            for (let y = void 0 !== r ? 65535 & e[18] : 0; y < l; y++) if ("number" == typeof t[y + 1]) {
                if (h = t[y], null != r && h >= r) break
            } else t[y] < 0 && (e[18] += 65536), (h < o || -1 == o) && (B(e, n, t, y), e[18] = (4294901760 & e[18]) + y + 2), y++
        }

        function B(e, t, n, r) {
            const i = n[r] < 0, o = n[r + 1], h = e[i ? -n[r] : n[r]];
            if (i) {
                if (e[2] >> 11 < e[18] >> 16 && (3 & e[2]) === t) {
                    e[2] += 2048;
                    try {
                        o.call(h)
                    } finally {
                    }
                }
            } else try {
                o.call(h)
            } finally {
            }
        }

        class ke {
            constructor(t, n, r) {
                this.factory = t, this.resolving = !1, this.canSeeViewProviders = n, this.injectImpl = r
            }
        }

        function Kr(e, t, n) {
            let r = 0;
            for (; r < n.length;) {
                const i = n[r];
                if ("number" == typeof i) {
                    if (0 !== i) break;
                    r++;
                    const o = n[r++], l = n[r++], h = n[r++];
                    e.setAttribute(t, l, h, o)
                } else {
                    const o = i, l = n[++r];
                    ri(o) ? e.setProperty(t, o, l) : e.setAttribute(t, o, l), r++
                }
            }
            return r
        }

        function Vi(e) {
            return 3 === e || 4 === e || 6 === e
        }

        function ri(e) {
            return 64 === e.charCodeAt(0)
        }

        function hi(e, t) {
            if (null !== t && 0 !== t.length) if (null === e || 0 === e.length) e = t.slice(); else {
                let n = -1;
                for (let r = 0; r < t.length; r++) {
                    const i = t[r];
                    "number" == typeof i ? n = i : 0 === n || Hi(e, n, i, null, -1 === n || 2 === n ? t[++r] : null)
                }
            }
            return e
        }

        function Hi(e, t, n, r, i) {
            let o = 0, l = e.length;
            if (-1 === t) l = -1; else for (; o < e.length;) {
                const h = e[o++];
                if ("number" == typeof h) {
                    if (h === t) {
                        l = -1;
                        break
                    }
                    if (h > t) {
                        l = o - 1;
                        break
                    }
                }
            }
            for (; o < e.length;) {
                const h = e[o];
                if ("number" == typeof h) break;
                if (h === n) {
                    if (null === r) return void (null !== i && (e[o + 1] = i));
                    if (r === e[o + 1]) return void (e[o + 2] = i)
                }
                o++, null !== r && o++, null !== i && o++
            }
            -1 !== l && (e.splice(l, 0, t), o = l + 1), e.splice(o++, 0, n), null !== r && e.splice(o++, 0, r), null !== i && e.splice(o++, 0, i)
        }

        function ra(e) {
            return -1 !== e
        }

        function Bi(e) {
            return 32767 & e
        }

        function La(e, t) {
            let n = function ha(e) {
                return e >> 16
            }(e), r = t;
            for (; n > 0;) r = r[X], n--;
            return r
        }

        let to = !0;

        function no(e) {
            const t = to;
            return to = e, t
        }

        let ul = 0;
        const wi = {};

        function ro(e, t) {
            const n = gs(e, t);
            if (-1 !== n) return n;
            const r = t[1];
            r.firstCreatePass && (e.injectorIndex = t.length, io(r.data, e), io(t, null), io(r.blueprint, null));
            const i = Ro(e, t), o = e.injectorIndex;
            if (ra(i)) {
                const l = Bi(i), h = La(i, t), y = h[1].data;
                for (let T = 0; T < 8; T++) t[o + T] = h[l + T] | y[l + T]
            }
            return t[o + 8] = i, o
        }

        function io(e, t) {
            e.push(0, 0, 0, 0, 0, 0, 0, 0, t)
        }

        function gs(e, t) {
            return -1 === e.injectorIndex || e.parent && e.parent.injectorIndex === e.injectorIndex || null === t[e.injectorIndex + 8] ? -1 : e.injectorIndex
        }

        function Ro(e, t) {
            if (e.parent && -1 !== e.parent.injectorIndex) return e.parent.injectorIndex;
            let n = 0, r = null, i = t;
            for (; null !== i;) {
                if (r = so(i), null === r) return -1;
                if (n++, i = i[X], -1 !== r.injectorIndex) return r.injectorIndex | n << 16
            }
            return -1
        }

        function Lo(e, t, n) {
            !function dl(e, t, n) {
                let r;
                "string" == typeof n ? r = n.charCodeAt(0) || 0 : n.hasOwnProperty(et) && (r = n[et]), null == r && (r = n[et] = ul++);
                const i = 255 & r;
                t.data[e + (i >> 5)] |= 1 << i
            }(e, t, n)
        }

        function pi(e, t, n) {
            if (n & Gt.Optional || void 0 !== e) return e;
            nt()
        }

        function ys(e, t, n, r) {
            if (n & Gt.Optional && void 0 === r && (r = null), !(n & (Gt.Self | Gt.Host))) {
                const i = e[9], o = Nn(void 0);
                try {
                    return i ? i.get(t, r, n & Gt.Optional) : hr(t, r, n & Gt.Optional)
                } finally {
                    Nn(o)
                }
            }
            return pi(r, 0, n)
        }

        function ka(e, t, n, r = Gt.Default, i) {
            if (null !== e) {
                if (1024 & t[2]) {
                    const l = function ma(e, t, n, r, i) {
                        let o = e, l = t;
                        for (; null !== o && null !== l && 1024 & l[2] && !(256 & l[2]);) {
                            const h = ko(o, l, n, r | Gt.Self, wi);
                            if (h !== wi) return h;
                            let y = o.parent;
                            if (!y) {
                                const T = l[21];
                                if (T) {
                                    const j = T.get(n, wi, r);
                                    if (j !== wi) return j
                                }
                                y = so(l), l = l[X]
                            }
                            o = y
                        }
                        return i
                    }(e, t, n, r, wi);
                    if (l !== wi) return l
                }
                const o = ko(e, t, n, r, wi);
                if (o !== wi) return o
            }
            return ys(t, n, r, i)
        }

        function ko(e, t, n, r, i) {
            const o = function _d(e) {
                if ("string" == typeof e) return e.charCodeAt(0) || 0;
                const t = e.hasOwnProperty(et) ? e[et] : void 0;
                return "number" == typeof t ? t >= 0 ? 255 & t : xa : t
            }(n);
            if ("function" == typeof o) {
                if (!Pn(t, e, r)) return r & Gt.Host ? pi(i, 0, r) : ys(t, n, r, i);
                try {
                    const l = o(r);
                    if (null != l || r & Gt.Optional) return l;
                    nt()
                } finally {
                    zr()
                }
            } else if ("number" == typeof o) {
                let l = null, h = gs(e, t), y = -1, T = r & Gt.Host ? t[16][6] : null;
                for ((-1 === h || r & Gt.SkipSelf) && (y = -1 === h ? Ro(e, t) : t[h + 8], -1 !== y && ao(r, !1) ? (l = t[1], h = Bi(y), t = La(y, t)) : h = -1); -1 !== h;) {
                    const j = t[1];
                    if (vs(o, h, j.data)) {
                        const ee = fl(h, t, n, l, r, T);
                        if (ee !== wi) return ee
                    }
                    y = t[h + 8], -1 !== y && ao(r, t[1].data[h + 8] === T) && vs(o, h, t) ? (l = j, h = Bi(y), t = La(y, t)) : h = -1
                }
            }
            return i
        }

        function fl(e, t, n, r, i, o) {
            const l = t[1], h = l.data[e + 8],
                j = Va(h, l, n, null == r ? xt(h) && to : r != l && 0 != (3 & h.type), i & Gt.Host && o === h);
            return null !== j ? Ma(t, l, j, h) : wi
        }

        function Va(e, t, n, r, i) {
            const o = e.providerIndexes, l = t.data, h = 1048575 & o, y = e.directiveStart, j = o >> 20,
                Me = i ? h + j : e.directiveEnd;
            for (let je = r ? h : h + j; je < Me; je++) {
                const ct = l[je];
                if (je < y && n === ct || je >= y && ct.type === n) return je
            }
            if (i) {
                const je = l[y];
                if (je && wt(je) && je.type === n) return y
            }
            return null
        }

        function Ma(e, t, n, r) {
            let i = e[n];
            const o = t.data;
            if (function pt(e) {
                return e instanceof ke
            }(i)) {
                const l = i;
                l.resolving && function We(e, t) {
                    const n = t ? `. Dependency path: ${t.join(" > ")} > ${e}` : "";
                    throw new ye(-200, `Circular dependency in DI detected for ${e}${n}`)
                }(function yt(e) {
                    return "function" == typeof e ? e.name || e.toString() : "object" == typeof e && null != e && "function" == typeof e.type ? e.type.name || e.type.toString() : $e(e)
                }(o[n]));
                const h = no(l.canSeeViewProviders);
                l.resolving = !0;
                const y = l.injectImpl ? Nn(l.injectImpl) : null;
                Pn(e, r, Gt.Default);
                try {
                    i = e[n] = l.factory(void 0, o, e, r), t.firstCreatePass && n >= r.directiveStart && function on(e, t, n) {
                        const {ngOnChanges: r, ngOnInit: i, ngDoCheck: o} = t.type.prototype;
                        if (r) {
                            const l = bi(t);
                            (n.preOrderHooks || (n.preOrderHooks = [])).push(e, l), (n.preOrderCheckHooks || (n.preOrderCheckHooks = [])).push(e, l)
                        }
                        i && (n.preOrderHooks || (n.preOrderHooks = [])).push(0 - e, i), o && ((n.preOrderHooks || (n.preOrderHooks = [])).push(e, o), (n.preOrderCheckHooks || (n.preOrderCheckHooks = [])).push(e, o))
                    }(n, o[n], t)
                } finally {
                    null !== y && Nn(y), no(h), l.resolving = !1, zr()
                }
            }
            return i
        }

        function vs(e, t, n) {
            return !!(n[t + (e >> 5)] & 1 << e)
        }

        function ao(e, t) {
            return !(e & Gt.Self || e & Gt.Host && t)
        }

        class pa {
            constructor(t, n) {
                this._tNode = t, this._lView = n
            }

            get(t, n, r) {
                return ka(this._tNode, this._lView, t, le(r), n)
            }
        }

        function xa() {
            return new pa(jr(), Xe())
        }

        function hl(e) {
            return q(() => {
                const t = e.prototype.constructor, n = t[J] || oo(t), r = Object.prototype;
                let i = Object.getPrototypeOf(e.prototype).constructor;
                for (; i && i !== r;) {
                    const o = i[J] || oo(i);
                    if (o && o !== n) return o;
                    i = Object.getPrototypeOf(i)
                }
                return o => new o
            })
        }

        function oo(e) {
            return Oe(e) ? () => {
                const t = oo(Q(e));
                return t && t()
            } : ui(e)
        }

        function so(e) {
            const t = e[1], n = t.type;
            return 2 === n ? t.declTNode : 1 === n ? e[6] : null
        }

        function Vo(e) {
            return function cl(e, t) {
                if ("class" === t) return e.classes;
                if ("style" === t) return e.styles;
                const n = e.attrs;
                if (n) {
                    const r = n.length;
                    let i = 0;
                    for (; i < r;) {
                        const o = n[i];
                        if (Vi(o)) break;
                        if (0 === o) i += 2; else if ("number" == typeof o) for (i++; i < r && "string" == typeof n[i];) i++; else {
                            if (o === t) return n[i + 1];
                            i += 2
                        }
                    }
                }
                return null
            }(jr(), e)
        }

        const Ba = "__parameters__";

        function Aa(e, t, n) {
            return q(() => {
                const r = function ja(e) {
                    return function (...n) {
                        if (e) {
                            const r = e(...n);
                            for (const i in r) this[i] = r[i]
                        }
                    }
                }(t);

                function i(...o) {
                    if (this instanceof i) return r.apply(this, o), this;
                    const l = new i(...o);
                    return h.annotation = l, h;

                    function h(y, T, j) {
                        const ee = y.hasOwnProperty(Ba) ? y[Ba] : Object.defineProperty(y, Ba, {value: []})[Ba];
                        for (; ee.length <= j;) ee.push(null);
                        return (ee[j] = ee[j] || []).push(l), y
                    }
                }

                return n && (i.prototype = Object.create(n.prototype)), i.prototype.ngMetadataName = e, i.annotationCls = i, i
            })
        }

        class Ar {
            constructor(t, n) {
                this._desc = t, this.ngMetadataName = "InjectionToken", this.\u0275prov = void 0, "number" == typeof n ? this.__NG_ELEMENT_ID__ = n : void 0 !== n && (this.\u0275prov = Bt({
                    token: this,
                    providedIn: n.providedIn || "root",
                    factory: n.factory
                }))
            }

            get multi() {
                return this
            }

            toString() {
                return `InjectionToken ${this._desc}`
            }
        }

        function ya(e, t) {
            e.forEach(n => Array.isArray(n) ? ya(n, t) : t(n))
        }

        function yl(e, t, n) {
            t >= e.length ? e.push(n) : e.splice(t, 0, n)
        }

        function d(e, t) {
            return t >= e.length - 1 ? e.pop() : e.splice(t, 1)[0]
        }

        function f(e, t) {
            const n = [];
            for (let r = 0; r < e; r++) n.push(t);
            return n
        }

        function U(e, t, n) {
            let r = ut(e, t);
            return r >= 0 ? e[1 | r] = n : (r = ~r, function S(e, t, n, r) {
                let i = e.length;
                if (i == t) e.push(n, r); else if (1 === i) e.push(r, e[0]), e[0] = n; else {
                    for (i--, e.push(e[i - 1], e[i]); i > t;) e[i] = e[i - 2], i--;
                    e[t] = n, e[t + 1] = r
                }
            }(e, r, t, n)), r
        }

        function Ie(e, t) {
            const n = ut(e, t);
            if (n >= 0) return e[1 | n]
        }

        function ut(e, t) {
            return function qt(e, t, n) {
                let r = 0, i = e.length >> n;
                for (; i !== r;) {
                    const o = r + (i - r >> 1), l = e[o << n];
                    if (t === l) return o << n;
                    l > t ? i = o : r = o + 1
                }
                return ~(i << n)
            }(e, t, 1)
        }

        const uo = Je(Aa("Inject", e => ({token: e})), -1), jo = Je(Aa("Optional"), 8), Uo = Je(Aa("SkipSelf"), 4);
        var aa = (() => ((aa = aa || {})[aa.Important = 1] = "Important", aa[aa.DashCase = 2] = "DashCase", aa))();
        const Dl = new Map;
        let qm = 0;
        const El = "__ngContext__";

        function vi(e, t) {
            Vt(t) ? (e[El] = t[20], function eg(e) {
                Dl.set(e[20], e)
            }(t)) : e[El] = t
        }

        function Sl(e, t) {
            return undefined(e, t)
        }

        function Wo(e) {
            const t = e[3];
            return hn(t) ? t[3] : t
        }

        function Ml(e) {
            return Gd(e[13])
        }

        function xl(e) {
            return Gd(e[4])
        }

        function Gd(e) {
            for (; null !== e && !hn(e);) e = e[4];
            return e
        }

        function fo(e, t, n, r, i) {
            if (null != r) {
                let o, l = !1;
                hn(r) ? o = r : Vt(r) && (l = !0, r = r[0]);
                const h = He(r);
                0 === e && null !== n ? null == i ? Qd(t, n, h) : za(t, n, h, i || null, !0) : 1 === e && null !== n ? za(t, n, h, i || null, !0) : 2 === e ? function Fl(e, t, n) {
                    const r = Cs(e, t);
                    r && function bg(e, t, n, r) {
                        e.removeChild(t, n, r)
                    }(e, r, t, n)
                }(t, h, l) : 3 === e && t.destroyNode(h), null != o && function Eg(e, t, n, r, i) {
                    const o = n[7];
                    o !== He(n) && fo(t, e, r, o, i);
                    for (let h = 10; h < n.length; h++) {
                        const y = n[h];
                        Ko(y[1], y, e, t, r, o)
                    }
                }(t, e, o, n, i)
            }
        }

        function Tl(e, t, n) {
            return e.createElement(t, n)
        }

        function Kd(e, t) {
            const n = e[9], r = n.indexOf(t), i = t[3];
            512 & t[2] && (t[2] &= -513, Ei(i, -1)), n.splice(r, 1)
        }

        function Il(e, t) {
            if (e.length <= 10) return;
            const n = 10 + t, r = e[n];
            if (r) {
                const i = r[17];
                null !== i && i !== e && Kd(i, r), t > 0 && (e[n - 1][4] = r[4]);
                const o = d(e, 10 + t);
                !function fg(e, t) {
                    Ko(e, t, t[11], 2, null, null), t[0] = null, t[6] = null
                }(r[1], r);
                const l = o[19];
                null !== l && l.detachView(o[1]), r[3] = null, r[4] = null, r[2] &= -65
            }
            return r
        }

        function Yd(e, t) {
            if (!(128 & t[2])) {
                const n = t[11];
                n.destroyNode && Ko(e, t, n, 3, null, null), function mg(e) {
                    let t = e[13];
                    if (!t) return Pl(e[1], e);
                    for (; t;) {
                        let n = null;
                        if (Vt(t)) n = t[13]; else {
                            const r = t[10];
                            r && (n = r)
                        }
                        if (!n) {
                            for (; t && !t[4] && t !== e;) Vt(t) && Pl(t[1], t), t = t[3];
                            null === t && (t = e), Vt(t) && Pl(t[1], t), n = t && t[4]
                        }
                        t = n
                    }
                }(t)
            }
        }

        function Pl(e, t) {
            if (!(128 & t[2])) {
                t[2] &= -65, t[2] |= 128, function _g(e, t) {
                    let n;
                    if (null != e && null != (n = e.destroyHooks)) for (let r = 0; r < n.length; r += 2) {
                        const i = t[n[r]];
                        if (!(i instanceof ke)) {
                            const o = n[r + 1];
                            if (Array.isArray(o)) for (let l = 0; l < o.length; l += 2) {
                                const h = i[o[l]], y = o[l + 1];
                                try {
                                    y.call(h)
                                } finally {
                                }
                            } else try {
                                o.call(i)
                            } finally {
                            }
                        }
                    }
                }(e, t), function vg(e, t) {
                    const n = e.cleanup, r = t[7];
                    let i = -1;
                    if (null !== n) for (let o = 0; o < n.length - 1; o += 2) if ("string" == typeof n[o]) {
                        const l = n[o + 3];
                        l >= 0 ? r[i = l]() : r[i = -l].unsubscribe(), o += 2
                    } else {
                        const l = r[i = n[o + 1]];
                        n[o].call(l)
                    }
                    if (null !== r) {
                        for (let o = i + 1; o < r.length; o++) (0, r[o])();
                        t[7] = null
                    }
                }(e, t), 1 === t[1].type && t[11].destroy();
                const n = t[17];
                if (null !== n && hn(t[3])) {
                    n !== t[3] && Kd(n, t);
                    const r = t[19];
                    null !== r && r.detachView(e)
                }
                !function tg(e) {
                    Dl.delete(e[20])
                }(t)
            }
        }

        function Jd(e, t, n) {
            return function Zd(e, t, n) {
                let r = t;
                for (; null !== r && 40 & r.type;) r = (t = r).parent;
                if (null === r) return n[0];
                {
                    const {componentOffset: i} = r;
                    if (i > -1) {
                        const {encapsulation: o} = e.data[r.directiveStart + i];
                        if (o === w.None || o === w.Emulated) return null
                    }
                    return gr(r, n)
                }
            }(e, t.parent, n)
        }

        function za(e, t, n, r, i) {
            e.insertBefore(t, n, r, i)
        }

        function Qd(e, t, n) {
            e.appendChild(t, n)
        }

        function qd(e, t, n, r, i) {
            null !== r ? za(e, t, n, r, i) : Qd(e, t, n)
        }

        function Cs(e, t) {
            return e.parentNode(t)
        }

        function Xd(e, t, n) {
            return tc(e, t, n)
        }

        let Ss, kl, Ms, tc = function ec(e, t, n) {
            return 40 & e.type ? gr(e, n) : null
        };

        function Es(e, t, n, r) {
            const i = Jd(e, r, t), o = t[11], h = Xd(r.parent || t[6], r, t);
            if (null != i) if (Array.isArray(n)) for (let y = 0; y < n.length; y++) qd(o, i, n[y], h, !1); else qd(o, i, n, h, !1)
        }

        function ws(e, t) {
            if (null !== t) {
                const n = t.type;
                if (3 & n) return gr(t, e);
                if (4 & n) return Nl(-1, e[t.index]);
                if (8 & n) {
                    const r = t.child;
                    if (null !== r) return ws(e, r);
                    {
                        const i = e[t.index];
                        return hn(i) ? Nl(-1, i) : He(i)
                    }
                }
                if (32 & n) return Sl(t, e)() || He(e[t.index]);
                {
                    const r = rc(e, t);
                    return null !== r ? Array.isArray(r) ? r[0] : ws(Wo(e[16]), r) : ws(e, t.next)
                }
            }
            return null
        }

        function rc(e, t) {
            return null !== t ? e[16][6].projection[t.projection] : null
        }

        function Nl(e, t) {
            const n = 10 + e + 1;
            if (n < t.length) {
                const r = t[n], i = r[1].firstChild;
                if (null !== i) return ws(r, i)
            }
            return t[7]
        }

        function Rl(e, t, n, r, i, o, l) {
            for (; null != n;) {
                const h = r[n.index], y = n.type;
                if (l && 0 === t && (h && vi(He(h), r), n.flags |= 2), 32 != (32 & n.flags)) if (8 & y) Rl(e, t, n.child, r, i, o, !1), fo(t, e, i, h, o); else if (32 & y) {
                    const T = Sl(n, r);
                    let j;
                    for (; j = T();) fo(t, e, i, j, o);
                    fo(t, e, i, h, o)
                } else 16 & y ? ic(e, t, r, n, i, o) : fo(t, e, i, h, o);
                n = l ? n.projectionNext : n.next
            }
        }

        function Ko(e, t, n, r, i, o) {
            Rl(n, r, e.firstChild, t, i, o, !1)
        }

        function ic(e, t, n, r, i, o) {
            const l = n[16], y = l[6].projection[r.projection];
            if (Array.isArray(y)) for (let T = 0; T < y.length; T++) fo(t, e, i, y[T], o); else Rl(e, t, y, l[3], i, o, !0)
        }

        function ac(e, t, n) {
            "" === n ? e.removeAttribute(t, "class") : e.setAttribute(t, "class", n)
        }

        function oc(e, t, n) {
            const {mergedAttrs: r, classes: i, styles: o} = n;
            null !== r && Kr(e, t, r), null !== i && ac(e, t, i), null !== o && function Sg(e, t, n) {
                e.setAttribute(t, "style", n)
            }(e, t, o)
        }

        function Ga(e) {
            return function Ll() {
                if (void 0 === Ss && (Ss = null, sn.trustedTypes)) try {
                    Ss = sn.trustedTypes.createPolicy("angular", {
                        createHTML: e => e,
                        createScript: e => e,
                        createScriptURL: e => e
                    })
                } catch {
                }
                return Ss
            }()?.createHTML(e) || e
        }

        function Tg(e) {
            kl = e
        }

        function Vl() {
            if (void 0 === Ms && (Ms = null, sn.trustedTypes)) try {
                Ms = sn.trustedTypes.createPolicy("angular#unsafe-bypass", {
                    createHTML: e => e,
                    createScript: e => e,
                    createScriptURL: e => e
                })
            } catch {
            }
            return Ms
        }

        function lc(e) {
            return Vl()?.createHTML(e) || e
        }

        function dc(e) {
            return Vl()?.createScriptURL(e) || e
        }

        class cc {
            constructor(t) {
                this.changingThisBreaksApplicationSecurity = t
            }

            toString() {
                return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`
            }
        }

        function Ia(e) {
            return e instanceof cc ? e.changingThisBreaksApplicationSecurity : e
        }

        function Yo(e, t) {
            const n = function Rg(e) {
                return e instanceof cc && e.getTypeName() || null
            }(e);
            if (null != n && n !== t) {
                if ("ResourceURL" === n && "URL" === t) return !0;
                throw new Error(`Required a safe ${t}, got a ${n} (see ${mt})`)
            }
            return n === t
        }

        class Lg {
            constructor(t) {
                this.inertDocumentHelper = t
            }

            getInertBodyElement(t) {
                t = "<body><remove></remove>" + t;
                try {
                    const n = (new window.DOMParser).parseFromString(Ga(t), "text/html").body;
                    return null === n ? this.inertDocumentHelper.getInertBodyElement(t) : (n.removeChild(n.firstChild), n)
                } catch {
                    return null
                }
            }
        }

        class kg {
            constructor(t) {
                if (this.defaultDoc = t, this.inertDocument = this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"), null == this.inertDocument.body) {
                    const n = this.inertDocument.createElement("html");
                    this.inertDocument.appendChild(n);
                    const r = this.inertDocument.createElement("body");
                    n.appendChild(r)
                }
            }

            getInertBodyElement(t) {
                const n = this.inertDocument.createElement("template");
                if ("content" in n) return n.innerHTML = Ga(t), n;
                const r = this.inertDocument.createElement("body");
                return r.innerHTML = Ga(t), this.defaultDoc.documentMode && this.stripCustomNsAttrs(r), r
            }

            stripCustomNsAttrs(t) {
                const n = t.attributes;
                for (let i = n.length - 1; 0 < i; i--) {
                    const l = n.item(i).name;
                    ("xmlns:ns1" === l || 0 === l.indexOf("ns1:")) && t.removeAttribute(l)
                }
                let r = t.firstChild;
                for (; r;) r.nodeType === Node.ELEMENT_NODE && this.stripCustomNsAttrs(r), r = r.nextSibling
            }
        }

        const Hg = /^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;

        function Hl(e) {
            return (e = String(e)).match(Hg) ? e : "unsafe:" + e
        }

        function _a(e) {
            const t = {};
            for (const n of e.split(",")) t[n] = !0;
            return t
        }

        function Jo(...e) {
            const t = {};
            for (const n of e) for (const r in n) n.hasOwnProperty(r) && (t[r] = !0);
            return t
        }

        const hc = _a("area,br,col,hr,img,wbr"), pc = _a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),
            mc = _a("rp,rt"),
            Bl = Jo(hc, Jo(pc, _a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")), Jo(mc, _a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")), Jo(mc, pc)),
            jl = _a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),
            gc = Jo(jl, _a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"), _a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),
            Bg = _a("script,style,template");

        class jg {
            constructor() {
                this.sanitizedSomething = !1, this.buf = []
            }

            sanitizeChildren(t) {
                let n = t.firstChild, r = !0;
                for (; n;) if (n.nodeType === Node.ELEMENT_NODE ? r = this.startElement(n) : n.nodeType === Node.TEXT_NODE ? this.chars(n.nodeValue) : this.sanitizedSomething = !0, r && n.firstChild) n = n.firstChild; else for (; n;) {
                    n.nodeType === Node.ELEMENT_NODE && this.endElement(n);
                    let i = this.checkClobberedElement(n, n.nextSibling);
                    if (i) {
                        n = i;
                        break
                    }
                    n = this.checkClobberedElement(n, n.parentNode)
                }
                return this.buf.join("")
            }

            startElement(t) {
                const n = t.nodeName.toLowerCase();
                if (!Bl.hasOwnProperty(n)) return this.sanitizedSomething = !0, !Bg.hasOwnProperty(n);
                this.buf.push("<"), this.buf.push(n);
                const r = t.attributes;
                for (let i = 0; i < r.length; i++) {
                    const o = r.item(i), l = o.name, h = l.toLowerCase();
                    if (!gc.hasOwnProperty(h)) {
                        this.sanitizedSomething = !0;
                        continue
                    }
                    let y = o.value;
                    jl[h] && (y = Hl(y)), this.buf.push(" ", l, '="', yc(y), '"')
                }
                return this.buf.push(">"), !0
            }

            endElement(t) {
                const n = t.nodeName.toLowerCase();
                Bl.hasOwnProperty(n) && !hc.hasOwnProperty(n) && (this.buf.push("</"), this.buf.push(n), this.buf.push(">"))
            }

            chars(t) {
                this.buf.push(yc(t))
            }

            checkClobberedElement(t, n) {
                if (n && (t.compareDocumentPosition(n) & Node.DOCUMENT_POSITION_CONTAINED_BY) === Node.DOCUMENT_POSITION_CONTAINED_BY) throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);
                return n
            }
        }

        const Ug = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, $g = /([^\#-~ |!])/g;

        function yc(e) {
            return e.replace(/&/g, "&amp;").replace(Ug, function (t) {
                return "&#" + (1024 * (t.charCodeAt(0) - 55296) + (t.charCodeAt(1) - 56320) + 65536) + ";"
            }).replace($g, function (t) {
                return "&#" + t.charCodeAt(0) + ";"
            }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }

        let xs;

        function Ul(e) {
            return "content" in e && function Gg(e) {
                return e.nodeType === Node.ELEMENT_NODE && "TEMPLATE" === e.nodeName
            }(e) ? e.content : null
        }

        var ai = (() => ((ai = ai || {})[ai.NONE = 0] = "NONE", ai[ai.HTML = 1] = "HTML", ai[ai.STYLE = 2] = "STYLE", ai[ai.SCRIPT = 3] = "SCRIPT", ai[ai.URL = 4] = "URL", ai[ai.RESOURCE_URL = 5] = "RESOURCE_URL", ai))();

        function vc(e) {
            const t = Zo();
            return t ? lc(t.sanitize(ai.HTML, e) || "") : Yo(e, "HTML") ? lc(Ia(e)) : function zg(e, t) {
                let n = null;
                try {
                    xs = xs || function fc(e) {
                        const t = new kg(e);
                        return function Vg() {
                            try {
                                return !!(new window.DOMParser).parseFromString(Ga(""), "text/html")
                            } catch {
                                return !1
                            }
                        }() ? new Lg(t) : t
                    }(e);
                    let r = t ? String(t) : "";
                    n = xs.getInertBodyElement(r);
                    let i = 5, o = r;
                    do {
                        if (0 === i) throw new Error("Failed to sanitize html because the input is unstable");
                        i--, r = o, o = n.innerHTML, n = xs.getInertBodyElement(r)
                    } while (r !== o);
                    return Ga((new jg).sanitizeChildren(Ul(n) || n))
                } finally {
                    if (n) {
                        const r = Ul(n) || n;
                        for (; r.firstChild;) r.removeChild(r.firstChild)
                    }
                }
            }(function sc() {
                return void 0 !== kl ? kl : typeof document < "u" ? document : void 0
            }(), $e(e))
        }

        function $l(e) {
            const t = Zo();
            return t ? t.sanitize(ai.URL, e) || "" : Yo(e, "URL") ? Ia(e) : Hl($e(e))
        }

        function _c(e) {
            const t = Zo();
            if (t) return dc(t.sanitize(ai.RESOURCE_URL, e) || "");
            if (Yo(e, "ResourceURL")) return dc(Ia(e));
            throw new ye(904, !1)
        }

        function bc(e, t, n) {
            return function Zg(e, t) {
                return "src" === t && ("embed" === e || "frame" === e || "iframe" === e || "media" === e || "script" === e) || "href" === t && ("base" === e || "link" === e) ? _c : $l
            }(t, n)(e)
        }

        function Zo() {
            const e = Xe();
            return e && e[12]
        }

        const zl = new Ar("ENVIRONMENT_INITIALIZER"), Dc = new Ar("INJECTOR", -1), Cc = new Ar("INJECTOR_DEF_TYPES");

        class Ec {
            get(t, n = In) {
                if (n === In) {
                    const r = new Error(`NullInjectorError: No provider for ${Te(t)}!`);
                    throw r.name = "NullInjectorError", r
                }
                return n
            }
        }

        function Qg(e) {
            return {\u0275providers: e}
        }

        function qg(...e) {
            return {\u0275providers: wc(0, e), \u0275fromNgModule: !0}
        }

        function wc(e, ...t) {
            const n = [], r = new Set;
            let i;
            return ya(t, o => {
                const l = o;
                Gl(l, n, [], r) && (i || (i = []), i.push(l))
            }), void 0 !== i && Sc(i, n), n
        }

        function Sc(e, t) {
            for (let n = 0; n < e.length; n++) {
                const {providers: i} = e[n];
                Wl(i, o => {
                    t.push(o)
                })
            }
        }

        function Gl(e, t, n, r) {
            if (!(e = Q(e))) return !1;
            let i = null, o = lr(e);
            const l = !o && wn(e);
            if (o || l) {
                if (l && !l.standalone) return !1;
                i = e
            } else {
                const y = e.ngModule;
                if (o = lr(y), !o) return !1;
                i = y
            }
            const h = r.has(i);
            if (l) {
                if (h) return !1;
                if (r.add(i), l.dependencies) {
                    const y = "function" == typeof l.dependencies ? l.dependencies() : l.dependencies;
                    for (const T of y) Gl(T, t, n, r)
                }
            } else {
                if (!o) return !1;
                {
                    if (null != o.imports && !h) {
                        let T;
                        r.add(i);
                        try {
                            ya(o.imports, j => {
                                Gl(j, t, n, r) && (T || (T = []), T.push(j))
                            })
                        } finally {
                        }
                        void 0 !== T && Sc(T, t)
                    }
                    if (!h) {
                        const T = ui(i) || (() => new i);
                        t.push({provide: i, useFactory: T, deps: A}, {
                            provide: Cc,
                            useValue: i,
                            multi: !0
                        }, {provide: zl, useValue: () => Yt(i), multi: !0})
                    }
                    const y = o.providers;
                    null == y || h || Wl(y, j => {
                        t.push(j)
                    })
                }
            }
            return i !== e && void 0 !== e.providers
        }

        function Wl(e, t) {
            for (let n of e) xe(n) && (n = n.\u0275providers), Array.isArray(n) ? Wl(n, t) : t(n)
        }

        const Xg = de({provide: String, useValue: de});

        function Kl(e) {
            return null !== e && "object" == typeof e && Xg in e
        }

        function Wa(e) {
            return "function" == typeof e
        }

        const Yl = new Ar("Set Injector scope."), As = {}, t1 = {};
        let Jl;

        function Ts() {
            return void 0 === Jl && (Jl = new Ec), Jl
        }

        class Ka {
        }

        class Ac extends Ka {
            get destroyed() {
                return this._destroyed
            }

            constructor(t, n, r, i) {
                super(), this.parent = n, this.source = r, this.scopes = i, this.records = new Map, this._ngOnDestroyHooks = new Set, this._onDestroyHooks = [], this._destroyed = !1, Ql(t, l => this.processProvider(l)), this.records.set(Dc, ho(void 0, this)), i.has("environment") && this.records.set(Ka, ho(void 0, this));
                const o = this.records.get(Yl);
                null != o && "string" == typeof o.value && this.scopes.add(o.value), this.injectorDefTypes = new Set(this.get(Cc.multi, A, Gt.Self))
            }

            destroy() {
                this.assertNotDestroyed(), this._destroyed = !0;
                try {
                    for (const t of this._ngOnDestroyHooks) t.ngOnDestroy();
                    for (const t of this._onDestroyHooks) t()
                } finally {
                    this.records.clear(), this._ngOnDestroyHooks.clear(), this.injectorDefTypes.clear(), this._onDestroyHooks.length = 0
                }
            }

            onDestroy(t) {
                this._onDestroyHooks.push(t)
            }

            runInContext(t) {
                this.assertNotDestroyed();
                const n = Xn(this), r = Nn(void 0);
                try {
                    return t()
                } finally {
                    Xn(n), Nn(r)
                }
            }

            get(t, n = In, r = Gt.Default) {
                this.assertNotDestroyed(), r = le(r);
                const i = Xn(this), o = Nn(void 0);
                try {
                    if (!(r & Gt.SkipSelf)) {
                        let h = this.records.get(t);
                        if (void 0 === h) {
                            const y = function o1(e) {
                                return "function" == typeof e || "object" == typeof e && e instanceof Ar
                            }(t) && Mn(t);
                            h = y && this.injectableDefInScope(y) ? ho(Zl(t), As) : null, this.records.set(t, h)
                        }
                        if (null != h) return this.hydrate(t, h)
                    }
                    return (r & Gt.Self ? Ts() : this.parent).get(t, n = r & Gt.Optional && n === In ? null : n)
                } catch (l) {
                    if ("NullInjectorError" === l.name) {
                        if ((l[Tt] = l[Tt] || []).unshift(Te(t)), i) throw l;
                        return function Et(e, t, n, r) {
                            const i = e[Tt];
                            throw t[mr] && i.unshift(t[mr]), e.message = function vn(e, t, n, r = null) {
                                e = e && "\n" === e.charAt(0) && "\u0275" == e.charAt(1) ? e.slice(2) : e;
                                let i = Te(t);
                                if (Array.isArray(t)) i = t.map(Te).join(" -> "); else if ("object" == typeof t) {
                                    let o = [];
                                    for (let l in t) if (t.hasOwnProperty(l)) {
                                        let h = t[l];
                                        o.push(l + ":" + ("string" == typeof h ? JSON.stringify(h) : Te(h)))
                                    }
                                    i = `{${o.join(", ")}}`
                                }
                                return `${n}${r ? "(" + r + ")" : ""}[${i}]: ${e.replace(Lr, "\n  ")}`
                            }("\n" + e.message, i, n, r), e.ngTokenPath = i, e[Tt] = null, e
                        }(l, t, "R3InjectorError", this.source)
                    }
                    throw l
                } finally {
                    Nn(o), Xn(i)
                }
            }

            resolveInjectorInitializers() {
                const t = Xn(this), n = Nn(void 0);
                try {
                    const r = this.get(zl.multi, A, Gt.Self);
                    for (const i of r) i()
                } finally {
                    Xn(t), Nn(n)
                }
            }

            toString() {
                const t = [], n = this.records;
                for (const r of n.keys()) t.push(Te(r));
                return `R3Injector[${t.join(", ")}]`
            }

            assertNotDestroyed() {
                if (this._destroyed) throw new ye(205, !1)
            }

            processProvider(t) {
                let n = Wa(t = Q(t)) ? t : Q(t && t.provide);
                const r = function r1(e) {
                    return Kl(e) ? ho(void 0, e.useValue) : ho(Tc(e), As)
                }(t);
                if (Wa(t) || !0 !== t.multi) this.records.get(n); else {
                    let i = this.records.get(n);
                    i || (i = ho(void 0, As, !0), i.factory = () => Ee(i.multi), this.records.set(n, i)), n = t, i.multi.push(t)
                }
                this.records.set(n, r)
            }

            hydrate(t, n) {
                return n.value === As && (n.value = t1, n.value = n.factory()), "object" == typeof n.value && n.value && function a1(e) {
                    return null !== e && "object" == typeof e && "function" == typeof e.ngOnDestroy
                }(n.value) && this._ngOnDestroyHooks.add(n.value), n.value
            }

            injectableDefInScope(t) {
                if (!t.providedIn) return !1;
                const n = Q(t.providedIn);
                return "string" == typeof n ? "any" === n || this.scopes.has(n) : this.injectorDefTypes.has(n)
            }
        }

        function Zl(e) {
            const t = Mn(e), n = null !== t ? t.factory : ui(e);
            if (null !== n) return n;
            if (e instanceof Ar) throw new ye(204, !1);
            if (e instanceof Function) return function n1(e) {
                const t = e.length;
                if (t > 0) throw f(t, "?"), new ye(204, !1);
                const n = function zt(e) {
                    const t = e && (e[xn] || e[gn]);
                    if (t) {
                        const n = function An(e) {
                            if (e.hasOwnProperty("name")) return e.name;
                            const t = ("" + e).match(/^function\s*([^\s(]+)/);
                            return null === t ? "" : t[1]
                        }(e);
                        return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`), t
                    }
                    return null
                }(e);
                return null !== n ? () => n.factory(e) : () => new e
            }(e);
            throw new ye(204, !1)
        }

        function Tc(e, t, n) {
            let r;
            if (Wa(e)) {
                const i = Q(e);
                return ui(i) || Zl(i)
            }
            if (Kl(e)) r = () => Q(e.useValue); else if (function xc(e) {
                return !(!e || !e.useFactory)
            }(e)) r = () => e.useFactory(...Ee(e.deps || [])); else if (function Mc(e) {
                return !(!e || !e.useExisting)
            }(e)) r = () => Yt(Q(e.useExisting)); else {
                const i = Q(e && (e.useClass || e.provide));
                if (!function i1(e) {
                    return !!e.deps
                }(e)) return ui(i) || Zl(i);
                r = () => new i(...Ee(e.deps))
            }
            return r
        }

        function ho(e, t, n = !1) {
            return {factory: e, value: t, multi: n ? [] : void 0}
        }

        function Ql(e, t) {
            for (const n of e) Array.isArray(n) ? Ql(n, t) : n && xe(n) ? Ql(n.\u0275providers, t) : t(n)
        }

        class s1 {
        }

        class Ic {
        }

        class u1 {
            resolveComponentFactory(t) {
                throw function l1(e) {
                    const t = Error(`No component factory found for ${Te(e)}. Did you add it to @NgModule.entryComponents?`);
                    return t.ngComponent = e, t
                }(t)
            }
        }

        let Qo = (() => {
            class e {
            }

            return e.NULL = new u1, e
        })();

        function d1() {
            return po(jr(), Xe())
        }

        function po(e, t) {
            return new qo(gr(e, t))
        }

        let qo = (() => {
            class e {
                constructor(n) {
                    this.nativeElement = n
                }
            }

            return e.__NG_ELEMENT_ID__ = d1, e
        })();

        function c1(e) {
            return e instanceof qo ? e.nativeElement : e
        }

        class Oc {
        }

        let f1 = (() => {
            class e {
            }

            return e.__NG_ELEMENT_ID__ = () => function h1() {
                const e = Xe(), n = ti(jr().index, e);
                return (Vt(n) ? n : e)[11]
            }(), e
        })(), p1 = (() => {
            class e {
            }

            return e.\u0275prov = Bt({token: e, providedIn: "root", factory: () => null}), e
        })();

        class Nc {
            constructor(t) {
                this.full = t, this.major = t.split(".")[0], this.minor = t.split(".")[1], this.patch = t.split(".").slice(2).join(".")
            }
        }

        const m1 = new Nc("15.1.4"), ql = {};

        function eu(e) {
            return e.ngOriginalError
        }

        class Xo {
            constructor() {
                this._console = console
            }

            handleError(t) {
                const n = this._findOriginalError(t);
                this._console.error("ERROR", t), n && this._console.error("ORIGINAL ERROR", n)
            }

            _findOriginalError(t) {
                let n = t && eu(t);
                for (; n && eu(n);) n = eu(n);
                return n || null
            }
        }

        function Fc(e) {
            return e.ownerDocument.defaultView
        }

        function ba(e) {
            return e instanceof Function ? e() : e
        }

        function Lc(e, t, n) {
            let r = e.length;
            for (; ;) {
                const i = e.indexOf(t, n);
                if (-1 === i) return i;
                if (0 === i || e.charCodeAt(i - 1) <= 32) {
                    const o = t.length;
                    if (i + o === r || e.charCodeAt(i + o) <= 32) return i
                }
                n = i + 1
            }
        }

        const kc = "ng-template";

        function S1(e, t, n) {
            let r = 0;
            for (; r < e.length;) {
                let i = e[r++];
                if (n && "class" === i) {
                    if (i = e[r], -1 !== Lc(i.toLowerCase(), t, 0)) return !0
                } else if (1 === i) {
                    for (; r < e.length && "string" == typeof (i = e[r++]);) if (i.toLowerCase() === t) return !0;
                    return !1
                }
            }
            return !1
        }

        function Vc(e) {
            return 4 === e.type && e.value !== kc
        }

        function M1(e, t, n) {
            return t === (4 !== e.type || n ? e.value : kc)
        }

        function x1(e, t, n) {
            let r = 4;
            const i = e.attrs || [], o = function I1(e) {
                for (let t = 0; t < e.length; t++) if (Vi(e[t])) return t;
                return e.length
            }(i);
            let l = !1;
            for (let h = 0; h < t.length; h++) {
                const y = t[h];
                if ("number" != typeof y) {
                    if (!l) if (4 & r) {
                        if (r = 2 | 1 & r, "" !== y && !M1(e, y, n) || "" === y && 1 === t.length) {
                            if (Zi(r)) return !1;
                            l = !0
                        }
                    } else {
                        const T = 8 & r ? y : t[++h];
                        if (8 & r && null !== e.attrs) {
                            if (!S1(e.attrs, T, n)) {
                                if (Zi(r)) return !1;
                                l = !0
                            }
                            continue
                        }
                        const ee = A1(8 & r ? "class" : y, i, Vc(e), n);
                        if (-1 === ee) {
                            if (Zi(r)) return !1;
                            l = !0;
                            continue
                        }
                        if ("" !== T) {
                            let Me;
                            Me = ee > o ? "" : i[ee + 1].toLowerCase();
                            const je = 8 & r ? Me : null;
                            if (je && -1 !== Lc(je, T, 0) || 2 & r && T !== Me) {
                                if (Zi(r)) return !1;
                                l = !0
                            }
                        }
                    }
                } else {
                    if (!l && !Zi(r) && !Zi(y)) return !1;
                    if (l && Zi(y)) continue;
                    l = !1, r = y | 1 & r
                }
            }
            return Zi(r) || l
        }

        function Zi(e) {
            return 0 == (1 & e)
        }

        function A1(e, t, n, r) {
            if (null === t) return -1;
            let i = 0;
            if (r || !n) {
                let o = !1;
                for (; i < t.length;) {
                    const l = t[i];
                    if (l === e) return i;
                    if (3 === l || 6 === l) o = !0; else {
                        if (1 === l || 2 === l) {
                            let h = t[++i];
                            for (; "string" == typeof h;) h = t[++i];
                            continue
                        }
                        if (4 === l) break;
                        if (0 === l) {
                            i += 4;
                            continue
                        }
                    }
                    i += o ? 1 : 2
                }
                return -1
            }
            return function P1(e, t) {
                let n = e.indexOf(4);
                if (n > -1) for (n++; n < e.length;) {
                    const r = e[n];
                    if ("number" == typeof r) return -1;
                    if (r === t) return n;
                    n++
                }
                return -1
            }(t, e)
        }

        function Hc(e, t, n = !1) {
            for (let r = 0; r < t.length; r++) if (x1(e, t[r], n)) return !0;
            return !1
        }

        function O1(e, t) {
            e:for (let n = 0; n < t.length; n++) {
                const r = t[n];
                if (e.length === r.length) {
                    for (let i = 0; i < e.length; i++) if (e[i] !== r[i]) continue e;
                    return !0
                }
            }
            return !1
        }

        function Bc(e, t) {
            return e ? ":not(" + t.trim() + ")" : t
        }

        function N1(e) {
            let t = e[0], n = 1, r = 2, i = "", o = !1;
            for (; n < e.length;) {
                let l = e[n];
                if ("string" == typeof l) if (2 & r) {
                    const h = e[++n];
                    i += "[" + l + (h.length > 0 ? '="' + h + '"' : "") + "]"
                } else 8 & r ? i += "." + l : 4 & r && (i += " " + l); else "" !== i && !Zi(l) && (t += Bc(o, i), i = ""), r = l, o = o || !Zi(r);
                n++
            }
            return "" !== i && (t += Bc(o, i)), t
        }

        const qn = {};

        function jc(e) {
            Uc(er(), Xe(), xr() + e, !1)
        }

        function Uc(e, t, n, r) {
            if (!r) if (3 == (3 & t[2])) {
                const o = e.preOrderCheckHooks;
                null !== o && Dn(t, o, n)
            } else {
                const o = e.preOrderHooks;
                null !== o && p(t, o, 0, n)
            }
            Qr(n)
        }

        function Wc(e, t = null, n = null, r) {
            const i = Kc(e, t, n, r);
            return i.resolveInjectorInitializers(), i
        }

        function Kc(e, t = null, n = null, r, i = new Set) {
            const o = [n || A, qg(e)];
            return r = r || ("object" == typeof e ? void 0 : Te(e)), new Ac(o, t || Ts(), r || null, i)
        }

        let Ya = (() => {
            class e {
                static create(n, r) {
                    if (Array.isArray(n)) return Wc({name: ""}, r, n, "");
                    {
                        const i = n.name ?? "";
                        return Wc({name: i}, n.parent, n.providers, i)
                    }
                }
            }

            return e.THROW_IF_NOT_FOUND = In, e.NULL = new Ec, e.\u0275prov = Bt({
                token: e,
                providedIn: "any",
                factory: () => Yt(Dc)
            }), e.__NG_ELEMENT_ID__ = -1, e
        })();

        function yo(e, t = Gt.Default) {
            const n = Xe();
            return null === n ? Yt(e, t) : ka(jr(), n, Q(e), t)
        }

        function ef() {
            throw new Error("invalid")
        }

        function tf(e, t) {
            const n = e.contentQueries;
            if (null !== n) for (let r = 0; r < n.length; r += 2) {
                const o = n[r + 1];
                if (-1 !== o) {
                    const l = e.data[o];
                    Un(n[r]), l.contentQueries(2, t[o], o)
                }
            }
        }

        function Ps(e, t, n, r, i, o, l, h, y, T, j) {
            const ee = t.blueprint.slice();
            return ee[0] = i, ee[2] = 76 | r, (null !== j || e && 1024 & e[2]) && (ee[2] |= 1024), Ti(ee), ee[3] = ee[X] = e, ee[8] = n, ee[10] = l || e && e[10], ee[11] = h || e && e[11], ee[12] = y || e && e[12] || null, ee[9] = T || e && e[9] || null, ee[6] = o, ee[20] = function Xm() {
                return qm++
            }(), ee[21] = j, ee[16] = 2 == t.type ? e[16] : ee, ee
        }

        function vo(e, t, n, r, i) {
            let o = e.data[t];
            if (null === o) o = function au(e, t, n, r, i) {
                const o = Ri(), l = wa(), y = e.data[t] = function a2(e, t, n, r, i, o) {
                    return {
                        type: n,
                        index: r,
                        insertBeforeIndex: null,
                        injectorIndex: t ? t.injectorIndex : -1,
                        directiveStart: -1,
                        directiveEnd: -1,
                        directiveStylingLast: -1,
                        componentOffset: -1,
                        propertyBindings: null,
                        flags: 0,
                        providerIndexes: 0,
                        value: i,
                        attrs: o,
                        mergedAttrs: null,
                        localNames: null,
                        initialInputs: void 0,
                        inputs: null,
                        outputs: null,
                        tViews: null,
                        next: null,
                        projectionNext: null,
                        child: null,
                        parent: t,
                        projection: null,
                        styles: null,
                        stylesWithoutHost: null,
                        residualStyles: void 0,
                        classes: null,
                        classesWithoutHost: null,
                        residualClasses: void 0,
                        classBindings: 0,
                        styleBindings: 0
                    }
                }(0, l ? o : o && o.parent, n, t, r, i);
                return null === e.firstChild && (e.firstChild = y), null !== o && (l ? null == o.child && null !== y.parent && (o.child = y) : null === o.next && (o.next = y)), y
            }(e, t, n, r, i), function fe() {
                return kn.lFrame.inI18n
            }() && (o.flags |= 32); else if (64 & o.type) {
                o.type = n, o.value = r, o.attrs = i;
                const l = function zi() {
                    const e = kn.lFrame, t = e.currentTNode;
                    return e.isParent ? t : t.parent
                }();
                o.injectorIndex = null === l ? -1 : l.injectorIndex
            }
            return fi(o, !0), o
        }

        function es(e, t, n, r) {
            if (0 === n) return -1;
            const i = t.length;
            for (let o = 0; o < n; o++) t.push(r), e.blueprint.push(r), e.data.push(null);
            return i
        }

        function ou(e, t, n) {
            sr(t);
            try {
                const r = e.viewQuery;
                null !== r && gu(1, r, n);
                const i = e.template;
                null !== i && nf(e, t, i, 1, n), e.firstCreatePass && (e.firstCreatePass = !1), e.staticContentQueries && tf(e, t), e.staticViewQueries && gu(2, e.viewQuery, n);
                const o = e.components;
                null !== o && function n2(e, t) {
                    for (let n = 0; n < t.length; n++) w2(e, t[n])
                }(t, o)
            } catch (r) {
                throw e.firstCreatePass && (e.incompleteFirstPass = !0, e.firstCreatePass = !1), r
            } finally {
                t[2] &= -5, Li()
            }
        }

        function Os(e, t, n, r) {
            const i = t[2];
            if (128 != (128 & i)) {
                sr(t);
                try {
                    Ti(t), function E(e) {
                        return kn.lFrame.bindingIndex = e
                    }(e.bindingStartIndex), null !== n && nf(e, t, n, 2, r);
                    const l = 3 == (3 & i);
                    if (l) {
                        const T = e.preOrderCheckHooks;
                        null !== T && Dn(t, T, null)
                    } else {
                        const T = e.preOrderHooks;
                        null !== T && p(t, T, 0, null), I(t, 0)
                    }
                    if (function C2(e) {
                        for (let t = Ml(e); null !== t; t = xl(t)) {
                            if (!t[2]) continue;
                            const n = t[9];
                            for (let r = 0; r < n.length; r++) {
                                const i = n[r];
                                512 & i[2] || Ei(i[3], 1), i[2] |= 512
                            }
                        }
                    }(t), function D2(e) {
                        for (let t = Ml(e); null !== t; t = xl(t)) for (let n = 10; n < t.length; n++) {
                            const r = t[n], i = r[1];
                            gi(r) && Os(i, r, i.template, r[8])
                        }
                    }(t), null !== e.contentQueries && tf(e, t), l) {
                        const T = e.contentCheckHooks;
                        null !== T && Dn(t, T)
                    } else {
                        const T = e.contentHooks;
                        null !== T && p(t, T, 1), I(t, 1)
                    }
                    !function e2(e, t) {
                        const n = e.hostBindingOpCodes;
                        if (null !== n) try {
                            for (let r = 0; r < n.length; r++) {
                                const i = n[r];
                                if (i < 0) Qr(~i); else {
                                    const o = i, l = n[++r], h = n[++r];
                                    ze(l, o), h(2, t[o])
                                }
                            }
                        } finally {
                            Qr(-1)
                        }
                    }(e, t);
                    const h = e.components;
                    null !== h && function t2(e, t) {
                        for (let n = 0; n < t.length; n++) E2(e, t[n])
                    }(t, h);
                    const y = e.viewQuery;
                    if (null !== y && gu(2, y, r), l) {
                        const T = e.viewCheckHooks;
                        null !== T && Dn(t, T)
                    } else {
                        const T = e.viewHooks;
                        null !== T && p(t, T, 2), I(t, 2)
                    }
                    !0 === e.firstUpdatePass && (e.firstUpdatePass = !1), t[2] &= -41, 512 & t[2] && (t[2] &= -513, Ei(t[3], -1))
                } finally {
                    Li()
                }
            }
        }

        function nf(e, t, n, r, i) {
            const o = xr(), l = 2 & r;
            try {
                Qr(-1), l && t.length > 22 && Uc(e, t, 22, !1), n(r, i)
            } finally {
                Qr(o)
            }
        }

        function su(e, t, n) {
            if (Qt(t)) {
                const i = t.directiveEnd;
                for (let o = t.directiveStart; o < i; o++) {
                    const l = e.data[o];
                    l.contentQueries && l.contentQueries(1, n[o], o)
                }
            }
        }

        function lu(e, t, n) {
            qe() && (function c2(e, t, n, r) {
                const i = n.directiveStart, o = n.directiveEnd;
                xt(n) && function v2(e, t, n) {
                    const r = gr(t, e), i = rf(n), o = e[10],
                        l = Ns(e, Ps(e, i, null, n.onPush ? 32 : 16, r, t, o, o.createRenderer(r, n), null, null, null));
                    e[t.index] = l
                }(t, n, e.data[i + n.componentOffset]), e.firstCreatePass || ro(n, t), vi(r, t);
                const l = n.initialInputs;
                for (let h = i; h < o; h++) {
                    const y = e.data[h], T = Ma(t, e, h, n);
                    vi(T, t), null !== l && _2(0, h - i, T, y, 0, l), wt(y) && (ti(n.index, t)[8] = Ma(t, e, h, n))
                }
            }(e, t, n, gr(n, t)), 64 == (64 & n.flags) && cf(e, t, n))
        }

        function uu(e, t, n = gr) {
            const r = t.localNames;
            if (null !== r) {
                let i = t.index + 1;
                for (let o = 0; o < r.length; o += 2) {
                    const l = r[o + 1], h = -1 === l ? n(t, e) : e[l];
                    e[i++] = h
                }
            }
        }

        function rf(e) {
            const t = e.tView;
            return null === t || t.incompleteFirstPass ? e.tView = du(1, null, e.template, e.decls, e.vars, e.directiveDefs, e.pipeDefs, e.viewQuery, e.schemas, e.consts) : t
        }

        function du(e, t, n, r, i, o, l, h, y, T) {
            const j = 22 + r, ee = j + i, Me = function r2(e, t) {
                const n = [];
                for (let r = 0; r < t; r++) n.push(r < e ? null : qn);
                return n
            }(j, ee), je = "function" == typeof T ? T() : T;
            return Me[1] = {
                type: e,
                blueprint: Me,
                template: n,
                queries: null,
                viewQuery: h,
                declTNode: t,
                data: Me.slice().fill(null, j),
                bindingStartIndex: j,
                expandoStartIndex: ee,
                hostBindingOpCodes: null,
                firstCreatePass: !0,
                firstUpdatePass: !0,
                staticViewQueries: !1,
                staticContentQueries: !1,
                preOrderHooks: null,
                preOrderCheckHooks: null,
                contentHooks: null,
                contentCheckHooks: null,
                viewHooks: null,
                viewCheckHooks: null,
                destroyHooks: null,
                cleanup: null,
                contentQueries: null,
                components: null,
                directiveRegistry: "function" == typeof o ? o() : o,
                pipeRegistry: "function" == typeof l ? l() : l,
                firstChild: null,
                schemas: y,
                consts: je,
                incompleteFirstPass: !1
            }
        }

        function af(e, t, n, r) {
            const i = hf(t);
            null === n ? i.push(r) : (i.push(n), e.firstCreatePass && pf(e).push(r, i.length - 1))
        }

        function sf(e, t, n, r) {
            for (let i in e) if (e.hasOwnProperty(i)) {
                n = null === n ? {} : n;
                const o = e[i];
                null === r ? lf(n, t, i, o) : r.hasOwnProperty(i) && lf(n, t, r[i], o)
            }
            return n
        }

        function lf(e, t, n, r) {
            e.hasOwnProperty(n) ? e[n].push(t, r) : e[n] = [t, r]
        }

        function Ui(e, t, n, r, i, o, l, h) {
            const y = gr(t, n);
            let j, T = t.inputs;
            !h && null != T && (j = T[r]) ? (yu(e, n, j, r, i), xt(t) && uf(n, t.index)) : 3 & t.type && (r = function s2(e) {
                return "class" === e ? "className" : "for" === e ? "htmlFor" : "formaction" === e ? "formAction" : "innerHtml" === e ? "innerHTML" : "readonly" === e ? "readOnly" : "tabindex" === e ? "tabIndex" : e
            }(r), i = null != l ? l(i, t.value || "", r) : i, o.setProperty(y, r, i))
        }

        function uf(e, t) {
            const n = ti(t, e);
            16 & n[2] || (n[2] |= 32)
        }

        function cu(e, t, n, r) {
            let i = !1;
            if (qe()) {
                const o = null === r ? null : {"": -1}, l = function h2(e, t) {
                    const n = e.directiveRegistry;
                    let r = null, i = null;
                    if (n) for (let o = 0; o < n.length; o++) {
                        const l = n[o];
                        if (Hc(t, l.selectors, !1)) if (r || (r = []), wt(l)) if (null !== l.findHostDirectiveDefs) {
                            const h = [];
                            i = i || new Map, l.findHostDirectiveDefs(l, h, i), r.unshift(...h, l), fu(e, t, h.length)
                        } else r.unshift(l), fu(e, t, 0); else i = i || new Map, l.findHostDirectiveDefs?.(l, r, i), r.push(l)
                    }
                    return null === r ? null : [r, i]
                }(e, n);
                let h, y;
                null === l ? h = y = null : [h, y] = l, null !== h && (i = !0, df(e, t, n, h, o, y)), o && function p2(e, t, n) {
                    if (t) {
                        const r = e.localNames = [];
                        for (let i = 0; i < t.length; i += 2) {
                            const o = n[t[i + 1]];
                            if (null == o) throw new ye(-301, !1);
                            r.push(t[i], o)
                        }
                    }
                }(n, r, o)
            }
            return n.mergedAttrs = hi(n.mergedAttrs, n.attrs), i
        }

        function df(e, t, n, r, i, o) {
            for (let T = 0; T < r.length; T++) Lo(ro(n, t), e, r[T].type);
            !function g2(e, t, n) {
                e.flags |= 1, e.directiveStart = t, e.directiveEnd = t + n, e.providerIndexes = t
            }(n, e.data.length, r.length);
            for (let T = 0; T < r.length; T++) {
                const j = r[T];
                j.providersResolver && j.providersResolver(j)
            }
            let l = !1, h = !1, y = es(e, t, r.length, null);
            for (let T = 0; T < r.length; T++) {
                const j = r[T];
                n.mergedAttrs = hi(n.mergedAttrs, j.hostAttrs), y2(e, n, t, y, j), m2(y, j, i), null !== j.contentQueries && (n.flags |= 4), (null !== j.hostBindings || null !== j.hostAttrs || 0 !== j.hostVars) && (n.flags |= 64);
                const ee = j.type.prototype;
                !l && (ee.ngOnChanges || ee.ngOnInit || ee.ngDoCheck) && ((e.preOrderHooks || (e.preOrderHooks = [])).push(n.index), l = !0), !h && (ee.ngOnChanges || ee.ngDoCheck) && ((e.preOrderCheckHooks || (e.preOrderCheckHooks = [])).push(n.index), h = !0), y++
            }
            !function o2(e, t, n) {
                const i = t.directiveEnd, o = e.data, l = t.attrs, h = [];
                let y = null, T = null;
                for (let j = t.directiveStart; j < i; j++) {
                    const ee = o[j], Me = n ? n.get(ee) : null, ct = Me ? Me.outputs : null;
                    y = sf(ee.inputs, j, y, Me ? Me.inputs : null), T = sf(ee.outputs, j, T, ct);
                    const Rt = null === y || null === l || Vc(t) ? null : b2(y, j, l);
                    h.push(Rt)
                }
                null !== y && (y.hasOwnProperty("class") && (t.flags |= 8), y.hasOwnProperty("style") && (t.flags |= 16)), t.initialInputs = h, t.inputs = y, t.outputs = T
            }(e, n, o)
        }

        function cf(e, t, n) {
            const r = n.directiveStart, i = n.directiveEnd, o = n.index, l = function ot() {
                return kn.lFrame.currentDirectiveIndex
            }();
            try {
                Qr(o);
                for (let h = r; h < i; h++) {
                    const y = e.data[h], T = t[h];
                    jt(h), (null !== y.hostBindings || 0 !== y.hostVars || null !== y.hostAttrs) && f2(y, T)
                }
            } finally {
                Qr(-1), jt(l)
            }
        }

        function f2(e, t) {
            null !== e.hostBindings && e.hostBindings(1, t)
        }

        function fu(e, t, n) {
            t.componentOffset = n, (e.components || (e.components = [])).push(t.index)
        }

        function m2(e, t, n) {
            if (n) {
                if (t.exportAs) for (let r = 0; r < t.exportAs.length; r++) n[t.exportAs[r]] = e;
                wt(t) && (n[""] = e)
            }
        }

        function y2(e, t, n, r, i) {
            e.data[r] = i;
            const o = i.factory || (i.factory = ui(i.type)), l = new ke(o, wt(i), yo);
            e.blueprint[r] = l, n[r] = l, function u2(e, t, n, r, i) {
                const o = i.hostBindings;
                if (o) {
                    let l = e.hostBindingOpCodes;
                    null === l && (l = e.hostBindingOpCodes = []);
                    const h = ~t.index;
                    (function d2(e) {
                        let t = e.length;
                        for (; t > 0;) {
                            const n = e[--t];
                            if ("number" == typeof n && n < 0) return n
                        }
                        return 0
                    })(l) != h && l.push(h), l.push(n, r, o)
                }
            }(e, t, r, es(e, n, i.hostVars, qn), i)
        }

        function oa(e, t, n, r, i, o) {
            const l = gr(e, t);
            !function hu(e, t, n, r, i, o, l) {
                if (null == o) e.removeAttribute(t, i, n); else {
                    const h = null == l ? $e(o) : l(o, r || "", i);
                    e.setAttribute(t, i, h, n)
                }
            }(t[11], l, o, e.value, n, r, i)
        }

        function _2(e, t, n, r, i, o) {
            const l = o[t];
            if (null !== l) {
                const h = r.setInput;
                for (let y = 0; y < l.length;) {
                    const T = l[y++], j = l[y++], ee = l[y++];
                    null !== h ? r.setInput(n, ee, T, j) : n[j] = ee
                }
            }
        }

        function b2(e, t, n) {
            let r = null, i = 0;
            for (; i < n.length;) {
                const o = n[i];
                if (0 !== o) if (5 !== o) {
                    if ("number" == typeof o) break;
                    if (e.hasOwnProperty(o)) {
                        null === r && (r = []);
                        const l = e[o];
                        for (let h = 0; h < l.length; h += 2) if (l[h] === t) {
                            r.push(o, l[h + 1], n[i + 1]);
                            break
                        }
                    }
                    i += 2
                } else i += 2; else i += 4
            }
            return r
        }

        function ff(e, t, n, r) {
            return [e, !0, !1, t, null, 0, r, n, null, null]
        }

        function E2(e, t) {
            const n = ti(t, e);
            if (gi(n)) {
                const r = n[1];
                48 & n[2] ? Os(r, n, r.template, n[8]) : n[5] > 0 && pu(n)
            }
        }

        function pu(e) {
            for (let r = Ml(e); null !== r; r = xl(r)) for (let i = 10; i < r.length; i++) {
                const o = r[i];
                if (gi(o)) if (512 & o[2]) {
                    const l = o[1];
                    Os(l, o, l.template, o[8])
                } else o[5] > 0 && pu(o)
            }
            const n = e[1].components;
            if (null !== n) for (let r = 0; r < n.length; r++) {
                const i = ti(n[r], e);
                gi(i) && i[5] > 0 && pu(i)
            }
        }

        function w2(e, t) {
            const n = ti(t, e), r = n[1];
            (function S2(e, t) {
                for (let n = t.length; n < e.blueprint.length; n++) t.push(e.blueprint[n])
            })(r, n), ou(r, n, n[8])
        }

        function Ns(e, t) {
            return e[13] ? e[14][4] = t : e[13] = t, e[14] = t, t
        }

        function mu(e) {
            for (; e;) {
                e[2] |= 32;
                const t = Wo(e);
                if (bn(e) && !t) return e;
                e = t
            }
            return null
        }

        function Fs(e, t, n, r = !0) {
            const i = t[10];
            i.begin && i.begin();
            try {
                Os(e, t, e.template, n)
            } catch (l) {
                throw r && gf(t, l), l
            } finally {
                i.end && i.end()
            }
        }

        function gu(e, t, n) {
            Un(0), t(e, n)
        }

        function hf(e) {
            return e[7] || (e[7] = [])
        }

        function pf(e) {
            return e.cleanup || (e.cleanup = [])
        }

        function gf(e, t) {
            const n = e[9], r = n ? n.get(Xo, null) : null;
            r && r.handleError(t)
        }

        function yu(e, t, n, r, i) {
            for (let o = 0; o < n.length;) {
                const l = n[o++], h = n[o++], y = t[l], T = e.data[l];
                null !== T.setInput ? T.setInput(y, i, r, h) : y[h] = i
            }
        }

        function Da(e, t, n) {
            const r = Fi(t, e);
            !function Wd(e, t, n) {
                e.setValue(t, n)
            }(e[11], r, n)
        }

        function Rs(e, t, n) {
            let r = n ? e.styles : null, i = n ? e.classes : null, o = 0;
            if (null !== t) for (let l = 0; l < t.length; l++) {
                const h = t[l];
                "number" == typeof h ? o = h : 1 == o ? i = Se(i, h) : 2 == o && (r = Se(r, h + ": " + t[++l] + ";"))
            }
            n ? e.styles = r : e.stylesWithoutHost = r, n ? e.classes = i : e.classesWithoutHost = i
        }

        function Ls(e, t, n, r, i = !1) {
            for (; null !== n;) {
                const o = t[n.index];
                if (null !== o && r.push(He(o)), hn(o)) for (let h = 10; h < o.length; h++) {
                    const y = o[h], T = y[1].firstChild;
                    null !== T && Ls(y[1], y, T, r)
                }
                const l = n.type;
                if (8 & l) Ls(e, t, n.child, r); else if (32 & l) {
                    const h = Sl(n, t);
                    let y;
                    for (; y = h();) r.push(y)
                } else if (16 & l) {
                    const h = rc(t, n);
                    if (Array.isArray(h)) r.push(...h); else {
                        const y = Wo(t[16]);
                        Ls(y[1], y, h, r, !0)
                    }
                }
                n = i ? n.projectionNext : n.next
            }
            return r
        }

        class ts {
            get rootNodes() {
                const t = this._lView, n = t[1];
                return Ls(n, t, n.firstChild, [])
            }

            constructor(t, n) {
                this._lView = t, this._cdRefInjectingView = n, this._appRef = null, this._attachedToViewContainer = !1
            }

            get context() {
                return this._lView[8]
            }

            set context(t) {
                this._lView[8] = t
            }

            get destroyed() {
                return 128 == (128 & this._lView[2])
            }

            destroy() {
                if (this._appRef) this._appRef.detachView(this); else if (this._attachedToViewContainer) {
                    const t = this._lView[3];
                    if (hn(t)) {
                        const n = t[8], r = n ? n.indexOf(this) : -1;
                        r > -1 && (Il(t, r), d(n, r))
                    }
                    this._attachedToViewContainer = !1
                }
                Yd(this._lView[1], this._lView)
            }

            onDestroy(t) {
                af(this._lView[1], this._lView, null, t)
            }

            markForCheck() {
                mu(this._cdRefInjectingView || this._lView)
            }

            detach() {
                this._lView[2] &= -65
            }

            reattach() {
                this._lView[2] |= 64
            }

            detectChanges() {
                Fs(this._lView[1], this._lView, this.context)
            }

            checkNoChanges() {
            }

            attachToViewContainerRef() {
                if (this._appRef) throw new ye(902, !1);
                this._attachedToViewContainer = !0
            }

            detachFromAppRef() {
                this._appRef = null, function pg(e, t) {
                    Ko(e, t, t[11], 2, null, null)
                }(this._lView[1], this._lView)
            }

            attachToAppRef(t) {
                if (this._attachedToViewContainer) throw new ye(902, !1);
                this._appRef = t
            }
        }

        class M2 extends ts {
            constructor(t) {
                super(t), this._view = t
            }

            detectChanges() {
                const t = this._view;
                Fs(t[1], t, t[8], !1)
            }

            checkNoChanges() {
            }

            get context() {
                return null
            }
        }

        class yf extends Qo {
            constructor(t) {
                super(), this.ngModule = t
            }

            resolveComponentFactory(t) {
                const n = wn(t);
                return new ns(n, this.ngModule)
            }
        }

        function vf(e) {
            const t = [];
            for (let n in e) e.hasOwnProperty(n) && t.push({propName: e[n], templateName: n});
            return t
        }

        class A2 {
            constructor(t, n) {
                this.injector = t, this.parentInjector = n
            }

            get(t, n, r) {
                r = le(r);
                const i = this.injector.get(t, ql, r);
                return i !== ql || n === ql ? i : this.parentInjector.get(t, n, r)
            }
        }

        class ns extends Ic {
            get inputs() {
                return vf(this.componentDef.inputs)
            }

            get outputs() {
                return vf(this.componentDef.outputs)
            }

            constructor(t, n) {
                super(), this.componentDef = t, this.ngModule = n, this.componentType = t.type, this.selector = function F1(e) {
                    return e.map(N1).join(",")
                }(t.selectors), this.ngContentSelectors = t.ngContentSelectors ? t.ngContentSelectors : [], this.isBoundToModule = !!n
            }

            create(t, n, r, i) {
                let o = (i = i || this.ngModule) instanceof Ka ? i : i?.injector;
                o && null !== this.componentDef.getStandaloneInjector && (o = this.componentDef.getStandaloneInjector(o) || o);
                const l = o ? new A2(t, o) : t, h = l.get(Oc, null);
                if (null === h) throw new ye(407, !1);
                const y = l.get(p1, null), T = h.createRenderer(null, this.componentDef),
                    j = this.componentDef.selectors[0][0] || "div", ee = r ? function i2(e, t, n) {
                        return e.selectRootElement(t, n === w.ShadowDom)
                    }(T, r, this.componentDef.encapsulation) : Tl(T, j, function x2(e) {
                        const t = e.toLowerCase();
                        return "svg" === t ? "svg" : "math" === t ? "math" : null
                    }(j)), Me = this.componentDef.onPush ? 288 : 272,
                    je = du(0, null, null, 1, 0, null, null, null, null, null),
                    ct = Ps(null, je, null, Me, null, null, h, T, y, l, null);
                let Rt, Kt;
                sr(ct);
                try {
                    const un = this.componentDef;
                    let Vn, St = null;
                    un.findHostDirectiveDefs ? (Vn = [], St = new Map, un.findHostDirectiveDefs(un, Vn, St), Vn.push(un)) : Vn = [un];
                    const Yn = function I2(e, t) {
                        const n = e[1];
                        return e[22] = t, vo(n, 22, 2, "#host", null)
                    }(ct, ee), Gr = function P2(e, t, n, r, i, o, l, h) {
                        const y = i[1];
                        !function O2(e, t, n, r) {
                            for (const i of e) t.mergedAttrs = hi(t.mergedAttrs, i.hostAttrs);
                            null !== t.mergedAttrs && (Rs(t, t.mergedAttrs, !0), null !== n && oc(r, n, t))
                        }(r, e, t, l);
                        const T = o.createRenderer(t, n),
                            j = Ps(i, rf(n), null, n.onPush ? 32 : 16, i[e.index], e, o, T, h || null, null, null);
                        return y.firstCreatePass && fu(y, e, r.length - 1), Ns(i, j), i[e.index] = j
                    }(Yn, ee, un, Vn, ct, h, T);
                    Kt = Di(je, 22), ee && function F2(e, t, n, r) {
                        if (r) Kr(e, n, ["ng-version", m1.full]); else {
                            const {attrs: i, classes: o} = function R1(e) {
                                const t = [], n = [];
                                let r = 1, i = 2;
                                for (; r < e.length;) {
                                    let o = e[r];
                                    if ("string" == typeof o) 2 === i ? "" !== o && t.push(o, e[++r]) : 8 === i && n.push(o); else {
                                        if (!Zi(i)) break;
                                        i = o
                                    }
                                    r++
                                }
                                return {attrs: t, classes: n}
                            }(t.selectors[0]);
                            i && Kr(e, n, i), o && o.length > 0 && ac(e, n, o.join(" "))
                        }
                    }(T, un, ee, r), void 0 !== n && function R2(e, t, n) {
                        const r = e.projection = [];
                        for (let i = 0; i < t.length; i++) {
                            const o = n[i];
                            r.push(null != o ? Array.from(o) : null)
                        }
                    }(Kt, this.ngContentSelectors, n), Rt = function N2(e, t, n, r, i, o) {
                        const l = jr(), h = i[1], y = gr(l, i);
                        df(h, i, l, n, null, r);
                        for (let j = 0; j < n.length; j++) vi(Ma(i, h, l.directiveStart + j, l), i);
                        cf(h, i, l), y && vi(y, i);
                        const T = Ma(i, h, l.directiveStart + l.componentOffset, l);
                        if (e[8] = i[8] = T, null !== o) for (const j of o) j(T, t);
                        return su(h, l, e), T
                    }(Gr, un, Vn, St, ct, [L2]), ou(je, ct, null)
                } finally {
                    Li()
                }
                return new T2(this.componentType, Rt, po(Kt, ct), ct, Kt)
            }
        }

        class T2 extends s1 {
            constructor(t, n, r, i, o) {
                super(), this.location = r, this._rootLView = i, this._tNode = o, this.instance = n, this.hostView = this.changeDetectorRef = new M2(i), this.componentType = t
            }

            setInput(t, n) {
                const r = this._tNode.inputs;
                let i;
                if (null !== r && (i = r[t])) {
                    const o = this._rootLView;
                    yu(o[1], o, i, t, n), uf(o, this._tNode.index)
                }
            }

            get injector() {
                return new pa(this._tNode, this._rootLView)
            }

            destroy() {
                this.hostView.destroy()
            }

            onDestroy(t) {
                this.hostView.onDestroy(t)
            }
        }

        function L2() {
            const e = jr();
            mn(Xe()[1], e)
        }

        function vu(e) {
            let t = function _f(e) {
                return Object.getPrototypeOf(e.prototype).constructor
            }(e.type), n = !0;
            const r = [e];
            for (; t;) {
                let i;
                if (wt(e)) i = t.\u0275cmp || t.\u0275dir; else {
                    if (t.\u0275cmp) throw new ye(903, !1);
                    i = t.\u0275dir
                }
                if (i) {
                    if (n) {
                        r.push(i);
                        const l = e;
                        l.inputs = _u(e.inputs), l.declaredInputs = _u(e.declaredInputs), l.outputs = _u(e.outputs);
                        const h = i.hostBindings;
                        h && B2(e, h);
                        const y = i.viewQuery, T = i.contentQueries;
                        if (y && V2(e, y), T && H2(e, T), be(e.inputs, i.inputs), be(e.declaredInputs, i.declaredInputs), be(e.outputs, i.outputs), wt(i) && i.data.animation) {
                            const j = e.data;
                            j.animation = (j.animation || []).concat(i.data.animation)
                        }
                    }
                    const o = i.features;
                    if (o) for (let l = 0; l < o.length; l++) {
                        const h = o[l];
                        h && h.ngInherit && h(e), h === vu && (n = !1)
                    }
                }
                t = Object.getPrototypeOf(t)
            }
            !function k2(e) {
                let t = 0, n = null;
                for (let r = e.length - 1; r >= 0; r--) {
                    const i = e[r];
                    i.hostVars = t += i.hostVars, i.hostAttrs = hi(i.hostAttrs, n = hi(n, i.hostAttrs))
                }
            }(r)
        }

        function _u(e) {
            return e === z ? {} : e === A ? [] : e
        }

        function V2(e, t) {
            const n = e.viewQuery;
            e.viewQuery = n ? (r, i) => {
                t(r, i), n(r, i)
            } : t
        }

        function H2(e, t) {
            const n = e.contentQueries;
            e.contentQueries = n ? (r, i, o) => {
                t(r, i, o), n(r, i, o)
            } : t
        }

        function B2(e, t) {
            const n = e.hostBindings;
            e.hostBindings = n ? (r, i) => {
                t(r, i), n(r, i)
            } : t
        }

        let ks = null;

        function Ja() {
            if (!ks) {
                const e = sn.Symbol;
                if (e && e.iterator) ks = e.iterator; else {
                    const t = Object.getOwnPropertyNames(Map.prototype);
                    for (let n = 0; n < t.length; ++n) {
                        const r = t[n];
                        "entries" !== r && "size" !== r && Map.prototype[r] === Map.prototype.entries && (ks = r)
                    }
                }
            }
            return ks
        }

        function Vs(e) {
            return !!bu(e) && (Array.isArray(e) || !(e instanceof Map) && Ja() in e)
        }

        function bu(e) {
            return null !== e && ("function" == typeof e || "object" == typeof e)
        }

        function sa(e, t, n) {
            return e[t] = n
        }

        function rs(e, t) {
            return e[t]
        }

        function _i(e, t, n) {
            return !Object.is(e[t], n) && (e[t] = n, !0)
        }

        function Za(e, t, n, r) {
            const i = _i(e, t, n);
            return _i(e, t + 1, r) || i
        }

        function Du(e, t, n, r) {
            const i = Xe();
            return _i(i, N(), t) && (er(), oa(fr(), i, e, t, n, r)), Du
        }

        function bo(e, t, n, r) {
            return _i(e, N(), n) ? t + $e(n) + r : qn
        }

        function Co(e, t, n, r, i, o, l, h) {
            const T = function Hs(e, t, n, r, i) {
                const o = Za(e, t, n, r);
                return _i(e, t + 2, i) || o
            }(e, c(), n, i, l);
            return Y(3), T ? t + $e(n) + r + $e(i) + o + $e(l) + h : qn
        }

        function Of(e, t, n, r, i, o, l, h) {
            const y = Xe(), T = er(), j = e + 22, ee = T.firstCreatePass ? function Z2(e, t, n, r, i, o, l, h, y) {
                const T = t.consts, j = vo(t, e, 4, l || null, Ci(T, h));
                cu(t, n, j, Ci(T, y)), mn(t, j);
                const ee = j.tViews = du(2, j, r, i, o, t.directiveRegistry, t.pipeRegistry, null, t.schemas, T);
                return null !== t.queries && (t.queries.template(t, j), ee.queries = t.queries.embeddedTView(j)), j
            }(j, T, y, t, n, r, i, o, l) : T.data[j];
            fi(ee, !1);
            const Me = y[11].createComment("");
            Es(T, y, Me, ee), vi(Me, y), Ns(y, y[j] = ff(Me, y, Me, ee)), Ot(ee) && lu(T, y, ee), null != l && uu(y, ee, h)
        }

        function Nf(e) {
            return ci(function Fo() {
                return kn.lFrame.contextLView
            }(), 22 + e)
        }

        function Cu(e, t, n) {
            const r = Xe();
            return _i(r, N(), t) && Ui(er(), fr(), r, e, t, r[11], n, !1), Cu
        }

        function Eu(e, t, n, r, i) {
            const l = i ? "class" : "style";
            yu(e, n, t.inputs[l], l, r)
        }

        function Bs(e, t, n, r) {
            const i = Xe(), o = er(), l = 22 + e, h = i[11], y = i[l] = Tl(h, t, function Ra() {
                return kn.lFrame.currentNamespace
            }()), T = o.firstCreatePass ? function q2(e, t, n, r, i, o, l) {
                const h = t.consts, T = vo(t, e, 2, i, Ci(h, o));
                return cu(t, n, T, Ci(h, l)), null !== T.attrs && Rs(T, T.attrs, !1), null !== T.mergedAttrs && Rs(T, T.mergedAttrs, !0), null !== t.queries && t.queries.elementStart(t, T), T
            }(l, o, i, 0, t, n, r) : o.data[l];
            return fi(T, !0), oc(h, y, T), 32 != (32 & T.flags) && Es(o, i, y, T), 0 === function C() {
                return kn.lFrame.elementDepthCount
            }() && vi(y, i), function b() {
                kn.lFrame.elementDepthCount++
            }(), Ot(T) && (lu(o, i, T), su(o, T, i)), null !== r && uu(i, T), Bs
        }

        function js() {
            let e = jr();
            wa() ? Na() : (e = e.parent, fi(e, !1));
            const t = e;
            !function W() {
                kn.lFrame.elementDepthCount--
            }();
            const n = er();
            return n.firstCreatePass && (mn(n, e), Qt(e) && n.queries.elementEnd(e)), null != t.classesWithoutHost && function Kn(e) {
                return 0 != (8 & e.flags)
            }(t) && Eu(n, t, Xe(), t.classesWithoutHost, !0), null != t.stylesWithoutHost && function Qn(e) {
                return 0 != (16 & e.flags)
            }(t) && Eu(n, t, Xe(), t.stylesWithoutHost, !1), js
        }

        function wu(e, t, n, r) {
            return Bs(e, t, n, r), js(), wu
        }

        function Us(e, t, n) {
            const r = Xe(), i = er(), o = e + 22, l = i.firstCreatePass ? function X2(e, t, n, r, i) {
                const o = t.consts, l = Ci(o, r), h = vo(t, e, 8, "ng-container", l);
                return null !== l && Rs(h, l, !0), cu(t, n, h, Ci(o, i)), null !== t.queries && t.queries.elementStart(t, h), h
            }(o, i, r, t, n) : i.data[o];
            fi(l, !0);
            const h = r[o] = r[11].createComment("");
            return Es(i, r, h, l), vi(h, r), Ot(l) && (lu(i, r, l), su(i, l, r)), null != n && uu(r, l), Us
        }

        function $s() {
            let e = jr();
            const t = er();
            return wa() ? Na() : (e = e.parent, fi(e, !1)), t.firstCreatePass && (mn(t, e), Qt(e) && t.queries.elementEnd(e)), $s
        }

        function Su(e, t, n) {
            return Us(e, t, n), $s(), Su
        }

        function Ff() {
            return Xe()
        }

        function Mu(e) {
            return !!e && "function" == typeof e.then
        }

        function Rf(e) {
            return !!e && "function" == typeof e.subscribe
        }

        const Lf = Rf;

        function xu(e, t, n, r) {
            const i = Xe(), o = er(), l = jr();
            return function Vf(e, t, n, r, i, o, l) {
                const h = Ot(r), T = e.firstCreatePass && pf(e), j = t[8], ee = hf(t);
                let Me = !0;
                if (3 & r.type || l) {
                    const Rt = gr(r, t), Kt = l ? l(Rt) : Rt, un = ee.length,
                        Vn = l ? Yn => l(He(Yn[r.index])) : r.index;
                    let St = null;
                    if (!l && h && (St = function e0(e, t, n, r) {
                        const i = e.cleanup;
                        if (null != i) for (let o = 0; o < i.length - 1; o += 2) {
                            const l = i[o];
                            if (l === n && i[o + 1] === r) {
                                const h = t[7], y = i[o + 2];
                                return h.length > y ? h[y] : null
                            }
                            "string" == typeof l && (o += 2)
                        }
                        return null
                    }(e, t, i, r.index)), null !== St) (St.__ngLastListenerFn__ || St).__ngNextListenerFn__ = o, St.__ngLastListenerFn__ = o, Me = !1; else {
                        o = Bf(r, t, j, o, !1);
                        const Yn = n.listen(Kt, i, o);
                        ee.push(o, Yn), T && T.push(i, Vn, un, un + 1)
                    }
                } else o = Bf(r, t, j, o, !1);
                const je = r.outputs;
                let ct;
                if (Me && null !== je && (ct = je[i])) {
                    const Rt = ct.length;
                    if (Rt) for (let Kt = 0; Kt < Rt; Kt += 2) {
                        const Gr = t[ct[Kt]][ct[Kt + 1]].subscribe(o), Xr = ee.length;
                        ee.push(o, Gr), T && T.push(i, r.index, Xr, -(Xr + 1))
                    }
                }
            }(o, i, i[11], l, e, t, r), xu
        }

        function Hf(e, t, n, r) {
            try {
                return !1 !== n(r)
            } catch (i) {
                return gf(e, i), !1
            }
        }

        function Bf(e, t, n, r, i) {
            return function o(l) {
                if (l === Function) return r;
                mu(e.componentOffset > -1 ? ti(e.index, t) : t);
                let y = Hf(t, 0, r, l), T = o.__ngNextListenerFn__;
                for (; T;) y = Hf(t, 0, T, l) && y, T = T.__ngNextListenerFn__;
                return i && !1 === y && (l.preventDefault(), l.returnValue = !1), y
            }
        }

        function jf(e = 1) {
            return function yi(e) {
                return (kn.lFrame.contextLView = function ni(e, t) {
                    for (; e > 0;) t = t[X], e--;
                    return t
                }(e, kn.lFrame.contextLView))[8]
            }(e)
        }

        function t0(e, t) {
            let n = null;
            const r = function T1(e) {
                const t = e.attrs;
                if (null != t) {
                    const n = t.indexOf(5);
                    if (!(1 & n)) return t[n + 1]
                }
                return null
            }(e);
            for (let i = 0; i < t.length; i++) {
                const o = t[i];
                if ("*" !== o) {
                    if (null === r ? Hc(e, o, !0) : O1(r, o)) return i
                } else n = i
            }
            return n
        }

        function Uf(e) {
            const t = Xe()[16][6];
            if (!t.projection) {
                const r = t.projection = f(e ? e.length : 1, null), i = r.slice();
                let o = t.child;
                for (; null !== o;) {
                    const l = e ? t0(o, e) : 0;
                    null !== l && (i[l] ? i[l].projectionNext = o : r[l] = o, i[l] = o), o = o.next
                }
            }
        }

        function $f(e, t = 0, n) {
            const r = Xe(), i = er(), o = vo(i, 22 + e, 16, null, n || null);
            null === o.projection && (o.projection = t), Na(), 32 != (32 & o.flags) && function Cg(e, t, n) {
                ic(t[11], 0, t, n, Jd(e, n, t), Xd(n.parent || t[6], n, t))
            }(i, r, o)
        }

        function Au(e, t, n) {
            return zs(e, "", t, "", n), Au
        }

        function zs(e, t, n, r, i) {
            const o = Xe(), l = bo(o, t, n, r);
            return l !== qn && Ui(er(), fr(), o, e, l, o[11], i, !1), zs
        }

        function Gs(e, t) {
            return e << 17 | t << 2
        }

        function Pa(e) {
            return e >> 17 & 32767
        }

        function Tu(e) {
            return 2 | e
        }

        function Qa(e) {
            return (131068 & e) >> 2
        }

        function Iu(e, t) {
            return -131069 & e | t << 2
        }

        function Pu(e) {
            return 1 | e
        }

        function qf(e, t, n, r, i) {
            const o = e[n + 1], l = null === t;
            let h = r ? Pa(o) : Qa(o), y = !1;
            for (; 0 !== h && (!1 === y || l);) {
                const j = e[h + 1];
                l0(e[h], t) && (y = !0, e[h + 1] = r ? Pu(j) : Tu(j)), h = r ? Pa(j) : Qa(j)
            }
            y && (e[n + 1] = r ? Tu(o) : Pu(o))
        }

        function l0(e, t) {
            return null === e || null == t || (Array.isArray(e) ? e[1] : e) === t || !(!Array.isArray(e) || "string" != typeof t) && ut(e, t) >= 0
        }

        const oi = {textEnd: 0, key: 0, keyEnd: 0, value: 0, valueEnd: 0};

        function Xf(e) {
            return e.substring(oi.key, oi.keyEnd)
        }

        function u0(e) {
            return e.substring(oi.value, oi.valueEnd)
        }

        function eh(e, t) {
            const n = oi.textEnd;
            return n === t ? -1 : (t = oi.keyEnd = function f0(e, t, n) {
                for (; t < n && e.charCodeAt(t) > 32;) t++;
                return t
            }(e, oi.key = t, n), Ao(e, t, n))
        }

        function th(e, t) {
            const n = oi.textEnd;
            let r = oi.key = Ao(e, t, n);
            return n === r ? -1 : (r = oi.keyEnd = function h0(e, t, n) {
                let r;
                for (; t < n && (45 === (r = e.charCodeAt(t)) || 95 === r || (-33 & r) >= 65 && (-33 & r) <= 90 || r >= 48 && r <= 57);) t++;
                return t
            }(e, r, n), r = rh(e, r, n), r = oi.value = Ao(e, r, n), r = oi.valueEnd = function p0(e, t, n) {
                let r = -1, i = -1, o = -1, l = t, h = l;
                for (; l < n;) {
                    const y = e.charCodeAt(l++);
                    if (59 === y) return h;
                    34 === y || 39 === y ? h = l = ih(e, y, l, n) : t === l - 4 && 85 === o && 82 === i && 76 === r && 40 === y ? h = l = ih(e, 41, l, n) : y > 32 && (h = l), o = i, i = r, r = -33 & y
                }
                return h
            }(e, r, n), rh(e, r, n))
        }

        function nh(e) {
            oi.key = 0, oi.keyEnd = 0, oi.value = 0, oi.valueEnd = 0, oi.textEnd = e.length
        }

        function Ao(e, t, n) {
            for (; t < n && e.charCodeAt(t) <= 32;) t++;
            return t
        }

        function rh(e, t, n, r) {
            return (t = Ao(e, t, n)) < n && t++, t
        }

        function ih(e, t, n, r) {
            let i = -1, o = n;
            for (; o < r;) {
                const l = e.charCodeAt(o++);
                if (l == t && 92 !== i) return o;
                i = 92 == l && 92 === i ? 0 : l
            }
            throw new Error
        }

        function Ou(e, t, n) {
            return qi(e, t, n, !1), Ou
        }

        function Nu(e, t) {
            return qi(e, t, null, !0), Nu
        }

        function Qi(e) {
            Xi(lh, m0, e, !1)
        }

        function m0(e, t) {
            for (let n = function c0(e) {
                return nh(e), th(e, Ao(e, 0, oi.textEnd))
            }(t); n >= 0; n = th(t, n)) lh(e, Xf(t), u0(t))
        }

        function ah(e) {
            Xi(U, la, e, !0)
        }

        function la(e, t) {
            for (let n = function d0(e) {
                return nh(e), eh(e, Ao(e, 0, oi.textEnd))
            }(t); n >= 0; n = eh(t, n)) U(e, Xf(t), !0)
        }

        function qi(e, t, n, r) {
            const i = Xe(), o = er(), l = Y(2);
            o.firstUpdatePass && sh(o, e, l, r), t !== qn && _i(i, l, t) && uh(o, o.data[xr()], i, i[11], e, i[l + 1] = function C0(e, t) {
                return null == e || ("string" == typeof t ? e += t : "object" == typeof e && (e = Te(Ia(e)))), e
            }(t, n), r, l)
        }

        function Xi(e, t, n, r) {
            const i = er(), o = Y(2);
            i.firstUpdatePass && sh(i, null, o, r);
            const l = Xe();
            if (n !== qn && _i(l, o, n)) {
                const h = i.data[xr()];
                if (ch(h, r) && !oh(i, o)) {
                    let y = r ? h.classesWithoutHost : h.stylesWithoutHost;
                    null !== y && (n = Se(y, n || "")), Eu(i, h, l, n, r)
                } else !function D0(e, t, n, r, i, o, l, h) {
                    i === qn && (i = A);
                    let y = 0, T = 0, j = 0 < i.length ? i[0] : null, ee = 0 < o.length ? o[0] : null;
                    for (; null !== j || null !== ee;) {
                        const Me = y < i.length ? i[y + 1] : void 0, je = T < o.length ? o[T + 1] : void 0;
                        let Rt, ct = null;
                        j === ee ? (y += 2, T += 2, Me !== je && (ct = ee, Rt = je)) : null === ee || null !== j && j < ee ? (y += 2, ct = j) : (T += 2, ct = ee, Rt = je), null !== ct && uh(e, t, n, r, ct, Rt, l, h), j = y < i.length ? i[y] : null, ee = T < o.length ? o[T] : null
                    }
                }(i, h, l, l[11], l[o + 1], l[o + 1] = function b0(e, t, n) {
                    if (null == n || "" === n) return A;
                    const r = [], i = Ia(n);
                    if (Array.isArray(i)) for (let o = 0; o < i.length; o++) e(r, i[o], !0); else if ("object" == typeof i) for (const o in i) i.hasOwnProperty(o) && e(r, o, i[o]); else "string" == typeof i && t(r, i);
                    return r
                }(e, t, n), r, o)
            }
        }

        function oh(e, t) {
            return t >= e.expandoStartIndex
        }

        function sh(e, t, n, r) {
            const i = e.data;
            if (null === i[n + 1]) {
                const o = i[xr()], l = oh(e, n);
                ch(o, r) && null === t && !l && (t = !1), t = function g0(e, t, n, r) {
                    const i = function Wt(e) {
                        const t = kn.lFrame.currentDirectiveIndex;
                        return -1 === t ? null : e[t]
                    }(e);
                    let o = r ? t.residualClasses : t.residualStyles;
                    if (null === i) 0 === (r ? t.classBindings : t.styleBindings) && (n = is(n = Fu(null, e, t, n, r), t.attrs, r), o = null); else {
                        const l = t.directiveStylingLast;
                        if (-1 === l || e[l] !== i) if (n = Fu(i, e, t, n, r), null === o) {
                            let y = function y0(e, t, n) {
                                const r = n ? t.classBindings : t.styleBindings;
                                if (0 !== Qa(r)) return e[Pa(r)]
                            }(e, t, r);
                            void 0 !== y && Array.isArray(y) && (y = Fu(null, e, t, y[1], r), y = is(y, t.attrs, r), function v0(e, t, n, r) {
                                e[Pa(n ? t.classBindings : t.styleBindings)] = r
                            }(e, t, r, y))
                        } else o = function _0(e, t, n) {
                            let r;
                            const i = t.directiveEnd;
                            for (let o = 1 + t.directiveStylingLast; o < i; o++) r = is(r, e[o].hostAttrs, n);
                            return is(r, t.attrs, n)
                        }(e, t, r)
                    }
                    return void 0 !== o && (r ? t.residualClasses = o : t.residualStyles = o), n
                }(i, o, t, r), function o0(e, t, n, r, i, o) {
                    let l = o ? t.classBindings : t.styleBindings, h = Pa(l), y = Qa(l);
                    e[r] = n;
                    let j, T = !1;
                    if (Array.isArray(n) ? (j = n[1], (null === j || ut(n, j) > 0) && (T = !0)) : j = n, i) if (0 !== y) {
                        const Me = Pa(e[h + 1]);
                        e[r + 1] = Gs(Me, h), 0 !== Me && (e[Me + 1] = Iu(e[Me + 1], r)), e[h + 1] = function r0(e, t) {
                            return 131071 & e | t << 17
                        }(e[h + 1], r)
                    } else e[r + 1] = Gs(h, 0), 0 !== h && (e[h + 1] = Iu(e[h + 1], r)), h = r; else e[r + 1] = Gs(y, 0), 0 === h ? h = r : e[y + 1] = Iu(e[y + 1], r), y = r;
                    T && (e[r + 1] = Tu(e[r + 1])), qf(e, j, r, !0), qf(e, j, r, !1), function s0(e, t, n, r, i) {
                        const o = i ? e.residualClasses : e.residualStyles;
                        null != o && "string" == typeof t && ut(o, t) >= 0 && (n[r + 1] = Pu(n[r + 1]))
                    }(t, j, e, r, o), l = Gs(h, y), o ? t.classBindings = l : t.styleBindings = l
                }(i, o, t, n, l, r)
            }
        }

        function Fu(e, t, n, r, i) {
            let o = null;
            const l = n.directiveEnd;
            let h = n.directiveStylingLast;
            for (-1 === h ? h = n.directiveStart : h++; h < l && (o = t[h], r = is(r, o.hostAttrs, i), o !== e);) h++;
            return null !== e && (n.directiveStylingLast = h), r
        }

        function is(e, t, n) {
            const r = n ? 1 : 2;
            let i = -1;
            if (null !== t) for (let o = 0; o < t.length; o++) {
                const l = t[o];
                "number" == typeof l ? i = l : i === r && (Array.isArray(e) || (e = void 0 === e ? [] : ["", e]), U(e, l, !!n || t[++o]))
            }
            return void 0 === e ? null : e
        }

        function lh(e, t, n) {
            U(e, t, Ia(n))
        }

        function uh(e, t, n, r, i, o, l, h) {
            if (!(3 & t.type)) return;
            const y = e.data, T = y[h + 1], j = function a0(e) {
                return 1 == (1 & e)
            }(T) ? dh(y, t, n, i, Qa(T), l) : void 0;
            Ws(j) || (Ws(o) || function n0(e) {
                return 2 == (2 & e)
            }(T) && (o = dh(y, null, n, i, h, l)), function wg(e, t, n, r, i) {
                if (t) i ? e.addClass(n, r) : e.removeClass(n, r); else {
                    let o = -1 === r.indexOf("-") ? void 0 : aa.DashCase;
                    null == i ? e.removeStyle(n, r, o) : ("string" == typeof i && i.endsWith("!important") && (i = i.slice(0, -10), o |= aa.Important), e.setStyle(n, r, i, o))
                }
            }(r, l, Fi(xr(), n), i, o))
        }

        function dh(e, t, n, r, i, o) {
            const l = null === t;
            let h;
            for (; i > 0;) {
                const y = e[i], T = Array.isArray(y), j = T ? y[1] : y, ee = null === j;
                let Me = n[i + 1];
                Me === qn && (Me = ee ? A : void 0);
                let je = ee ? Ie(Me, r) : j === r ? Me : void 0;
                if (T && !Ws(je) && (je = Ie(y, r)), Ws(je) && (h = je, l)) return h;
                const ct = e[i + 1];
                i = l ? Pa(ct) : Qa(ct)
            }
            if (null !== t) {
                let y = o ? t.residualClasses : t.residualStyles;
                null != y && (h = Ie(y, r))
            }
            return h
        }

        function Ws(e) {
            return void 0 !== e
        }

        function ch(e, t) {
            return 0 != (e.flags & (t ? 8 : 16))
        }

        function fh(e, t = "") {
            const n = Xe(), r = er(), i = e + 22, o = r.firstCreatePass ? vo(r, i, 1, t, null) : r.data[i],
                l = n[i] = function Al(e, t) {
                    return e.createText(t)
                }(n[11], t);
            Es(r, n, l, o), fi(o, !1)
        }

        function Ru(e) {
            return Ks("", e, ""), Ru
        }

        function Ks(e, t, n) {
            const r = Xe(), i = bo(r, e, t, n);
            return i !== qn && Da(r, xr(), i), Ks
        }

        function Lu(e, t, n, r, i) {
            const o = Xe(), l = function Do(e, t, n, r, i, o) {
                const h = Za(e, c(), n, i);
                return Y(2), h ? t + $e(n) + r + $e(i) + o : qn
            }(o, e, t, n, r, i);
            return l !== qn && Da(o, xr(), l), Lu
        }

        function ku(e, t, n, r, i, o, l) {
            const h = Xe(), y = Co(h, e, t, n, r, i, o, l);
            return y !== qn && Da(h, xr(), y), ku
        }

        const qa = void 0;
        var U0 = ["en", [["a", "p"], ["AM", "PM"], qa], [["AM", "PM"], qa, qa], [["S", "M", "T", "W", "T", "F", "S"], ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]], qa, [["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"], ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]], qa, [["B", "A"], ["BC", "AD"], ["Before Christ", "Anno Domini"]], 0, [6, 0], ["M/d/yy", "MMM d, y", "MMMM d, y", "EEEE, MMMM d, y"], ["h:mm a", "h:mm:ss a", "h:mm:ss a z", "h:mm:ss a zzzz"], ["{1}, {0}", qa, "{1} 'at' {0}", qa], [".", ",", ";", "%", "+", "-", "E", "\xd7", "\u2030", "\u221e", "NaN", ":"], ["#,##0.###", "#,##0%", "\xa4#,##0.00", "#E0"], "USD", "$", "US Dollar", {}, "ltr", function j0(e) {
            const n = Math.floor(Math.abs(e)), r = e.toString().replace(/^[^.]*\.?/, "").length;
            return 1 === n && 0 === r ? 1 : 5
        }];
        let To = {};

        function Vu(e) {
            const t = function $0(e) {
                return e.toLowerCase().replace(/_/g, "-")
            }(e);
            let n = Ph(t);
            if (n) return n;
            const r = t.split("-")[0];
            if (n = Ph(r), n) return n;
            if ("en" === r) return U0;
            throw new ye(701, !1)
        }

        function Ih(e) {
            return Vu(e)[On.PluralCase]
        }

        function Ph(e) {
            return e in To || (To[e] = sn.ng && sn.ng.common && sn.ng.common.locales && sn.ng.common.locales[e]), To[e]
        }

        var On = (() => ((On = On || {})[On.LocaleId = 0] = "LocaleId", On[On.DayPeriodsFormat = 1] = "DayPeriodsFormat", On[On.DayPeriodsStandalone = 2] = "DayPeriodsStandalone", On[On.DaysFormat = 3] = "DaysFormat", On[On.DaysStandalone = 4] = "DaysStandalone", On[On.MonthsFormat = 5] = "MonthsFormat", On[On.MonthsStandalone = 6] = "MonthsStandalone", On[On.Eras = 7] = "Eras", On[On.FirstDayOfWeek = 8] = "FirstDayOfWeek", On[On.WeekendRange = 9] = "WeekendRange", On[On.DateFormat = 10] = "DateFormat", On[On.TimeFormat = 11] = "TimeFormat", On[On.DateTimeFormat = 12] = "DateTimeFormat", On[On.NumberSymbols = 13] = "NumberSymbols", On[On.NumberFormats = 14] = "NumberFormats", On[On.CurrencyCode = 15] = "CurrencyCode", On[On.CurrencySymbol = 16] = "CurrencySymbol", On[On.CurrencyName = 17] = "CurrencyName", On[On.Currencies = 18] = "Currencies", On[On.Directionality = 19] = "Directionality", On[On.PluralCase = 20] = "PluralCase", On[On.ExtraData = 21] = "ExtraData", On))();
        const Io = "en-US";
        let Oh = Io;

        function ju(e, t, n, r, i) {
            if (e = Q(e), Array.isArray(e)) for (let o = 0; o < e.length; o++) ju(e[o], t, n, r, i); else {
                const o = er(), l = Xe();
                let h = Wa(e) ? e : Q(e.provide), y = Tc(e);
                const T = jr(), j = 1048575 & T.providerIndexes, ee = T.directiveStart, Me = T.providerIndexes >> 20;
                if (Wa(e) || !e.multi) {
                    const je = new ke(y, i, yo), ct = $u(h, t, i ? j : j + Me, ee);
                    -1 === ct ? (Lo(ro(T, l), o, h), Uu(o, e, t.length), t.push(h), T.directiveStart++, T.directiveEnd++, i && (T.providerIndexes += 1048576), n.push(je), l.push(je)) : (n[ct] = je, l[ct] = je)
                } else {
                    const je = $u(h, t, j + Me, ee), ct = $u(h, t, j, j + Me), Kt = ct >= 0 && n[ct];
                    if (i && !Kt || !i && !(je >= 0 && n[je])) {
                        Lo(ro(T, l), o, h);
                        const un = function By(e, t, n, r, i) {
                            const o = new ke(e, n, yo);
                            return o.multi = [], o.index = t, o.componentProviders = 0, rp(o, i, r && !n), o
                        }(i ? Hy : Vy, n.length, i, r, y);
                        !i && Kt && (n[ct].providerFactory = un), Uu(o, e, t.length, 0), t.push(h), T.directiveStart++, T.directiveEnd++, i && (T.providerIndexes += 1048576), n.push(un), l.push(un)
                    } else Uu(o, e, je > -1 ? je : ct, rp(n[i ? ct : je], y, !i && r));
                    !i && r && Kt && n[ct].componentProviders++
                }
            }
        }

        function Uu(e, t, n, r) {
            const i = Wa(t), o = function e1(e) {
                return !!e.useClass
            }(t);
            if (i || o) {
                const y = (o ? Q(t.useClass) : t).prototype.ngOnDestroy;
                if (y) {
                    const T = e.destroyHooks || (e.destroyHooks = []);
                    if (!i && t.multi) {
                        const j = T.indexOf(n);
                        -1 === j ? T.push(n, [r, y]) : T[j + 1].push(r, y)
                    } else T.push(n, y)
                }
            }
        }

        function rp(e, t, n) {
            return n && e.componentProviders++, e.multi.push(t) - 1
        }

        function $u(e, t, n, r) {
            for (let i = n; i < r; i++) if (t[i] === e) return i;
            return -1
        }

        function Vy(e, t, n, r) {
            return zu(this.multi, [])
        }

        function Hy(e, t, n, r) {
            const i = this.multi;
            let o;
            if (this.providerFactory) {
                const l = this.providerFactory.componentProviders, h = Ma(n, n[1], this.providerFactory.index, r);
                o = h.slice(0, l), zu(i, o);
                for (let y = l; y < h.length; y++) o.push(h[y])
            } else o = [], zu(i, o);
            return o
        }

        function zu(e, t) {
            for (let n = 0; n < e.length; n++) t.push((0, e[n])());
            return t
        }

        function ip(e, t = []) {
            return n => {
                n.providersResolver = (r, i) => function ky(e, t, n) {
                    const r = er();
                    if (r.firstCreatePass) {
                        const i = wt(e);
                        ju(n, r.data, r.blueprint, i, !0), ju(t, r.data, r.blueprint, i, !1)
                    }
                }(r, i ? i(e) : e, t)
            }
        }

        class Po {
        }

        class ap {
        }

        function jy(e, t) {
            return new op(e, t ?? null)
        }

        class op extends Po {
            constructor(t, n) {
                super(), this._parent = n, this._bootstrapComponents = [], this.destroyCbs = [], this.componentFactoryResolver = new yf(this);
                const r = dr(t);
                this._bootstrapComponents = ba(r.bootstrap), this._r3Injector = Kc(t, n, [{
                    provide: Po,
                    useValue: this
                }, {
                    provide: Qo,
                    useValue: this.componentFactoryResolver
                }], Te(t), new Set(["environment"])), this._r3Injector.resolveInjectorInitializers(), this.instance = this._r3Injector.get(t)
            }

            get injector() {
                return this._r3Injector
            }

            destroy() {
                const t = this._r3Injector;
                !t.destroyed && t.destroy(), this.destroyCbs.forEach(n => n()), this.destroyCbs = null
            }

            onDestroy(t) {
                this.destroyCbs.push(t)
            }
        }

        class Gu extends ap {
            constructor(t) {
                super(), this.moduleType = t
            }

            create(t) {
                return new op(this.moduleType, t)
            }
        }

        class Uy extends Po {
            constructor(t, n, r) {
                super(), this.componentFactoryResolver = new yf(this), this.instance = null;
                const i = new Ac([...t, {provide: Po, useValue: this}, {
                    provide: Qo,
                    useValue: this.componentFactoryResolver
                }], n || Ts(), r, new Set(["environment"]));
                this.injector = i, i.resolveInjectorInitializers()
            }

            destroy() {
                this.injector.destroy()
            }

            onDestroy(t) {
                this.injector.onDestroy(t)
            }
        }

        function Wu(e, t, n = null) {
            return new Uy(e, t, n).injector
        }

        let $y = (() => {
            class e {
                constructor(n) {
                    this._injector = n, this.cachedInjectors = new Map
                }

                getOrCreateStandaloneInjector(n) {
                    if (!n.standalone) return null;
                    if (!this.cachedInjectors.has(n.id)) {
                        const r = wc(0, n.type),
                            i = r.length > 0 ? Wu([r], this._injector, `Standalone[${n.type.name}]`) : null;
                        this.cachedInjectors.set(n.id, i)
                    }
                    return this.cachedInjectors.get(n.id)
                }

                ngOnDestroy() {
                    try {
                        for (const n of this.cachedInjectors.values()) null !== n && n.destroy()
                    } finally {
                        this.cachedInjectors.clear()
                    }
                }
            }

            return e.\u0275prov = Bt({token: e, providedIn: "environment", factory: () => new e(Yt(Ka))}), e
        })();

        function sp(e) {
            e.getStandaloneInjector = t => t.get($y).getOrCreateStandaloneInjector(e)
        }

        function pp(e, t, n) {
            const r = u() + e, i = Xe();
            return i[r] === qn ? sa(i, r, n ? t.call(n) : t()) : rs(i, r)
        }

        function mp(e, t, n, r) {
            return vp(Xe(), u(), e, t, n, r)
        }

        function gp(e, t, n, r, i) {
            return _p(Xe(), u(), e, t, n, r, i)
        }

        function yp(e, t, n, r, i, o, l, h) {
            const y = u() + e, T = Xe(), j = function Gi(e, t, n, r, i, o) {
                const l = Za(e, t, n, r);
                return Za(e, t + 2, i, o) || l
            }(T, y, n, r, i, o);
            return _i(T, y + 4, l) || j ? sa(T, y + 5, h ? t.call(h, n, r, i, o, l) : t(n, r, i, o, l)) : rs(T, y + 5)
        }

        function ds(e, t) {
            const n = e[t];
            return n === qn ? void 0 : n
        }

        function vp(e, t, n, r, i, o) {
            const l = t + n;
            return _i(e, l, i) ? sa(e, l + 1, o ? r.call(o, i) : r(i)) : ds(e, l + 1)
        }

        function _p(e, t, n, r, i, o, l) {
            const h = t + n;
            return Za(e, h, i, o) ? sa(e, h + 2, l ? r.call(l, i, o) : r(i, o)) : ds(e, h + 2)
        }

        function Ep(e, t) {
            const n = er();
            let r;
            const i = e + 22;
            n.firstCreatePass ? (r = function iv(e, t) {
                if (t) for (let n = t.length - 1; n >= 0; n--) {
                    const r = t[n];
                    if (e === r.name) return r
                }
            }(t, n.pipeRegistry), n.data[i] = r, r.onDestroy && (n.destroyHooks || (n.destroyHooks = [])).push(i, r.onDestroy)) : r = n.data[i];
            const o = r.factory || (r.factory = ui(r.type)), l = Nn(yo);
            try {
                const h = no(!1), y = o();
                return no(h), function Q2(e, t, n, r) {
                    n >= e.data.length && (e.data[n] = null, e.blueprint[n] = null), t[n] = r
                }(n, Xe(), i, y), y
            } finally {
                Nn(l)
            }
        }

        function wp(e, t, n) {
            const r = e + 22, i = Xe(), o = ci(i, r);
            return cs(i, r) ? vp(i, u(), t, o.transform, n, o) : o.transform(n)
        }

        function Sp(e, t, n, r) {
            const i = e + 22, o = Xe(), l = ci(o, i);
            return cs(o, i) ? _p(o, u(), t, l.transform, n, r, l) : l.transform(n, r)
        }

        function cs(e, t) {
            return e[1].data[t].pure
        }

        function Yu(e) {
            return t => {
                setTimeout(e, void 0, t)
            }
        }

        const ua = class lv extends a.x {
            constructor(t = !1) {
                super(), this.__isAsync = t
            }

            emit(t) {
                super.next(t)
            }

            subscribe(t, n, r) {
                let i = t, o = n || (() => null), l = r;
                if (t && "object" == typeof t) {
                    const y = t;
                    i = y.next?.bind(y), o = y.error?.bind(y), l = y.complete?.bind(y)
                }
                this.__isAsync && (o = Yu(o), i && (i = Yu(i)), l && (l = Yu(l)));
                const h = super.subscribe({next: i, error: o, complete: l});
                return t instanceof V.w0 && t.add(h), h
            }
        };

        function uv() {
            return this._results[Ja()]()
        }

        class qs {
            get changes() {
                return this._changes || (this._changes = new ua)
            }

            constructor(t = !1) {
                this._emitDistinctChangesOnly = t, this.dirty = !0, this._results = [], this._changesDetected = !1, this._changes = null, this.length = 0, this.first = void 0, this.last = void 0;
                const n = Ja(), r = qs.prototype;
                r[n] || (r[n] = uv)
            }

            get(t) {
                return this._results[t]
            }

            map(t) {
                return this._results.map(t)
            }

            filter(t) {
                return this._results.filter(t)
            }

            find(t) {
                return this._results.find(t)
            }

            reduce(t, n) {
                return this._results.reduce(t, n)
            }

            forEach(t) {
                this._results.forEach(t)
            }

            some(t) {
                return this._results.some(t)
            }

            toArray() {
                return this._results.slice()
            }

            toString() {
                return this._results.toString()
            }

            reset(t, n) {
                const r = this;
                r.dirty = !1;
                const i = function Si(e) {
                    return e.flat(Number.POSITIVE_INFINITY)
                }(t);
                (this._changesDetected = !function gl(e, t, n) {
                    if (e.length !== t.length) return !1;
                    for (let r = 0; r < e.length; r++) {
                        let i = e[r], o = t[r];
                        if (n && (i = n(i), o = n(o)), o !== i) return !1
                    }
                    return !0
                }(r._results, i, n)) && (r._results = i, r.length = i.length, r.last = i[this.length - 1], r.first = i[0])
            }

            notifyOnChanges() {
                this._changes && (this._changesDetected || !this._emitDistinctChangesOnly) && this._changes.emit(this)
            }

            setDirty() {
                this.dirty = !0
            }

            destroy() {
                this.changes.complete(), this.changes.unsubscribe()
            }
        }

        let fs = (() => {
            class e {
            }

            return e.__NG_ELEMENT_ID__ = fv, e
        })();
        const dv = fs, cv = class extends dv {
            constructor(t, n, r) {
                super(), this._declarationLView = t, this._declarationTContainer = n, this.elementRef = r
            }

            createEmbeddedView(t, n) {
                const r = this._declarationTContainer.tViews,
                    i = Ps(this._declarationLView, r, t, 16, null, r.declTNode, null, null, null, null, n || null);
                i[17] = this._declarationLView[this._declarationTContainer.index];
                const l = this._declarationLView[19];
                return null !== l && (i[19] = l.createEmbeddedView(r)), ou(r, i, t), new ts(i)
            }
        };

        function fv() {
            return Xs(jr(), Xe())
        }

        function Xs(e, t) {
            return 4 & e.type ? new cv(t, e, po(e, t)) : null
        }

        let el = (() => {
            class e {
            }

            return e.__NG_ELEMENT_ID__ = hv, e
        })();

        function hv() {
            return Ap(jr(), Xe())
        }

        const pv = el, Mp = class extends pv {
            constructor(t, n, r) {
                super(), this._lContainer = t, this._hostTNode = n, this._hostLView = r
            }

            get element() {
                return po(this._hostTNode, this._hostLView)
            }

            get injector() {
                return new pa(this._hostTNode, this._hostLView)
            }

            get parentInjector() {
                const t = Ro(this._hostTNode, this._hostLView);
                if (ra(t)) {
                    const n = La(t, this._hostLView), r = Bi(t);
                    return new pa(n[1].data[r + 8], n)
                }
                return new pa(null, this._hostLView)
            }

            clear() {
                for (; this.length > 0;) this.remove(this.length - 1)
            }

            get(t) {
                const n = xp(this._lContainer);
                return null !== n && n[t] || null
            }

            get length() {
                return this._lContainer.length - 10
            }

            createEmbeddedView(t, n, r) {
                let i, o;
                "number" == typeof r ? i = r : null != r && (i = r.index, o = r.injector);
                const l = t.createEmbeddedView(n || {}, o);
                return this.insert(l, i), l
            }

            createComponent(t, n, r, i, o) {
                const l = t && !function $a(e) {
                    return "function" == typeof e
                }(t);
                let h;
                if (l) h = n; else {
                    const ee = n || {};
                    h = ee.index, r = ee.injector, i = ee.projectableNodes, o = ee.environmentInjector || ee.ngModuleRef
                }
                const y = l ? t : new ns(wn(t)), T = r || this.parentInjector;
                if (!o && null == y.ngModule) {
                    const Me = (l ? T : this.parentInjector).get(Ka, null);
                    Me && (o = Me)
                }
                const j = y.create(T, i, void 0, o);
                return this.insert(j.hostView, h), j
            }

            insert(t, n) {
                const r = t._lView, i = r[1];
                if (function Ea(e) {
                    return hn(e[3])
                }(r)) {
                    const j = this.indexOf(t);
                    if (-1 !== j) this.detach(j); else {
                        const ee = r[3], Me = new Mp(ee, ee[6], ee[3]);
                        Me.detach(Me.indexOf(t))
                    }
                }
                const o = this._adjustIndex(n), l = this._lContainer;
                !function gg(e, t, n, r) {
                    const i = 10 + r, o = n.length;
                    r > 0 && (n[i - 1][4] = t), r < o - 10 ? (t[4] = n[i], yl(n, 10 + r, t)) : (n.push(t), t[4] = null), t[3] = n;
                    const l = t[17];
                    null !== l && n !== l && function yg(e, t) {
                        const n = e[9];
                        t[16] !== t[3][3][16] && (e[2] = !0), null === n ? e[9] = [t] : n.push(t)
                    }(l, t);
                    const h = t[19];
                    null !== h && h.insertView(e), t[2] |= 64
                }(i, r, l, o);
                const h = Nl(o, l), y = r[11], T = Cs(y, l[7]);
                return null !== T && function hg(e, t, n, r, i, o) {
                    r[0] = i, r[6] = t, Ko(e, r, n, 1, i, o)
                }(i, l[6], y, r, T, h), t.attachToViewContainerRef(), yl(Ju(l), o, t), t
            }

            move(t, n) {
                return this.insert(t, n)
            }

            indexOf(t) {
                const n = xp(this._lContainer);
                return null !== n ? n.indexOf(t) : -1
            }

            remove(t) {
                const n = this._adjustIndex(t, -1), r = Il(this._lContainer, n);
                r && (d(Ju(this._lContainer), n), Yd(r[1], r))
            }

            detach(t) {
                const n = this._adjustIndex(t, -1), r = Il(this._lContainer, n);
                return r && null != d(Ju(this._lContainer), n) ? new ts(r) : null
            }

            _adjustIndex(t, n = 0) {
                return t ?? this.length + n
            }
        };

        function xp(e) {
            return e[8]
        }

        function Ju(e) {
            return e[8] || (e[8] = [])
        }

        function Ap(e, t) {
            let n;
            const r = t[e.index];
            if (hn(r)) n = r; else {
                let i;
                if (8 & e.type) i = He(r); else {
                    const o = t[11];
                    i = o.createComment("");
                    const l = gr(e, t);
                    za(o, Cs(o, l), i, function Dg(e, t) {
                        return e.nextSibling(t)
                    }(o, l), !1)
                }
                t[e.index] = n = ff(r, t, i, e), Ns(t, n)
            }
            return new Mp(n, e, t)
        }

        class Zu {
            constructor(t) {
                this.queryList = t, this.matches = null
            }

            clone() {
                return new Zu(this.queryList)
            }

            setDirty() {
                this.queryList.setDirty()
            }
        }

        class Qu {
            constructor(t = []) {
                this.queries = t
            }

            createEmbeddedView(t) {
                const n = t.queries;
                if (null !== n) {
                    const r = null !== t.contentQueries ? t.contentQueries[0] : n.length, i = [];
                    for (let o = 0; o < r; o++) {
                        const l = n.getByIndex(o);
                        i.push(this.queries[l.indexInDeclarationView].clone())
                    }
                    return new Qu(i)
                }
                return null
            }

            insertView(t) {
                this.dirtyQueriesWithMatches(t)
            }

            detachView(t) {
                this.dirtyQueriesWithMatches(t)
            }

            dirtyQueriesWithMatches(t) {
                for (let n = 0; n < this.queries.length; n++) null !== kp(t, n).matches && this.queries[n].setDirty()
            }
        }

        class Tp {
            constructor(t, n, r = null) {
                this.predicate = t, this.flags = n, this.read = r
            }
        }

        class qu {
            constructor(t = []) {
                this.queries = t
            }

            elementStart(t, n) {
                for (let r = 0; r < this.queries.length; r++) this.queries[r].elementStart(t, n)
            }

            elementEnd(t) {
                for (let n = 0; n < this.queries.length; n++) this.queries[n].elementEnd(t)
            }

            embeddedTView(t) {
                let n = null;
                for (let r = 0; r < this.length; r++) {
                    const i = null !== n ? n.length : 0, o = this.getByIndex(r).embeddedTView(t, i);
                    o && (o.indexInDeclarationView = r, null !== n ? n.push(o) : n = [o])
                }
                return null !== n ? new qu(n) : null
            }

            template(t, n) {
                for (let r = 0; r < this.queries.length; r++) this.queries[r].template(t, n)
            }

            getByIndex(t) {
                return this.queries[t]
            }

            get length() {
                return this.queries.length
            }

            track(t) {
                this.queries.push(t)
            }
        }

        class Xu {
            constructor(t, n = -1) {
                this.metadata = t, this.matches = null, this.indexInDeclarationView = -1, this.crossesNgTemplate = !1, this._appliesToNextNode = !0, this._declarationNodeIndex = n
            }

            elementStart(t, n) {
                this.isApplyingToNode(n) && this.matchTNode(t, n)
            }

            elementEnd(t) {
                this._declarationNodeIndex === t.index && (this._appliesToNextNode = !1)
            }

            template(t, n) {
                this.elementStart(t, n)
            }

            embeddedTView(t, n) {
                return this.isApplyingToNode(t) ? (this.crossesNgTemplate = !0, this.addMatch(-t.index, n), new Xu(this.metadata)) : null
            }

            isApplyingToNode(t) {
                if (this._appliesToNextNode && 1 != (1 & this.metadata.flags)) {
                    const n = this._declarationNodeIndex;
                    let r = t.parent;
                    for (; null !== r && 8 & r.type && r.index !== n;) r = r.parent;
                    return n === (null !== r ? r.index : -1)
                }
                return this._appliesToNextNode
            }

            matchTNode(t, n) {
                const r = this.metadata.predicate;
                if (Array.isArray(r)) for (let i = 0; i < r.length; i++) {
                    const o = r[i];
                    this.matchTNodeWithReadOption(t, n, mv(n, o)), this.matchTNodeWithReadOption(t, n, Va(n, t, o, !1, !1))
                } else r === fs ? 4 & n.type && this.matchTNodeWithReadOption(t, n, -1) : this.matchTNodeWithReadOption(t, n, Va(n, t, r, !1, !1))
            }

            matchTNodeWithReadOption(t, n, r) {
                if (null !== r) {
                    const i = this.metadata.read;
                    if (null !== i) if (i === qo || i === el || i === fs && 4 & n.type) this.addMatch(n.index, -2); else {
                        const o = Va(n, t, i, !1, !1);
                        null !== o && this.addMatch(n.index, o)
                    } else this.addMatch(n.index, r)
                }
            }

            addMatch(t, n) {
                null === this.matches ? this.matches = [t, n] : this.matches.push(t, n)
            }
        }

        function mv(e, t) {
            const n = e.localNames;
            if (null !== n) for (let r = 0; r < n.length; r += 2) if (n[r] === t) return n[r + 1];
            return null
        }

        function yv(e, t, n, r) {
            return -1 === n ? function gv(e, t) {
                return 11 & e.type ? po(e, t) : 4 & e.type ? Xs(e, t) : null
            }(t, e) : -2 === n ? function vv(e, t, n) {
                return n === qo ? po(t, e) : n === fs ? Xs(t, e) : n === el ? Ap(t, e) : void 0
            }(e, t, r) : Ma(e, e[1], n, t)
        }

        function Ip(e, t, n, r) {
            const i = t[19].queries[r];
            if (null === i.matches) {
                const o = e.data, l = n.matches, h = [];
                for (let y = 0; y < l.length; y += 2) {
                    const T = l[y];
                    h.push(T < 0 ? null : yv(t, o[T], l[y + 1], n.metadata.read))
                }
                i.matches = h
            }
            return i.matches
        }

        function ed(e, t, n, r) {
            const i = e.queries.getByIndex(n), o = i.matches;
            if (null !== o) {
                const l = Ip(e, t, i, n);
                for (let h = 0; h < o.length; h += 2) {
                    const y = o[h];
                    if (y > 0) r.push(l[h / 2]); else {
                        const T = o[h + 1], j = t[-y];
                        for (let ee = 10; ee < j.length; ee++) {
                            const Me = j[ee];
                            Me[17] === Me[3] && ed(Me[1], Me, T, r)
                        }
                        if (null !== j[9]) {
                            const ee = j[9];
                            for (let Me = 0; Me < ee.length; Me++) {
                                const je = ee[Me];
                                ed(je[1], je, T, r)
                            }
                        }
                    }
                }
            }
            return r
        }

        function Pp(e) {
            const t = Xe(), n = er(), r = tr();
            Un(r + 1);
            const i = kp(n, r);
            if (e.dirty && function ca(e) {
                return 4 == (4 & e[2])
            }(t) === (2 == (2 & i.metadata.flags))) {
                if (null === i.matches) e.reset([]); else {
                    const o = i.crossesNgTemplate ? ed(n, t, r, []) : Ip(n, t, i, r);
                    e.reset(o, c1), e.notifyOnChanges()
                }
                return !0
            }
            return !1
        }

        function Op(e, t, n) {
            const r = er();
            r.firstCreatePass && (Lp(r, new Tp(e, t, n), -1), 2 == (2 & t) && (r.staticViewQueries = !0)), Rp(r, Xe(), t)
        }

        function Np(e, t, n, r) {
            const i = er();
            if (i.firstCreatePass) {
                const o = jr();
                Lp(i, new Tp(t, n, r), o.index), function bv(e, t) {
                    const n = e.contentQueries || (e.contentQueries = []);
                    t !== (n.length ? n[n.length - 1] : -1) && n.push(e.queries.length - 1, t)
                }(i, e), 2 == (2 & n) && (i.staticContentQueries = !0)
            }
            Rp(i, Xe(), n)
        }

        function Fp() {
            return function _v(e, t) {
                return e[19].queries[t].queryList
            }(Xe(), tr())
        }

        function Rp(e, t, n) {
            const r = new qs(4 == (4 & n));
            af(e, t, r, r.destroy), null === t[19] && (t[19] = new Qu), t[19].queries.push(new Zu(r))
        }

        function Lp(e, t, n) {
            null === e.queries && (e.queries = new qu), e.queries.track(new Xu(t, n))
        }

        function kp(e, t) {
            return e.queries.getByIndex(t)
        }

        function Vp(e, t) {
            return Xs(e, t)
        }

        function nl(...e) {
        }

        const rm = new Ar("Application Initializer");
        let rl = (() => {
            class e {
                constructor(n) {
                    this.appInits = n, this.resolve = nl, this.reject = nl, this.initialized = !1, this.done = !1, this.donePromise = new Promise((r, i) => {
                        this.resolve = r, this.reject = i
                    })
                }

                runInitializers() {
                    if (this.initialized) return;
                    const n = [], r = () => {
                        this.done = !0, this.resolve()
                    };
                    if (this.appInits) for (let i = 0; i < this.appInits.length; i++) {
                        const o = this.appInits[i]();
                        if (Mu(o)) n.push(o); else if (Lf(o)) {
                            const l = new Promise((h, y) => {
                                o.subscribe({complete: h, error: y})
                            });
                            n.push(l)
                        }
                    }
                    Promise.all(n).then(() => {
                        r()
                    }).catch(i => {
                        this.reject(i)
                    }), 0 === n.length && r(), this.initialized = !0
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)(Yt(rm, 8))
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "root"}), e
        })();
        const im = new Ar("AppId", {
            providedIn: "root", factory: function am() {
                return `${ad()}${ad()}${ad()}`
            }
        });

        function ad() {
            return String.fromCharCode(97 + Math.floor(25 * Math.random()))
        }

        const om = new Ar("Platform Initializer"),
            Bv = new Ar("Platform ID", {providedIn: "platform", factory: () => "unknown"}),
            sm = new Ar("appBootstrapListener"), jv = new Ar("AnimationModuleType");
        let Uv = (() => {
            class e {
                log(n) {
                    console.log(n)
                }

                warn(n) {
                    console.warn(n)
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "platform"}), e
        })();
        const il = new Ar("LocaleId", {
            providedIn: "root",
            factory: () => Ce(il, Gt.Optional | Gt.SkipSelf) || function $v() {
                return typeof $localize < "u" && $localize.locale || Io
            }()
        }), zv = new Ar("DefaultCurrencyCode", {providedIn: "root", factory: () => "USD"});

        class Gv {
            constructor(t, n) {
                this.ngModuleFactory = t, this.componentFactories = n
            }
        }

        let Wv = (() => {
            class e {
                compileModuleSync(n) {
                    return new Gu(n)
                }

                compileModuleAsync(n) {
                    return Promise.resolve(this.compileModuleSync(n))
                }

                compileModuleAndAllComponentsSync(n) {
                    const r = this.compileModuleSync(n), o = ba(dr(n).declarations).reduce((l, h) => {
                        const y = wn(h);
                        return y && l.push(new ns(y)), l
                    }, []);
                    return new Gv(r, o)
                }

                compileModuleAndAllComponentsAsync(n) {
                    return Promise.resolve(this.compileModuleAndAllComponentsSync(n))
                }

                clearCache() {
                }

                clearCacheFor(n) {
                }

                getModuleId(n) {
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "root"}), e
        })();
        const Jv = (() => Promise.resolve(0))();

        function od(e) {
            typeof Zone > "u" ? Jv.then(() => {
                e && e.apply(null, null)
            }) : Zone.current.scheduleMicroTask("scheduleMicrotask", e)
        }

        class Wi {
            constructor({
                            enableLongStackTrace: t = !1,
                            shouldCoalesceEventChangeDetection: n = !1,
                            shouldCoalesceRunChangeDetection: r = !1
                        }) {
                if (this.hasPendingMacrotasks = !1, this.hasPendingMicrotasks = !1, this.isStable = !0, this.onUnstable = new ua(!1), this.onMicrotaskEmpty = new ua(!1), this.onStable = new ua(!1), this.onError = new ua(!1), typeof Zone > "u") throw new ye(908, !1);
                Zone.assertZonePatched();
                const i = this;
                i._nesting = 0, i._outer = i._inner = Zone.current, Zone.TaskTrackingZoneSpec && (i._inner = i._inner.fork(new Zone.TaskTrackingZoneSpec)), t && Zone.longStackTraceZoneSpec && (i._inner = i._inner.fork(Zone.longStackTraceZoneSpec)), i.shouldCoalesceEventChangeDetection = !r && n, i.shouldCoalesceRunChangeDetection = r, i.lastRequestAnimationFrameId = -1, i.nativeRequestAnimationFrame = function Zv() {
                    let e = sn.requestAnimationFrame, t = sn.cancelAnimationFrame;
                    if (typeof Zone < "u" && e && t) {
                        const n = e[Zone.__symbol__("OriginalDelegate")];
                        n && (e = n);
                        const r = t[Zone.__symbol__("OriginalDelegate")];
                        r && (t = r)
                    }
                    return {nativeRequestAnimationFrame: e, nativeCancelAnimationFrame: t}
                }().nativeRequestAnimationFrame, function Xv(e) {
                    const t = () => {
                        !function qv(e) {
                            e.isCheckStableRunning || -1 !== e.lastRequestAnimationFrameId || (e.lastRequestAnimationFrameId = e.nativeRequestAnimationFrame.call(sn, () => {
                                e.fakeTopEventTask || (e.fakeTopEventTask = Zone.root.scheduleEventTask("fakeTopEventTask", () => {
                                    e.lastRequestAnimationFrameId = -1, ld(e), e.isCheckStableRunning = !0, sd(e), e.isCheckStableRunning = !1
                                }, void 0, () => {
                                }, () => {
                                })), e.fakeTopEventTask.invoke()
                            }), ld(e))
                        }(e)
                    };
                    e._inner = e._inner.fork({
                        name: "angular",
                        properties: {isAngularZone: !0},
                        onInvokeTask: (n, r, i, o, l, h) => {
                            try {
                                return dm(e), n.invokeTask(i, o, l, h)
                            } finally {
                                (e.shouldCoalesceEventChangeDetection && "eventTask" === o.type || e.shouldCoalesceRunChangeDetection) && t(), cm(e)
                            }
                        },
                        onInvoke: (n, r, i, o, l, h, y) => {
                            try {
                                return dm(e), n.invoke(i, o, l, h, y)
                            } finally {
                                e.shouldCoalesceRunChangeDetection && t(), cm(e)
                            }
                        },
                        onHasTask: (n, r, i, o) => {
                            n.hasTask(i, o), r === i && ("microTask" == o.change ? (e._hasPendingMicrotasks = o.microTask, ld(e), sd(e)) : "macroTask" == o.change && (e.hasPendingMacrotasks = o.macroTask))
                        },
                        onHandleError: (n, r, i, o) => (n.handleError(i, o), e.runOutsideAngular(() => e.onError.emit(o)), !1)
                    })
                }(i)
            }

            static isInAngularZone() {
                return typeof Zone < "u" && !0 === Zone.current.get("isAngularZone")
            }

            static assertInAngularZone() {
                if (!Wi.isInAngularZone()) throw new ye(909, !1)
            }

            static assertNotInAngularZone() {
                if (Wi.isInAngularZone()) throw new ye(909, !1)
            }

            run(t, n, r) {
                return this._inner.run(t, n, r)
            }

            runTask(t, n, r, i) {
                const o = this._inner, l = o.scheduleEventTask("NgZoneEvent: " + i, t, Qv, nl, nl);
                try {
                    return o.runTask(l, n, r)
                } finally {
                    o.cancelTask(l)
                }
            }

            runGuarded(t, n, r) {
                return this._inner.runGuarded(t, n, r)
            }

            runOutsideAngular(t) {
                return this._outer.run(t)
            }
        }

        const Qv = {};

        function sd(e) {
            if (0 == e._nesting && !e.hasPendingMicrotasks && !e.isStable) try {
                e._nesting++, e.onMicrotaskEmpty.emit(null)
            } finally {
                if (e._nesting--, !e.hasPendingMicrotasks) try {
                    e.runOutsideAngular(() => e.onStable.emit(null))
                } finally {
                    e.isStable = !0
                }
            }
        }

        function ld(e) {
            e.hasPendingMicrotasks = !!(e._hasPendingMicrotasks || (e.shouldCoalesceEventChangeDetection || e.shouldCoalesceRunChangeDetection) && -1 !== e.lastRequestAnimationFrameId)
        }

        function dm(e) {
            e._nesting++, e.isStable && (e.isStable = !1, e.onUnstable.emit(null))
        }

        function cm(e) {
            e._nesting--, sd(e)
        }

        class e_ {
            constructor() {
                this.hasPendingMicrotasks = !1, this.hasPendingMacrotasks = !1, this.isStable = !0, this.onUnstable = new ua, this.onMicrotaskEmpty = new ua, this.onStable = new ua, this.onError = new ua
            }

            run(t, n, r) {
                return t.apply(n, r)
            }

            runGuarded(t, n, r) {
                return t.apply(n, r)
            }

            runOutsideAngular(t) {
                return t()
            }

            runTask(t, n, r, i) {
                return t.apply(n, r)
            }
        }

        const fm = new Ar(""), hm = new Ar("");
        let ud, t_ = (() => {
            class e {
                constructor(n, r, i) {
                    this._ngZone = n, this.registry = r, this._pendingCount = 0, this._isZoneStable = !0, this._didWork = !1, this._callbacks = [], this.taskTrackingZone = null, ud || (function n_(e) {
                        ud = e
                    }(i), i.addToWindow(r)), this._watchAngularEvents(), n.run(() => {
                        this.taskTrackingZone = typeof Zone > "u" ? null : Zone.current.get("TaskTrackingZone")
                    })
                }

                _watchAngularEvents() {
                    this._ngZone.onUnstable.subscribe({
                        next: () => {
                            this._didWork = !0, this._isZoneStable = !1
                        }
                    }), this._ngZone.runOutsideAngular(() => {
                        this._ngZone.onStable.subscribe({
                            next: () => {
                                Wi.assertNotInAngularZone(), od(() => {
                                    this._isZoneStable = !0, this._runCallbacksIfReady()
                                })
                            }
                        })
                    })
                }

                increasePendingRequestCount() {
                    return this._pendingCount += 1, this._didWork = !0, this._pendingCount
                }

                decreasePendingRequestCount() {
                    if (this._pendingCount -= 1, this._pendingCount < 0) throw new Error("pending async requests below zero");
                    return this._runCallbacksIfReady(), this._pendingCount
                }

                isStable() {
                    return this._isZoneStable && 0 === this._pendingCount && !this._ngZone.hasPendingMacrotasks
                }

                _runCallbacksIfReady() {
                    if (this.isStable()) od(() => {
                        for (; 0 !== this._callbacks.length;) {
                            let n = this._callbacks.pop();
                            clearTimeout(n.timeoutId), n.doneCb(this._didWork)
                        }
                        this._didWork = !1
                    }); else {
                        let n = this.getPendingTasks();
                        this._callbacks = this._callbacks.filter(r => !r.updateCb || !r.updateCb(n) || (clearTimeout(r.timeoutId), !1)), this._didWork = !0
                    }
                }

                getPendingTasks() {
                    return this.taskTrackingZone ? this.taskTrackingZone.macroTasks.map(n => ({
                        source: n.source,
                        creationLocation: n.creationLocation,
                        data: n.data
                    })) : []
                }

                addCallback(n, r, i) {
                    let o = -1;
                    r && r > 0 && (o = setTimeout(() => {
                        this._callbacks = this._callbacks.filter(l => l.timeoutId !== o), n(this._didWork, this.getPendingTasks())
                    }, r)), this._callbacks.push({doneCb: n, timeoutId: o, updateCb: i})
                }

                whenStable(n, r, i) {
                    if (i && !this.taskTrackingZone) throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');
                    this.addCallback(n, r, i), this._runCallbacksIfReady()
                }

                getPendingRequestCount() {
                    return this._pendingCount
                }

                registerApplication(n) {
                    this.registry.registerApplication(n, this)
                }

                unregisterApplication(n) {
                    this.registry.unregisterApplication(n)
                }

                findProviders(n, r, i) {
                    return []
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)(Yt(Wi), Yt(pm), Yt(hm))
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac}), e
        })(), pm = (() => {
            class e {
                constructor() {
                    this._applications = new Map
                }

                registerApplication(n, r) {
                    this._applications.set(n, r)
                }

                unregisterApplication(n) {
                    this._applications.delete(n)
                }

                unregisterAllApplications() {
                    this._applications.clear()
                }

                getTestability(n) {
                    return this._applications.get(n) || null
                }

                getAllTestabilities() {
                    return Array.from(this._applications.values())
                }

                getAllRootElements() {
                    return Array.from(this._applications.keys())
                }

                findTestabilityInTree(n, r = !0) {
                    return ud?.findTestabilityInTree(this, n, r) ?? null
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "platform"}), e
        })(), Oa = null;
        const mm = new Ar("AllowMultipleToken"), dd = new Ar("PlatformDestroyListeners");

        class a_ {
            constructor(t, n) {
                this.name = t, this.token = n
            }
        }

        function ym(e, t, n = []) {
            const r = `Platform: ${t}`, i = new Ar(r);
            return (o = []) => {
                let l = cd();
                if (!l || l.injector.get(mm, !1)) {
                    const h = [...n, ...o, {provide: i, useValue: !0}];
                    e ? e(h) : function o_(e) {
                        if (Oa && !Oa.get(mm, !1)) throw new ye(400, !1);
                        Oa = e;
                        const t = e.get(_m);
                        (function gm(e) {
                            const t = e.get(om, null);
                            t && t.forEach(n => n())
                        })(e)
                    }(function vm(e = [], t) {
                        return Ya.create({
                            name: t,
                            providers: [{provide: Yl, useValue: "platform"}, {
                                provide: dd,
                                useValue: new Set([() => Oa = null])
                            }, ...e]
                        })
                    }(h, r))
                }
                return function l_(e) {
                    const t = cd();
                    if (!t) throw new ye(401, !1);
                    return t
                }()
            }
        }

        function cd() {
            return Oa?.get(_m) ?? null
        }

        let _m = (() => {
            class e {
                constructor(n) {
                    this._injector = n, this._modules = [], this._destroyListeners = [], this._destroyed = !1
                }

                bootstrapModuleFactory(n, r) {
                    const i = function Dm(e, t) {
                        let n;
                        return n = "noop" === e ? new e_ : ("zone.js" === e ? void 0 : e) || new Wi(t), n
                    }(r?.ngZone, function bm(e) {
                        return {
                            enableLongStackTrace: !1,
                            shouldCoalesceEventChangeDetection: !(!e || !e.ngZoneEventCoalescing) || !1,
                            shouldCoalesceRunChangeDetection: !(!e || !e.ngZoneRunCoalescing) || !1
                        }
                    }(r)), o = [{provide: Wi, useValue: i}];
                    return i.run(() => {
                        const l = Ya.create({providers: o, parent: this.injector, name: n.moduleType.name}),
                            h = n.create(l), y = h.injector.get(Xo, null);
                        if (!y) throw new ye(402, !1);
                        return i.runOutsideAngular(() => {
                            const T = i.onError.subscribe({
                                next: j => {
                                    y.handleError(j)
                                }
                            });
                            h.onDestroy(() => {
                                ol(this._modules, h), T.unsubscribe()
                            })
                        }), function Cm(e, t, n) {
                            try {
                                const r = n();
                                return Mu(r) ? r.catch(i => {
                                    throw t.runOutsideAngular(() => e.handleError(i)), i
                                }) : r
                            } catch (r) {
                                throw t.runOutsideAngular(() => e.handleError(r)), r
                            }
                        }(y, i, () => {
                            const T = h.injector.get(rl);
                            return T.runInitializers(), T.donePromise.then(() => (function Nh(e) {
                                rt(e, "Expected localeId to be defined"), "string" == typeof e && (Oh = e.toLowerCase().replace(/_/g, "-"))
                            }(h.injector.get(il, Io) || Io), this._moduleDoBootstrap(h), h))
                        })
                    })
                }

                bootstrapModule(n, r = []) {
                    const i = Em({}, r);
                    return function r_(e, t, n) {
                        const r = new Gu(n);
                        return Promise.resolve(r)
                    }(0, 0, n).then(o => this.bootstrapModuleFactory(o, i))
                }

                _moduleDoBootstrap(n) {
                    const r = n.injector.get(al);
                    if (n._bootstrapComponents.length > 0) n._bootstrapComponents.forEach(i => r.bootstrap(i)); else {
                        if (!n.instance.ngDoBootstrap) throw new ye(-403, !1);
                        n.instance.ngDoBootstrap(r)
                    }
                    this._modules.push(n)
                }

                onDestroy(n) {
                    this._destroyListeners.push(n)
                }

                get injector() {
                    return this._injector
                }

                destroy() {
                    if (this._destroyed) throw new ye(404, !1);
                    this._modules.slice().forEach(r => r.destroy()), this._destroyListeners.forEach(r => r());
                    const n = this._injector.get(dd, null);
                    n && (n.forEach(r => r()), n.clear()), this._destroyed = !0
                }

                get destroyed() {
                    return this._destroyed
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)(Yt(Ya))
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "platform"}), e
        })();

        function Em(e, t) {
            return Array.isArray(t) ? t.reduce(Em, e) : {...e, ...t}
        }

        let al = (() => {
            class e {
                get destroyed() {
                    return this._destroyed
                }

                get injector() {
                    return this._injector
                }

                constructor(n, r, i) {
                    this._zone = n, this._injector = r, this._exceptionHandler = i, this._bootstrapListeners = [], this._views = [], this._runningTick = !1, this._stable = !0, this._destroyed = !1, this._destroyListeners = [], this.componentTypes = [], this.components = [], this._onMicrotaskEmptySubscription = this._zone.onMicrotaskEmpty.subscribe({
                        next: () => {
                            this._zone.run(() => {
                                this.tick()
                            })
                        }
                    });
                    const o = new K.y(h => {
                        this._stable = this._zone.isStable && !this._zone.hasPendingMacrotasks && !this._zone.hasPendingMicrotasks, this._zone.runOutsideAngular(() => {
                            h.next(this._stable), h.complete()
                        })
                    }), l = new K.y(h => {
                        let y;
                        this._zone.runOutsideAngular(() => {
                            y = this._zone.onStable.subscribe(() => {
                                Wi.assertNotInAngularZone(), od(() => {
                                    !this._stable && !this._zone.hasPendingMacrotasks && !this._zone.hasPendingMicrotasks && (this._stable = !0, h.next(!0))
                                })
                            })
                        });
                        const T = this._zone.onUnstable.subscribe(() => {
                            Wi.assertInAngularZone(), this._stable && (this._stable = !1, this._zone.runOutsideAngular(() => {
                                h.next(!1)
                            }))
                        });
                        return () => {
                            y.unsubscribe(), T.unsubscribe()
                        }
                    });
                    this.isStable = (0, k.T)(o, l.pipe((0, ue.B)()))
                }

                bootstrap(n, r) {
                    const i = n instanceof Ic;
                    if (!this._injector.get(rl).done) throw!i && Mr(n), new ye(405, false);
                    let l;
                    l = i ? n : this._injector.get(Qo).resolveComponentFactory(n), this.componentTypes.push(l.componentType);
                    const h = function i_(e) {
                            return e.isBoundToModule
                        }(l) ? void 0 : this._injector.get(Po), T = l.create(Ya.NULL, [], r || l.selector, h),
                        j = T.location.nativeElement, ee = T.injector.get(fm, null);
                    return ee?.registerApplication(j), T.onDestroy(() => {
                        this.detachView(T.hostView), ol(this.components, T), ee?.unregisterApplication(j)
                    }), this._loadComponent(T), T
                }

                tick() {
                    if (this._runningTick) throw new ye(101, !1);
                    try {
                        this._runningTick = !0;
                        for (let n of this._views) n.detectChanges()
                    } catch (n) {
                        this._zone.runOutsideAngular(() => this._exceptionHandler.handleError(n))
                    } finally {
                        this._runningTick = !1
                    }
                }

                attachView(n) {
                    const r = n;
                    this._views.push(r), r.attachToAppRef(this)
                }

                detachView(n) {
                    const r = n;
                    ol(this._views, r), r.detachFromAppRef()
                }

                _loadComponent(n) {
                    this.attachView(n.hostView), this.tick(), this.components.push(n);
                    const r = this._injector.get(sm, []);
                    r.push(...this._bootstrapListeners), r.forEach(i => i(n))
                }

                ngOnDestroy() {
                    if (!this._destroyed) try {
                        this._destroyListeners.forEach(n => n()), this._views.slice().forEach(n => n.destroy()), this._onMicrotaskEmptySubscription.unsubscribe()
                    } finally {
                        this._destroyed = !0, this._views = [], this._bootstrapListeners = [], this._destroyListeners = []
                    }
                }

                onDestroy(n) {
                    return this._destroyListeners.push(n), () => ol(this._destroyListeners, n)
                }

                destroy() {
                    if (this._destroyed) throw new ye(406, !1);
                    const n = this._injector;
                    n.destroy && !n.destroyed && n.destroy()
                }

                get viewCount() {
                    return this._views.length
                }

                warnIfDestroyed() {
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)(Yt(Wi), Yt(Ka), Yt(Xo))
            }, e.\u0275prov = Bt({token: e, factory: e.\u0275fac, providedIn: "root"}), e
        })();

        function ol(e, t) {
            const n = e.indexOf(t);
            n > -1 && e.splice(n, 1)
        }

        let d_ = (() => {
            class e {
            }

            return e.__NG_ELEMENT_ID__ = c_, e
        })();

        function c_(e) {
            return function f_(e, t, n) {
                if (xt(e) && !n) {
                    const r = ti(e.index, t);
                    return new ts(r, r)
                }
                return 47 & e.type ? new ts(t[16], t) : null
            }(jr(), Xe(), 16 == (16 & e))
        }

        class Am {
            constructor() {
            }

            supports(t) {
                return Vs(t)
            }

            create(t) {
                return new v_(t)
            }
        }

        const y_ = (e, t) => t;

        class v_ {
            constructor(t) {
                this.length = 0, this._linkedRecords = null, this._unlinkedRecords = null, this._previousItHead = null, this._itHead = null, this._itTail = null, this._additionsHead = null, this._additionsTail = null, this._movesHead = null, this._movesTail = null, this._removalsHead = null, this._removalsTail = null, this._identityChangesHead = null, this._identityChangesTail = null, this._trackByFn = t || y_
            }

            forEachItem(t) {
                let n;
                for (n = this._itHead; null !== n; n = n._next) t(n)
            }

            forEachOperation(t) {
                let n = this._itHead, r = this._removalsHead, i = 0, o = null;
                for (; n || r;) {
                    const l = !r || n && n.currentIndex < Im(r, i, o) ? n : r, h = Im(l, i, o), y = l.currentIndex;
                    if (l === r) i--, r = r._nextRemoved; else if (n = n._next, null == l.previousIndex) i++; else {
                        o || (o = []);
                        const T = h - i, j = y - i;
                        if (T != j) {
                            for (let Me = 0; Me < T; Me++) {
                                const je = Me < o.length ? o[Me] : o[Me] = 0, ct = je + Me;
                                j <= ct && ct < T && (o[Me] = je + 1)
                            }
                            o[l.previousIndex] = j - T
                        }
                    }
                    h !== y && t(l, h, y)
                }
            }

            forEachPreviousItem(t) {
                let n;
                for (n = this._previousItHead; null !== n; n = n._nextPrevious) t(n)
            }

            forEachAddedItem(t) {
                let n;
                for (n = this._additionsHead; null !== n; n = n._nextAdded) t(n)
            }

            forEachMovedItem(t) {
                let n;
                for (n = this._movesHead; null !== n; n = n._nextMoved) t(n)
            }

            forEachRemovedItem(t) {
                let n;
                for (n = this._removalsHead; null !== n; n = n._nextRemoved) t(n)
            }

            forEachIdentityChange(t) {
                let n;
                for (n = this._identityChangesHead; null !== n; n = n._nextIdentityChange) t(n)
            }

            diff(t) {
                if (null == t && (t = []), !Vs(t)) throw new ye(900, !1);
                return this.check(t) ? this : null
            }

            onDestroy() {
            }

            check(t) {
                this._reset();
                let i, o, l, n = this._itHead, r = !1;
                if (Array.isArray(t)) {
                    this.length = t.length;
                    for (let h = 0; h < this.length; h++) o = t[h], l = this._trackByFn(h, o), null !== n && Object.is(n.trackById, l) ? (r && (n = this._verifyReinsertion(n, o, l, h)), Object.is(n.item, o) || this._addIdentityChange(n, o)) : (n = this._mismatch(n, o, l, h), r = !0), n = n._next
                } else i = 0, function K2(e, t) {
                    if (Array.isArray(e)) for (let n = 0; n < e.length; n++) t(e[n]); else {
                        const n = e[Ja()]();
                        let r;
                        for (; !(r = n.next()).done;) t(r.value)
                    }
                }(t, h => {
                    l = this._trackByFn(i, h), null !== n && Object.is(n.trackById, l) ? (r && (n = this._verifyReinsertion(n, h, l, i)), Object.is(n.item, h) || this._addIdentityChange(n, h)) : (n = this._mismatch(n, h, l, i), r = !0), n = n._next, i++
                }), this.length = i;
                return this._truncate(n), this.collection = t, this.isDirty
            }

            get isDirty() {
                return null !== this._additionsHead || null !== this._movesHead || null !== this._removalsHead || null !== this._identityChangesHead
            }

            _reset() {
                if (this.isDirty) {
                    let t;
                    for (t = this._previousItHead = this._itHead; null !== t; t = t._next) t._nextPrevious = t._next;
                    for (t = this._additionsHead; null !== t; t = t._nextAdded) t.previousIndex = t.currentIndex;
                    for (this._additionsHead = this._additionsTail = null, t = this._movesHead; null !== t; t = t._nextMoved) t.previousIndex = t.currentIndex;
                    this._movesHead = this._movesTail = null, this._removalsHead = this._removalsTail = null, this._identityChangesHead = this._identityChangesTail = null
                }
            }

            _mismatch(t, n, r, i) {
                let o;
                return null === t ? o = this._itTail : (o = t._prev, this._remove(t)), null !== (t = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(r, null)) ? (Object.is(t.item, n) || this._addIdentityChange(t, n), this._reinsertAfter(t, o, i)) : null !== (t = null === this._linkedRecords ? null : this._linkedRecords.get(r, i)) ? (Object.is(t.item, n) || this._addIdentityChange(t, n), this._moveAfter(t, o, i)) : t = this._addAfter(new __(n, r), o, i), t
            }

            _verifyReinsertion(t, n, r, i) {
                let o = null === this._unlinkedRecords ? null : this._unlinkedRecords.get(r, null);
                return null !== o ? t = this._reinsertAfter(o, t._prev, i) : t.currentIndex != i && (t.currentIndex = i, this._addToMoves(t, i)), t
            }

            _truncate(t) {
                for (; null !== t;) {
                    const n = t._next;
                    this._addToRemovals(this._unlink(t)), t = n
                }
                null !== this._unlinkedRecords && this._unlinkedRecords.clear(), null !== this._additionsTail && (this._additionsTail._nextAdded = null), null !== this._movesTail && (this._movesTail._nextMoved = null), null !== this._itTail && (this._itTail._next = null), null !== this._removalsTail && (this._removalsTail._nextRemoved = null), null !== this._identityChangesTail && (this._identityChangesTail._nextIdentityChange = null)
            }

            _reinsertAfter(t, n, r) {
                null !== this._unlinkedRecords && this._unlinkedRecords.remove(t);
                const i = t._prevRemoved, o = t._nextRemoved;
                return null === i ? this._removalsHead = o : i._nextRemoved = o, null === o ? this._removalsTail = i : o._prevRemoved = i, this._insertAfter(t, n, r), this._addToMoves(t, r), t
            }

            _moveAfter(t, n, r) {
                return this._unlink(t), this._insertAfter(t, n, r), this._addToMoves(t, r), t
            }

            _addAfter(t, n, r) {
                return this._insertAfter(t, n, r), this._additionsTail = null === this._additionsTail ? this._additionsHead = t : this._additionsTail._nextAdded = t, t
            }

            _insertAfter(t, n, r) {
                const i = null === n ? this._itHead : n._next;
                return t._next = i, t._prev = n, null === i ? this._itTail = t : i._prev = t, null === n ? this._itHead = t : n._next = t, null === this._linkedRecords && (this._linkedRecords = new Tm), this._linkedRecords.put(t), t.currentIndex = r, t
            }

            _remove(t) {
                return this._addToRemovals(this._unlink(t))
            }

            _unlink(t) {
                null !== this._linkedRecords && this._linkedRecords.remove(t);
                const n = t._prev, r = t._next;
                return null === n ? this._itHead = r : n._next = r, null === r ? this._itTail = n : r._prev = n, t
            }

            _addToMoves(t, n) {
                return t.previousIndex === n || (this._movesTail = null === this._movesTail ? this._movesHead = t : this._movesTail._nextMoved = t), t
            }

            _addToRemovals(t) {
                return null === this._unlinkedRecords && (this._unlinkedRecords = new Tm), this._unlinkedRecords.put(t), t.currentIndex = null, t._nextRemoved = null, null === this._removalsTail ? (this._removalsTail = this._removalsHead = t, t._prevRemoved = null) : (t._prevRemoved = this._removalsTail, this._removalsTail = this._removalsTail._nextRemoved = t), t
            }

            _addIdentityChange(t, n) {
                return t.item = n, this._identityChangesTail = null === this._identityChangesTail ? this._identityChangesHead = t : this._identityChangesTail._nextIdentityChange = t, t
            }
        }

        class __ {
            constructor(t, n) {
                this.item = t, this.trackById = n, this.currentIndex = null, this.previousIndex = null, this._nextPrevious = null, this._prev = null, this._next = null, this._prevDup = null, this._nextDup = null, this._prevRemoved = null, this._nextRemoved = null, this._nextAdded = null, this._nextMoved = null, this._nextIdentityChange = null
            }
        }

        class b_ {
            constructor() {
                this._head = null, this._tail = null
            }

            add(t) {
                null === this._head ? (this._head = this._tail = t, t._nextDup = null, t._prevDup = null) : (this._tail._nextDup = t, t._prevDup = this._tail, t._nextDup = null, this._tail = t)
            }

            get(t, n) {
                let r;
                for (r = this._head; null !== r; r = r._nextDup) if ((null === n || n <= r.currentIndex) && Object.is(r.trackById, t)) return r;
                return null
            }

            remove(t) {
                const n = t._prevDup, r = t._nextDup;
                return null === n ? this._head = r : n._nextDup = r, null === r ? this._tail = n : r._prevDup = n, null === this._head
            }
        }

        class Tm {
            constructor() {
                this.map = new Map
            }

            put(t) {
                const n = t.trackById;
                let r = this.map.get(n);
                r || (r = new b_, this.map.set(n, r)), r.add(t)
            }

            get(t, n) {
                const i = this.map.get(t);
                return i ? i.get(t, n) : null
            }

            remove(t) {
                const n = t.trackById;
                return this.map.get(n).remove(t) && this.map.delete(n), t
            }

            get isEmpty() {
                return 0 === this.map.size
            }

            clear() {
                this.map.clear()
            }
        }

        function Im(e, t, n) {
            const r = e.previousIndex;
            if (null === r) return r;
            let i = 0;
            return n && r < n.length && (i = n[r]), r + t + i
        }

        class Pm {
            constructor() {
            }

            supports(t) {
                return t instanceof Map || bu(t)
            }

            create() {
                return new D_
            }
        }

        class D_ {
            constructor() {
                this._records = new Map, this._mapHead = null, this._appendAfter = null, this._previousMapHead = null, this._changesHead = null, this._changesTail = null, this._additionsHead = null, this._additionsTail = null, this._removalsHead = null, this._removalsTail = null
            }

            get isDirty() {
                return null !== this._additionsHead || null !== this._changesHead || null !== this._removalsHead
            }

            forEachItem(t) {
                let n;
                for (n = this._mapHead; null !== n; n = n._next) t(n)
            }

            forEachPreviousItem(t) {
                let n;
                for (n = this._previousMapHead; null !== n; n = n._nextPrevious) t(n)
            }

            forEachChangedItem(t) {
                let n;
                for (n = this._changesHead; null !== n; n = n._nextChanged) t(n)
            }

            forEachAddedItem(t) {
                let n;
                for (n = this._additionsHead; null !== n; n = n._nextAdded) t(n)
            }

            forEachRemovedItem(t) {
                let n;
                for (n = this._removalsHead; null !== n; n = n._nextRemoved) t(n)
            }

            diff(t) {
                if (t) {
                    if (!(t instanceof Map || bu(t))) throw new ye(900, !1)
                } else t = new Map;
                return this.check(t) ? this : null
            }

            onDestroy() {
            }

            check(t) {
                this._reset();
                let n = this._mapHead;
                if (this._appendAfter = null, this._forEach(t, (r, i) => {
                    if (n && n.key === i) this._maybeAddToChanges(n, r), this._appendAfter = n, n = n._next; else {
                        const o = this._getOrCreateRecordForKey(i, r);
                        n = this._insertBeforeOrAppend(n, o)
                    }
                }), n) {
                    n._prev && (n._prev._next = null), this._removalsHead = n;
                    for (let r = n; null !== r; r = r._nextRemoved) r === this._mapHead && (this._mapHead = null), this._records.delete(r.key), r._nextRemoved = r._next, r.previousValue = r.currentValue, r.currentValue = null, r._prev = null, r._next = null
                }
                return this._changesTail && (this._changesTail._nextChanged = null), this._additionsTail && (this._additionsTail._nextAdded = null), this.isDirty
            }

            _insertBeforeOrAppend(t, n) {
                if (t) {
                    const r = t._prev;
                    return n._next = t, n._prev = r, t._prev = n, r && (r._next = n), t === this._mapHead && (this._mapHead = n), this._appendAfter = t, t
                }
                return this._appendAfter ? (this._appendAfter._next = n, n._prev = this._appendAfter) : this._mapHead = n, this._appendAfter = n, null
            }

            _getOrCreateRecordForKey(t, n) {
                if (this._records.has(t)) {
                    const i = this._records.get(t);
                    this._maybeAddToChanges(i, n);
                    const o = i._prev, l = i._next;
                    return o && (o._next = l), l && (l._prev = o), i._next = null, i._prev = null, i
                }
                const r = new C_(t);
                return this._records.set(t, r), r.currentValue = n, this._addToAdditions(r), r
            }

            _reset() {
                if (this.isDirty) {
                    let t;
                    for (this._previousMapHead = this._mapHead, t = this._previousMapHead; null !== t; t = t._next) t._nextPrevious = t._next;
                    for (t = this._changesHead; null !== t; t = t._nextChanged) t.previousValue = t.currentValue;
                    for (t = this._additionsHead; null != t; t = t._nextAdded) t.previousValue = t.currentValue;
                    this._changesHead = this._changesTail = null, this._additionsHead = this._additionsTail = null, this._removalsHead = null
                }
            }

            _maybeAddToChanges(t, n) {
                Object.is(n, t.currentValue) || (t.previousValue = t.currentValue, t.currentValue = n, this._addToChanges(t))
            }

            _addToAdditions(t) {
                null === this._additionsHead ? this._additionsHead = this._additionsTail = t : (this._additionsTail._nextAdded = t, this._additionsTail = t)
            }

            _addToChanges(t) {
                null === this._changesHead ? this._changesHead = this._changesTail = t : (this._changesTail._nextChanged = t, this._changesTail = t)
            }

            _forEach(t, n) {
                t instanceof Map ? t.forEach(n) : Object.keys(t).forEach(r => n(t[r], r))
            }
        }

        class C_ {
            constructor(t) {
                this.key = t, this.previousValue = null, this.currentValue = null, this._nextPrevious = null, this._next = null, this._prev = null, this._nextAdded = null, this._nextRemoved = null, this._nextChanged = null
            }
        }

        function Om() {
            return new gd([new Am])
        }

        let gd = (() => {
            class e {
                constructor(n) {
                    this.factories = n
                }

                static create(n, r) {
                    if (null != r) {
                        const i = r.factories.slice();
                        n = n.concat(i)
                    }
                    return new e(n)
                }

                static extend(n) {
                    return {provide: e, useFactory: r => e.create(n, r || Om()), deps: [[e, new Uo, new jo]]}
                }

                find(n) {
                    const r = this.factories.find(i => i.supports(n));
                    if (null != r) return r;
                    throw new ye(901, !1)
                }
            }

            return e.\u0275prov = Bt({token: e, providedIn: "root", factory: Om}), e
        })();

        function Nm() {
            return new yd([new Pm])
        }

        let yd = (() => {
            class e {
                constructor(n) {
                    this.factories = n
                }

                static create(n, r) {
                    if (r) {
                        const i = r.factories.slice();
                        n = n.concat(i)
                    }
                    return new e(n)
                }

                static extend(n) {
                    return {provide: e, useFactory: r => e.create(n, r || Nm()), deps: [[e, new Uo, new jo]]}
                }

                find(n) {
                    const r = this.factories.find(i => i.supports(n));
                    if (r) return r;
                    throw new ye(901, !1)
                }
            }

            return e.\u0275prov = Bt({token: e, providedIn: "root", factory: Nm}), e
        })();
        const S_ = ym(null, "core", []);
        let M_ = (() => {
            class e {
                constructor(n) {
                }
            }

            return e.\u0275fac = function (n) {
                return new (n || e)(Yt(al))
            }, e.\u0275mod = Nt({type: e}), e.\u0275inj = Xt({}), e
        })();

        function x_(e) {
            return "boolean" == typeof e ? e : null != e && "false" !== e
        }
    }, 2107: (Pe, he, D) => {
        "use strict";
        D.d(he, {iD: () => nt});
        var a = D(4650), V = D(7579), K = D(6063);

        class k extends V.x {
            constructor(se = 1 / 0, Fe = 1 / 0, Ge = K.l) {
                super(), this._bufferSize = se, this._windowTime = Fe, this._timestampProvider = Ge, this._buffer = [], this._infiniteTimeWindow = !0, this._infiniteTimeWindow = Fe === 1 / 0, this._bufferSize = Math.max(1, se), this._windowTime = Math.max(1, Fe)
            }

            next(se) {
                const {
                    isStopped: Fe,
                    _buffer: Ge,
                    _infiniteTimeWindow: at,
                    _timestampProvider: Ye,
                    _windowTime: we
                } = this;
                Fe || (Ge.push(se), !at && Ge.push(Ye.now() + we)), this._trimBuffer(), super.next(se)
            }

            _subscribe(se) {
                this._throwIfClosed(), this._trimBuffer();
                const Fe = this._innerSubscribe(se), {_infiniteTimeWindow: Ge, _buffer: at} = this, Ye = at.slice();
                for (let we = 0; we < Ye.length && !se.closed; we += Ge ? 1 : 2) se.next(Ye[we]);
                return this._checkFinalizedStatuses(se), Fe
            }

            _trimBuffer() {
                const {_bufferSize: se, _timestampProvider: Fe, _buffer: Ge, _infiniteTimeWindow: at} = this,
                    Ye = (at ? 1 : 2) * se;
                if (se < 1 / 0 && Ye < Ge.length && Ge.splice(0, Ge.length - Ye), !at) {
                    const we = Fe.now();
                    let Re = 0;
                    for (let De = 1; De < Ge.length && Ge[De] <= we; De += 2) Re = De;
                    Re && Ge.splice(0, Re + 1)
                }
            }
        }

        var ue = D(6451), de = D(3900), be = D(4004);
        const Te = {
            schedule(ge, se) {
                const Fe = setTimeout(ge, se);
                return () => clearTimeout(Fe)
            }, scheduleBeforeRender(ge) {
                if (typeof window > "u") return Te.schedule(ge, 0);
                if (typeof window.requestAnimationFrame > "u") return Te.schedule(ge, 16);
                const se = window.requestAnimationFrame(ge);
                return () => window.cancelAnimationFrame(se)
            }
        };
        let Oe;

        function $e(ge, se, Fe) {
            let Ge = Fe;
            return function me(ge) {
                return !!ge && ge.nodeType === Node.ELEMENT_NODE
            }(ge) && se.some((at, Ye) => !("*" === at || !function xe(ge, se) {
                if (!Oe) {
                    const Fe = Element.prototype;
                    Oe = Fe.matches || Fe.matchesSelector || Fe.mozMatchesSelector || Fe.msMatchesSelector || Fe.oMatchesSelector || Fe.webkitMatchesSelector
                }
                return ge.nodeType === Node.ELEMENT_NODE && Oe.call(ge, se)
            }(ge, at) || (Ge = Ye, 0))), Ge
        }

        class We {
            constructor(se, Fe) {
                this.componentFactory = Fe.get(a._Vd).resolveComponentFactory(se)
            }

            create(se) {
                return new pe(this.componentFactory, se)
            }
        }

        class pe {
            constructor(se, Fe) {
                this.componentFactory = se, this.injector = Fe, this.eventEmitters = new k(1), this.events = this.eventEmitters.pipe((0, de.w)(Ge => (0, ue.T)(...Ge))), this.componentRef = null, this.viewChangeDetectorRef = null, this.inputChanges = null, this.hasInputChanges = !1, this.implementsOnChanges = !1, this.scheduledChangeDetectionFn = null, this.scheduledDestroyFn = null, this.initialInputValues = new Map, this.unchangedInputs = new Set(this.componentFactory.inputs.map(({propName: Ge}) => Ge)), this.ngZone = this.injector.get(a.R0b), this.elementZone = typeof Zone > "u" ? null : this.ngZone.run(() => Zone.current)
            }

            connect(se) {
                this.runInZone(() => {
                    if (null !== this.scheduledDestroyFn) return this.scheduledDestroyFn(), void (this.scheduledDestroyFn = null);
                    null === this.componentRef && this.initializeComponent(se)
                })
            }

            disconnect() {
                this.runInZone(() => {
                    null === this.componentRef || null !== this.scheduledDestroyFn || (this.scheduledDestroyFn = Te.schedule(() => {
                        null !== this.componentRef && (this.componentRef.destroy(), this.componentRef = null, this.viewChangeDetectorRef = null)
                    }, 10))
                })
            }

            getInputValue(se) {
                return this.runInZone(() => null === this.componentRef ? this.initialInputValues.get(se) : this.componentRef.instance[se])
            }

            setInputValue(se, Fe) {
                this.runInZone(() => {
                    null !== this.componentRef ? function Be(ge, se) {
                        return ge === se || ge != ge && se != se
                    }(Fe, this.getInputValue(se)) && (void 0 !== Fe || !this.unchangedInputs.has(se)) || (this.recordInputChange(se, Fe), this.unchangedInputs.delete(se), this.hasInputChanges = !0, this.componentRef.instance[se] = Fe, this.scheduleDetectChanges()) : this.initialInputValues.set(se, Fe)
                })
            }

            initializeComponent(se) {
                const Fe = a.zs3.create({providers: [], parent: this.injector}), Ge = function Ue(ge, se) {
                    const Fe = ge.childNodes, Ge = se.map(() => []);
                    let at = -1;
                    se.some((Ye, we) => "*" === Ye && (at = we, !0));
                    for (let Ye = 0, we = Fe.length; Ye < we; ++Ye) {
                        const Re = Fe[Ye], De = $e(Re, se, at);
                        -1 !== De && Ge[De].push(Re)
                    }
                    return Ge
                }(se, this.componentFactory.ngContentSelectors);
                this.componentRef = this.componentFactory.create(Fe, Ge, se), this.viewChangeDetectorRef = this.componentRef.injector.get(a.sBO), this.implementsOnChanges = function ce(ge) {
                    return "function" == typeof ge
                }(this.componentRef.instance.ngOnChanges), this.initializeInputs(), this.initializeOutputs(this.componentRef), this.detectChanges(), this.injector.get(a.z2F).attachView(this.componentRef.hostView)
            }

            initializeInputs() {
                this.componentFactory.inputs.forEach(({propName: se}) => {
                    this.initialInputValues.has(se) && this.setInputValue(se, this.initialInputValues.get(se))
                }), this.initialInputValues.clear()
            }

            initializeOutputs(se) {
                const Fe = this.componentFactory.outputs.map(({
                                                                  propName: Ge,
                                                                  templateName: at
                                                              }) => se.instance[Ge].pipe((0, be.U)(we => ({
                    name: at,
                    value: we
                }))));
                this.eventEmitters.next(Fe)
            }

            callNgOnChanges(se) {
                if (!this.implementsOnChanges || null === this.inputChanges) return;
                const Fe = this.inputChanges;
                this.inputChanges = null, se.instance.ngOnChanges(Fe)
            }

            markViewForCheck(se) {
                this.hasInputChanges && (this.hasInputChanges = !1, se.markForCheck())
            }

            scheduleDetectChanges() {
                this.scheduledChangeDetectionFn || (this.scheduledChangeDetectionFn = Te.scheduleBeforeRender(() => {
                    this.scheduledChangeDetectionFn = null, this.detectChanges()
                }))
            }

            recordInputChange(se, Fe) {
                if (!this.implementsOnChanges) return;
                null === this.inputChanges && (this.inputChanges = {});
                const Ge = this.inputChanges[se];
                if (Ge) return void (Ge.currentValue = Fe);
                const at = this.unchangedInputs.has(se), Ye = at ? void 0 : this.getInputValue(se);
                this.inputChanges[se] = new a.WD2(Ye, Fe, at)
            }

            detectChanges() {
                null !== this.componentRef && (this.callNgOnChanges(this.componentRef), this.markViewForCheck(this.viewChangeDetectorRef), this.componentRef.changeDetectorRef.detectChanges())
            }

            runInZone(se) {
                return this.elementZone && Zone.current !== this.elementZone ? this.ngZone.run(se) : se()
            }
        }

        class Qe extends HTMLElement {
            constructor() {
                super(...arguments), this.ngElementEventsSubscription = null
            }
        }

        function nt(ge, se) {
            const Fe = function ye(ge, se) {
                return se.get(a._Vd).resolveComponentFactory(ge).inputs
            }(ge, se.injector), Ge = se.strategyFactory || new We(ge, se.injector), at = function mt(ge) {
                const se = {};
                return ge.forEach(({propName: Fe, templateName: Ge}) => {
                    se[function Se(ge) {
                        return ge.replace(/[A-Z]/g, se => `-${se.toLowerCase()}`)
                    }(Ge)] = Fe
                }), se
            }(Fe);

            class Ye extends Qe {
                get ngElementStrategy() {
                    if (!this._ngElementStrategy) {
                        const Re = this._ngElementStrategy = Ge.create(this.injector || se.injector);
                        Fe.forEach(({propName: De}) => {
                            if (!this.hasOwnProperty(De)) return;
                            const re = this[De];
                            delete this[De], Re.setInputValue(De, re)
                        })
                    }
                    return this._ngElementStrategy
                }

                constructor(Re) {
                    super(), this.injector = Re
                }

                attributeChangedCallback(Re, De, re, Ve) {
                    this.ngElementStrategy.setInputValue(at[Re], re)
                }

                connectedCallback() {
                    let Re = !1;
                    this.ngElementStrategy.events && (this.subscribeToEvents(), Re = !0), this.ngElementStrategy.connect(this), Re || this.subscribeToEvents()
                }

                disconnectedCallback() {
                    this._ngElementStrategy && this._ngElementStrategy.disconnect(), this.ngElementEventsSubscription && (this.ngElementEventsSubscription.unsubscribe(), this.ngElementEventsSubscription = null)
                }

                subscribeToEvents() {
                    this.ngElementEventsSubscription = this.ngElementStrategy.events.subscribe(Re => {
                        const De = new CustomEvent(Re.name, {detail: Re.value});
                        this.dispatchEvent(De)
                    })
                }
            }

            return Ye.observedAttributes = Object.keys(at), Fe.forEach(({propName: we}) => {
                Object.defineProperty(Ye.prototype, we, {
                    get() {
                        return this.ngElementStrategy.getInputValue(we)
                    }, set(Re) {
                        this.ngElementStrategy.setInputValue(we, Re)
                    }, configurable: !0, enumerable: !0
                })
            }), Ye
        }
    }, 4006: (Pe, he, D) => {
        "use strict";
        D.d(he, {
            EJ: () => tn,
            Fj: () => xe,
            JJ: () => gn,
            JL: () => cn,
            JU: () => Te,
            Kr: () => Hr,
            NI: () => rr,
            Oe: () => ci,
            UX: () => ta,
            Wl: () => me,
            YN: () => Wn,
            _: () => bt,
            _Y: () => lt,
            cw: () => $,
            eT: () => Vt,
            gN: () => zt,
            kI: () => We,
            nD: () => g,
            oH: () => xt,
            sg: () => wt,
            u: () => L
        });
        var a = D(4650), V = D(6895), K = D(2076), k = D(4128), ue = D(4004);
        let de = (() => {
            class M {
                constructor(b, W) {
                    this._renderer = b, this._elementRef = W, this.onChange = qe => {
                    }, this.onTouched = () => {
                    }
                }

                setProperty(b, W) {
                    this._renderer.setProperty(this._elementRef.nativeElement, b, W)
                }

                registerOnTouched(b) {
                    this.onTouched = b
                }

                registerOnChange(b) {
                    this.onChange = b
                }

                setDisabledState(b) {
                    this.setProperty("disabled", b)
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(a.Qsj), a.Y36(a.SBq))
            }, M.\u0275dir = a.lG2({type: M}), M
        })(), be = (() => {
            class M extends de {
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({type: M, features: [a.qOj]}), M
        })();
        const Te = new a.OlP("NgValueAccessor"), Se = {provide: Te, useExisting: (0, a.Gpc)(() => me), multi: !0};
        let me = (() => {
            class M extends be {
                writeValue(b) {
                    this.setProperty("checked", b)
                }
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({
                type: M,
                selectors: [["input", "type", "checkbox", "formControlName", ""], ["input", "type", "checkbox", "formControl", ""], ["input", "type", "checkbox", "ngModel", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("change", function (pn) {
                        return W.onChange(pn.target.checked)
                    })("blur", function () {
                        return W.onTouched()
                    })
                },
                features: [a._Bn([Se]), a.qOj]
            }), M
        })();
        const ce = {provide: Te, useExisting: (0, a.Gpc)(() => xe), multi: !0}, Oe = new a.OlP("CompositionEventMode");
        let xe = (() => {
            class M extends de {
                constructor(b, W, qe) {
                    super(b, W), this._compositionMode = qe, this._composing = !1, null == this._compositionMode && (this._compositionMode = !function Q() {
                        const M = (0, V.q)() ? (0, V.q)().getUserAgent() : "";
                        return /android (\d+)/.test(M.toLowerCase())
                    }())
                }

                writeValue(b) {
                    this.setProperty("value", b ?? "")
                }

                _handleInput(b) {
                    (!this._compositionMode || this._compositionMode && !this._composing) && this.onChange(b)
                }

                _compositionStart() {
                    this._composing = !0
                }

                _compositionEnd(b) {
                    this._composing = !1, this._compositionMode && this.onChange(b)
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(a.Qsj), a.Y36(a.SBq), a.Y36(Oe, 8))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["input", "formControlName", "", 3, "type", "checkbox"], ["textarea", "formControlName", ""], ["input", "formControl", "", 3, "type", "checkbox"], ["textarea", "formControl", ""], ["input", "ngModel", "", 3, "type", "checkbox"], ["textarea", "ngModel", ""], ["", "ngDefaultControl", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("input", function (pn) {
                        return W._handleInput(pn.target.value)
                    })("blur", function () {
                        return W.onTouched()
                    })("compositionstart", function () {
                        return W._compositionStart()
                    })("compositionend", function (pn) {
                        return W._compositionEnd(pn.target.value)
                    })
                },
                features: [a._Bn([ce]), a.qOj]
            }), M
        })();

        function mt(M) {
            return null == M || ("string" == typeof M || Array.isArray(M)) && 0 === M.length
        }

        function ye(M) {
            return null != M && "number" == typeof M.length
        }

        const Ue = new a.OlP("NgValidators"), $e = new a.OlP("NgAsyncValidators"),
            yt = /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;

        class We {
            static min(C) {
                return function pe(M) {
                    return C => {
                        if (mt(C.value) || mt(M)) return null;
                        const b = parseFloat(C.value);
                        return !isNaN(b) && b < M ? {min: {min: M, actual: C.value}} : null
                    }
                }(C)
            }

            static max(C) {
                return function Qe(M) {
                    return C => {
                        if (mt(C.value) || mt(M)) return null;
                        const b = parseFloat(C.value);
                        return !isNaN(b) && b > M ? {max: {max: M, actual: C.value}} : null
                    }
                }(C)
            }

            static required(C) {
                return function nt(M) {
                    return mt(M.value) ? {required: !0} : null
                }(C)
            }

            static requiredTrue(C) {
                return function Ke(M) {
                    return !0 === M.value ? null : {required: !0}
                }(C)
            }

            static email(C) {
                return function ge(M) {
                    return mt(M.value) || yt.test(M.value) ? null : {email: !0}
                }(C)
            }

            static minLength(C) {
                return function se(M) {
                    return C => mt(C.value) || !ye(C.value) ? null : C.value.length < M ? {
                        minlength: {
                            requiredLength: M,
                            actualLength: C.value.length
                        }
                    } : null
                }(C)
            }

            static maxLength(C) {
                return Fe(C)
            }

            static pattern(C) {
                return function Ge(M) {
                    if (!M) return at;
                    let C, b;
                    return "string" == typeof M ? (b = "", "^" !== M.charAt(0) && (b += "^"), b += M, "$" !== M.charAt(M.length - 1) && (b += "$"), C = new RegExp(b)) : (b = M.toString(), C = M), W => {
                        if (mt(W.value)) return null;
                        const qe = W.value;
                        return C.test(qe) ? null : {pattern: {requiredPattern: b, actualValue: qe}}
                    }
                }(C)
            }

            static nullValidator(C) {
                return null
            }

            static compose(C) {
                return Ae(C)
            }

            static composeAsync(C) {
                return _t(C)
            }
        }

        function Fe(M) {
            return C => ye(C.value) && C.value.length > M ? {
                maxlength: {
                    requiredLength: M,
                    actualLength: C.value.length
                }
            } : null
        }

        function at(M) {
            return null
        }

        function Ye(M) {
            return null != M
        }

        function we(M) {
            return (0, a.QGY)(M) ? (0, K.D)(M) : M
        }

        function Re(M) {
            let C = {};
            return M.forEach(b => {
                C = null != b ? {...C, ...b} : C
            }), 0 === Object.keys(C).length ? null : C
        }

        function De(M, C) {
            return C.map(b => b(M))
        }

        function Ve(M) {
            return M.map(C => function re(M) {
                return !M.validate
            }(C) ? C : b => C.validate(b))
        }

        function Ae(M) {
            if (!M) return null;
            const C = M.filter(Ye);
            return 0 == C.length ? null : function (b) {
                return Re(De(b, C))
            }
        }

        function rt(M) {
            return null != M ? Ae(Ve(M)) : null
        }

        function _t(M) {
            if (!M) return null;
            const C = M.filter(Ye);
            return 0 == C.length ? null : function (b) {
                const W = De(b, C).map(we);
                return (0, k.D)(W).pipe((0, ue.U)(Re))
            }
        }

        function Ut(M) {
            return null != M ? _t(Ve(M)) : null
        }

        function Dt(M, C) {
            return null === M ? [C] : Array.isArray(M) ? [...M, C] : [M, C]
        }

        function At(M) {
            return M._rawValidators
        }

        function Bt(M) {
            return M._rawAsyncValidators
        }

        function gt(M) {
            return M ? Array.isArray(M) ? M : [M] : []
        }

        function Xt(M, C) {
            return Array.isArray(M) ? M.includes(C) : M === C
        }

        function Mn(M, C) {
            const b = gt(C);
            return gt(M).forEach(qe => {
                Xt(b, qe) || b.push(qe)
            }), b
        }

        function Hn(M, C) {
            return gt(C).filter(b => !Xt(M, b))
        }

        class Bn {
            constructor() {
                this._rawValidators = [], this._rawAsyncValidators = [], this._onDestroyCallbacks = []
            }

            get value() {
                return this.control ? this.control.value : null
            }

            get valid() {
                return this.control ? this.control.valid : null
            }

            get invalid() {
                return this.control ? this.control.invalid : null
            }

            get pending() {
                return this.control ? this.control.pending : null
            }

            get disabled() {
                return this.control ? this.control.disabled : null
            }

            get enabled() {
                return this.control ? this.control.enabled : null
            }

            get errors() {
                return this.control ? this.control.errors : null
            }

            get pristine() {
                return this.control ? this.control.pristine : null
            }

            get dirty() {
                return this.control ? this.control.dirty : null
            }

            get touched() {
                return this.control ? this.control.touched : null
            }

            get status() {
                return this.control ? this.control.status : null
            }

            get untouched() {
                return this.control ? this.control.untouched : null
            }

            get statusChanges() {
                return this.control ? this.control.statusChanges : null
            }

            get valueChanges() {
                return this.control ? this.control.valueChanges : null
            }

            get path() {
                return null
            }

            _setValidators(C) {
                this._rawValidators = C || [], this._composedValidatorFn = rt(this._rawValidators)
            }

            _setAsyncValidators(C) {
                this._rawAsyncValidators = C || [], this._composedAsyncValidatorFn = Ut(this._rawAsyncValidators)
            }

            get validator() {
                return this._composedValidatorFn || null
            }

            get asyncValidator() {
                return this._composedAsyncValidatorFn || null
            }

            _registerOnDestroy(C) {
                this._onDestroyCallbacks.push(C)
            }

            _invokeOnDestroyCallbacks() {
                this._onDestroyCallbacks.forEach(C => C()), this._onDestroyCallbacks = []
            }

            reset(C) {
                this.control && this.control.reset(C)
            }

            hasError(C, b) {
                return !!this.control && this.control.hasError(C, b)
            }

            getError(C, b) {
                return this.control ? this.control.getError(C, b) : null
            }
        }

        class zt extends Bn {
            get formDirective() {
                return null
            }

            get path() {
                return null
            }
        }

        class An extends Bn {
            constructor() {
                super(...arguments), this._parent = null, this.name = null, this.valueAccessor = null
            }
        }

        class lr {
            constructor(C) {
                this._cd = C
            }

            get isTouched() {
                return !!this._cd?.control?.touched
            }

            get isUntouched() {
                return !!this._cd?.control?.untouched
            }

            get isPristine() {
                return !!this._cd?.control?.pristine
            }

            get isDirty() {
                return !!this._cd?.control?.dirty
            }

            get isValid() {
                return !!this._cd?.control?.valid
            }

            get isInvalid() {
                return !!this._cd?.control?.invalid
            }

            get isPending() {
                return !!this._cd?.control?.pending
            }

            get isSubmitted() {
                return !!this._cd?.submitted
            }
        }

        let gn = (() => {
            class M extends lr {
                constructor(b) {
                    super(b)
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(An, 2))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "formControlName", ""], ["", "ngModel", ""], ["", "formControl", ""]],
                hostVars: 14,
                hostBindings: function (b, W) {
                    2 & b && a.ekj("ng-untouched", W.isUntouched)("ng-touched", W.isTouched)("ng-pristine", W.isPristine)("ng-dirty", W.isDirty)("ng-valid", W.isValid)("ng-invalid", W.isInvalid)("ng-pending", W.isPending)
                },
                features: [a.qOj]
            }), M
        })(), cn = (() => {
            class M extends lr {
                constructor(b) {
                    super(b)
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(zt, 10))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "formGroupName", ""], ["", "formArrayName", ""], ["", "ngModelGroup", ""], ["", "formGroup", ""], ["form", 3, "ngNoForm", ""], ["", "ngForm", ""]],
                hostVars: 16,
                hostBindings: function (b, W) {
                    2 & b && a.ekj("ng-untouched", W.isUntouched)("ng-touched", W.isTouched)("ng-pristine", W.isPristine)("ng-dirty", W.isDirty)("ng-valid", W.isValid)("ng-invalid", W.isInvalid)("ng-pending", W.isPending)("ng-submitted", W.isSubmitted)
                },
                features: [a.qOj]
            }), M
        })();
        const Xn = "VALID", yn = "INVALID", Yt = "PENDING", Pt = "DISABLED";

        function Ce(M) {
            return (st(M) ? M.validators : M) || null
        }

        function Ee(M, C) {
            return (st(C) ? C.asyncValidators : M) || null
        }

        function st(M) {
            return null != M && !Array.isArray(M) && "object" == typeof M
        }

        function Et(M, C, b) {
            const W = M.controls;
            if (!(C ? Object.keys(W) : W).length) throw new a.vHH(1e3, "");
            if (!W[b]) throw new a.vHH(1001, "")
        }

        function vn(M, C, b) {
            M._forEachChild((W, qe) => {
                if (void 0 === b[qe]) throw new a.vHH(1002, "")
            })
        }

        class q {
            constructor(C, b) {
                this._pendingDirty = !1, this._hasOwnPendingAsyncValidator = !1, this._pendingTouched = !1, this._onCollectionChange = () => {
                }, this._parent = null, this.pristine = !0, this.touched = !1, this._onDisabledChange = [], this._assignValidators(C), this._assignAsyncValidators(b)
            }

            get validator() {
                return this._composedValidatorFn
            }

            set validator(C) {
                this._rawValidators = this._composedValidatorFn = C
            }

            get asyncValidator() {
                return this._composedAsyncValidatorFn
            }

            set asyncValidator(C) {
                this._rawAsyncValidators = this._composedAsyncValidatorFn = C
            }

            get parent() {
                return this._parent
            }

            get valid() {
                return this.status === Xn
            }

            get invalid() {
                return this.status === yn
            }

            get pending() {
                return this.status == Yt
            }

            get disabled() {
                return this.status === Pt
            }

            get enabled() {
                return this.status !== Pt
            }

            get dirty() {
                return !this.pristine
            }

            get untouched() {
                return !this.touched
            }

            get updateOn() {
                return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : "change"
            }

            setValidators(C) {
                this._assignValidators(C)
            }

            setAsyncValidators(C) {
                this._assignAsyncValidators(C)
            }

            addValidators(C) {
                this.setValidators(Mn(C, this._rawValidators))
            }

            addAsyncValidators(C) {
                this.setAsyncValidators(Mn(C, this._rawAsyncValidators))
            }

            removeValidators(C) {
                this.setValidators(Hn(C, this._rawValidators))
            }

            removeAsyncValidators(C) {
                this.setAsyncValidators(Hn(C, this._rawAsyncValidators))
            }

            hasValidator(C) {
                return Xt(this._rawValidators, C)
            }

            hasAsyncValidator(C) {
                return Xt(this._rawAsyncValidators, C)
            }

            clearValidators() {
                this.validator = null
            }

            clearAsyncValidators() {
                this.asyncValidator = null
            }

            markAsTouched(C = {}) {
                this.touched = !0, this._parent && !C.onlySelf && this._parent.markAsTouched(C)
            }

            markAllAsTouched() {
                this.markAsTouched({onlySelf: !0}), this._forEachChild(C => C.markAllAsTouched())
            }

            markAsUntouched(C = {}) {
                this.touched = !1, this._pendingTouched = !1, this._forEachChild(b => {
                    b.markAsUntouched({onlySelf: !0})
                }), this._parent && !C.onlySelf && this._parent._updateTouched(C)
            }

            markAsDirty(C = {}) {
                this.pristine = !1, this._parent && !C.onlySelf && this._parent.markAsDirty(C)
            }

            markAsPristine(C = {}) {
                this.pristine = !0, this._pendingDirty = !1, this._forEachChild(b => {
                    b.markAsPristine({onlySelf: !0})
                }), this._parent && !C.onlySelf && this._parent._updatePristine(C)
            }

            markAsPending(C = {}) {
                this.status = Yt, !1 !== C.emitEvent && this.statusChanges.emit(this.status), this._parent && !C.onlySelf && this._parent.markAsPending(C)
            }

            disable(C = {}) {
                const b = this._parentMarkedDirty(C.onlySelf);
                this.status = Pt, this.errors = null, this._forEachChild(W => {
                    W.disable({...C, onlySelf: !0})
                }), this._updateValue(), !1 !== C.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._updateAncestors({
                    ...C,
                    skipPristineCheck: b
                }), this._onDisabledChange.forEach(W => W(!0))
            }

            enable(C = {}) {
                const b = this._parentMarkedDirty(C.onlySelf);
                this.status = Xn, this._forEachChild(W => {
                    W.enable({...C, onlySelf: !0})
                }), this.updateValueAndValidity({onlySelf: !0, emitEvent: C.emitEvent}), this._updateAncestors({
                    ...C,
                    skipPristineCheck: b
                }), this._onDisabledChange.forEach(W => W(!1))
            }

            _updateAncestors(C) {
                this._parent && !C.onlySelf && (this._parent.updateValueAndValidity(C), C.skipPristineCheck || this._parent._updatePristine(), this._parent._updateTouched())
            }

            setParent(C) {
                this._parent = C
            }

            getRawValue() {
                return this.value
            }

            updateValueAndValidity(C = {}) {
                this._setInitialStatus(), this._updateValue(), this.enabled && (this._cancelExistingSubscription(), this.errors = this._runValidator(), this.status = this._calculateStatus(), (this.status === Xn || this.status === Yt) && this._runAsyncValidator(C.emitEvent)), !1 !== C.emitEvent && (this.valueChanges.emit(this.value), this.statusChanges.emit(this.status)), this._parent && !C.onlySelf && this._parent.updateValueAndValidity(C)
            }

            _updateTreeValidity(C = {emitEvent: !0}) {
                this._forEachChild(b => b._updateTreeValidity(C)), this.updateValueAndValidity({
                    onlySelf: !0,
                    emitEvent: C.emitEvent
                })
            }

            _setInitialStatus() {
                this.status = this._allControlsDisabled() ? Pt : Xn
            }

            _runValidator() {
                return this.validator ? this.validator(this) : null
            }

            _runAsyncValidator(C) {
                if (this.asyncValidator) {
                    this.status = Yt, this._hasOwnPendingAsyncValidator = !0;
                    const b = we(this.asyncValidator(this));
                    this._asyncValidationSubscription = b.subscribe(W => {
                        this._hasOwnPendingAsyncValidator = !1, this.setErrors(W, {emitEvent: C})
                    })
                }
            }

            _cancelExistingSubscription() {
                this._asyncValidationSubscription && (this._asyncValidationSubscription.unsubscribe(), this._hasOwnPendingAsyncValidator = !1)
            }

            setErrors(C, b = {}) {
                this.errors = C, this._updateControlsErrors(!1 !== b.emitEvent)
            }

            get(C) {
                let b = C;
                return null == b || (Array.isArray(b) || (b = b.split(".")), 0 === b.length) ? null : b.reduce((W, qe) => W && W._find(qe), this)
            }

            getError(C, b) {
                const W = b ? this.get(b) : this;
                return W && W.errors ? W.errors[C] : null
            }

            hasError(C, b) {
                return !!this.getError(C, b)
            }

            get root() {
                let C = this;
                for (; C._parent;) C = C._parent;
                return C
            }

            _updateControlsErrors(C) {
                this.status = this._calculateStatus(), C && this.statusChanges.emit(this.status), this._parent && this._parent._updateControlsErrors(C)
            }

            _initObservables() {
                this.valueChanges = new a.vpe, this.statusChanges = new a.vpe
            }

            _calculateStatus() {
                return this._allControlsDisabled() ? Pt : this.errors ? yn : this._hasOwnPendingAsyncValidator || this._anyControlsHaveStatus(Yt) ? Yt : this._anyControlsHaveStatus(yn) ? yn : Xn
            }

            _anyControlsHaveStatus(C) {
                return this._anyControls(b => b.status === C)
            }

            _anyControlsDirty() {
                return this._anyControls(C => C.dirty)
            }

            _anyControlsTouched() {
                return this._anyControls(C => C.touched)
            }

            _updatePristine(C = {}) {
                this.pristine = !this._anyControlsDirty(), this._parent && !C.onlySelf && this._parent._updatePristine(C)
            }

            _updateTouched(C = {}) {
                this.touched = this._anyControlsTouched(), this._parent && !C.onlySelf && this._parent._updateTouched(C)
            }

            _registerOnCollectionChange(C) {
                this._onCollectionChange = C
            }

            _setUpdateStrategy(C) {
                st(C) && null != C.updateOn && (this._updateOn = C.updateOn)
            }

            _parentMarkedDirty(C) {
                return !C && !(!this._parent || !this._parent.dirty) && !this._parent._anyControlsDirty()
            }

            _find(C) {
                return null
            }

            _assignValidators(C) {
                this._rawValidators = Array.isArray(C) ? C.slice() : C, this._composedValidatorFn = function le(M) {
                    return Array.isArray(M) ? rt(M) : M || null
                }(this._rawValidators)
            }

            _assignAsyncValidators(C) {
                this._rawAsyncValidators = Array.isArray(C) ? C.slice() : C, this._composedAsyncValidatorFn = function Je(M) {
                    return Array.isArray(M) ? Ut(M) : M || null
                }(this._rawAsyncValidators)
            }
        }

        class $ extends q {
            constructor(C, b, W) {
                super(Ce(b), Ee(W, b)), this.controls = C, this._initObservables(), this._setUpdateStrategy(b), this._setUpControls(), this.updateValueAndValidity({
                    onlySelf: !0,
                    emitEvent: !!this.asyncValidator
                })
            }

            registerControl(C, b) {
                return this.controls[C] ? this.controls[C] : (this.controls[C] = b, b.setParent(this), b._registerOnCollectionChange(this._onCollectionChange), b)
            }

            addControl(C, b, W = {}) {
                this.registerControl(C, b), this.updateValueAndValidity({emitEvent: W.emitEvent}), this._onCollectionChange()
            }

            removeControl(C, b = {}) {
                this.controls[C] && this.controls[C]._registerOnCollectionChange(() => {
                }), delete this.controls[C], this.updateValueAndValidity({emitEvent: b.emitEvent}), this._onCollectionChange()
            }

            setControl(C, b, W = {}) {
                this.controls[C] && this.controls[C]._registerOnCollectionChange(() => {
                }), delete this.controls[C], b && this.registerControl(C, b), this.updateValueAndValidity({emitEvent: W.emitEvent}), this._onCollectionChange()
            }

            contains(C) {
                return this.controls.hasOwnProperty(C) && this.controls[C].enabled
            }

            setValue(C, b = {}) {
                vn(this, 0, C), Object.keys(C).forEach(W => {
                    Et(this, !0, W), this.controls[W].setValue(C[W], {onlySelf: !0, emitEvent: b.emitEvent})
                }), this.updateValueAndValidity(b)
            }

            patchValue(C, b = {}) {
                null != C && (Object.keys(C).forEach(W => {
                    const qe = this.controls[W];
                    qe && qe.patchValue(C[W], {onlySelf: !0, emitEvent: b.emitEvent})
                }), this.updateValueAndValidity(b))
            }

            reset(C = {}, b = {}) {
                this._forEachChild((W, qe) => {
                    W.reset(C[qe], {onlySelf: !0, emitEvent: b.emitEvent})
                }), this._updatePristine(b), this._updateTouched(b), this.updateValueAndValidity(b)
            }

            getRawValue() {
                return this._reduceChildren({}, (C, b, W) => (C[W] = b.getRawValue(), C))
            }

            _syncPendingControls() {
                let C = this._reduceChildren(!1, (b, W) => !!W._syncPendingControls() || b);
                return C && this.updateValueAndValidity({onlySelf: !0}), C
            }

            _forEachChild(C) {
                Object.keys(this.controls).forEach(b => {
                    const W = this.controls[b];
                    W && C(W, b)
                })
            }

            _setUpControls() {
                this._forEachChild(C => {
                    C.setParent(this), C._registerOnCollectionChange(this._onCollectionChange)
                })
            }

            _updateValue() {
                this.value = this._reduceValue()
            }

            _anyControls(C) {
                for (const [b, W] of Object.entries(this.controls)) if (this.contains(b) && C(W)) return !0;
                return !1
            }

            _reduceValue() {
                return this._reduceChildren({}, (b, W, qe) => ((W.enabled || this.disabled) && (b[qe] = W.value), b))
            }

            _reduceChildren(C, b) {
                let W = C;
                return this._forEachChild((qe, pn) => {
                    W = b(W, qe, pn)
                }), W
            }

            _allControlsDisabled() {
                for (const C of Object.keys(this.controls)) if (this.controls[C].enabled) return !1;
                return Object.keys(this.controls).length > 0 || this.disabled
            }

            _find(C) {
                return this.controls.hasOwnProperty(C) ? this.controls[C] : null
            }
        }

        const A = new a.OlP("CallSetDisabledState", {providedIn: "root", factory: () => R}), R = "always";

        function ae(M, C, b = R) {
            vt(M, C), C.valueAccessor.writeValue(M.value), (M.disabled || "always" === b) && C.valueAccessor.setDisabledState?.(M.disabled), function Zt(M, C) {
                C.valueAccessor.registerOnChange(b => {
                    M._pendingValue = b, M._pendingChange = !0, M._pendingDirty = !0, "change" === M.updateOn && kt(M, C)
                })
            }(M, C), function Nt(M, C) {
                const b = (W, qe) => {
                    C.valueAccessor.writeValue(W), qe && C.viewToModelUpdate(W)
                };
                M.registerOnChange(b), C._registerOnDestroy(() => {
                    M._unregisterOnChange(b)
                })
            }(M, C), function ln(M, C) {
                C.valueAccessor.registerOnTouched(() => {
                    M._pendingTouched = !0, "blur" === M.updateOn && M._pendingChange && kt(M, C), "submit" !== M.updateOn && M.markAsTouched()
                })
            }(M, C), function et(M, C) {
                if (C.valueAccessor.setDisabledState) {
                    const b = W => {
                        C.valueAccessor.setDisabledState(W)
                    };
                    M.registerOnDisabledChange(b), C._registerOnDestroy(() => {
                        M._unregisterOnDisabledChange(b)
                    })
                }
            }(M, C)
        }

        function ve(M, C, b = !0) {
            const W = () => {
            };
            C.valueAccessor && (C.valueAccessor.registerOnChange(W), C.valueAccessor.registerOnTouched(W)), Mt(M, C), M && (C._invokeOnDestroyCallbacks(), M._registerOnCollectionChange(() => {
            }))
        }

        function J(M, C) {
            M.forEach(b => {
                b.registerOnValidatorChange && b.registerOnValidatorChange(C)
            })
        }

        function vt(M, C) {
            const b = At(M);
            null !== C.validator ? M.setValidators(Dt(b, C.validator)) : "function" == typeof b && M.setValidators([b]);
            const W = Bt(M);
            null !== C.asyncValidator ? M.setAsyncValidators(Dt(W, C.asyncValidator)) : "function" == typeof W && M.setAsyncValidators([W]);
            const qe = () => M.updateValueAndValidity();
            J(C._rawValidators, qe), J(C._rawAsyncValidators, qe)
        }

        function Mt(M, C) {
            let b = !1;
            if (null !== M) {
                if (null !== C.validator) {
                    const qe = At(M);
                    if (Array.isArray(qe) && qe.length > 0) {
                        const pn = qe.filter(kr => kr !== C.validator);
                        pn.length !== qe.length && (b = !0, M.setValidators(pn))
                    }
                }
                if (null !== C.asyncValidator) {
                    const qe = Bt(M);
                    if (Array.isArray(qe) && qe.length > 0) {
                        const pn = qe.filter(kr => kr !== C.asyncValidator);
                        pn.length !== qe.length && (b = !0, M.setAsyncValidators(pn))
                    }
                }
            }
            const W = () => {
            };
            return J(C._rawValidators, W), J(C._rawAsyncValidators, W), b
        }

        function kt(M, C) {
            M._pendingDirty && M.markAsDirty(), M.setValue(M._pendingValue, {emitModelToViewChange: !1}), C.viewToModelUpdate(M._pendingValue), M._pendingChange = !1
        }

        function Mr(M, C) {
            if (!M.hasOwnProperty("model")) return !1;
            const b = M.model;
            return !!b.isFirstChange() || !Object.is(C, b.currentValue)
        }

        function Ft(M, C) {
            if (!C) return null;
            let b, W, qe;
            return Array.isArray(C), C.forEach(pn => {
                pn.constructor === xe ? b = pn : function dr(M) {
                    return Object.getPrototypeOf(M.constructor) === be
                }(pn) ? W = pn : qe = pn
            }), qe || W || b || null
        }

        function br(M, C) {
            const b = M.indexOf(C);
            b > -1 && M.splice(b, 1)
        }

        function Ln(M) {
            return "object" == typeof M && null !== M && 2 === Object.keys(M).length && "value" in M && "disabled" in M
        }

        const rr = class extends q {
            constructor(C = null, b, W) {
                super(Ce(b), Ee(W, b)), this.defaultValue = null, this._onChange = [], this._pendingChange = !1, this._applyFormState(C), this._setUpdateStrategy(b), this._initObservables(), this.updateValueAndValidity({
                    onlySelf: !0,
                    emitEvent: !!this.asyncValidator
                }), st(b) && (b.nonNullable || b.initialValueIsDefault) && (this.defaultValue = Ln(C) ? C.value : C)
            }

            setValue(C, b = {}) {
                this.value = this._pendingValue = C, this._onChange.length && !1 !== b.emitModelToViewChange && this._onChange.forEach(W => W(this.value, !1 !== b.emitViewToModelChange)), this.updateValueAndValidity(b)
            }

            patchValue(C, b = {}) {
                this.setValue(C, b)
            }

            reset(C = this.defaultValue, b = {}) {
                this._applyFormState(C), this.markAsPristine(b), this.markAsUntouched(b), this.setValue(this.value, b), this._pendingChange = !1
            }

            _updateValue() {
            }

            _anyControls(C) {
                return !1
            }

            _allControlsDisabled() {
                return this.disabled
            }

            registerOnChange(C) {
                this._onChange.push(C)
            }

            _unregisterOnChange(C) {
                br(this._onChange, C)
            }

            registerOnDisabledChange(C) {
                this._onDisabledChange.push(C)
            }

            _unregisterOnDisabledChange(C) {
                br(this._onDisabledChange, C)
            }

            _forEachChild(C) {
            }

            _syncPendingControls() {
                return !("submit" !== this.updateOn || (this._pendingDirty && this.markAsDirty(), this._pendingTouched && this.markAsTouched(), !this._pendingChange) || (this.setValue(this._pendingValue, {
                    onlySelf: !0,
                    emitModelToViewChange: !1
                }), 0))
            }

            _applyFormState(C) {
                Ln(C) ? (this.value = this._pendingValue = C.value, C.disabled ? this.disable({
                    onlySelf: !0,
                    emitEvent: !1
                }) : this.enable({onlySelf: !0, emitEvent: !1})) : this.value = this._pendingValue = C
            }
        };
        let lt = (() => {
            class M {
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["form", 3, "ngNoForm", "", 3, "ngNativeValidate", ""]],
                hostAttrs: ["novalidate", ""]
            }), M
        })();
        const Jt = {provide: Te, useExisting: (0, a.Gpc)(() => bt), multi: !0};
        let Ct = (() => {
            class M {
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275mod = a.oAB({type: M}), M.\u0275inj = a.cJS({}), M
        })(), it = (() => {
            class M {
                constructor() {
                    this._accessors = []
                }

                add(b, W) {
                    this._accessors.push([b, W])
                }

                remove(b) {
                    for (let W = this._accessors.length - 1; W >= 0; --W) if (this._accessors[W][1] === b) return void this._accessors.splice(W, 1)
                }

                select(b) {
                    this._accessors.forEach(W => {
                        this._isSameGroup(W, b) && W[1] !== b && W[1].fireUncheck(b.value)
                    })
                }

                _isSameGroup(b, W) {
                    return !!b[0].control && b[0]._parent === W._control._parent && b[1].name === W.name
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275prov = a.Yz7({token: M, factory: M.\u0275fac, providedIn: Ct}), M
        })(), bt = (() => {
            class M extends be {
                constructor(b, W, qe, pn) {
                    super(b, W), this._registry = qe, this._injector = pn, this.onChange = () => {
                    }
                }

                ngOnInit() {
                    this._control = this._injector.get(An), this._checkName(), this._registry.add(this._control, this)
                }

                ngOnDestroy() {
                    this._registry.remove(this)
                }

                writeValue(b) {
                    this._state = b === this.value, this.setProperty("checked", this._state)
                }

                registerOnChange(b) {
                    this._fn = b, this.onChange = () => {
                        b(this.value), this._registry.select(this)
                    }
                }

                fireUncheck(b) {
                    this.writeValue(b)
                }

                _checkName() {
                    !this.name && this.formControlName && (this.name = this.formControlName)
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(a.Qsj), a.Y36(a.SBq), a.Y36(it), a.Y36(a.zs3))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["input", "type", "radio", "formControlName", ""], ["input", "type", "radio", "formControl", ""], ["input", "type", "radio", "ngModel", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("change", function () {
                        return W.onChange()
                    })("blur", function () {
                        return W.onTouched()
                    })
                },
                inputs: {name: "name", formControlName: "formControlName", value: "value"},
                features: [a._Bn([Jt]), a.qOj]
            }), M
        })();
        const nn = {provide: Te, useExisting: (0, a.Gpc)(() => Vt), multi: !0};
        let Vt = (() => {
            class M extends be {
                writeValue(b) {
                    this.setProperty("value", parseFloat(b))
                }

                registerOnChange(b) {
                    this.onChange = W => {
                        b("" == W ? null : parseFloat(W))
                    }
                }
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({
                type: M,
                selectors: [["input", "type", "range", "formControlName", ""], ["input", "type", "range", "formControl", ""], ["input", "type", "range", "ngModel", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("change", function (pn) {
                        return W.onChange(pn.target.value)
                    })("input", function (pn) {
                        return W.onChange(pn.target.value)
                    })("blur", function () {
                        return W.onTouched()
                    })
                },
                features: [a._Bn([nn]), a.qOj]
            }), M
        })();
        const hn = new a.OlP("NgModelWithFormControlWarning"), Qt = {provide: An, useExisting: (0, a.Gpc)(() => xt)};
        let xt = (() => {
            class M extends An {
                set isDisabled(b) {
                }

                constructor(b, W, qe, pn, kr) {
                    super(), this._ngModelWarningConfig = pn, this.callSetDisabledState = kr, this.update = new a.vpe, this._ngModelWarningSent = !1, this._setValidators(b), this._setAsyncValidators(W), this.valueAccessor = Ft(0, qe)
                }

                ngOnChanges(b) {
                    if (this._isControlChanged(b)) {
                        const W = b.form.previousValue;
                        W && ve(W, this, !1), ae(this.form, this, this.callSetDisabledState), this.form.updateValueAndValidity({emitEvent: !1})
                    }
                    Mr(b, this.viewModel) && (this.form.setValue(this.model), this.viewModel = this.model)
                }

                ngOnDestroy() {
                    this.form && ve(this.form, this, !1)
                }

                get path() {
                    return []
                }

                get control() {
                    return this.form
                }

                viewToModelUpdate(b) {
                    this.viewModel = b, this.update.emit(b)
                }

                _isControlChanged(b) {
                    return b.hasOwnProperty("form")
                }
            }

            return M._ngModelWarningSentOnce = !1, M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(Ue, 10), a.Y36($e, 10), a.Y36(Te, 10), a.Y36(hn, 8), a.Y36(A, 8))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "formControl", ""]],
                inputs: {
                    form: ["formControl", "form"],
                    isDisabled: ["disabled", "isDisabled"],
                    model: ["ngModel", "model"]
                },
                outputs: {update: "ngModelChange"},
                exportAs: ["ngForm"],
                features: [a._Bn([Qt]), a.qOj, a.TTD]
            }), M
        })();
        const Ot = {provide: zt, useExisting: (0, a.Gpc)(() => wt)};
        let wt = (() => {
            class M extends zt {
                constructor(b, W, qe) {
                    super(), this.callSetDisabledState = qe, this.submitted = !1, this._onCollectionChange = () => this._updateDomValue(), this.directives = [], this.form = null, this.ngSubmit = new a.vpe, this._setValidators(b), this._setAsyncValidators(W)
                }

                ngOnChanges(b) {
                    this._checkFormPresent(), b.hasOwnProperty("form") && (this._updateValidators(), this._updateDomValue(), this._updateRegistrations(), this._oldForm = this.form)
                }

                ngOnDestroy() {
                    this.form && (Mt(this.form, this), this.form._onCollectionChange === this._onCollectionChange && this.form._registerOnCollectionChange(() => {
                    }))
                }

                get formDirective() {
                    return this
                }

                get control() {
                    return this.form
                }

                get path() {
                    return []
                }

                addControl(b) {
                    const W = this.form.get(b.path);
                    return ae(W, b, this.callSetDisabledState), W.updateValueAndValidity({emitEvent: !1}), this.directives.push(b), W
                }

                getControl(b) {
                    return this.form.get(b.path)
                }

                removeControl(b) {
                    ve(b.control || null, b, !1), function en(M, C) {
                        const b = M.indexOf(C);
                        b > -1 && M.splice(b, 1)
                    }(this.directives, b)
                }

                addFormGroup(b) {
                    this._setUpFormContainer(b)
                }

                removeFormGroup(b) {
                    this._cleanUpFormContainer(b)
                }

                getFormGroup(b) {
                    return this.form.get(b.path)
                }

                addFormArray(b) {
                    this._setUpFormContainer(b)
                }

                removeFormArray(b) {
                    this._cleanUpFormContainer(b)
                }

                getFormArray(b) {
                    return this.form.get(b.path)
                }

                updateModel(b, W) {
                    this.form.get(b.path).setValue(W)
                }

                onSubmit(b) {
                    return this.submitted = !0, function vr(M, C) {
                        M._syncPendingControls(), C.forEach(b => {
                            const W = b.control;
                            "submit" === W.updateOn && W._pendingChange && (b.viewToModelUpdate(W._pendingValue), W._pendingChange = !1)
                        })
                    }(this.form, this.directives), this.ngSubmit.emit(b), "dialog" === b?.target?.method
                }

                onReset() {
                    this.resetForm()
                }

                resetForm(b) {
                    this.form.reset(b), this.submitted = !1
                }

                _updateDomValue() {
                    this.directives.forEach(b => {
                        const W = b.control, qe = this.form.get(b.path);
                        W !== qe && (ve(W || null, b), (M => M instanceof rr)(qe) && (ae(qe, b, this.callSetDisabledState), b.control = qe))
                    }), this.form._updateTreeValidity({emitEvent: !1})
                }

                _setUpFormContainer(b) {
                    const W = this.form.get(b.path);
                    (function zn(M, C) {
                        vt(M, C)
                    })(W, b), W.updateValueAndValidity({emitEvent: !1})
                }

                _cleanUpFormContainer(b) {
                    if (this.form) {
                        const W = this.form.get(b.path);
                        W && function Rn(M, C) {
                            return Mt(M, C)
                        }(W, b) && W.updateValueAndValidity({emitEvent: !1})
                    }
                }

                _updateRegistrations() {
                    this.form._registerOnCollectionChange(this._onCollectionChange), this._oldForm && this._oldForm._registerOnCollectionChange(() => {
                    })
                }

                _updateValidators() {
                    vt(this.form, this), this._oldForm && Mt(this._oldForm, this)
                }

                _checkFormPresent() {
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(Ue, 10), a.Y36($e, 10), a.Y36(A, 8))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "formGroup", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("submit", function (pn) {
                        return W.onSubmit(pn)
                    })("reset", function () {
                        return W.onReset()
                    })
                },
                inputs: {form: ["formGroup", "form"]},
                outputs: {ngSubmit: "ngSubmit"},
                exportAs: ["ngForm"],
                features: [a._Bn([Ot]), a.qOj, a.TTD]
            }), M
        })();
        const Nr = {provide: An, useExisting: (0, a.Gpc)(() => L)};
        let L = (() => {
            class M extends An {
                set isDisabled(b) {
                }

                constructor(b, W, qe, pn, kr) {
                    super(), this._ngModelWarningConfig = kr, this._added = !1, this.update = new a.vpe, this._ngModelWarningSent = !1, this._parent = b, this._setValidators(W), this._setAsyncValidators(qe), this.valueAccessor = Ft(0, pn)
                }

                ngOnChanges(b) {
                    this._added || this._setUpControl(), Mr(b, this.viewModel) && (this.viewModel = this.model, this.formDirective.updateModel(this, this.model))
                }

                ngOnDestroy() {
                    this.formDirective && this.formDirective.removeControl(this)
                }

                viewToModelUpdate(b) {
                    this.viewModel = b, this.update.emit(b)
                }

                get path() {
                    return function P(M, C) {
                        return [...C.path, M]
                    }(null == this.name ? this.name : this.name.toString(), this._parent)
                }

                get formDirective() {
                    return this._parent ? this._parent.formDirective : null
                }

                _checkParentType() {
                }

                _setUpControl() {
                    this._checkParentType(), this.control = this.formDirective.addControl(this), this._added = !0
                }
            }

            return M._ngModelWarningSentOnce = !1, M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(zt, 13), a.Y36(Ue, 10), a.Y36($e, 10), a.Y36(Te, 10), a.Y36(hn, 8))
            }, M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "formControlName", ""]],
                inputs: {
                    name: ["formControlName", "name"],
                    isDisabled: ["disabled", "isDisabled"],
                    model: ["ngModel", "model"]
                },
                outputs: {update: "ngModelChange"},
                features: [a._Bn([Nr]), a.qOj, a.TTD]
            }), M
        })();
        const ne = {provide: Te, useExisting: (0, a.Gpc)(() => tn), multi: !0};

        function Ne(M, C) {
            return null == M ? `${C}` : (C && "object" == typeof C && (C = "Object"), `${M}: ${C}`.slice(0, 50))
        }

        let tn = (() => {
            class M extends be {
                constructor() {
                    super(...arguments), this._optionMap = new Map, this._idCounter = 0, this._compareWith = Object.is
                }

                set compareWith(b) {
                    this._compareWith = b
                }

                writeValue(b) {
                    this.value = b;
                    const qe = Ne(this._getOptionId(b), b);
                    this.setProperty("value", qe)
                }

                registerOnChange(b) {
                    this.onChange = W => {
                        this.value = this._getOptionValue(W), b(this.value)
                    }
                }

                _registerOption() {
                    return (this._idCounter++).toString()
                }

                _getOptionId(b) {
                    for (const W of Array.from(this._optionMap.keys())) if (this._compareWith(this._optionMap.get(W), b)) return W;
                    return null
                }

                _getOptionValue(b) {
                    const W = function tt(M) {
                        return M.split(":")[0]
                    }(b);
                    return this._optionMap.has(W) ? this._optionMap.get(W) : b
                }
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({
                type: M,
                selectors: [["select", "formControlName", "", 3, "multiple", ""], ["select", "formControl", "", 3, "multiple", ""], ["select", "ngModel", "", 3, "multiple", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("change", function (pn) {
                        return W.onChange(pn.target.value)
                    })("blur", function () {
                        return W.onTouched()
                    })
                },
                inputs: {compareWith: "compareWith"},
                features: [a._Bn([ne]), a.qOj]
            }), M
        })(), Wn = (() => {
            class M {
                constructor(b, W, qe) {
                    this._element = b, this._renderer = W, this._select = qe, this._select && (this.id = this._select._registerOption())
                }

                set ngValue(b) {
                    null != this._select && (this._select._optionMap.set(this.id, b), this._setElementValue(Ne(this.id, b)), this._select.writeValue(this._select.value))
                }

                set value(b) {
                    this._setElementValue(b), this._select && this._select.writeValue(this._select.value)
                }

                _setElementValue(b) {
                    this._renderer.setProperty(this._element.nativeElement, "value", b)
                }

                ngOnDestroy() {
                    this._select && (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value))
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(a.SBq), a.Y36(a.Qsj), a.Y36(tn, 9))
            }, M.\u0275dir = a.lG2({type: M, selectors: [["option"]], inputs: {ngValue: "ngValue", value: "value"}}), M
        })();
        const Vr = {provide: Te, useExisting: (0, a.Gpc)(() => or), multi: !0};

        function Pr(M, C) {
            return null == M ? `${C}` : ("string" == typeof C && (C = `'${C}'`), C && "object" == typeof C && (C = "Object"), `${M}: ${C}`.slice(0, 50))
        }

        let or = (() => {
            class M extends be {
                constructor() {
                    super(...arguments), this._optionMap = new Map, this._idCounter = 0, this._compareWith = Object.is
                }

                set compareWith(b) {
                    this._compareWith = b
                }

                writeValue(b) {
                    let W;
                    if (this.value = b, Array.isArray(b)) {
                        const qe = b.map(pn => this._getOptionId(pn));
                        W = (pn, kr) => {
                            pn._setSelected(qe.indexOf(kr.toString()) > -1)
                        }
                    } else W = (qe, pn) => {
                        qe._setSelected(!1)
                    };
                    this._optionMap.forEach(W)
                }

                registerOnChange(b) {
                    this.onChange = W => {
                        const qe = [], pn = W.selectedOptions;
                        if (void 0 !== pn) {
                            const kr = pn;
                            for (let Xe = 0; Xe < kr.length; Xe++) {
                                const Yi = this._getOptionValue(kr[Xe].value);
                                qe.push(Yi)
                            }
                        } else {
                            const kr = W.options;
                            for (let Xe = 0; Xe < kr.length; Xe++) {
                                const er = kr[Xe];
                                if (er.selected) {
                                    const Yi = this._getOptionValue(er.value);
                                    qe.push(Yi)
                                }
                            }
                        }
                        this.value = qe, b(qe)
                    }
                }

                _registerOption(b) {
                    const W = (this._idCounter++).toString();
                    return this._optionMap.set(W, b), W
                }

                _getOptionId(b) {
                    for (const W of Array.from(this._optionMap.keys())) if (this._compareWith(this._optionMap.get(W)._value, b)) return W;
                    return null
                }

                _getOptionValue(b) {
                    const W = function si(M) {
                        return M.split(":")[0]
                    }(b);
                    return this._optionMap.has(W) ? this._optionMap.get(W)._value : b
                }
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({
                type: M,
                selectors: [["select", "multiple", "", "formControlName", ""], ["select", "multiple", "", "formControl", ""], ["select", "multiple", "", "ngModel", ""]],
                hostBindings: function (b, W) {
                    1 & b && a.NdJ("change", function (pn) {
                        return W.onChange(pn.target)
                    })("blur", function () {
                        return W.onTouched()
                    })
                },
                inputs: {compareWith: "compareWith"},
                features: [a._Bn([Vr]), a.qOj]
            }), M
        })(), Hr = (() => {
            class M {
                constructor(b, W, qe) {
                    this._element = b, this._renderer = W, this._select = qe, this._select && (this.id = this._select._registerOption(this))
                }

                set ngValue(b) {
                    null != this._select && (this._value = b, this._setElementValue(Pr(this.id, b)), this._select.writeValue(this._select.value))
                }

                set value(b) {
                    this._select ? (this._value = b, this._setElementValue(Pr(this.id, b)), this._select.writeValue(this._select.value)) : this._setElementValue(b)
                }

                _setElementValue(b) {
                    this._renderer.setProperty(this._element.nativeElement, "value", b)
                }

                _setSelected(b) {
                    this._renderer.setProperty(this._element.nativeElement, "selected", b)
                }

                ngOnDestroy() {
                    this._select && (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value))
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)(a.Y36(a.SBq), a.Y36(a.Qsj), a.Y36(or, 9))
            }, M.\u0275dir = a.lG2({type: M, selectors: [["option"]], inputs: {ngValue: "ngValue", value: "value"}}), M
        })();
        let Fr = (() => {
            class M {
                constructor() {
                    this._validator = at
                }

                ngOnChanges(b) {
                    if (this.inputName in b) {
                        const W = this.normalizeInput(b[this.inputName].currentValue);
                        this._enabled = this.enabled(W), this._validator = this._enabled ? this.createValidator(W) : at, this._onChange && this._onChange()
                    }
                }

                validate(b) {
                    return this._validator(b)
                }

                registerOnValidatorChange(b) {
                    this._onChange = b
                }

                enabled(b) {
                    return null != b
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275dir = a.lG2({type: M, features: [a.TTD]}), M
        })();
        const Ai = {provide: Ue, useExisting: (0, a.Gpc)(() => g), multi: !0};
        let g = (() => {
            class M extends Fr {
                constructor() {
                    super(...arguments), this.inputName = "maxlength", this.normalizeInput = b => function ei(M) {
                        return "number" == typeof M ? M : parseInt(M, 10)
                    }(b), this.createValidator = b => Fe(b)
                }
            }

            return M.\u0275fac = function () {
                let C;
                return function (W) {
                    return (C || (C = a.n5z(M)))(W || M)
                }
            }(), M.\u0275dir = a.lG2({
                type: M,
                selectors: [["", "maxlength", "", "formControlName", ""], ["", "maxlength", "", "formControl", ""], ["", "maxlength", "", "ngModel", ""]],
                hostVars: 1,
                hostBindings: function (b, W) {
                    2 & b && a.uIk("maxlength", W._enabled ? W.maxlength : null)
                },
                inputs: {maxlength: "maxlength"},
                features: [a._Bn([Ai]), a.qOj]
            }), M
        })(), Di = (() => {
            class M {
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275mod = a.oAB({type: M}), M.\u0275inj = a.cJS({imports: [Ct]}), M
        })();

        class ci extends q {
            constructor(C, b, W) {
                super(Ce(b), Ee(W, b)), this.controls = C, this._initObservables(), this._setUpdateStrategy(b), this._setUpControls(), this.updateValueAndValidity({
                    onlySelf: !0,
                    emitEvent: !!this.asyncValidator
                })
            }

            at(C) {
                return this.controls[this._adjustIndex(C)]
            }

            push(C, b = {}) {
                this.controls.push(C), this._registerControl(C), this.updateValueAndValidity({emitEvent: b.emitEvent}), this._onCollectionChange()
            }

            insert(C, b, W = {}) {
                this.controls.splice(C, 0, b), this._registerControl(b), this.updateValueAndValidity({emitEvent: W.emitEvent})
            }

            removeAt(C, b = {}) {
                let W = this._adjustIndex(C);
                W < 0 && (W = 0), this.controls[W] && this.controls[W]._registerOnCollectionChange(() => {
                }), this.controls.splice(W, 1), this.updateValueAndValidity({emitEvent: b.emitEvent})
            }

            setControl(C, b, W = {}) {
                let qe = this._adjustIndex(C);
                qe < 0 && (qe = 0), this.controls[qe] && this.controls[qe]._registerOnCollectionChange(() => {
                }), this.controls.splice(qe, 1), b && (this.controls.splice(qe, 0, b), this._registerControl(b)), this.updateValueAndValidity({emitEvent: W.emitEvent}), this._onCollectionChange()
            }

            get length() {
                return this.controls.length
            }

            setValue(C, b = {}) {
                vn(this, 0, C), C.forEach((W, qe) => {
                    Et(this, !1, qe), this.at(qe).setValue(W, {onlySelf: !0, emitEvent: b.emitEvent})
                }), this.updateValueAndValidity(b)
            }

            patchValue(C, b = {}) {
                null != C && (C.forEach((W, qe) => {
                    this.at(qe) && this.at(qe).patchValue(W, {onlySelf: !0, emitEvent: b.emitEvent})
                }), this.updateValueAndValidity(b))
            }

            reset(C = [], b = {}) {
                this._forEachChild((W, qe) => {
                    W.reset(C[qe], {onlySelf: !0, emitEvent: b.emitEvent})
                }), this._updatePristine(b), this._updateTouched(b), this.updateValueAndValidity(b)
            }

            getRawValue() {
                return this.controls.map(C => C.getRawValue())
            }

            clear(C = {}) {
                this.controls.length < 1 || (this._forEachChild(b => b._registerOnCollectionChange(() => {
                })), this.controls.splice(0), this.updateValueAndValidity({emitEvent: C.emitEvent}))
            }

            _adjustIndex(C) {
                return C < 0 ? C + this.length : C
            }

            _syncPendingControls() {
                let C = this.controls.reduce((b, W) => !!W._syncPendingControls() || b, !1);
                return C && this.updateValueAndValidity({onlySelf: !0}), C
            }

            _forEachChild(C) {
                this.controls.forEach((b, W) => {
                    C(b, W)
                })
            }

            _updateValue() {
                this.value = this.controls.filter(C => C.enabled || this.disabled).map(C => C.value)
            }

            _anyControls(C) {
                return this.controls.some(b => b.enabled && C(b))
            }

            _setUpControls() {
                this._forEachChild(C => this._registerControl(C))
            }

            _allControlsDisabled() {
                for (const C of this.controls) if (C.enabled) return !1;
                return this.controls.length > 0 || this.disabled
            }

            _registerControl(C) {
                C.setParent(this), C._registerOnCollectionChange(this._onCollectionChange)
            }

            _find(C) {
                return this.at(C) ?? null
            }
        }

        let ta = (() => {
            class M {
                static withConfig(b) {
                    return {
                        ngModule: M,
                        providers: [{provide: hn, useValue: b.warnOnNgModelWithFormControl ?? "always"}, {
                            provide: A,
                            useValue: b.callSetDisabledState ?? R
                        }]
                    }
                }
            }

            return M.\u0275fac = function (b) {
                return new (b || M)
            }, M.\u0275mod = a.oAB({type: M}), M.\u0275inj = a.cJS({imports: [Di]}), M
        })()
    }, 8746: (Pe, he, D) => {
        "use strict";
        D.d(he, {PW: () => wa});
        var a = D(4650), V = D(1481), K = D(7340);

        function ue(F) {
            return new a.vHH(3e3, !1)
        }

        function At() {
            return typeof window < "u" && typeof window.document < "u"
        }

        function Bt() {
            return typeof process < "u" && "[object process]" === {}.toString.call(process)
        }

        function gt(F) {
            switch (F.length) {
                case 0:
                    return new K.ZN;
                case 1:
                    return F[0];
                default:
                    return new K.ZE(F)
            }
        }

        function Xt(F, u, c, E, N = new Map, Y = new Map) {
            const fe = [], _e = [];
            let ze = -1, ot = null;
            if (E.forEach(jt => {
                const Wt = jt.get("offset"), tr = Wt == ze, Un = tr && ot || new Map;
                jt.forEach((Sn, Pn) => {
                    let sr = Pn, yr = Sn;
                    if ("offset" !== Pn) switch (sr = u.normalizePropertyName(sr, fe), yr) {
                        case K.k1:
                            yr = N.get(Pn);
                            break;
                        case K.l3:
                            yr = Y.get(Pn);
                            break;
                        default:
                            yr = u.normalizeStyleValue(Pn, sr, yr, fe)
                    }
                    Un.set(sr, yr)
                }), tr || _e.push(Un), ot = Un, ze = Wt
            }), fe.length) throw function Ge(F) {
                return new a.vHH(3502, !1)
            }();
            return _e
        }

        function Mn(F, u, c, E) {
            switch (u) {
                case"start":
                    F.onStart(() => E(c && Hn(c, "start", F)));
                    break;
                case"done":
                    F.onDone(() => E(c && Hn(c, "done", F)));
                    break;
                case"destroy":
                    F.onDestroy(() => E(c && Hn(c, "destroy", F)))
            }
        }

        function Hn(F, u, c) {
            const Y = Bn(F.element, F.triggerName, F.fromState, F.toState, u || F.phaseName, c.totalTime ?? F.totalTime, !!c.disabled),
                fe = F._data;
            return null != fe && (Y._data = fe), Y
        }

        function Bn(F, u, c, E, N = "", Y = 0, fe) {
            return {element: F, triggerName: u, fromState: c, toState: E, phaseName: N, totalTime: Y, disabled: !!fe}
        }

        function zt(F, u, c) {
            let E = F.get(u);
            return E || F.set(u, E = c), E
        }

        function An(F) {
            const u = F.indexOf(":");
            return [F.substring(1, u), F.slice(u + 1)]
        }

        let lr = (F, u) => !1, xn = (F, u, c) => [], _n = null;

        function gn(F) {
            const u = F.parentNode || F.host;
            return u === _n ? null : u
        }

        (Bt() || typeof Element < "u") && (At() ? (_n = (() => document.documentElement)(), lr = (F, u) => {
            for (; u;) {
                if (u === F) return !0;
                u = gn(u)
            }
            return !1
        }) : lr = (F, u) => F.contains(u), xn = (F, u, c) => {
            if (c) return Array.from(F.querySelectorAll(u));
            const E = F.querySelector(u);
            return E ? [E] : []
        });
        let nr = null, dt = !1;
        const sn = lr, $t = xn;
        let Cr = (() => {
            class F {
                validateStyleProperty(c) {
                    return function Nn(F) {
                        nr || (nr = function Tr() {
                            return typeof document < "u" ? document.body : null
                        }() || {}, dt = !!nr.style && "WebkitAppearance" in nr.style);
                        let u = !0;
                        return nr.style && !function Gt(F) {
                            return "ebkit" == F.substring(1, 6)
                        }(F) && (u = F in nr.style, !u && dt && (u = "Webkit" + F.charAt(0).toUpperCase() + F.slice(1) in nr.style)), u
                    }(c)
                }

                matchesElement(c, E) {
                    return !1
                }

                containsElement(c, E) {
                    return sn(c, E)
                }

                getParentElement(c) {
                    return gn(c)
                }

                query(c, E, N) {
                    return $t(c, E, N)
                }

                computeStyle(c, E, N) {
                    return N || ""
                }

                animate(c, E, N, Y, fe, _e = [], ze) {
                    return new K.ZN(N, Y)
                }
            }

            return F.\u0275fac = function (c) {
                return new (c || F)
            }, F.\u0275prov = a.Yz7({token: F, factory: F.\u0275fac}), F
        })(), In = (() => {
            class F {
            }

            return F.NOOP = new Cr, F
        })();
        const Lr = "ng-enter", $n = "ng-leave", mr = "ng-trigger", fn = ".ng-trigger", Xn = "ng-animating",
            yn = ".ng-animating";

        function Yt(F) {
            if ("number" == typeof F) return F;
            const u = F.match(/^(-?[\.\d]+)(m?s)/);
            return !u || u.length < 2 ? 0 : Pt(parseFloat(u[1]), u[2])
        }

        function Pt(F, u) {
            return "s" === u ? 1e3 * F : F
        }

        function Ce(F, u, c) {
            return F.hasOwnProperty("duration") ? F : function le(F, u, c) {
                let N, Y = 0, fe = "";
                if ("string" == typeof F) {
                    const _e = F.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);
                    if (null === _e) return u.push(ue()), {duration: 0, delay: 0, easing: ""};
                    N = Pt(parseFloat(_e[1]), _e[2]);
                    const ze = _e[3];
                    null != ze && (Y = Pt(parseFloat(ze), _e[4]));
                    const ot = _e[5];
                    ot && (fe = ot)
                } else N = F;
                if (!c) {
                    let _e = !1, ze = u.length;
                    N < 0 && (u.push(function de() {
                        return new a.vHH(3100, !1)
                    }()), _e = !0), Y < 0 && (u.push(function be() {
                        return new a.vHH(3101, !1)
                    }()), _e = !0), _e && u.splice(ze, 0, ue())
                }
                return {duration: N, delay: Y, easing: fe}
            }(F, u, c)
        }

        function Ee(F, u = {}) {
            return Object.keys(F).forEach(c => {
                u[c] = F[c]
            }), u
        }

        function Je(F) {
            const u = new Map;
            return Object.keys(F).forEach(c => {
                u.set(c, F[c])
            }), u
        }

        function vn(F, u = new Map, c) {
            if (c) for (let [E, N] of c) u.set(E, N);
            for (let [E, N] of F) u.set(E, N);
            return u
        }

        function q(F, u, c) {
            return c ? u + ":" + c + ";" : ""
        }

        function $(F) {
            let u = "";
            for (let c = 0; c < F.style.length; c++) {
                const E = F.style.item(c);
                u += q(0, E, F.style.getPropertyValue(E))
            }
            for (const c in F.style) F.style.hasOwnProperty(c) && !c.startsWith("_") && (u += q(0, et(c), F.style[c]));
            F.setAttribute("style", u)
        }

        function G(F, u, c) {
            F.style && (u.forEach((E, N) => {
                const Y = J(N);
                c && !c.has(N) && c.set(N, F.style[Y]), F.style[Y] = E
            }), Bt() && $(F))
        }

        function O(F, u) {
            F.style && (u.forEach((c, E) => {
                const N = J(E);
                F.style[N] = ""
            }), Bt() && $(F))
        }

        function w(F) {
            return Array.isArray(F) ? 1 == F.length ? F[0] : (0, K.vP)(F) : F
        }

        const A = new RegExp("{{\\s*(.+?)\\s*}}", "g");

        function R(F) {
            let u = [];
            if ("string" == typeof F) {
                let c;
                for (; c = A.exec(F);) u.push(c[1]);
                A.lastIndex = 0
            }
            return u
        }

        function P(F, u, c) {
            const E = F.toString(), N = E.replace(A, (Y, fe) => {
                let _e = u[fe];
                return null == _e && (c.push(function Se(F) {
                    return new a.vHH(3003, !1)
                }()), _e = ""), _e.toString()
            });
            return N == E ? F : N
        }

        function ae(F) {
            const u = [];
            let c = F.next();
            for (; !c.done;) u.push(c.value), c = F.next();
            return u
        }

        const ve = /-+([a-z0-9])/g;

        function J(F) {
            return F.replace(ve, (...u) => u[1].toUpperCase())
        }

        function et(F) {
            return F.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()
        }

        function Zt(F, u, c) {
            switch (u.type) {
                case 7:
                    return F.visitTrigger(u, c);
                case 0:
                    return F.visitState(u, c);
                case 1:
                    return F.visitTransition(u, c);
                case 2:
                    return F.visitSequence(u, c);
                case 3:
                    return F.visitGroup(u, c);
                case 4:
                    return F.visitAnimate(u, c);
                case 5:
                    return F.visitKeyframes(u, c);
                case 6:
                    return F.visitStyle(u, c);
                case 8:
                    return F.visitReference(u, c);
                case 9:
                    return F.visitAnimateChild(u, c);
                case 10:
                    return F.visitAnimateRef(u, c);
                case 11:
                    return F.visitQuery(u, c);
                case 12:
                    return F.visitStagger(u, c);
                default:
                    throw function me(F) {
                        return new a.vHH(3004, !1)
                    }()
            }
        }

        function ln(F, u) {
            return window.getComputedStyle(F)[u]
        }

        function ur(F, u) {
            const c = [];
            return "string" == typeof F ? F.split(/\s*,\s*/).forEach(E => function Mr(F, u, c) {
                if (":" == F[0]) {
                    const ze = function dr(F, u) {
                        switch (F) {
                            case":enter":
                                return "void => *";
                            case":leave":
                                return "* => void";
                            case":increment":
                                return (c, E) => parseFloat(E) > parseFloat(c);
                            case":decrement":
                                return (c, E) => parseFloat(E) < parseFloat(c);
                            default:
                                return u.push(function Ke(F) {
                                    return new a.vHH(3016, !1)
                                }()), "* => *"
                        }
                    }(F, c);
                    if ("function" == typeof ze) return void u.push(ze);
                    F = ze
                }
                const E = F.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);
                if (null == E || E.length < 4) return c.push(function nt(F) {
                    return new a.vHH(3015, !1)
                }()), u;
                const N = E[1], Y = E[2], fe = E[3];
                u.push(en(N, fe));
                "<" == Y[0] && !("*" == N && "*" == fe) && u.push(en(fe, N))
            }(E, c, u)) : c.push(F), c
        }

        const vr = new Set(["true", "1"]), Ft = new Set(["false", "0"]);

        function en(F, u) {
            const c = vr.has(F) || Ft.has(F), E = vr.has(u) || Ft.has(u);
            return (N, Y) => {
                let fe = "*" == F || F == N, _e = "*" == u || u == Y;
                return !fe && c && "boolean" == typeof N && (fe = N ? vr.has(F) : Ft.has(F)), !_e && E && "boolean" == typeof Y && (_e = Y ? vr.has(u) : Ft.has(u)), fe && _e
            }
        }

        const _r = new RegExp("s*:selfs*,?", "g");

        function cr(F, u, c, E) {
            return new br(F).build(u, c, E)
        }

        class br {
            constructor(u) {
                this._driver = u
            }

            build(u, c, E) {
                const N = new Ir(c);
                return this._resetContextStyleTimingState(N), Zt(this, w(u), N)
            }

            _resetContextStyleTimingState(u) {
                u.currentQuerySelector = "", u.collectedStyles = new Map, u.collectedStyles.set("", new Map), u.currentTime = 0
            }

            visitTrigger(u, c) {
                let E = c.queryCount = 0, N = c.depCount = 0;
                const Y = [], fe = [];
                return "@" == u.name.charAt(0) && c.errors.push(function Q() {
                    return new a.vHH(3006, !1)
                }()), u.definitions.forEach(_e => {
                    if (this._resetContextStyleTimingState(c), 0 == _e.type) {
                        const ze = _e, ot = ze.name;
                        ot.toString().split(/\s*,\s*/).forEach(jt => {
                            ze.name = jt, Y.push(this.visitState(ze, c))
                        }), ze.name = ot
                    } else if (1 == _e.type) {
                        const ze = this.visitTransition(_e, c);
                        E += ze.queryCount, N += ze.depCount, fe.push(ze)
                    } else c.errors.push(function Oe() {
                        return new a.vHH(3007, !1)
                    }())
                }), {type: 7, name: u.name, states: Y, transitions: fe, queryCount: E, depCount: N, options: null}
            }

            visitState(u, c) {
                const E = this.visitStyle(u.styles, c), N = u.options && u.options.params || null;
                if (E.containsDynamicStyles) {
                    const Y = new Set, fe = N || {};
                    E.styles.forEach(_e => {
                        _e instanceof Map && _e.forEach(ze => {
                            R(ze).forEach(ot => {
                                fe.hasOwnProperty(ot) || Y.add(ot)
                            })
                        })
                    }), Y.size && (ae(Y.values()), c.errors.push(function xe(F, u) {
                        return new a.vHH(3008, !1)
                    }()))
                }
                return {type: 0, name: u.name, style: E, options: N ? {params: N} : null}
            }

            visitTransition(u, c) {
                c.queryCount = 0, c.depCount = 0;
                const E = Zt(this, w(u.animation), c);
                return {
                    type: 1,
                    matchers: ur(u.expr, c.errors),
                    animation: E,
                    queryCount: c.queryCount,
                    depCount: c.depCount,
                    options: v(u.options)
                }
            }

            visitSequence(u, c) {
                return {type: 2, steps: u.steps.map(E => Zt(this, E, c)), options: v(u.options)}
            }

            visitGroup(u, c) {
                const E = c.currentTime;
                let N = 0;
                const Y = u.steps.map(fe => {
                    c.currentTime = E;
                    const _e = Zt(this, fe, c);
                    return N = Math.max(N, c.currentTime), _e
                });
                return c.currentTime = N, {type: 3, steps: Y, options: v(u.options)}
            }

            visitAnimate(u, c) {
                const E = function Or(F, u) {
                    if (F.hasOwnProperty("duration")) return F;
                    if ("number" == typeof F) return x(Ce(F, u).duration, 0, "");
                    const c = F;
                    if (c.split(/\s+/).some(Y => "{" == Y.charAt(0) && "{" == Y.charAt(1))) {
                        const Y = x(0, 0, "");
                        return Y.dynamic = !0, Y.strValue = c, Y
                    }
                    const N = Ce(c, u);
                    return x(N.duration, N.delay, N.easing)
                }(u.timings, c.errors);
                c.currentAnimateTimings = E;
                let N, Y = u.styles ? u.styles : (0, K.oB)({});
                if (5 == Y.type) N = this.visitKeyframes(Y, c); else {
                    let fe = u.styles, _e = !1;
                    if (!fe) {
                        _e = !0;
                        const ot = {};
                        E.easing && (ot.easing = E.easing), fe = (0, K.oB)(ot)
                    }
                    c.currentTime += E.duration + E.delay;
                    const ze = this.visitStyle(fe, c);
                    ze.isEmptyStep = _e, N = ze
                }
                return c.currentAnimateTimings = null, {type: 4, timings: E, style: N, options: null}
            }

            visitStyle(u, c) {
                const E = this._makeStyleAst(u, c);
                return this._validateStyleAst(E, c), E
            }

            _makeStyleAst(u, c) {
                const E = [], N = Array.isArray(u.styles) ? u.styles : [u.styles];
                for (let _e of N) "string" == typeof _e ? _e === K.l3 ? E.push(_e) : c.errors.push(new a.vHH(3002, !1)) : E.push(Je(_e));
                let Y = !1, fe = null;
                return E.forEach(_e => {
                    if (_e instanceof Map && (_e.has("easing") && (fe = _e.get("easing"), _e.delete("easing")), !Y)) for (let ze of _e.values()) if (ze.toString().indexOf("{{") >= 0) {
                        Y = !0;
                        break
                    }
                }), {type: 6, styles: E, easing: fe, offset: u.offset, containsDynamicStyles: Y, options: null}
            }

            _validateStyleAst(u, c) {
                const E = c.currentAnimateTimings;
                let N = c.currentTime, Y = c.currentTime;
                E && Y > 0 && (Y -= E.duration + E.delay), u.styles.forEach(fe => {
                    "string" != typeof fe && fe.forEach((_e, ze) => {
                        const ot = c.collectedStyles.get(c.currentQuerySelector), jt = ot.get(ze);
                        let Wt = !0;
                        jt && (Y != N && Y >= jt.startTime && N <= jt.endTime && (c.errors.push(function ye(F, u, c, E, N) {
                            return new a.vHH(3010, !1)
                        }()), Wt = !1), Y = jt.startTime), Wt && ot.set(ze, {
                            startTime: Y,
                            endTime: N
                        }), c.options && function z(F, u, c) {
                            const E = u.params || {}, N = R(F);
                            N.length && N.forEach(Y => {
                                E.hasOwnProperty(Y) || c.push(function Te(F) {
                                    return new a.vHH(3001, !1)
                                }())
                            })
                        }(_e, c.options, c.errors)
                    })
                })
            }

            visitKeyframes(u, c) {
                const E = {type: 5, styles: [], options: null};
                if (!c.currentAnimateTimings) return c.errors.push(function Ue() {
                    return new a.vHH(3011, !1)
                }()), E;
                let Y = 0;
                const fe = [];
                let _e = !1, ze = !1, ot = 0;
                const jt = u.steps.map(yr => {
                    const Ur = this._makeStyleAst(yr, c);
                    let $r = null != Ur.offset ? Ur.offset : function dn(F) {
                        if ("string" == typeof F) return null;
                        let u = null;
                        if (Array.isArray(F)) F.forEach(c => {
                            if (c instanceof Map && c.has("offset")) {
                                const E = c;
                                u = parseFloat(E.get("offset")), E.delete("offset")
                            }
                        }); else if (F instanceof Map && F.has("offset")) {
                            const c = F;
                            u = parseFloat(c.get("offset")), c.delete("offset")
                        }
                        return u
                    }(Ur.styles), zr = 0;
                    return null != $r && (Y++, zr = Ur.offset = $r), ze = ze || zr < 0 || zr > 1, _e = _e || zr < ot, ot = zr, fe.push(zr), Ur
                });
                ze && c.errors.push(function $e() {
                    return new a.vHH(3012, !1)
                }()), _e && c.errors.push(function yt() {
                    return new a.vHH(3200, !1)
                }());
                const Wt = u.steps.length;
                let tr = 0;
                Y > 0 && Y < Wt ? c.errors.push(function We() {
                    return new a.vHH(3202, !1)
                }()) : 0 == Y && (tr = 1 / (Wt - 1));
                const Un = Wt - 1, Sn = c.currentTime, Pn = c.currentAnimateTimings, sr = Pn.duration;
                return jt.forEach((yr, Ur) => {
                    const $r = tr > 0 ? Ur == Un ? 1 : tr * Ur : fe[Ur], zr = $r * sr;
                    c.currentTime = Sn + Pn.delay + zr, Pn.duration = zr, this._validateStyleAst(yr, c), yr.offset = $r, E.styles.push(yr)
                }), E
            }

            visitReference(u, c) {
                return {type: 8, animation: Zt(this, w(u.animation), c), options: v(u.options)}
            }

            visitAnimateChild(u, c) {
                return c.depCount++, {type: 9, options: v(u.options)}
            }

            visitAnimateRef(u, c) {
                return {type: 10, animation: this.visitReference(u.animation, c), options: v(u.options)}
            }

            visitQuery(u, c) {
                const E = c.currentQuerySelector, N = u.options || {};
                c.queryCount++, c.currentQuery = u;
                const [Y, fe] = function Ln(F) {
                    const u = !!F.split(/\s*,\s*/).find(c => ":self" == c);
                    return u && (F = F.replace(_r, "")), F = F.replace(/@\*/g, fn).replace(/@\w+/g, c => fn + "-" + c.slice(1)).replace(/:animating/g, yn), [F, u]
                }(u.selector);
                c.currentQuerySelector = E.length ? E + " " + Y : Y, zt(c.collectedStyles, c.currentQuerySelector, new Map);
                const _e = Zt(this, w(u.animation), c);
                return c.currentQuery = null, c.currentQuerySelector = E, {
                    type: 11,
                    selector: Y,
                    limit: N.limit || 0,
                    optional: !!N.optional,
                    includeSelf: fe,
                    animation: _e,
                    originalSelector: u.selector,
                    options: v(u.options)
                }
            }

            visitStagger(u, c) {
                c.currentQuery || c.errors.push(function pe() {
                    return new a.vHH(3013, !1)
                }());
                const E = "full" === u.timings ? {duration: 0, delay: 0, easing: "full"} : Ce(u.timings, c.errors, !0);
                return {type: 12, animation: Zt(this, w(u.animation), c), timings: E, options: null}
            }
        }

        class Ir {
            constructor(u) {
                this.errors = u, this.queryCount = 0, this.depCount = 0, this.currentTransition = null, this.currentQuery = null, this.currentQuerySelector = null, this.currentAnimateTimings = null, this.currentTime = 0, this.collectedStyles = new Map, this.options = null, this.unsupportedCSSPropertiesFound = new Set
            }
        }

        function v(F) {
            return F ? (F = Ee(F)).params && (F.params = function rr(F) {
                return F ? Ee(F) : null
            }(F.params)) : F = {}, F
        }

        function x(F, u, c) {
            return {duration: F, delay: u, easing: c}
        }

        function X(F, u, c, E, N, Y, fe = null, _e = !1) {
            return {
                type: 1,
                element: F,
                keyframes: u,
                preStyleProps: c,
                postStyleProps: E,
                duration: N,
                delay: Y,
                totalTime: N + Y,
                easing: fe,
                subTimeline: _e
            }
        }

        class ie {
            constructor() {
                this._map = new Map
            }

            get(u) {
                return this._map.get(u) || []
            }

            append(u, c) {
                let E = this._map.get(u);
                E || this._map.set(u, E = []), E.push(...c)
            }

            has(u) {
                return this._map.has(u)
            }

            clear() {
                this._map.clear()
            }
        }

        const te = new RegExp(":enter", "g"), ft = new RegExp(":leave", "g");

        function lt(F, u, c, E, N, Y = new Map, fe = new Map, _e, ze, ot = []) {
            return (new ht).buildKeyframes(F, u, c, E, N, Y, fe, _e, ze, ot)
        }

        class ht {
            buildKeyframes(u, c, E, N, Y, fe, _e, ze, ot, jt = []) {
                ot = ot || new ie;
                const Wt = new Jt(u, c, ot, N, Y, jt, []);
                Wt.options = ze;
                const tr = ze.delay ? Yt(ze.delay) : 0;
                Wt.currentTimeline.delayNextStep(tr), Wt.currentTimeline.setStyles([fe], null, Wt.errors, ze), Zt(this, E, Wt);
                const Un = Wt.timelines.filter(Sn => Sn.containsAnimation());
                if (Un.length && _e.size) {
                    let Sn;
                    for (let Pn = Un.length - 1; Pn >= 0; Pn--) {
                        const sr = Un[Pn];
                        if (sr.element === c) {
                            Sn = sr;
                            break
                        }
                    }
                    Sn && !Sn.allowOnlyTimelineStyles() && Sn.setStyles([_e], null, Wt.errors, ze)
                }
                return Un.length ? Un.map(Sn => Sn.buildKeyframes()) : [X(c, [], [], [], 0, tr, "", !1)]
            }

            visitTrigger(u, c) {
            }

            visitState(u, c) {
            }

            visitTransition(u, c) {
            }

            visitAnimateChild(u, c) {
                const E = c.subInstructions.get(c.element);
                if (E) {
                    const N = c.createSubContext(u.options), Y = c.currentTimeline.currentTime,
                        fe = this._visitSubInstructions(E, N, N.options);
                    Y != fe && c.transformIntoNewTimeline(fe)
                }
                c.previousNode = u
            }

            visitAnimateRef(u, c) {
                const E = c.createSubContext(u.options);
                E.transformIntoNewTimeline(), this._applyAnimationRefDelays([u.options, u.animation.options], c, E), this.visitReference(u.animation, E), c.transformIntoNewTimeline(E.currentTimeline.currentTime), c.previousNode = u
            }

            _applyAnimationRefDelays(u, c, E) {
                for (const N of u) {
                    const Y = N?.delay;
                    if (Y) {
                        const fe = "number" == typeof Y ? Y : Yt(P(Y, N?.params ?? {}, c.errors));
                        E.delayNextStep(fe)
                    }
                }
            }

            _visitSubInstructions(u, c, E) {
                let Y = c.currentTimeline.currentTime;
                const fe = null != E.duration ? Yt(E.duration) : null, _e = null != E.delay ? Yt(E.delay) : null;
                return 0 !== fe && u.forEach(ze => {
                    const ot = c.appendInstructionToTimeline(ze, fe, _e);
                    Y = Math.max(Y, ot.duration + ot.delay)
                }), Y
            }

            visitReference(u, c) {
                c.updateOptions(u.options, !0), Zt(this, u.animation, c), c.previousNode = u
            }

            visitSequence(u, c) {
                const E = c.subContextCount;
                let N = c;
                const Y = u.options;
                if (Y && (Y.params || Y.delay) && (N = c.createSubContext(Y), N.transformIntoNewTimeline(), null != Y.delay)) {
                    6 == N.previousNode.type && (N.currentTimeline.snapshotCurrentStyles(), N.previousNode = It);
                    const fe = Yt(Y.delay);
                    N.delayNextStep(fe)
                }
                u.steps.length && (u.steps.forEach(fe => Zt(this, fe, N)), N.currentTimeline.applyStylesToKeyframe(), N.subContextCount > E && N.transformIntoNewTimeline()), c.previousNode = u
            }

            visitGroup(u, c) {
                const E = [];
                let N = c.currentTimeline.currentTime;
                const Y = u.options && u.options.delay ? Yt(u.options.delay) : 0;
                u.steps.forEach(fe => {
                    const _e = c.createSubContext(u.options);
                    Y && _e.delayNextStep(Y), Zt(this, fe, _e), N = Math.max(N, _e.currentTimeline.currentTime), E.push(_e.currentTimeline)
                }), E.forEach(fe => c.currentTimeline.mergeTimelineCollectedStyles(fe)), c.transformIntoNewTimeline(N), c.previousNode = u
            }

            _visitTiming(u, c) {
                if (u.dynamic) {
                    const E = u.strValue;
                    return Ce(c.params ? P(E, c.params, c.errors) : E, c.errors)
                }
                return {duration: u.duration, delay: u.delay, easing: u.easing}
            }

            visitAnimate(u, c) {
                const E = c.currentAnimateTimings = this._visitTiming(u.timings, c), N = c.currentTimeline;
                E.delay && (c.incrementTime(E.delay), N.snapshotCurrentStyles());
                const Y = u.style;
                5 == Y.type ? this.visitKeyframes(Y, c) : (c.incrementTime(E.duration), this.visitStyle(Y, c), N.applyStylesToKeyframe()), c.currentAnimateTimings = null, c.previousNode = u
            }

            visitStyle(u, c) {
                const E = c.currentTimeline, N = c.currentAnimateTimings;
                !N && E.hasCurrentStyleProperties() && E.forwardFrame();
                const Y = N && N.easing || u.easing;
                u.isEmptyStep ? E.applyEmptyStep(Y) : E.setStyles(u.styles, Y, c.errors, c.options), c.previousNode = u
            }

            visitKeyframes(u, c) {
                const E = c.currentAnimateTimings, N = c.currentTimeline.duration, Y = E.duration,
                    _e = c.createSubContext().currentTimeline;
                _e.easing = E.easing, u.styles.forEach(ze => {
                    _e.forwardTime((ze.offset || 0) * Y), _e.setStyles(ze.styles, ze.easing, c.errors, c.options), _e.applyStylesToKeyframe()
                }), c.currentTimeline.mergeTimelineCollectedStyles(_e), c.transformIntoNewTimeline(N + Y), c.previousNode = u
            }

            visitQuery(u, c) {
                const E = c.currentTimeline.currentTime, N = u.options || {}, Y = N.delay ? Yt(N.delay) : 0;
                Y && (6 === c.previousNode.type || 0 == E && c.currentTimeline.hasCurrentStyleProperties()) && (c.currentTimeline.snapshotCurrentStyles(), c.previousNode = It);
                let fe = E;
                const _e = c.invokeQuery(u.selector, u.originalSelector, u.limit, u.includeSelf, !!N.optional, c.errors);
                c.currentQueryTotal = _e.length;
                let ze = null;
                _e.forEach((ot, jt) => {
                    c.currentQueryIndex = jt;
                    const Wt = c.createSubContext(u.options, ot);
                    Y && Wt.delayNextStep(Y), ot === c.element && (ze = Wt.currentTimeline), Zt(this, u.animation, Wt), Wt.currentTimeline.applyStylesToKeyframe(), fe = Math.max(fe, Wt.currentTimeline.currentTime)
                }), c.currentQueryIndex = 0, c.currentQueryTotal = 0, c.transformIntoNewTimeline(fe), ze && (c.currentTimeline.mergeTimelineCollectedStyles(ze), c.currentTimeline.snapshotCurrentStyles()), c.previousNode = u
            }

            visitStagger(u, c) {
                const E = c.parentContext, N = c.currentTimeline, Y = u.timings, fe = Math.abs(Y.duration),
                    _e = fe * (c.currentQueryTotal - 1);
                let ze = fe * c.currentQueryIndex;
                switch (Y.duration < 0 ? "reverse" : Y.easing) {
                    case"reverse":
                        ze = _e - ze;
                        break;
                    case"full":
                        ze = E.currentStaggerTime
                }
                const jt = c.currentTimeline;
                ze && jt.delayNextStep(ze);
                const Wt = jt.currentTime;
                Zt(this, u.animation, c), c.previousNode = u, E.currentStaggerTime = N.currentTime - Wt + (N.startTime - E.currentTimeline.startTime)
            }
        }

        const It = {};

        class Jt {
            constructor(u, c, E, N, Y, fe, _e, ze) {
                this._driver = u, this.element = c, this.subInstructions = E, this._enterClassName = N, this._leaveClassName = Y, this.errors = fe, this.timelines = _e, this.parentContext = null, this.currentAnimateTimings = null, this.previousNode = It, this.subContextCount = 0, this.options = {}, this.currentQueryIndex = 0, this.currentQueryTotal = 0, this.currentStaggerTime = 0, this.currentTimeline = ze || new Ht(this._driver, c, 0), _e.push(this.currentTimeline)
            }

            get params() {
                return this.options.params
            }

            updateOptions(u, c) {
                if (!u) return;
                const E = u;
                let N = this.options;
                null != E.duration && (N.duration = Yt(E.duration)), null != E.delay && (N.delay = Yt(E.delay));
                const Y = E.params;
                if (Y) {
                    let fe = N.params;
                    fe || (fe = this.options.params = {}), Object.keys(Y).forEach(_e => {
                        (!c || !fe.hasOwnProperty(_e)) && (fe[_e] = P(Y[_e], fe, this.errors))
                    })
                }
            }

            _copyOptions() {
                const u = {};
                if (this.options) {
                    const c = this.options.params;
                    if (c) {
                        const E = u.params = {};
                        Object.keys(c).forEach(N => {
                            E[N] = c[N]
                        })
                    }
                }
                return u
            }

            createSubContext(u = null, c, E) {
                const N = c || this.element,
                    Y = new Jt(this._driver, N, this.subInstructions, this._enterClassName, this._leaveClassName, this.errors, this.timelines, this.currentTimeline.fork(N, E || 0));
                return Y.previousNode = this.previousNode, Y.currentAnimateTimings = this.currentAnimateTimings, Y.options = this._copyOptions(), Y.updateOptions(u), Y.currentQueryIndex = this.currentQueryIndex, Y.currentQueryTotal = this.currentQueryTotal, Y.parentContext = this, this.subContextCount++, Y
            }

            transformIntoNewTimeline(u) {
                return this.previousNode = It, this.currentTimeline = this.currentTimeline.fork(this.element, u), this.timelines.push(this.currentTimeline), this.currentTimeline
            }

            appendInstructionToTimeline(u, c, E) {
                const N = {
                        duration: c ?? u.duration,
                        delay: this.currentTimeline.currentTime + (E ?? 0) + u.delay,
                        easing: ""
                    },
                    Y = new Ct(this._driver, u.element, u.keyframes, u.preStyleProps, u.postStyleProps, N, u.stretchStartingKeyframe);
                return this.timelines.push(Y), N
            }

            incrementTime(u) {
                this.currentTimeline.forwardTime(this.currentTimeline.duration + u)
            }

            delayNextStep(u) {
                u > 0 && this.currentTimeline.delayNextStep(u)
            }

            invokeQuery(u, c, E, N, Y, fe) {
                let _e = [];
                if (N && _e.push(this.element), u.length > 0) {
                    u = (u = u.replace(te, "." + this._enterClassName)).replace(ft, "." + this._leaveClassName);
                    let ot = this._driver.query(this.element, u, 1 != E);
                    0 !== E && (ot = E < 0 ? ot.slice(ot.length + E, ot.length) : ot.slice(0, E)), _e.push(...ot)
                }
                return !Y && 0 == _e.length && fe.push(function Qe(F) {
                    return new a.vHH(3014, !1)
                }()), _e
            }
        }

        class Ht {
            constructor(u, c, E, N) {
                this._driver = u, this.element = c, this.startTime = E, this._elementTimelineStylesLookup = N, this.duration = 0, this._previousKeyframe = new Map, this._currentKeyframe = new Map, this._keyframes = new Map, this._styleSummary = new Map, this._localTimelineStyles = new Map, this._pendingStyles = new Map, this._backFill = new Map, this._currentEmptyStepKeyframe = null, this._elementTimelineStylesLookup || (this._elementTimelineStylesLookup = new Map), this._globalTimelineStyles = this._elementTimelineStylesLookup.get(c), this._globalTimelineStyles || (this._globalTimelineStyles = this._localTimelineStyles, this._elementTimelineStylesLookup.set(c, this._localTimelineStyles)), this._loadKeyframe()
            }

            containsAnimation() {
                switch (this._keyframes.size) {
                    case 0:
                        return !1;
                    case 1:
                        return this.hasCurrentStyleProperties();
                    default:
                        return !0
                }
            }

            hasCurrentStyleProperties() {
                return this._currentKeyframe.size > 0
            }

            get currentTime() {
                return this.startTime + this.duration
            }

            delayNextStep(u) {
                const c = 1 === this._keyframes.size && this._pendingStyles.size;
                this.duration || c ? (this.forwardTime(this.currentTime + u), c && this.snapshotCurrentStyles()) : this.startTime += u
            }

            fork(u, c) {
                return this.applyStylesToKeyframe(), new Ht(this._driver, u, c || this.currentTime, this._elementTimelineStylesLookup)
            }

            _loadKeyframe() {
                this._currentKeyframe && (this._previousKeyframe = this._currentKeyframe), this._currentKeyframe = this._keyframes.get(this.duration), this._currentKeyframe || (this._currentKeyframe = new Map, this._keyframes.set(this.duration, this._currentKeyframe))
            }

            forwardFrame() {
                this.duration += 1, this._loadKeyframe()
            }

            forwardTime(u) {
                this.applyStylesToKeyframe(), this.duration = u, this._loadKeyframe()
            }

            _updateStyle(u, c) {
                this._localTimelineStyles.set(u, c), this._globalTimelineStyles.set(u, c), this._styleSummary.set(u, {
                    time: this.currentTime,
                    value: c
                })
            }

            allowOnlyTimelineStyles() {
                return this._currentEmptyStepKeyframe !== this._currentKeyframe
            }

            applyEmptyStep(u) {
                u && this._previousKeyframe.set("easing", u);
                for (let [c, E] of this._globalTimelineStyles) this._backFill.set(c, E || K.l3), this._currentKeyframe.set(c, K.l3);
                this._currentEmptyStepKeyframe = this._currentKeyframe
            }

            setStyles(u, c, E, N) {
                c && this._previousKeyframe.set("easing", c);
                const Y = N && N.params || {}, fe = function bt(F, u) {
                    const c = new Map;
                    let E;
                    return F.forEach(N => {
                        if ("*" === N) {
                            E = E || u.keys();
                            for (let Y of E) c.set(Y, K.l3)
                        } else vn(N, c)
                    }), c
                }(u, this._globalTimelineStyles);
                for (let [_e, ze] of fe) {
                    const ot = P(ze, Y, E);
                    this._pendingStyles.set(_e, ot), this._localTimelineStyles.has(_e) || this._backFill.set(_e, this._globalTimelineStyles.get(_e) ?? K.l3), this._updateStyle(_e, ot)
                }
            }

            applyStylesToKeyframe() {
                0 != this._pendingStyles.size && (this._pendingStyles.forEach((u, c) => {
                    this._currentKeyframe.set(c, u)
                }), this._pendingStyles.clear(), this._localTimelineStyles.forEach((u, c) => {
                    this._currentKeyframe.has(c) || this._currentKeyframe.set(c, u)
                }))
            }

            snapshotCurrentStyles() {
                for (let [u, c] of this._localTimelineStyles) this._pendingStyles.set(u, c), this._updateStyle(u, c)
            }

            getFinalKeyframe() {
                return this._keyframes.get(this.duration)
            }

            get properties() {
                const u = [];
                for (let c in this._currentKeyframe) u.push(c);
                return u
            }

            mergeTimelineCollectedStyles(u) {
                u._styleSummary.forEach((c, E) => {
                    const N = this._styleSummary.get(E);
                    (!N || c.time > N.time) && this._updateStyle(E, c.value)
                })
            }

            buildKeyframes() {
                this.applyStylesToKeyframe();
                const u = new Set, c = new Set, E = 1 === this._keyframes.size && 0 === this.duration;
                let N = [];
                this._keyframes.forEach((_e, ze) => {
                    const ot = vn(_e, new Map, this._backFill);
                    ot.forEach((jt, Wt) => {
                        jt === K.k1 ? u.add(Wt) : jt === K.l3 && c.add(Wt)
                    }), E || ot.set("offset", ze / this.duration), N.push(ot)
                });
                const Y = u.size ? ae(u.values()) : [], fe = c.size ? ae(c.values()) : [];
                if (E) {
                    const _e = N[0], ze = new Map(_e);
                    _e.set("offset", 0), ze.set("offset", 1), N = [_e, ze]
                }
                return X(this.element, N, Y, fe, this.duration, this.startTime, this.easing, !1)
            }
        }

        class Ct extends Ht {
            constructor(u, c, E, N, Y, fe, _e = !1) {
                super(u, c, fe.delay), this.keyframes = E, this.preStyleProps = N, this.postStyleProps = Y, this._stretchStartingKeyframe = _e, this.timings = {
                    duration: fe.duration,
                    delay: fe.delay,
                    easing: fe.easing
                }
            }

            containsAnimation() {
                return this.keyframes.length > 1
            }

            buildKeyframes() {
                let u = this.keyframes, {delay: c, duration: E, easing: N} = this.timings;
                if (this._stretchStartingKeyframe && c) {
                    const Y = [], fe = E + c, _e = c / fe, ze = vn(u[0]);
                    ze.set("offset", 0), Y.push(ze);
                    const ot = vn(u[0]);
                    ot.set("offset", it(_e)), Y.push(ot);
                    const jt = u.length - 1;
                    for (let Wt = 1; Wt <= jt; Wt++) {
                        let tr = vn(u[Wt]);
                        const Un = tr.get("offset");
                        tr.set("offset", it((c + Un * E) / fe)), Y.push(tr)
                    }
                    E = fe, c = 0, N = "", u = Y
                }
                return X(this.element, u, this.preStyleProps, this.postStyleProps, E, c, N, !0)
            }
        }

        function it(F, u = 3) {
            const c = Math.pow(10, u - 1);
            return Math.round(F * c) / c
        }

        class Vt {
        }

        const Qt = new Set(["width", "height", "minWidth", "minHeight", "maxWidth", "maxHeight", "left", "top", "bottom", "right", "fontSize", "outlineWidth", "outlineOffset", "paddingTop", "paddingLeft", "paddingBottom", "paddingRight", "marginTop", "marginLeft", "marginBottom", "marginRight", "borderRadius", "borderWidth", "borderTopWidth", "borderLeftWidth", "borderRightWidth", "borderBottomWidth", "textIndent", "perspective"]);

        class xt extends Vt {
            normalizePropertyName(u, c) {
                return J(u)
            }

            normalizeStyleValue(u, c, E, N) {
                let Y = "";
                const fe = E.toString().trim();
                if (Qt.has(c) && 0 !== E && "0" !== E) if ("number" == typeof E) Y = "px"; else {
                    const _e = E.match(/^[+-]?[\d\.]+([a-z]*)$/);
                    _e && 0 == _e[1].length && N.push(function ce(F, u) {
                        return new a.vHH(3005, !1)
                    }())
                }
                return fe + Y
            }
        }

        function Ot(F, u, c, E, N, Y, fe, _e, ze, ot, jt, Wt, tr) {
            return {
                type: 0,
                element: F,
                triggerName: u,
                isRemovalTransition: N,
                fromState: c,
                fromStyles: Y,
                toState: E,
                toStyles: fe,
                timelines: _e,
                queriedElements: ze,
                preStyleProps: ot,
                postStyleProps: jt,
                totalTime: Wt,
                errors: tr
            }
        }

        const wt = {};

        class bn {
            constructor(u, c, E) {
                this._triggerName = u, this.ast = c, this._stateStyles = E
            }

            match(u, c, E, N) {
                return function Cn(F, u, c, E, N) {
                    return F.some(Y => Y(u, c, E, N))
                }(this.ast.matchers, u, c, E, N)
            }

            buildStyles(u, c, E) {
                let N = this._stateStyles.get("*");
                return void 0 !== u && (N = this._stateStyles.get(u?.toString()) || N), N ? N.buildStyles(c, E) : new Map
            }

            build(u, c, E, N, Y, fe, _e, ze, ot, jt) {
                const Wt = [], tr = this.ast.options && this.ast.options.params || wt,
                    Sn = this.buildStyles(E, _e && _e.params || wt, Wt), Pn = ze && ze.params || wt,
                    sr = this.buildStyles(N, Pn, Wt), yr = new Set, Ur = new Map, $r = new Map, zr = "void" === N,
                    Li = {params: En(Pn, tr), delay: this.ast.options?.delay},
                    yi = jt ? [] : lt(u, c, this.ast.animation, Y, fe, Sn, sr, Li, ot, Wt);
                let ni = 0;
                if (yi.forEach(Qr => {
                    ni = Math.max(Qr.duration + Qr.delay, ni)
                }), Wt.length) return Ot(c, this._triggerName, E, N, zr, Sn, sr, [], [], Ur, $r, ni, Wt);
                yi.forEach(Qr => {
                    const fr = Qr.element, Sa = zt(Ur, fr, new Set);
                    Qr.preStyleProps.forEach(ki => Sa.add(ki));
                    const na = zt($r, fr, new Set);
                    Qr.postStyleProps.forEach(ki => na.add(ki)), fr !== c && yr.add(fr)
                });
                const xr = ae(yr.values());
                return Ot(c, this._triggerName, E, N, zr, Sn, sr, yi, xr, Ur, $r, ni)
            }
        }

        function En(F, u) {
            const c = Ee(u);
            for (const E in F) F.hasOwnProperty(E) && null != F[E] && (c[E] = F[E]);
            return c
        }

        class jn {
            constructor(u, c, E) {
                this.styles = u, this.defaultParams = c, this.normalizer = E
            }

            buildStyles(u, c) {
                const E = new Map, N = Ee(this.defaultParams);
                return Object.keys(u).forEach(Y => {
                    const fe = u[Y];
                    null !== fe && (N[Y] = fe)
                }), this.styles.styles.forEach(Y => {
                    "string" != typeof Y && Y.forEach((fe, _e) => {
                        fe && (fe = P(fe, N, c));
                        const ze = this.normalizer.normalizePropertyName(_e, c);
                        fe = this.normalizer.normalizeStyleValue(_e, ze, fe, c), E.set(_e, fe)
                    })
                }), E
            }
        }

        class L {
            constructor(u, c, E) {
                this.name = u, this.ast = c, this._normalizer = E, this.transitionFactories = [], this.states = new Map, c.states.forEach(N => {
                    this.states.set(N.name, new jn(N.style, N.options && N.options.params || {}, E))
                }), Ne(this.states, "true", "1"), Ne(this.states, "false", "0"), c.transitions.forEach(N => {
                    this.transitionFactories.push(new bn(u, N, this.states))
                }), this.fallbackTransition = function ne(F, u, c) {
                    return new bn(F, {
                        type: 1,
                        animation: {type: 2, steps: [], options: null},
                        matchers: [(fe, _e) => !0],
                        options: null,
                        queryCount: 0,
                        depCount: 0
                    }, u)
                }(u, this.states)
            }

            get containsQueries() {
                return this.ast.queryCount > 0
            }

            matchTransition(u, c, E, N) {
                return this.transitionFactories.find(fe => fe.match(u, c, E, N)) || null
            }

            matchStyles(u, c, E) {
                return this.fallbackTransition.buildStyles(u, c, E)
            }
        }

        function Ne(F, u, c) {
            F.has(u) ? F.has(c) || F.set(c, F.get(u)) : F.has(c) && F.set(u, F.get(c))
        }

        const tt = new ie;

        class tn {
            constructor(u, c, E) {
                this.bodyNode = u, this._driver = c, this._normalizer = E, this._animations = new Map, this._playersById = new Map, this.players = []
            }

            register(u, c) {
                const E = [], Y = cr(this._driver, c, E, []);
                if (E.length) throw function at(F) {
                    return new a.vHH(3503, !1)
                }();
                this._animations.set(u, Y)
            }

            _buildPlayer(u, c, E) {
                const N = u.element, Y = Xt(0, this._normalizer, 0, u.keyframes, c, E);
                return this._driver.animate(N, Y, u.duration, u.delay, u.easing, [], !0)
            }

            create(u, c, E = {}) {
                const N = [], Y = this._animations.get(u);
                let fe;
                const _e = new Map;
                if (Y ? (fe = lt(this._driver, c, Y, Lr, $n, new Map, new Map, E, tt, N), fe.forEach(jt => {
                    const Wt = zt(_e, jt.element, new Map);
                    jt.postStyleProps.forEach(tr => Wt.set(tr, null))
                })) : (N.push(function Ye() {
                    return new a.vHH(3300, !1)
                }()), fe = []), N.length) throw function we(F) {
                    return new a.vHH(3504, !1)
                }();
                _e.forEach((jt, Wt) => {
                    jt.forEach((tr, Un) => {
                        jt.set(Un, this._driver.computeStyle(Wt, Un, K.l3))
                    })
                });
                const ot = gt(fe.map(jt => {
                    const Wt = _e.get(jt.element);
                    return this._buildPlayer(jt, new Map, Wt)
                }));
                return this._playersById.set(u, ot), ot.onDestroy(() => this.destroy(u)), this.players.push(ot), ot
            }

            destroy(u) {
                const c = this._getPlayer(u);
                c.destroy(), this._playersById.delete(u);
                const E = this.players.indexOf(c);
                E >= 0 && this.players.splice(E, 1)
            }

            _getPlayer(u) {
                const c = this._playersById.get(u);
                if (!c) throw function Re(F) {
                    return new a.vHH(3301, !1)
                }();
                return c
            }

            listen(u, c, E, N) {
                const Y = Bn(c, "", "", "");
                return Mn(this._getPlayer(u), E, Y, N), () => {
                }
            }

            command(u, c, E, N) {
                if ("register" == E) return void this.register(u, N[0]);
                if ("create" == E) return void this.create(u, c, N[0] || {});
                const Y = this._getPlayer(u);
                switch (E) {
                    case"play":
                        Y.play();
                        break;
                    case"pause":
                        Y.pause();
                        break;
                    case"reset":
                        Y.reset();
                        break;
                    case"restart":
                        Y.restart();
                        break;
                    case"finish":
                        Y.finish();
                        break;
                    case"init":
                        Y.init();
                        break;
                    case"setPosition":
                        Y.setPosition(parseFloat(N[0]));
                        break;
                    case"destroy":
                        this.destroy(u)
                }
            }
        }

        const Wn = "ng-animate-queued", Pr = "ng-animate-disabled", Hr = [],
            ei = {namespaceId: "", setForRemoval: !1, setForMove: !1, hasAnimation: !1, removedBeforeQueried: !1},
            Br = {namespaceId: "", setForMove: !1, setForRemoval: !1, hasAnimation: !1, removedBeforeQueried: !0},
            Fr = "__ng_removed";

        class ui {
            get params() {
                return this.options.params
            }

            constructor(u, c = "") {
                this.namespaceId = c;
                const E = u && u.hasOwnProperty("value");
                if (this.value = function Pi(F) {
                    return F ?? null
                }(E ? u.value : u), E) {
                    const Y = Ee(u);
                    delete Y.value, this.options = Y
                } else this.options = {};
                this.options.params || (this.options.params = {})
            }

            absorbOptions(u) {
                const c = u.params;
                if (c) {
                    const E = this.options.params;
                    Object.keys(c).forEach(N => {
                        null == E[N] && (E[N] = c[N])
                    })
                }
            }
        }

        const Zr = "void", di = new ui(Zr);

        class bi {
            constructor(u, c, E) {
                this.id = u, this.hostElement = c, this._engine = E, this.players = [], this._triggers = new Map, this._queue = [], this._elementListeners = new Map, this._hostClassName = "ng-tns-" + u, g(c, this._hostClassName)
            }

            listen(u, c, E, N) {
                if (!this._triggers.has(c)) throw function De(F, u) {
                    return new a.vHH(3302, !1)
                }();
                if (null == E || 0 == E.length) throw function re(F) {
                    return new a.vHH(3303, !1)
                }();
                if (!function $i(F) {
                    return "start" == F || "done" == F
                }(E)) throw function Ve(F, u) {
                    return new a.vHH(3400, !1)
                }();
                const Y = zt(this._elementListeners, u, []), fe = {name: c, phase: E, callback: N};
                Y.push(fe);
                const _e = zt(this._engine.statesByElement, u, new Map);
                return _e.has(c) || (g(u, mr), g(u, mr + "-" + c), _e.set(c, di)), () => {
                    this._engine.afterFlush(() => {
                        const ze = Y.indexOf(fe);
                        ze >= 0 && Y.splice(ze, 1), this._triggers.has(c) || _e.delete(c)
                    })
                }
            }

            register(u, c) {
                return !this._triggers.has(u) && (this._triggers.set(u, c), !0)
            }

            _getTrigger(u) {
                const c = this._triggers.get(u);
                if (!c) throw function Ae(F) {
                    return new a.vHH(3401, !1)
                }();
                return c
            }

            trigger(u, c, E, N = !0) {
                const Y = this._getTrigger(c), fe = new xi(this.id, c, u);
                let _e = this._engine.statesByElement.get(u);
                _e || (g(u, mr), g(u, mr + "-" + c), this._engine.statesByElement.set(u, _e = new Map));
                let ze = _e.get(c);
                const ot = new ui(E, this.id);
                if (!(E && E.hasOwnProperty("value")) && ze && ot.absorbOptions(ze.options), _e.set(c, ot), ze || (ze = di), ot.value !== Zr && ze.value === ot.value) {
                    if (!function da(F, u) {
                        const c = Object.keys(F), E = Object.keys(u);
                        if (c.length != E.length) return !1;
                        for (let N = 0; N < c.length; N++) {
                            const Y = c[N];
                            if (!u.hasOwnProperty(Y) || F[Y] !== u[Y]) return !1
                        }
                        return !0
                    }(ze.params, ot.params)) {
                        const Pn = [], sr = Y.matchStyles(ze.value, ze.params, Pn),
                            yr = Y.matchStyles(ot.value, ot.params, Pn);
                        Pn.length ? this._engine.reportError(Pn) : this._engine.afterFlush(() => {
                            O(u, sr), G(u, yr)
                        })
                    }
                    return
                }
                const tr = zt(this._engine.playersByElement, u, []);
                tr.forEach(Pn => {
                    Pn.namespaceId == this.id && Pn.triggerName == c && Pn.queued && Pn.destroy()
                });
                let Un = Y.matchTransition(ze.value, ot.value, u, ot.params), Sn = !1;
                if (!Un) {
                    if (!N) return;
                    Un = Y.fallbackTransition, Sn = !0
                }
                return this._engine.totalQueuedPlayers++, this._queue.push({
                    element: u,
                    triggerName: c,
                    transition: Un,
                    fromState: ze,
                    toState: ot,
                    player: fe,
                    isFallbackTransition: Sn
                }), Sn || (g(u, Wn), fe.onStart(() => {
                    He(u, Wn)
                })), fe.onDone(() => {
                    let Pn = this.players.indexOf(fe);
                    Pn >= 0 && this.players.splice(Pn, 1);
                    const sr = this._engine.playersByElement.get(u);
                    if (sr) {
                        let yr = sr.indexOf(fe);
                        yr >= 0 && sr.splice(yr, 1)
                    }
                }), this.players.push(fe), tr.push(fe), fe
            }

            deregister(u) {
                this._triggers.delete(u), this._engine.statesByElement.forEach(c => c.delete(u)), this._elementListeners.forEach((c, E) => {
                    this._elementListeners.set(E, c.filter(N => N.name != u))
                })
            }

            clearElementCache(u) {
                this._engine.statesByElement.delete(u), this._elementListeners.delete(u);
                const c = this._engine.playersByElement.get(u);
                c && (c.forEach(E => E.destroy()), this._engine.playersByElement.delete(u))
            }

            _signalRemovalForInnerTriggers(u, c) {
                const E = this._engine.driver.query(u, fn, !0);
                E.forEach(N => {
                    if (N[Fr]) return;
                    const Y = this._engine.fetchNamespacesByElement(N);
                    Y.size ? Y.forEach(fe => fe.triggerLeaveAnimation(N, c, !1, !0)) : this.clearElementCache(N)
                }), this._engine.afterFlushAnimationsDone(() => E.forEach(N => this.clearElementCache(N)))
            }

            triggerLeaveAnimation(u, c, E, N) {
                const Y = this._engine.statesByElement.get(u), fe = new Map;
                if (Y) {
                    const _e = [];
                    if (Y.forEach((ze, ot) => {
                        if (fe.set(ot, ze.value), this._triggers.has(ot)) {
                            const jt = this.trigger(u, ot, Zr, N);
                            jt && _e.push(jt)
                        }
                    }), _e.length) return this._engine.markElementAsRemoved(this.id, u, !0, c, fe), E && gt(_e).onDone(() => this._engine.processLeaveNode(u)), !0
                }
                return !1
            }

            prepareLeaveAnimationListeners(u) {
                const c = this._elementListeners.get(u), E = this._engine.statesByElement.get(u);
                if (c && E) {
                    const N = new Set;
                    c.forEach(Y => {
                        const fe = Y.name;
                        if (N.has(fe)) return;
                        N.add(fe);
                        const ze = this._triggers.get(fe).fallbackTransition, ot = E.get(fe) || di, jt = new ui(Zr),
                            Wt = new xi(this.id, fe, u);
                        this._engine.totalQueuedPlayers++, this._queue.push({
                            element: u,
                            triggerName: fe,
                            transition: ze,
                            fromState: ot,
                            toState: jt,
                            player: Wt,
                            isFallbackTransition: !0
                        })
                    })
                }
            }

            removeNode(u, c) {
                const E = this._engine;
                if (u.childElementCount && this._signalRemovalForInnerTriggers(u, c), this.triggerLeaveAnimation(u, c, !0)) return;
                let N = !1;
                if (E.totalAnimations) {
                    const Y = E.players.length ? E.playersByQueriedElement.get(u) : [];
                    if (Y && Y.length) N = !0; else {
                        let fe = u;
                        for (; fe = fe.parentNode;) if (E.statesByElement.get(fe)) {
                            N = !0;
                            break
                        }
                    }
                }
                if (this.prepareLeaveAnimationListeners(u), N) E.markElementAsRemoved(this.id, u, !1, c); else {
                    const Y = u[Fr];
                    (!Y || Y === ei) && (E.afterFlush(() => this.clearElementCache(u)), E.destroyInnerAnimations(u), E._onRemovalComplete(u, c))
                }
            }

            insertNode(u, c) {
                g(u, this._hostClassName)
            }

            drainQueuedTransitions(u) {
                const c = [];
                return this._queue.forEach(E => {
                    const N = E.player;
                    if (N.destroyed) return;
                    const Y = E.element, fe = this._elementListeners.get(Y);
                    fe && fe.forEach(_e => {
                        if (_e.name == E.triggerName) {
                            const ze = Bn(Y, E.triggerName, E.fromState.value, E.toState.value);
                            ze._data = u, Mn(E.player, _e.phase, ze, _e.callback)
                        }
                    }), N.markedForDestroy ? this._engine.afterFlush(() => {
                        N.destroy()
                    }) : c.push(E)
                }), this._queue = [], c.sort((E, N) => {
                    const Y = E.transition.ast.depCount, fe = N.transition.ast.depCount;
                    return 0 == Y || 0 == fe ? Y - fe : this._engine.driver.containsElement(E.element, N.element) ? 1 : -1
                })
            }

            destroy(u) {
                this.players.forEach(c => c.destroy()), this._signalRemovalForInnerTriggers(this.hostElement, u)
            }

            elementContainsData(u) {
                let c = !1;
                return this._elementListeners.has(u) && (c = !0), c = !!this._queue.find(E => E.element === u) || c, c
            }
        }

        class Ki {
            _onRemovalComplete(u, c) {
                this.onRemovalComplete(u, c)
            }

            constructor(u, c, E) {
                this.bodyNode = u, this.driver = c, this._normalizer = E, this.players = [], this.newHostElements = new Map, this.playersByElement = new Map, this.playersByQueriedElement = new Map, this.statesByElement = new Map, this.disabledNodes = new Set, this.totalAnimations = 0, this.totalQueuedPlayers = 0, this._namespaceLookup = {}, this._namespaceList = [], this._flushFns = [], this._whenQuietFns = [], this.namespacesByHostElement = new Map, this.collectedEnterElements = [], this.collectedLeaveElements = [], this.onRemovalComplete = (N, Y) => {
                }
            }

            get queuedPlayers() {
                const u = [];
                return this._namespaceList.forEach(c => {
                    c.players.forEach(E => {
                        E.queued && u.push(E)
                    })
                }), u
            }

            createNamespace(u, c) {
                const E = new bi(u, c, this);
                return this.bodyNode && this.driver.containsElement(this.bodyNode, c) ? this._balanceNamespaceList(E, c) : (this.newHostElements.set(c, E), this.collectEnterElement(c)), this._namespaceLookup[u] = E
            }

            _balanceNamespaceList(u, c) {
                const E = this._namespaceList, N = this.namespacesByHostElement;
                if (E.length - 1 >= 0) {
                    let fe = !1, _e = this.driver.getParentElement(c);
                    for (; _e;) {
                        const ze = N.get(_e);
                        if (ze) {
                            const ot = E.indexOf(ze);
                            E.splice(ot + 1, 0, u), fe = !0;
                            break
                        }
                        _e = this.driver.getParentElement(_e)
                    }
                    fe || E.unshift(u)
                } else E.push(u);
                return N.set(c, u), u
            }

            register(u, c) {
                let E = this._namespaceLookup[u];
                return E || (E = this.createNamespace(u, c)), E
            }

            registerTrigger(u, c, E) {
                let N = this._namespaceLookup[u];
                N && N.register(c, E) && this.totalAnimations++
            }

            destroy(u, c) {
                if (!u) return;
                const E = this._fetchNamespace(u);
                this.afterFlush(() => {
                    this.namespacesByHostElement.delete(E.hostElement), delete this._namespaceLookup[u];
                    const N = this._namespaceList.indexOf(E);
                    N >= 0 && this._namespaceList.splice(N, 1)
                }), this.afterFlushAnimationsDone(() => E.destroy(c))
            }

            _fetchNamespace(u) {
                return this._namespaceLookup[u]
            }

            fetchNamespacesByElement(u) {
                const c = new Set, E = this.statesByElement.get(u);
                if (E) for (let N of E.values()) if (N.namespaceId) {
                    const Y = this._fetchNamespace(N.namespaceId);
                    Y && c.add(Y)
                }
                return c
            }

            trigger(u, c, E, N) {
                if (Oi(c)) {
                    const Y = this._fetchNamespace(u);
                    if (Y) return Y.trigger(c, E, N), !0
                }
                return !1
            }

            insertNode(u, c, E, N) {
                if (!Oi(c)) return;
                const Y = c[Fr];
                if (Y && Y.setForRemoval) {
                    Y.setForRemoval = !1, Y.setForMove = !0;
                    const fe = this.collectedLeaveElements.indexOf(c);
                    fe >= 0 && this.collectedLeaveElements.splice(fe, 1)
                }
                if (u) {
                    const fe = this._fetchNamespace(u);
                    fe && fe.insertNode(c, E)
                }
                N && this.collectEnterElement(c)
            }

            collectEnterElement(u) {
                this.collectedEnterElements.push(u)
            }

            markElementAsDisabled(u, c) {
                c ? this.disabledNodes.has(u) || (this.disabledNodes.add(u), g(u, Pr)) : this.disabledNodes.has(u) && (this.disabledNodes.delete(u), He(u, Pr))
            }

            removeNode(u, c, E, N) {
                if (Oi(c)) {
                    const Y = u ? this._fetchNamespace(u) : null;
                    if (Y ? Y.removeNode(c, N) : this.markElementAsRemoved(u, c, !1, N), E) {
                        const fe = this.namespacesByHostElement.get(c);
                        fe && fe.id !== u && fe.removeNode(c, N)
                    }
                } else this._onRemovalComplete(c, N)
            }

            markElementAsRemoved(u, c, E, N, Y) {
                this.collectedLeaveElements.push(c), c[Fr] = {
                    namespaceId: u,
                    setForRemoval: N,
                    hasAnimation: E,
                    removedBeforeQueried: !1,
                    previousTriggersValues: Y
                }
            }

            listen(u, c, E, N, Y) {
                return Oi(c) ? this._fetchNamespace(u).listen(c, E, N, Y) : () => {
                }
            }

            _buildInstruction(u, c, E, N, Y) {
                return u.transition.build(this.driver, u.element, u.fromState.value, u.toState.value, E, N, u.fromState.options, u.toState.options, c, Y)
            }

            destroyInnerAnimations(u) {
                let c = this.driver.query(u, fn, !0);
                c.forEach(E => this.destroyActiveAnimationsForElement(E)), 0 != this.playersByQueriedElement.size && (c = this.driver.query(u, yn, !0), c.forEach(E => this.finishActiveQueriedAnimationOnElement(E)))
            }

            destroyActiveAnimationsForElement(u) {
                const c = this.playersByElement.get(u);
                c && c.forEach(E => {
                    E.queued ? E.markedForDestroy = !0 : E.destroy()
                })
            }

            finishActiveQueriedAnimationOnElement(u) {
                const c = this.playersByQueriedElement.get(u);
                c && c.forEach(E => E.finish())
            }

            whenRenderingDone() {
                return new Promise(u => {
                    if (this.players.length) return gt(this.players).onDone(() => u());
                    u()
                })
            }

            processLeaveNode(u) {
                const c = u[Fr];
                if (c && c.setForRemoval) {
                    if (u[Fr] = ei, c.namespaceId) {
                        this.destroyInnerAnimations(u);
                        const E = this._fetchNamespace(c.namespaceId);
                        E && E.clearElementCache(u)
                    }
                    this._onRemovalComplete(u, c.setForRemoval)
                }
                u.classList?.contains(Pr) && this.markElementAsDisabled(u, !1), this.driver.query(u, ".ng-animate-disabled", !0).forEach(E => {
                    this.markElementAsDisabled(E, !1)
                })
            }

            flush(u = -1) {
                let c = [];
                if (this.newHostElements.size && (this.newHostElements.forEach((E, N) => this._balanceNamespaceList(E, N)), this.newHostElements.clear()), this.totalAnimations && this.collectedEnterElements.length) for (let E = 0; E < this.collectedEnterElements.length; E++) g(this.collectedEnterElements[E], "ng-star-inserted");
                if (this._namespaceList.length && (this.totalQueuedPlayers || this.collectedLeaveElements.length)) {
                    const E = [];
                    try {
                        c = this._flushAnimations(E, u)
                    } finally {
                        for (let N = 0; N < E.length; N++) E[N]()
                    }
                } else for (let E = 0; E < this.collectedLeaveElements.length; E++) this.processLeaveNode(this.collectedLeaveElements[E]);
                if (this.totalQueuedPlayers = 0, this.collectedEnterElements.length = 0, this.collectedLeaveElements.length = 0, this._flushFns.forEach(E => E()), this._flushFns = [], this._whenQuietFns.length) {
                    const E = this._whenQuietFns;
                    this._whenQuietFns = [], c.length ? gt(c).onDone(() => {
                        E.forEach(N => N())
                    }) : E.forEach(N => N())
                }
            }

            reportError(u) {
                throw function rt(F) {
                    return new a.vHH(3402, !1)
                }()
            }

            _flushAnimations(u, c) {
                const E = new ie, N = [], Y = new Map, fe = [], _e = new Map, ze = new Map, ot = new Map, jt = new Set;
                this.disabledNodes.forEach(on => {
                    jt.add(on);
                    const mn = this.driver.query(on, ".ng-animate-queued", !0);
                    for (let Dn = 0; Dn < mn.length; Dn++) jt.add(mn[Dn])
                });
                const Wt = this.bodyNode, tr = Array.from(this.statesByElement.keys()),
                    Un = Ai(tr, this.collectedEnterElements), Sn = new Map;
                let Pn = 0;
                Un.forEach((on, mn) => {
                    const Dn = Lr + Pn++;
                    Sn.set(mn, Dn), on.forEach(p => g(p, Dn))
                });
                const sr = [], yr = new Set, Ur = new Set;
                for (let on = 0; on < this.collectedLeaveElements.length; on++) {
                    const mn = this.collectedLeaveElements[on], Dn = mn[Fr];
                    Dn && Dn.setForRemoval && (sr.push(mn), yr.add(mn), Dn.hasAnimation ? this.driver.query(mn, ".ng-star-inserted", !0).forEach(p => yr.add(p)) : Ur.add(mn))
                }
                const $r = new Map, zr = Ai(tr, Array.from(yr));
                zr.forEach((on, mn) => {
                    const Dn = $n + Pn++;
                    $r.set(mn, Dn), on.forEach(p => g(p, Dn))
                }), u.push(() => {
                    Un.forEach((on, mn) => {
                        const Dn = Sn.get(mn);
                        on.forEach(p => He(p, Dn))
                    }), zr.forEach((on, mn) => {
                        const Dn = $r.get(mn);
                        on.forEach(p => He(p, Dn))
                    }), sr.forEach(on => {
                        this.processLeaveNode(on)
                    })
                });
                const Li = [], yi = [];
                for (let on = this._namespaceList.length - 1; on >= 0; on--) this._namespaceList[on].drainQueuedTransitions(c).forEach(Dn => {
                    const p = Dn.player, I = Dn.element;
                    if (Li.push(p), this.collectedEnterElements.length) {
                        const Tn = I[Fr];
                        if (Tn && Tn.setForMove) {
                            if (Tn.previousTriggersValues && Tn.previousTriggersValues.has(Dn.triggerName)) {
                                const ir = Tn.previousTriggersValues.get(Dn.triggerName),
                                    Kn = this.statesByElement.get(Dn.element);
                                if (Kn && Kn.has(Dn.triggerName)) {
                                    const Qn = Kn.get(Dn.triggerName);
                                    Qn.value = ir, Kn.set(Dn.triggerName, Qn)
                                }
                            }
                            return void p.destroy()
                        }
                    }
                    const _ = !Wt || !this.driver.containsElement(Wt, I), B = $r.get(I), oe = Sn.get(I),
                        ke = this._buildInstruction(Dn, E, oe, B, _);
                    if (ke.errors && ke.errors.length) return void yi.push(ke);
                    if (_) return p.onStart(() => O(I, ke.fromStyles)), p.onDestroy(() => G(I, ke.toStyles)), void N.push(p);
                    if (Dn.isFallbackTransition) return p.onStart(() => O(I, ke.fromStyles)), p.onDestroy(() => G(I, ke.toStyles)), void N.push(p);
                    const pt = [];
                    ke.timelines.forEach(Tn => {
                        Tn.stretchStartingKeyframe = !0, this.disabledNodes.has(Tn.element) || pt.push(Tn)
                    }), ke.timelines = pt, E.append(I, ke.timelines), fe.push({
                        instruction: ke,
                        player: p,
                        element: I
                    }), ke.queriedElements.forEach(Tn => zt(_e, Tn, []).push(p)), ke.preStyleProps.forEach((Tn, ir) => {
                        if (Tn.size) {
                            let Kn = ze.get(ir);
                            Kn || ze.set(ir, Kn = new Set), Tn.forEach((Qn, Rr) => Kn.add(Rr))
                        }
                    }), ke.postStyleProps.forEach((Tn, ir) => {
                        let Kn = ot.get(ir);
                        Kn || ot.set(ir, Kn = new Set), Tn.forEach((Qn, Rr) => Kn.add(Rr))
                    })
                });
                if (yi.length) {
                    const on = [];
                    yi.forEach(mn => {
                        on.push(function Ut(F, u) {
                            return new a.vHH(3505, !1)
                        }())
                    }), Li.forEach(mn => mn.destroy()), this.reportError(on)
                }
                const ni = new Map, xr = new Map;
                fe.forEach(on => {
                    const mn = on.element;
                    E.has(mn) && (xr.set(mn, mn), this._beforeAnimationBuild(on.player.namespaceId, on.instruction, ni))
                }), N.forEach(on => {
                    const mn = on.element;
                    this._getPreviousPlayers(mn, !1, on.namespaceId, on.triggerName, null).forEach(p => {
                        zt(ni, mn, []).push(p), p.destroy()
                    })
                });
                const Qr = sr.filter(on => Di(on, ze, ot)), fr = new Map;
                Wr(fr, this.driver, Ur, ot, K.l3).forEach(on => {
                    Di(on, ze, ot) && Qr.push(on)
                });
                const na = new Map;
                Un.forEach((on, mn) => {
                    Wr(na, this.driver, new Set(on), ze, K.k1)
                }), Qr.forEach(on => {
                    const mn = fr.get(on), Dn = na.get(on);
                    fr.set(on, new Map([...Array.from(mn?.entries() ?? []), ...Array.from(Dn?.entries() ?? [])]))
                });
                const ki = [], Fa = [], Ra = {};
                fe.forEach(on => {
                    const {element: mn, player: Dn, instruction: p} = on;
                    if (E.has(mn)) {
                        if (jt.has(mn)) return Dn.onDestroy(() => G(mn, p.toStyles)), Dn.disabled = !0, Dn.overrideTotalTime(p.totalTime), void N.push(Dn);
                        let I = Ra;
                        if (xr.size > 1) {
                            let B = mn;
                            const oe = [];
                            for (; B = B.parentNode;) {
                                const ke = xr.get(B);
                                if (ke) {
                                    I = ke;
                                    break
                                }
                                oe.push(B)
                            }
                            oe.forEach(ke => xr.set(ke, I))
                        }
                        const _ = this._buildAnimation(Dn.namespaceId, p, ni, Y, na, fr);
                        if (Dn.setRealPlayer(_), I === Ra) ki.push(Dn); else {
                            const B = this.playersByElement.get(I);
                            B && B.length && (Dn.parentPlayer = gt(B)), N.push(Dn)
                        }
                    } else O(mn, p.fromStyles), Dn.onDestroy(() => G(mn, p.toStyles)), Fa.push(Dn), jt.has(mn) && N.push(Dn)
                }), Fa.forEach(on => {
                    const mn = Y.get(on.element);
                    if (mn && mn.length) {
                        const Dn = gt(mn);
                        on.setRealPlayer(Dn)
                    }
                }), N.forEach(on => {
                    on.parentPlayer ? on.syncPlayerEvents(on.parentPlayer) : on.destroy()
                });
                for (let on = 0; on < sr.length; on++) {
                    const mn = sr[on], Dn = mn[Fr];
                    if (He(mn, $n), Dn && Dn.hasAnimation) continue;
                    let p = [];
                    if (_e.size) {
                        let _ = _e.get(mn);
                        _ && _.length && p.push(..._);
                        let B = this.driver.query(mn, yn, !0);
                        for (let oe = 0; oe < B.length; oe++) {
                            let ke = _e.get(B[oe]);
                            ke && ke.length && p.push(...ke)
                        }
                    }
                    const I = p.filter(_ => !_.destroyed);
                    I.length ? Yr(this, mn, I) : this.processLeaveNode(mn)
                }
                return sr.length = 0, ki.forEach(on => {
                    this.players.push(on), on.onDone(() => {
                        on.destroy();
                        const mn = this.players.indexOf(on);
                        this.players.splice(mn, 1)
                    }), on.play()
                }), ki
            }

            elementContainsData(u, c) {
                let E = !1;
                const N = c[Fr];
                return N && N.setForRemoval && (E = !0), this.playersByElement.has(c) && (E = !0), this.playersByQueriedElement.has(c) && (E = !0), this.statesByElement.has(c) && (E = !0), this._fetchNamespace(u).elementContainsData(c) || E
            }

            afterFlush(u) {
                this._flushFns.push(u)
            }

            afterFlushAnimationsDone(u) {
                this._whenQuietFns.push(u)
            }

            _getPreviousPlayers(u, c, E, N, Y) {
                let fe = [];
                if (c) {
                    const _e = this.playersByQueriedElement.get(u);
                    _e && (fe = _e)
                } else {
                    const _e = this.playersByElement.get(u);
                    if (_e) {
                        const ze = !Y || Y == Zr;
                        _e.forEach(ot => {
                            ot.queued || !ze && ot.triggerName != N || fe.push(ot)
                        })
                    }
                }
                return (E || N) && (fe = fe.filter(_e => !(E && E != _e.namespaceId || N && N != _e.triggerName))), fe
            }

            _beforeAnimationBuild(u, c, E) {
                const Y = c.element, fe = c.isRemovalTransition ? void 0 : u,
                    _e = c.isRemovalTransition ? void 0 : c.triggerName;
                for (const ze of c.timelines) {
                    const ot = ze.element, jt = ot !== Y, Wt = zt(E, ot, []);
                    this._getPreviousPlayers(ot, jt, fe, _e, c.toState).forEach(Un => {
                        const Sn = Un.getRealPlayer();
                        Sn.beforeDestroy && Sn.beforeDestroy(), Un.destroy(), Wt.push(Un)
                    })
                }
                O(Y, c.fromStyles)
            }

            _buildAnimation(u, c, E, N, Y, fe) {
                const _e = c.triggerName, ze = c.element, ot = [], jt = new Set, Wt = new Set,
                    tr = c.timelines.map(Sn => {
                        const Pn = Sn.element;
                        jt.add(Pn);
                        const sr = Pn[Fr];
                        if (sr && sr.removedBeforeQueried) return new K.ZN(Sn.duration, Sn.delay);
                        const yr = Pn !== ze, Ur = function Fi(F) {
                                const u = [];
                                return gr(F, u), u
                            }((E.get(Pn) || Hr).map(ni => ni.getRealPlayer())).filter(ni => !!ni.element && ni.element === Pn),
                            $r = Y.get(Pn), zr = fe.get(Pn), Li = Xt(0, this._normalizer, 0, Sn.keyframes, $r, zr),
                            yi = this._buildPlayer(Sn, Li, Ur);
                        if (Sn.subTimeline && N && Wt.add(Pn), yr) {
                            const ni = new xi(u, _e, Pn);
                            ni.setRealPlayer(yi), ot.push(ni)
                        }
                        return yi
                    });
                ot.forEach(Sn => {
                    zt(this.playersByQueriedElement, Sn.element, []).push(Sn), Sn.onDone(() => function mi(F, u, c) {
                        let E = F.get(u);
                        if (E) {
                            if (E.length) {
                                const N = E.indexOf(c);
                                E.splice(N, 1)
                            }
                            0 == E.length && F.delete(u)
                        }
                        return E
                    }(this.playersByQueriedElement, Sn.element, Sn))
                }), jt.forEach(Sn => g(Sn, Xn));
                const Un = gt(tr);
                return Un.onDestroy(() => {
                    jt.forEach(Sn => He(Sn, Xn)), G(ze, c.toStyles)
                }), Wt.forEach(Sn => {
                    zt(N, Sn, []).push(Un)
                }), Un
            }

            _buildPlayer(u, c, E) {
                return c.length > 0 ? this.driver.animate(u.element, c, u.duration, u.delay, u.easing, E) : new K.ZN(u.duration, u.delay)
            }
        }

        class xi {
            constructor(u, c, E) {
                this.namespaceId = u, this.triggerName = c, this.element = E, this._player = new K.ZN, this._containsRealPlayer = !1, this._queuedCallbacks = new Map, this.destroyed = !1, this.markedForDestroy = !1, this.disabled = !1, this.queued = !0, this.totalTime = 0
            }

            setRealPlayer(u) {
                this._containsRealPlayer || (this._player = u, this._queuedCallbacks.forEach((c, E) => {
                    c.forEach(N => Mn(u, E, void 0, N))
                }), this._queuedCallbacks.clear(), this._containsRealPlayer = !0, this.overrideTotalTime(u.totalTime), this.queued = !1)
            }

            getRealPlayer() {
                return this._player
            }

            overrideTotalTime(u) {
                this.totalTime = u
            }

            syncPlayerEvents(u) {
                const c = this._player;
                c.triggerCallback && u.onStart(() => c.triggerCallback("start")), u.onDone(() => this.finish()), u.onDestroy(() => this.destroy())
            }

            _queueEvent(u, c) {
                zt(this._queuedCallbacks, u, []).push(c)
            }

            onDone(u) {
                this.queued && this._queueEvent("done", u), this._player.onDone(u)
            }

            onStart(u) {
                this.queued && this._queueEvent("start", u), this._player.onStart(u)
            }

            onDestroy(u) {
                this.queued && this._queueEvent("destroy", u), this._player.onDestroy(u)
            }

            init() {
                this._player.init()
            }

            hasStarted() {
                return !this.queued && this._player.hasStarted()
            }

            play() {
                !this.queued && this._player.play()
            }

            pause() {
                !this.queued && this._player.pause()
            }

            restart() {
                !this.queued && this._player.restart()
            }

            finish() {
                this._player.finish()
            }

            destroy() {
                this.destroyed = !0, this._player.destroy()
            }

            reset() {
                !this.queued && this._player.reset()
            }

            setPosition(u) {
                this.queued || this._player.setPosition(u)
            }

            getPosition() {
                return this.queued ? 0 : this._player.getPosition()
            }

            triggerCallback(u) {
                const c = this._player;
                c.triggerCallback && c.triggerCallback(u)
            }
        }

        function Oi(F) {
            return F && 1 === F.nodeType
        }

        function Ni(F, u) {
            const c = F.style.display;
            return F.style.display = u ?? "none", c
        }

        function Wr(F, u, c, E, N) {
            const Y = [];
            c.forEach(ze => Y.push(Ni(ze)));
            const fe = [];
            E.forEach((ze, ot) => {
                const jt = new Map;
                ze.forEach(Wt => {
                    const tr = u.computeStyle(ot, Wt, N);
                    jt.set(Wt, tr), (!tr || 0 == tr.length) && (ot[Fr] = Br, fe.push(ot))
                }), F.set(ot, jt)
            });
            let _e = 0;
            return c.forEach(ze => Ni(ze, Y[_e++])), fe
        }

        function Ai(F, u) {
            const c = new Map;
            if (F.forEach(_e => c.set(_e, [])), 0 == u.length) return c;
            const N = new Set(u), Y = new Map;

            function fe(_e) {
                if (!_e) return 1;
                let ze = Y.get(_e);
                if (ze) return ze;
                const ot = _e.parentNode;
                return ze = c.has(ot) ? ot : N.has(ot) ? 1 : fe(ot), Y.set(_e, ze), ze
            }

            return u.forEach(_e => {
                const ze = fe(_e);
                1 !== ze && c.get(ze).push(_e)
            }), c
        }

        function g(F, u) {
            F.classList?.add(u)
        }

        function He(F, u) {
            F.classList?.remove(u)
        }

        function Yr(F, u, c) {
            gt(c).onDone(() => F.processLeaveNode(u))
        }

        function gr(F, u) {
            for (let c = 0; c < F.length; c++) {
                const E = F[c];
                E instanceof K.ZE ? gr(E.players, u) : u.push(E)
            }
        }

        function Di(F, u, c) {
            const E = c.get(F);
            if (!E) return !1;
            let N = u.get(F);
            return N ? E.forEach(Y => N.add(Y)) : u.set(F, E), c.delete(F), !0
        }

        class ci {
            constructor(u, c, E) {
                this.bodyNode = u, this._driver = c, this._normalizer = E, this._triggerCache = {}, this.onRemovalComplete = (N, Y) => {
                }, this._transitionEngine = new Ki(u, c, E), this._timelineEngine = new tn(u, c, E), this._transitionEngine.onRemovalComplete = (N, Y) => this.onRemovalComplete(N, Y)
            }

            registerTrigger(u, c, E, N, Y) {
                const fe = u + "-" + N;
                let _e = this._triggerCache[fe];
                if (!_e) {
                    const ze = [], jt = cr(this._driver, Y, ze, []);
                    if (ze.length) throw function Fe(F, u) {
                        return new a.vHH(3404, !1)
                    }();
                    _e = function Nr(F, u, c) {
                        return new L(F, u, c)
                    }(N, jt, this._normalizer), this._triggerCache[fe] = _e
                }
                this._transitionEngine.registerTrigger(c, N, _e)
            }

            register(u, c) {
                this._transitionEngine.register(u, c)
            }

            destroy(u, c) {
                this._transitionEngine.destroy(u, c)
            }

            onInsert(u, c, E, N) {
                this._transitionEngine.insertNode(u, c, E, N)
            }

            onRemove(u, c, E, N) {
                this._transitionEngine.removeNode(u, c, N || !1, E)
            }

            disableAnimations(u, c) {
                this._transitionEngine.markElementAsDisabled(u, c)
            }

            process(u, c, E, N) {
                if ("@" == E.charAt(0)) {
                    const [Y, fe] = An(E);
                    this._timelineEngine.command(Y, c, fe, N)
                } else this._transitionEngine.trigger(u, c, E, N)
            }

            listen(u, c, E, N, Y) {
                if ("@" == E.charAt(0)) {
                    const [fe, _e] = An(E);
                    return this._timelineEngine.listen(fe, c, _e, Y)
                }
                return this._transitionEngine.listen(u, c, E, N, Y)
            }

            flush(u = -1) {
                this._transitionEngine.flush(u)
            }

            get players() {
                return this._transitionEngine.players.concat(this._timelineEngine.players)
            }

            whenRenderingDone() {
                return this._transitionEngine.whenRenderingDone()
            }
        }

        let ca = (() => {
            class F {
                constructor(c, E, N) {
                    this._element = c, this._startStyles = E, this._endStyles = N, this._state = 0;
                    let Y = F.initialStylesByElement.get(c);
                    Y || F.initialStylesByElement.set(c, Y = new Map), this._initialStyles = Y
                }

                start() {
                    this._state < 1 && (this._startStyles && G(this._element, this._startStyles, this._initialStyles), this._state = 1)
                }

                finish() {
                    this.start(), this._state < 2 && (G(this._element, this._initialStyles), this._endStyles && (G(this._element, this._endStyles), this._endStyles = null), this._state = 1)
                }

                destroy() {
                    this.finish(), this._state < 3 && (F.initialStylesByElement.delete(this._element), this._startStyles && (O(this._element, this._startStyles), this._endStyles = null), this._endStyles && (O(this._element, this._endStyles), this._endStyles = null), G(this._element, this._initialStyles), this._state = 3)
                }
            }

            return F.initialStylesByElement = new WeakMap, F
        })();

        function gi(F) {
            let u = null;
            return F.forEach((c, E) => {
                (function Ea(F) {
                    return "display" === F || "position" === F
                })(E) && (u = u || new Map, u.set(E, c))
            }), u
        }

        class Ci {
            constructor(u, c, E, N) {
                this.element = u, this.keyframes = c, this.options = E, this._specialStyles = N, this._onDoneFns = [], this._onStartFns = [], this._onDestroyFns = [], this._initialized = !1, this._finished = !1, this._started = !1, this._destroyed = !1, this._originalOnDoneFns = [], this._originalOnStartFns = [], this.time = 0, this.parentPlayer = null, this.currentSnapshot = new Map, this._duration = E.duration, this._delay = E.delay || 0, this.time = this._duration + this._delay
            }

            _onFinish() {
                this._finished || (this._finished = !0, this._onDoneFns.forEach(u => u()), this._onDoneFns = [])
            }

            init() {
                this._buildPlayer(), this._preparePlayerBeforeStart()
            }

            _buildPlayer() {
                if (this._initialized) return;
                this._initialized = !0;
                const u = this.keyframes;
                this.domPlayer = this._triggerWebAnimation(this.element, u, this.options), this._finalKeyframe = u.length ? u[u.length - 1] : new Map, this.domPlayer.addEventListener("finish", () => this._onFinish())
            }

            _preparePlayerBeforeStart() {
                this._delay ? this._resetDomPlayerState() : this.domPlayer.pause()
            }

            _convertKeyframesToObject(u) {
                const c = [];
                return u.forEach(E => {
                    c.push(Object.fromEntries(E))
                }), c
            }

            _triggerWebAnimation(u, c, E) {
                return u.animate(this._convertKeyframesToObject(c), E)
            }

            onStart(u) {
                this._originalOnStartFns.push(u), this._onStartFns.push(u)
            }

            onDone(u) {
                this._originalOnDoneFns.push(u), this._onDoneFns.push(u)
            }

            onDestroy(u) {
                this._onDestroyFns.push(u)
            }

            play() {
                this._buildPlayer(), this.hasStarted() || (this._onStartFns.forEach(u => u()), this._onStartFns = [], this._started = !0, this._specialStyles && this._specialStyles.start()), this.domPlayer.play()
            }

            pause() {
                this.init(), this.domPlayer.pause()
            }

            finish() {
                this.init(), this._specialStyles && this._specialStyles.finish(), this._onFinish(), this.domPlayer.finish()
            }

            reset() {
                this._resetDomPlayerState(), this._destroyed = !1, this._finished = !1, this._started = !1, this._onStartFns = this._originalOnStartFns, this._onDoneFns = this._originalOnDoneFns
            }

            _resetDomPlayerState() {
                this.domPlayer && this.domPlayer.cancel()
            }

            restart() {
                this.reset(), this.play()
            }

            hasStarted() {
                return this._started
            }

            destroy() {
                this._destroyed || (this._destroyed = !0, this._resetDomPlayerState(), this._onFinish(), this._specialStyles && this._specialStyles.destroy(), this._onDestroyFns.forEach(u => u()), this._onDestroyFns = [])
            }

            setPosition(u) {
                void 0 === this.domPlayer && this.init(), this.domPlayer.currentTime = u * this.time
            }

            getPosition() {
                return this.domPlayer.currentTime / this.time
            }

            get totalTime() {
                return this._delay + this._duration
            }

            beforeDestroy() {
                const u = new Map;
                this.hasStarted() && this._finalKeyframe.forEach((E, N) => {
                    "offset" !== N && u.set(N, this._finished ? E : ln(this.element, N))
                }), this.currentSnapshot = u
            }

            triggerCallback(u) {
                const c = "start" === u ? this._onStartFns : this._onDoneFns;
                c.forEach(E => E()), c.length = 0
            }
        }

        class Ti {
            validateStyleProperty(u) {
                return !0
            }

            validateAnimatableStyleProperty(u) {
                return !0
            }

            matchesElement(u, c) {
                return !1
            }

            containsElement(u, c) {
                return sn(u, c)
            }

            getParentElement(u) {
                return gn(u)
            }

            query(u, c, E) {
                return $t(u, c, E)
            }

            computeStyle(u, c, E) {
                return window.getComputedStyle(u)[c]
            }

            animate(u, c, E, N, Y, fe = []) {
                const ze = {duration: E, delay: N, fill: 0 == N ? "both" : "forwards"};
                Y && (ze.easing = Y);
                const ot = new Map, jt = fe.filter(Un => Un instanceof Ci);
                (function vt(F, u) {
                    return 0 === F || 0 === u
                })(E, N) && jt.forEach(Un => {
                    Un.currentSnapshot.forEach((Sn, Pn) => ot.set(Pn, Sn))
                });
                let Wt = function st(F) {
                    return F.length ? F[0] instanceof Map ? F : F.map(u => Je(u)) : []
                }(c).map(Un => vn(Un));
                Wt = function Mt(F, u, c) {
                    if (c.size && u.length) {
                        let E = u[0], N = [];
                        if (c.forEach((Y, fe) => {
                            E.has(fe) || N.push(fe), E.set(fe, Y)
                        }), N.length) for (let Y = 1; Y < u.length; Y++) {
                            let fe = u[Y];
                            N.forEach(_e => fe.set(_e, ln(F, _e)))
                        }
                    }
                    return u
                }(u, Wt, ot);
                const tr = function ti(F, u) {
                    let c = null, E = null;
                    return Array.isArray(u) && u.length ? (c = gi(u[0]), u.length > 1 && (E = gi(u[u.length - 1]))) : u instanceof Map && (c = gi(u)), c || E ? new ca(F, c, E) : null
                }(u, Wt);
                return new Ci(u, Wt, ze, tr)
            }
        }

        var Ei = D(6895);
        let kn = (() => {
            class F extends K._j {
                constructor(c, E) {
                    super(), this._nextAnimationId = 0, this._renderer = c.createRenderer(E.body, {
                        id: "0",
                        encapsulation: a.ifc.None,
                        styles: [],
                        data: {animation: []}
                    })
                }

                build(c) {
                    const E = this._nextAnimationId.toString();
                    this._nextAnimationId++;
                    const N = Array.isArray(c) ? (0, K.vP)(c) : c;
                    return C(this._renderer, null, E, "register", [N]), new ta(E, this._renderer)
                }
            }

            return F.\u0275fac = function (c) {
                return new (c || F)(a.LFG(a.FYo), a.LFG(Ei.K0))
            }, F.\u0275prov = a.Yz7({token: F, factory: F.\u0275fac}), F
        })();

        class ta extends K.LC {
            constructor(u, c) {
                super(), this._id = u, this._renderer = c
            }

            create(u, c) {
                return new M(this._id, u, c || {}, this._renderer)
            }
        }

        class M {
            constructor(u, c, E, N) {
                this.id = u, this.element = c, this._renderer = N, this.parentPlayer = null, this._started = !1, this.totalTime = 0, this._command("create", E)
            }

            _listen(u, c) {
                return this._renderer.listen(this.element, `@@${this.id}:${u}`, c)
            }

            _command(u, ...c) {
                return C(this._renderer, this.element, this.id, u, c)
            }

            onDone(u) {
                this._listen("done", u)
            }

            onStart(u) {
                this._listen("start", u)
            }

            onDestroy(u) {
                this._listen("destroy", u)
            }

            init() {
                this._command("init")
            }

            hasStarted() {
                return this._started
            }

            play() {
                this._command("play"), this._started = !0
            }

            pause() {
                this._command("pause")
            }

            restart() {
                this._command("restart")
            }

            finish() {
                this._command("finish")
            }

            destroy() {
                this._command("destroy")
            }

            reset() {
                this._command("reset"), this._started = !1
            }

            setPosition(u) {
                this._command("setPosition", u)
            }

            getPosition() {
                return this._renderer.engine.players[+this.id]?.getPosition() ?? 0
            }
        }

        function C(F, u, c, E, N) {
            return F.setProperty(u, `@@${c}:${E}`, N)
        }

        const b = "@", W = "@.disabled";
        let qe = (() => {
            class F {
                constructor(c, E, N) {
                    this.delegate = c, this.engine = E, this._zone = N, this._currentId = 0, this._microtaskId = 1, this._animationCallbacksBuffer = [], this._rendererCache = new Map, this._cdRecurDepth = 0, this.promise = Promise.resolve(0), E.onRemovalComplete = (Y, fe) => {
                        const _e = fe?.parentNode(Y);
                        _e && fe.removeChild(_e, Y)
                    }
                }

                createRenderer(c, E) {
                    const Y = this.delegate.createRenderer(c, E);
                    if (!(c && E && E.data && E.data.animation)) {
                        let jt = this._rendererCache.get(Y);
                        return jt || (jt = new pn("", Y, this.engine, () => this._rendererCache.delete(Y)), this._rendererCache.set(Y, jt)), jt
                    }
                    const fe = E.id, _e = E.id + "-" + this._currentId;
                    this._currentId++, this.engine.register(_e, c);
                    const ze = jt => {
                        Array.isArray(jt) ? jt.forEach(ze) : this.engine.registerTrigger(fe, _e, c, jt.name, jt)
                    };
                    return E.data.animation.forEach(ze), new kr(this, _e, Y, this.engine)
                }

                begin() {
                    this._cdRecurDepth++, this.delegate.begin && this.delegate.begin()
                }

                _scheduleCountTask() {
                    this.promise.then(() => {
                        this._microtaskId++
                    })
                }

                scheduleListenerCallback(c, E, N) {
                    c >= 0 && c < this._microtaskId ? this._zone.run(() => E(N)) : (0 == this._animationCallbacksBuffer.length && Promise.resolve(null).then(() => {
                        this._zone.run(() => {
                            this._animationCallbacksBuffer.forEach(Y => {
                                const [fe, _e] = Y;
                                fe(_e)
                            }), this._animationCallbacksBuffer = []
                        })
                    }), this._animationCallbacksBuffer.push([E, N]))
                }

                end() {
                    this._cdRecurDepth--, 0 == this._cdRecurDepth && this._zone.runOutsideAngular(() => {
                        this._scheduleCountTask(), this.engine.flush(this._microtaskId)
                    }), this.delegate.end && this.delegate.end()
                }

                whenRenderingDone() {
                    return this.engine.whenRenderingDone()
                }
            }

            return F.\u0275fac = function (c) {
                return new (c || F)(a.LFG(a.FYo), a.LFG(ci), a.LFG(a.R0b))
            }, F.\u0275prov = a.Yz7({token: F, factory: F.\u0275fac}), F
        })();

        class pn {
            constructor(u, c, E, N) {
                this.namespaceId = u, this.delegate = c, this.engine = E, this._onDestroy = N, this.destroyNode = this.delegate.destroyNode ? Y => c.destroyNode(Y) : null
            }

            get data() {
                return this.delegate.data
            }

            destroy() {
                this.engine.destroy(this.namespaceId, this.delegate), this.delegate.destroy(), this._onDestroy?.()
            }

            createElement(u, c) {
                return this.delegate.createElement(u, c)
            }

            createComment(u) {
                return this.delegate.createComment(u)
            }

            createText(u) {
                return this.delegate.createText(u)
            }

            appendChild(u, c) {
                this.delegate.appendChild(u, c), this.engine.onInsert(this.namespaceId, c, u, !1)
            }

            insertBefore(u, c, E, N = !0) {
                this.delegate.insertBefore(u, c, E), this.engine.onInsert(this.namespaceId, c, u, N)
            }

            removeChild(u, c, E) {
                this.engine.onRemove(this.namespaceId, c, this.delegate, E)
            }

            selectRootElement(u, c) {
                return this.delegate.selectRootElement(u, c)
            }

            parentNode(u) {
                return this.delegate.parentNode(u)
            }

            nextSibling(u) {
                return this.delegate.nextSibling(u)
            }

            setAttribute(u, c, E, N) {
                this.delegate.setAttribute(u, c, E, N)
            }

            removeAttribute(u, c, E) {
                this.delegate.removeAttribute(u, c, E)
            }

            addClass(u, c) {
                this.delegate.addClass(u, c)
            }

            removeClass(u, c) {
                this.delegate.removeClass(u, c)
            }

            setStyle(u, c, E, N) {
                this.delegate.setStyle(u, c, E, N)
            }

            removeStyle(u, c, E) {
                this.delegate.removeStyle(u, c, E)
            }

            setProperty(u, c, E) {
                c.charAt(0) == b && c == W ? this.disableAnimations(u, !!E) : this.delegate.setProperty(u, c, E)
            }

            setValue(u, c) {
                this.delegate.setValue(u, c)
            }

            listen(u, c, E) {
                return this.delegate.listen(u, c, E)
            }

            disableAnimations(u, c) {
                this.engine.disableAnimations(u, c)
            }
        }

        class kr extends pn {
            constructor(u, c, E, N, Y) {
                super(c, E, N, Y), this.factory = u, this.namespaceId = c
            }

            setProperty(u, c, E) {
                c.charAt(0) == b ? "." == c.charAt(1) && c == W ? this.disableAnimations(u, E = void 0 === E || !!E) : this.engine.process(this.namespaceId, u, c.slice(1), E) : this.delegate.setProperty(u, c, E)
            }

            listen(u, c, E) {
                if (c.charAt(0) == b) {
                    const N = function Xe(F) {
                        switch (F) {
                            case"body":
                                return document.body;
                            case"document":
                                return document;
                            case"window":
                                return window;
                            default:
                                return F
                        }
                    }(u);
                    let Y = c.slice(1), fe = "";
                    return Y.charAt(0) != b && ([Y, fe] = function er(F) {
                        const u = F.indexOf(".");
                        return [F.substring(0, u), F.slice(u + 1)]
                    }(Y)), this.engine.listen(this.namespaceId, N, Y, fe, _e => {
                        this.factory.scheduleListenerCallback(_e._data || -1, E, _e)
                    })
                }
                return this.delegate.listen(u, c, E)
            }
        }

        const Ri = [{provide: K._j, useClass: kn}, {
                provide: Vt, useFactory: function fa() {
                    return new xt
                }
            }, {
                provide: ci, useClass: (() => {
                    class F extends ci {
                        constructor(c, E, N, Y) {
                            super(c.body, E, N)
                        }

                        ngOnDestroy() {
                            this.flush()
                        }
                    }

                    return F.\u0275fac = function (c) {
                        return new (c || F)(a.LFG(Ei.K0), a.LFG(In), a.LFG(Vt), a.LFG(a.z2F))
                    }, F.\u0275prov = a.Yz7({token: F, factory: F.\u0275fac}), F
                })()
            }, {
                provide: a.FYo, useFactory: function jr(F, u, c) {
                    return new qe(F, u, c)
                }, deps: [V.se, ci, a.R0b]
            }], zi = [{provide: In, useFactory: () => new Ti}, {provide: a.QbO, useValue: "BrowserAnimations"}, ...Ri],
            fi = [{provide: In, useClass: Cr}, {provide: a.QbO, useValue: "NoopAnimations"}, ...Ri];
        let wa = (() => {
            class F {
                static withConfig(c) {
                    return {ngModule: F, providers: c.disableAnimations ? fi : zi}
                }
            }

            return F.\u0275fac = function (c) {
                return new (c || F)
            }, F.\u0275mod = a.oAB({type: F}), F.\u0275inj = a.cJS({providers: zi, imports: [V.b2]}), F
        })()
    }, 1481: (Pe, he, D) => {
        "use strict";
        D.d(he, {Dx: () => hr, b2: () => cn, q6: () => lr, se: () => at});
        var a = D(6895), V = D(4650);

        class K extends a.w_ {
            constructor() {
                super(...arguments), this.supportsDOMEvents = !0
            }
        }

        class k extends K {
            static makeCurrent() {
                (0, a.HT)(new k)
            }

            onAndCancel(R, P, ae) {
                return R.addEventListener(P, ae, !1), () => {
                    R.removeEventListener(P, ae, !1)
                }
            }

            dispatchEvent(R, P) {
                R.dispatchEvent(P)
            }

            remove(R) {
                R.parentNode && R.parentNode.removeChild(R)
            }

            createElement(R, P) {
                return (P = P || this.getDefaultDocument()).createElement(R)
            }

            createHtmlDocument() {
                return document.implementation.createHTMLDocument("fakeTitle")
            }

            getDefaultDocument() {
                return document
            }

            isElementNode(R) {
                return R.nodeType === Node.ELEMENT_NODE
            }

            isShadowRoot(R) {
                return R instanceof DocumentFragment
            }

            getGlobalEventTarget(R, P) {
                return "window" === P ? window : "document" === P ? R : "body" === P ? R.body : null
            }

            getBaseHref(R) {
                const P = function de() {
                    return ue = ue || document.querySelector("base"), ue ? ue.getAttribute("href") : null
                }();
                return null == P ? null : function Te(A) {
                    be = be || document.createElement("a"), be.setAttribute("href", A);
                    const R = be.pathname;
                    return "/" === R.charAt(0) ? R : `/${R}`
                }(P)
            }

            resetBaseElement() {
                ue = null
            }

            getUserAgent() {
                return window.navigator.userAgent
            }

            getCookie(R) {
                return (0, a.Mx)(document.cookie, R)
            }
        }

        let be, ue = null;
        const Se = new V.OlP("TRANSITION_ID"), ce = [{
            provide: V.ip1, useFactory: function me(A, R, P) {
                return () => {
                    P.get(V.CZH).donePromise.then(() => {
                        const ae = (0, a.q)(), ve = R.querySelectorAll(`style[ng-transition="${A}"]`);
                        for (let J = 0; J < ve.length; J++) ae.remove(ve[J])
                    })
                }
            }, deps: [Se, a.K0, V.zs3], multi: !0
        }];
        let Oe = (() => {
            class A {
                build() {
                    return new XMLHttpRequest
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();
        const xe = new V.OlP("EventManagerPlugins");
        let Be = (() => {
            class A {
                constructor(P, ae) {
                    this._zone = ae, this._eventNameToPlugin = new Map, P.forEach(ve => ve.manager = this), this._plugins = P.slice().reverse()
                }

                addEventListener(P, ae, ve) {
                    return this._findPluginFor(ae).addEventListener(P, ae, ve)
                }

                addGlobalEventListener(P, ae, ve) {
                    return this._findPluginFor(ae).addGlobalEventListener(P, ae, ve)
                }

                getZone() {
                    return this._zone
                }

                _findPluginFor(P) {
                    const ae = this._eventNameToPlugin.get(P);
                    if (ae) return ae;
                    const ve = this._plugins;
                    for (let J = 0; J < ve.length; J++) {
                        const et = ve[J];
                        if (et.supports(P)) return this._eventNameToPlugin.set(P, et), et
                    }
                    throw new Error(`No event manager plugin found for event ${P}`)
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(xe), V.LFG(V.R0b))
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();

        class mt {
            constructor(R) {
                this._doc = R
            }

            addGlobalEventListener(R, P, ae) {
                const ve = (0, a.q)().getGlobalEventTarget(this._doc, R);
                if (!ve) throw new Error(`Unsupported event target ${ve} for event ${P}`);
                return this.addEventListener(ve, P, ae)
            }
        }

        let ye = (() => {
            class A {
                constructor() {
                    this._stylesSet = new Set
                }

                addStyles(P) {
                    const ae = new Set;
                    P.forEach(ve => {
                        this._stylesSet.has(ve) || (this._stylesSet.add(ve), ae.add(ve))
                    }), this.onStylesAdded(ae)
                }

                onStylesAdded(P) {
                }

                getAllStyles() {
                    return Array.from(this._stylesSet)
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })(), Ue = (() => {
            class A extends ye {
                constructor(P) {
                    super(), this._doc = P, this._hostNodes = new Map, this._hostNodes.set(P.head, [])
                }

                _addStylesToHost(P, ae, ve) {
                    P.forEach(J => {
                        const et = this._doc.createElement("style");
                        et.textContent = J, ve.push(ae.appendChild(et))
                    })
                }

                addHost(P) {
                    const ae = [];
                    this._addStylesToHost(this._stylesSet, P, ae), this._hostNodes.set(P, ae)
                }

                removeHost(P) {
                    const ae = this._hostNodes.get(P);
                    ae && ae.forEach($e), this._hostNodes.delete(P)
                }

                onStylesAdded(P) {
                    this._hostNodes.forEach((ae, ve) => {
                        this._addStylesToHost(P, ve, ae)
                    })
                }

                ngOnDestroy() {
                    this._hostNodes.forEach(P => P.forEach($e))
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(a.K0))
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();

        function $e(A) {
            (0, a.q)().remove(A)
        }

        const yt = {
            svg: "http://www.w3.org/2000/svg",
            xhtml: "http://www.w3.org/1999/xhtml",
            xlink: "http://www.w3.org/1999/xlink",
            xml: "http://www.w3.org/XML/1998/namespace",
            xmlns: "http://www.w3.org/2000/xmlns/",
            math: "http://www.w3.org/1998/MathML/"
        }, We = /%COMP%/g;

        function Fe(A, R) {
            return R.flat(100).map(P => P.replace(We, A))
        }

        function Ge(A) {
            return R => {
                if ("__ngUnwrap__" === R) return A;
                !1 === A(R) && (R.preventDefault(), R.returnValue = !1)
            }
        }

        let at = (() => {
            class A {
                constructor(P, ae, ve) {
                    this.eventManager = P, this.sharedStylesHost = ae, this.appId = ve, this.rendererByCompId = new Map, this.defaultRenderer = new Ye(P)
                }

                createRenderer(P, ae) {
                    if (!P || !ae) return this.defaultRenderer;
                    switch (ae.encapsulation) {
                        case V.ifc.Emulated: {
                            let ve = this.rendererByCompId.get(ae.id);
                            return ve || (ve = new re(this.eventManager, this.sharedStylesHost, ae, this.appId), this.rendererByCompId.set(ae.id, ve)), ve.applyToHost(P), ve
                        }
                        case V.ifc.ShadowDom:
                            return new Ve(this.eventManager, this.sharedStylesHost, P, ae);
                        default:
                            if (!this.rendererByCompId.has(ae.id)) {
                                const ve = Fe(ae.id, ae.styles);
                                this.sharedStylesHost.addStyles(ve), this.rendererByCompId.set(ae.id, this.defaultRenderer)
                            }
                            return this.defaultRenderer
                    }
                }

                begin() {
                }

                end() {
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(Be), V.LFG(Ue), V.LFG(V.AFp))
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();

        class Ye {
            constructor(R) {
                this.eventManager = R, this.data = Object.create(null), this.destroyNode = null
            }

            destroy() {
            }

            createElement(R, P) {
                return P ? document.createElementNS(yt[P] || P, R) : document.createElement(R)
            }

            createComment(R) {
                return document.createComment(R)
            }

            createText(R) {
                return document.createTextNode(R)
            }

            appendChild(R, P) {
                (De(R) ? R.content : R).appendChild(P)
            }

            insertBefore(R, P, ae) {
                R && (De(R) ? R.content : R).insertBefore(P, ae)
            }

            removeChild(R, P) {
                R && R.removeChild(P)
            }

            selectRootElement(R, P) {
                let ae = "string" == typeof R ? document.querySelector(R) : R;
                if (!ae) throw new Error(`The selector "${R}" did not match any elements`);
                return P || (ae.textContent = ""), ae
            }

            parentNode(R) {
                return R.parentNode
            }

            nextSibling(R) {
                return R.nextSibling
            }

            setAttribute(R, P, ae, ve) {
                if (ve) {
                    P = ve + ":" + P;
                    const J = yt[ve];
                    J ? R.setAttributeNS(J, P, ae) : R.setAttribute(P, ae)
                } else R.setAttribute(P, ae)
            }

            removeAttribute(R, P, ae) {
                if (ae) {
                    const ve = yt[ae];
                    ve ? R.removeAttributeNS(ve, P) : R.removeAttribute(`${ae}:${P}`)
                } else R.removeAttribute(P)
            }

            addClass(R, P) {
                R.classList.add(P)
            }

            removeClass(R, P) {
                R.classList.remove(P)
            }

            setStyle(R, P, ae, ve) {
                ve & (V.JOm.DashCase | V.JOm.Important) ? R.style.setProperty(P, ae, ve & V.JOm.Important ? "important" : "") : R.style[P] = ae
            }

            removeStyle(R, P, ae) {
                ae & V.JOm.DashCase ? R.style.removeProperty(P) : R.style[P] = ""
            }

            setProperty(R, P, ae) {
                R[P] = ae
            }

            setValue(R, P) {
                R.nodeValue = P
            }

            listen(R, P, ae) {
                return "string" == typeof R ? this.eventManager.addGlobalEventListener(R, P, Ge(ae)) : this.eventManager.addEventListener(R, P, Ge(ae))
            }
        }

        function De(A) {
            return "TEMPLATE" === A.tagName && void 0 !== A.content
        }

        class re extends Ye {
            constructor(R, P, ae, ve) {
                super(R), this.component = ae;
                const J = Fe(ve + "-" + ae.id, ae.styles);
                P.addStyles(J), this.contentAttr = function ge(A) {
                    return "_ngcontent-%COMP%".replace(We, A)
                }(ve + "-" + ae.id), this.hostAttr = function se(A) {
                    return "_nghost-%COMP%".replace(We, A)
                }(ve + "-" + ae.id)
            }

            applyToHost(R) {
                super.setAttribute(R, this.hostAttr, "")
            }

            createElement(R, P) {
                const ae = super.createElement(R, P);
                return super.setAttribute(ae, this.contentAttr, ""), ae
            }
        }

        class Ve extends Ye {
            constructor(R, P, ae, ve) {
                super(R), this.sharedStylesHost = P, this.hostEl = ae, this.shadowRoot = ae.attachShadow({mode: "open"}), this.sharedStylesHost.addHost(this.shadowRoot);
                const J = Fe(ve.id, ve.styles);
                for (let et = 0; et < J.length; et++) {
                    const vt = document.createElement("style");
                    vt.textContent = J[et], this.shadowRoot.appendChild(vt)
                }
            }

            nodeOrShadowRoot(R) {
                return R === this.hostEl ? this.shadowRoot : R
            }

            destroy() {
                this.sharedStylesHost.removeHost(this.shadowRoot)
            }

            appendChild(R, P) {
                return super.appendChild(this.nodeOrShadowRoot(R), P)
            }

            insertBefore(R, P, ae) {
                return super.insertBefore(this.nodeOrShadowRoot(R), P, ae)
            }

            removeChild(R, P) {
                return super.removeChild(this.nodeOrShadowRoot(R), P)
            }

            parentNode(R) {
                return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(R)))
            }
        }

        let Ae = (() => {
            class A extends mt {
                constructor(P) {
                    super(P)
                }

                supports(P) {
                    return !0
                }

                addEventListener(P, ae, ve) {
                    return P.addEventListener(ae, ve, !1), () => this.removeEventListener(P, ae, ve)
                }

                removeEventListener(P, ae, ve) {
                    return P.removeEventListener(ae, ve)
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(a.K0))
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();
        const rt = ["alt", "control", "meta", "shift"], _t = {
            "\b": "Backspace",
            "\t": "Tab",
            "\x7f": "Delete",
            "\x1b": "Escape",
            Del: "Delete",
            Esc: "Escape",
            Left: "ArrowLeft",
            Right: "ArrowRight",
            Up: "ArrowUp",
            Down: "ArrowDown",
            Menu: "ContextMenu",
            Scroll: "ScrollLock",
            Win: "OS"
        }, Ut = {alt: A => A.altKey, control: A => A.ctrlKey, meta: A => A.metaKey, shift: A => A.shiftKey};
        let Dt = (() => {
            class A extends mt {
                constructor(P) {
                    super(P)
                }

                supports(P) {
                    return null != A.parseEventName(P)
                }

                addEventListener(P, ae, ve) {
                    const J = A.parseEventName(ae), et = A.eventCallback(J.fullKey, ve, this.manager.getZone());
                    return this.manager.getZone().runOutsideAngular(() => (0, a.q)().onAndCancel(P, J.domEventName, et))
                }

                static parseEventName(P) {
                    const ae = P.toLowerCase().split("."), ve = ae.shift();
                    if (0 === ae.length || "keydown" !== ve && "keyup" !== ve) return null;
                    const J = A._normalizeKey(ae.pop());
                    let et = "", vt = ae.indexOf("code");
                    if (vt > -1 && (ae.splice(vt, 1), et = "code."), rt.forEach(Zt => {
                        const ln = ae.indexOf(Zt);
                        ln > -1 && (ae.splice(ln, 1), et += Zt + ".")
                    }), et += J, 0 != ae.length || 0 === J.length) return null;
                    const Mt = {};
                    return Mt.domEventName = ve, Mt.fullKey = et, Mt
                }

                static matchEventFullKeyCode(P, ae) {
                    let ve = _t[P.key] || P.key, J = "";
                    return ae.indexOf("code.") > -1 && (ve = P.code, J = "code."), !(null == ve || !ve) && (ve = ve.toLowerCase(), " " === ve ? ve = "space" : "." === ve && (ve = "dot"), rt.forEach(et => {
                        et !== ve && (0, Ut[et])(P) && (J += et + ".")
                    }), J += ve, J === ae)
                }

                static eventCallback(P, ae, ve) {
                    return J => {
                        A.matchEventFullKeyCode(J, P) && ve.runGuarded(() => ae(J))
                    }
                }

                static _normalizeKey(P) {
                    return "esc" === P ? "escape" : P
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(a.K0))
            }, A.\u0275prov = V.Yz7({token: A, factory: A.\u0275fac}), A
        })();
        const lr = (0, V.eFA)(V._c5, "browser", [{provide: V.Lbi, useValue: a.bD}, {
            provide: V.g9A,
            useValue: function Hn() {
                k.makeCurrent()
            },
            multi: !0
        }, {
            provide: a.K0, useFactory: function zt() {
                return (0, V.RDi)(document), document
            }, deps: []
        }]), xn = new V.OlP(""), _n = [{
            provide: V.rWj, useClass: class Q {
                addToWindow(R) {
                    V.dqk.getAngularTestability = (ae, ve = !0) => {
                        const J = R.findTestabilityInTree(ae, ve);
                        if (null == J) throw new Error("Could not find testability for element.");
                        return J
                    }, V.dqk.getAllAngularTestabilities = () => R.getAllTestabilities(), V.dqk.getAllAngularRootElements = () => R.getAllRootElements(), V.dqk.frameworkStabilizers || (V.dqk.frameworkStabilizers = []), V.dqk.frameworkStabilizers.push(ae => {
                        const ve = V.dqk.getAllAngularTestabilities();
                        let J = ve.length, et = !1;
                        const vt = function (Mt) {
                            et = et || Mt, J--, 0 == J && ae(et)
                        };
                        ve.forEach(function (Mt) {
                            Mt.whenStable(vt)
                        })
                    })
                }

                findTestabilityInTree(R, P, ae) {
                    return null == P ? null : R.getTestability(P) ?? (ae ? (0, a.q)().isShadowRoot(P) ? this.findTestabilityInTree(R, P.host, !0) : this.findTestabilityInTree(R, P.parentElement, !0) : null)
                }
            }, deps: []
        }, {provide: V.lri, useClass: V.dDg, deps: [V.R0b, V.eoX, V.rWj]}, {
            provide: V.dDg,
            useClass: V.dDg,
            deps: [V.R0b, V.eoX, V.rWj]
        }], gn = [{provide: V.zSh, useValue: "root"}, {
            provide: V.qLn, useFactory: function Bn() {
                return new V.qLn
            }, deps: []
        }, {provide: xe, useClass: Ae, multi: !0, deps: [a.K0, V.R0b, V.Lbi]}, {
            provide: xe,
            useClass: Dt,
            multi: !0,
            deps: [a.K0]
        }, {provide: at, useClass: at, deps: [Be, Ue, V.AFp]}, {provide: V.FYo, useExisting: at}, {
            provide: ye,
            useExisting: Ue
        }, {provide: Ue, useClass: Ue, deps: [a.K0]}, {provide: Be, useClass: Be, deps: [xe, V.R0b]}, {
            provide: a.JF,
            useClass: Oe,
            deps: []
        }, []];
        let cn = (() => {
            class A {
                constructor(P) {
                }

                static withServerTransition(P) {
                    return {
                        ngModule: A,
                        providers: [{provide: V.AFp, useValue: P.appId}, {provide: Se, useExisting: V.AFp}, ce]
                    }
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(xn, 12))
            }, A.\u0275mod = V.oAB({type: A}), A.\u0275inj = V.cJS({
                providers: [...gn, ..._n],
                imports: [a.ez, V.hGG]
            }), A
        })(), hr = (() => {
            class A {
                constructor(P) {
                    this._doc = P
                }

                getTitle() {
                    return this._doc.title
                }

                setTitle(P) {
                    this._doc.title = P || ""
                }
            }

            return A.\u0275fac = function (P) {
                return new (P || A)(V.LFG(a.K0))
            }, A.\u0275prov = V.Yz7({
                token: A, factory: function (P) {
                    let ae = null;
                    return ae = P ? new P : function Nn() {
                        return new hr((0, V.LFG)(a.K0))
                    }(), ae
                }, providedIn: "root"
            }), A
        })();
        typeof window < "u" && window
    }, 4931: (Pe, he, D) => {
        "use strict";
        D.d(he, {gz: () => En, y6: () => Zr, F0: () => pi, rH: () => ka, Od: () => ko, Bz: () => Ed, lC: () => bi});
        var a = D(4650), V = D(2076), K = D(9646), k = D(1135), ue = D(6805), de = D(9841), be = D(7272), Te = D(9751),
            Se = D(8421);

        function me(d) {
            return new Te.y(f => {
                (0, Se.Xf)(d()).subscribe(f)
            })
        }

        var ce = D(9635), Q = D(576);

        function Oe(d, f) {
            const s = (0, Q.m)(d) ? d : () => d, m = S => S.error(s());
            return new Te.y(f ? S => f.schedule(m, 0, S) : m)
        }

        var xe = D(515), Be = D(727), mt = D(4482), ye = D(5403);

        function Ue() {
            return (0, mt.e)((d, f) => {
                let s = null;
                d._refCount++;
                const m = (0, ye.x)(f, void 0, void 0, void 0, () => {
                    if (!d || d._refCount <= 0 || 0 < --d._refCount) return void (s = null);
                    const S = d._connection, H = s;
                    s = null, S && (!H || S === H) && S.unsubscribe(), f.unsubscribe()
                });
                d.subscribe(m), m.closed || (s = d.connect())
            })
        }

        class $e extends Te.y {
            constructor(f, s) {
                super(), this.source = f, this.subjectFactory = s, this._subject = null, this._refCount = 0, this._connection = null, (0, mt.A)(f) && (this.lift = f.lift)
            }

            _subscribe(f) {
                return this.getSubject().subscribe(f)
            }

            getSubject() {
                const f = this._subject;
                return (!f || f.isStopped) && (this._subject = this.subjectFactory()), this._subject
            }

            _teardown() {
                this._refCount = 0;
                const {_connection: f} = this;
                this._subject = this._connection = null, f?.unsubscribe()
            }

            connect() {
                let f = this._connection;
                if (!f) {
                    f = this._connection = new Be.w0;
                    const s = this.getSubject();
                    f.add(this.source.subscribe((0, ye.x)(s, void 0, () => {
                        this._teardown(), s.complete()
                    }, m => {
                        this._teardown(), s.error(m)
                    }, () => this._teardown()))), f.closed && (this._connection = null, f = Be.w0.EMPTY)
                }
                return f
            }

            refCount() {
                return Ue()(this)
            }
        }

        var yt = D(7579), We = D(6895), pe = D(4004), Qe = D(3900), nt = D(5698), Ke = D(8675), ge = D(9300),
            se = D(5577), Fe = D(590), Ge = D(4351), at = D(8505);

        function Ye(d) {
            return (0, mt.e)((f, s) => {
                let H, m = null, S = !1;
                m = f.subscribe((0, ye.x)(s, void 0, void 0, U => {
                    H = (0, Se.Xf)(d(U, Ye(d)(f))), m ? (m.unsubscribe(), m = null, H.subscribe(s)) : S = !0
                })), S && (m.unsubscribe(), m = null, H.subscribe(s))
            })
        }

        function we(d, f, s, m, S) {
            return (H, U) => {
                let Ie = s, ut = f, rn = 0;
                H.subscribe((0, ye.x)(U, qt => {
                    const Dr = rn++;
                    ut = Ie ? d(ut, qt, Dr) : (Ie = !0, qt), m && U.next(ut)
                }, S && (() => {
                    Ie && U.next(ut), U.complete()
                })))
            }
        }

        function Re(d, f) {
            return (0, mt.e)(we(d, f, arguments.length >= 2, !0))
        }

        function De(d) {
            return d <= 0 ? () => xe.E : (0, mt.e)((f, s) => {
                let m = [];
                f.subscribe((0, ye.x)(s, S => {
                    m.push(S), d < m.length && m.shift()
                }, () => {
                    for (const S of m) s.next(S);
                    s.complete()
                }, void 0, () => {
                    m = null
                }))
            })
        }

        var re = D(8068), Ve = D(6590), Ae = D(4671);

        function rt(d, f) {
            const s = arguments.length >= 2;
            return m => m.pipe(d ? (0, ge.h)((S, H) => d(S, H, m)) : Ae.y, De(1), s ? (0, Ve.d)(f) : (0, re.T)(() => new ue.K))
        }

        var Ut = D(9718);

        function Dt(d) {
            return (0, mt.e)((f, s) => {
                try {
                    f.subscribe(s)
                } finally {
                    s.add(d)
                }
            })
        }

        var At = D(8189), Bt = D(1481);
        const gt = "primary", Xt = Symbol("RouteTitle");

        class Mn {
            constructor(f) {
                this.params = f || {}
            }

            has(f) {
                return Object.prototype.hasOwnProperty.call(this.params, f)
            }

            get(f) {
                if (this.has(f)) {
                    const s = this.params[f];
                    return Array.isArray(s) ? s[0] : s
                }
                return null
            }

            getAll(f) {
                if (this.has(f)) {
                    const s = this.params[f];
                    return Array.isArray(s) ? s : [s]
                }
                return []
            }

            get keys() {
                return Object.keys(this.params)
            }
        }

        function Hn(d) {
            return new Mn(d)
        }

        function Bn(d, f, s) {
            const m = s.path.split("/");
            if (m.length > d.length || "full" === s.pathMatch && (f.hasChildren() || m.length < d.length)) return null;
            const S = {};
            for (let H = 0; H < m.length; H++) {
                const U = m[H], Ie = d[H];
                if (U.startsWith(":")) S[U.substring(1)] = Ie; else if (U !== Ie.path) return null
            }
            return {consumed: d.slice(0, m.length), posParams: S}
        }

        function An(d, f) {
            const s = d ? Object.keys(d) : void 0, m = f ? Object.keys(f) : void 0;
            if (!s || !m || s.length != m.length) return !1;
            let S;
            for (let H = 0; H < s.length; H++) if (S = s[H], !lr(d[S], f[S])) return !1;
            return !0
        }

        function lr(d, f) {
            if (Array.isArray(d) && Array.isArray(f)) {
                if (d.length !== f.length) return !1;
                const s = [...d].sort(), m = [...f].sort();
                return s.every((S, H) => m[H] === S)
            }
            return d === f
        }

        function xn(d) {
            return Array.prototype.concat.apply([], d)
        }

        function _n(d) {
            return d.length > 0 ? d[d.length - 1] : null
        }

        function cn(d, f) {
            for (const s in d) d.hasOwnProperty(s) && f(d[s], s)
        }

        function Gt(d) {
            return (0, a.CqO)(d) ? d : (0, a.QGY)(d) ? (0, V.D)(Promise.resolve(d)) : (0, K.of)(d)
        }

        const nr = !1, dt = {
            exact: function sn(d, f, s) {
                if (!$n(d.segments, f.segments) || !In(d.segments, f.segments, s) || d.numberOfChildren !== f.numberOfChildren) return !1;
                for (const m in f.children) if (!d.children[m] || !sn(d.children[m], f.children[m], s)) return !1;
                return !0
            }, subset: Lt
        }, Nn = {
            exact: function Tr(d, f) {
                return An(d, f)
            }, subset: function $t(d, f) {
                return Object.keys(f).length <= Object.keys(d).length && Object.keys(f).every(s => lr(d[s], f[s]))
            }, ignored: () => !0
        };

        function hr(d, f, s) {
            return dt[s.paths](d.root, f.root, s.matrixParams) && Nn[s.queryParams](d.queryParams, f.queryParams) && !("exact" === s.fragment && d.fragment !== f.fragment)
        }

        function Lt(d, f, s) {
            return Cr(d, f, f.segments, s)
        }

        function Cr(d, f, s, m) {
            if (d.segments.length > s.length) {
                const S = d.segments.slice(0, s.length);
                return !(!$n(S, s) || f.hasChildren() || !In(S, s, m))
            }
            if (d.segments.length === s.length) {
                if (!$n(d.segments, s) || !In(d.segments, s, m)) return !1;
                for (const S in f.children) if (!d.children[S] || !Lt(d.children[S], f.children[S], m)) return !1;
                return !0
            }
            {
                const S = s.slice(0, d.segments.length), H = s.slice(d.segments.length);
                return !!($n(d.segments, S) && In(d.segments, S, m) && d.children[gt]) && Cr(d.children[gt], f, H, m)
            }
        }

        function In(d, f, s) {
            return f.every((m, S) => Nn[s](d[S].parameters, m.parameters))
        }

        class Jn {
            constructor(f = new Tt([], {}), s = {}, m = null) {
                this.root = f, this.queryParams = s, this.fragment = m
            }

            get queryParamMap() {
                return this._queryParamMap || (this._queryParamMap = Hn(this.queryParams)), this._queryParamMap
            }

            toString() {
                return yn.serialize(this)
            }
        }

        class Tt {
            constructor(f, s) {
                this.segments = f, this.children = s, this.parent = null, cn(s, (m, S) => m.parent = this)
            }

            hasChildren() {
                return this.numberOfChildren > 0
            }

            get numberOfChildren() {
                return Object.keys(this.children).length
            }

            toString() {
                return Yt(this)
            }
        }

        class Fn {
            constructor(f, s) {
                this.path = f, this.parameters = s
            }

            get parameterMap() {
                return this._parameterMap || (this._parameterMap = Hn(this.parameters)), this._parameterMap
            }

            toString() {
                return vn(this)
            }
        }

        function $n(d, f) {
            return d.length === f.length && d.every((s, m) => s.path === f[m].path)
        }

        let fn = (() => {
            class d {
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({
                token: d, factory: function () {
                    return new Xn
                }, providedIn: "root"
            }), d
        })();

        class Xn {
            parse(f) {
                const s = new P(f);
                return new Jn(s.parseRootSegment(), s.parseQueryParams(), s.parseFragment())
            }

            serialize(f) {
                const s = `/${Pt(f.root, !0)}`, m = function $(d) {
                    const f = Object.keys(d).map(s => {
                        const m = d[s];
                        return Array.isArray(m) ? m.map(S => `${le(s)}=${le(S)}`).join("&") : `${le(s)}=${le(m)}`
                    }).filter(s => !!s);
                    return f.length ? `?${f.join("&")}` : ""
                }(f.queryParams);
                return `${s}${m}${"string" == typeof f.fragment ? `#${function Ee(d) {
                    return encodeURI(d)
                }(f.fragment)}` : ""}`
            }
        }

        const yn = new Xn;

        function Yt(d) {
            return d.segments.map(f => vn(f)).join("/")
        }

        function Pt(d, f) {
            if (!d.hasChildren()) return Yt(d);
            if (f) {
                const s = d.children[gt] ? Pt(d.children[gt], !1) : "", m = [];
                return cn(d.children, (S, H) => {
                    H !== gt && m.push(`${H}:${Pt(S, !1)}`)
                }), m.length > 0 ? `${s}(${m.join("//")})` : s
            }
            {
                const s = function mr(d, f) {
                    let s = [];
                    return cn(d.children, (m, S) => {
                        S === gt && (s = s.concat(f(m, S)))
                    }), cn(d.children, (m, S) => {
                        S !== gt && (s = s.concat(f(m, S)))
                    }), s
                }(d, (m, S) => S === gt ? [Pt(d.children[gt], !1)] : [`${S}:${Pt(m, !1)}`]);
                return 1 === Object.keys(d.children).length && null != d.children[gt] ? `${Yt(d)}/${s[0]}` : `${Yt(d)}/(${s.join("//")})`
            }
        }

        function Ce(d) {
            return encodeURIComponent(d).replace(/%40/g, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",")
        }

        function le(d) {
            return Ce(d).replace(/%3B/gi, ";")
        }

        function Je(d) {
            return Ce(d).replace(/\(/g, "%28").replace(/\)/g, "%29").replace(/%26/gi, "&")
        }

        function st(d) {
            return decodeURIComponent(d)
        }

        function Et(d) {
            return st(d.replace(/\+/g, "%20"))
        }

        function vn(d) {
            return `${Je(d.path)}${function q(d) {
                return Object.keys(d).map(f => `;${Je(f)}=${Je(d[f])}`).join("")
            }(d.parameters)}`
        }

        const G = /^[^\/()?;=#]+/;

        function O(d) {
            const f = d.match(G);
            return f ? f[0] : ""
        }

        const w = /^[^=?&#]+/, A = /^[^&#]+/;

        class P {
            constructor(f) {
                this.url = f, this.remaining = f
            }

            parseRootSegment() {
                return this.consumeOptional("/"), "" === this.remaining || this.peekStartsWith("?") || this.peekStartsWith("#") ? new Tt([], {}) : new Tt([], this.parseChildren())
            }

            parseQueryParams() {
                const f = {};
                if (this.consumeOptional("?")) do {
                    this.parseQueryParam(f)
                } while (this.consumeOptional("&"));
                return f
            }

            parseFragment() {
                return this.consumeOptional("#") ? decodeURIComponent(this.remaining) : null
            }

            parseChildren() {
                if ("" === this.remaining) return {};
                this.consumeOptional("/");
                const f = [];
                for (this.peekStartsWith("(") || f.push(this.parseSegment()); this.peekStartsWith("/") && !this.peekStartsWith("//") && !this.peekStartsWith("/(");) this.capture("/"), f.push(this.parseSegment());
                let s = {};
                this.peekStartsWith("/(") && (this.capture("/"), s = this.parseParens(!0));
                let m = {};
                return this.peekStartsWith("(") && (m = this.parseParens(!1)), (f.length > 0 || Object.keys(s).length > 0) && (m[gt] = new Tt(f, s)), m
            }

            parseSegment() {
                const f = O(this.remaining);
                if ("" === f && this.peekStartsWith(";")) throw new a.vHH(4009, nr);
                return this.capture(f), new Fn(st(f), this.parseMatrixParams())
            }

            parseMatrixParams() {
                const f = {};
                for (; this.consumeOptional(";");) this.parseParam(f);
                return f
            }

            parseParam(f) {
                const s = O(this.remaining);
                if (!s) return;
                this.capture(s);
                let m = "";
                if (this.consumeOptional("=")) {
                    const S = O(this.remaining);
                    S && (m = S, this.capture(m))
                }
                f[st(s)] = st(m)
            }

            parseQueryParam(f) {
                const s = function z(d) {
                    const f = d.match(w);
                    return f ? f[0] : ""
                }(this.remaining);
                if (!s) return;
                this.capture(s);
                let m = "";
                if (this.consumeOptional("=")) {
                    const U = function R(d) {
                        const f = d.match(A);
                        return f ? f[0] : ""
                    }(this.remaining);
                    U && (m = U, this.capture(m))
                }
                const S = Et(s), H = Et(m);
                if (f.hasOwnProperty(S)) {
                    let U = f[S];
                    Array.isArray(U) || (U = [U], f[S] = U), U.push(H)
                } else f[S] = H
            }

            parseParens(f) {
                const s = {};
                for (this.capture("("); !this.consumeOptional(")") && this.remaining.length > 0;) {
                    const m = O(this.remaining), S = this.remaining[m.length];
                    if ("/" !== S && ")" !== S && ";" !== S) throw new a.vHH(4010, nr);
                    let H;
                    m.indexOf(":") > -1 ? (H = m.slice(0, m.indexOf(":")), this.capture(H), this.capture(":")) : f && (H = gt);
                    const U = this.parseChildren();
                    s[H] = 1 === Object.keys(U).length ? U[gt] : new Tt([], U), this.consumeOptional("//")
                }
                return s
            }

            peekStartsWith(f) {
                return this.remaining.startsWith(f)
            }

            consumeOptional(f) {
                return !!this.peekStartsWith(f) && (this.remaining = this.remaining.substring(f.length), !0)
            }

            capture(f) {
                if (!this.consumeOptional(f)) throw new a.vHH(4011, nr)
            }
        }

        function ae(d) {
            return d.segments.length > 0 ? new Tt([], {[gt]: d}) : d
        }

        function ve(d) {
            const f = {};
            for (const m of Object.keys(d.children)) {
                const H = ve(d.children[m]);
                (H.segments.length > 0 || H.hasChildren()) && (f[m] = H)
            }
            return function J(d) {
                if (1 === d.numberOfChildren && d.children[gt]) {
                    const f = d.children[gt];
                    return new Tt(d.segments.concat(f.segments), f.children)
                }
                return d
            }(new Tt(d.segments, f))
        }

        function et(d) {
            return d instanceof Jn
        }

        function kt(d, f, s, m, S) {
            if (0 === s.length) return Rn(f.root, f.root, f.root, m, S);
            const H = function wn(d) {
                if ("string" == typeof d[0] && 1 === d.length && "/" === d[0]) return new Sr(!0, 0, d);
                let f = 0, s = !1;
                const m = d.reduce((S, H, U) => {
                    if ("object" == typeof H && null != H) {
                        if (H.outlets) {
                            const Ie = {};
                            return cn(H.outlets, (ut, rn) => {
                                Ie[rn] = "string" == typeof ut ? ut.split("/") : ut
                            }), [...S, {outlets: Ie}]
                        }
                        if (H.segmentPath) return [...S, H.segmentPath]
                    }
                    return "string" != typeof H ? [...S, H] : 0 === U ? (H.split("/").forEach((Ie, ut) => {
                        0 == ut && "." === Ie || (0 == ut && "" === Ie ? s = !0 : ".." === Ie ? f++ : "" != Ie && S.push(Ie))
                    }), S) : [...S, H]
                }, []);
                return new Sr(s, f, m)
            }(s);
            return H.toRoot() ? Rn(f.root, f.root, new Tt([], {}), m, S) : function U(ut) {
                const rn = function Mr(d, f, s, m) {
                        if (d.isAbsolute) return new Zn(f.root, !0, 0);
                        if (-1 === m) return new Zn(s, s === f.root, 0);
                        return function dr(d, f, s) {
                            let m = d, S = f, H = s;
                            for (; H > S;) {
                                if (H -= S, m = m.parent, !m) throw new a.vHH(4005, !1);
                                S = m.segments.length
                            }
                            return new Zn(m, !1, S - H)
                        }(s, m + (Nt(d.commands[0]) ? 0 : 1), d.numberOfDoubleDots)
                    }(H, f, d.snapshot?._urlSegment, ut),
                    qt = rn.processChildren ? en(rn.segmentGroup, rn.index, H.commands) : Ft(rn.segmentGroup, rn.index, H.commands);
                return Rn(f.root, rn.segmentGroup, qt, m, S)
            }(d.snapshot?._lastPathIndex)
        }

        function Nt(d) {
            return "object" == typeof d && null != d && !d.outlets && !d.segmentPath
        }

        function zn(d) {
            return "object" == typeof d && null != d && d.outlets
        }

        function Rn(d, f, s, m, S) {
            let U, H = {};
            m && cn(m, (ut, rn) => {
                H[rn] = Array.isArray(ut) ? ut.map(qt => `${qt}`) : `${ut}`
            }), U = d === f ? s : Er(d, f, s);
            const Ie = ae(ve(U));
            return new Jn(Ie, H, S)
        }

        function Er(d, f, s) {
            const m = {};
            return cn(d.children, (S, H) => {
                m[H] = S === f ? s : Er(S, f, s)
            }), new Tt(d.segments, m)
        }

        class Sr {
            constructor(f, s, m) {
                if (this.isAbsolute = f, this.numberOfDoubleDots = s, this.commands = m, f && m.length > 0 && Nt(m[0])) throw new a.vHH(4003, !1);
                const S = m.find(zn);
                if (S && S !== _n(m)) throw new a.vHH(4004, !1)
            }

            toRoot() {
                return this.isAbsolute && 1 === this.commands.length && "/" == this.commands[0]
            }
        }

        class Zn {
            constructor(f, s, m) {
                this.segmentGroup = f, this.processChildren = s, this.index = m
            }
        }

        function Ft(d, f, s) {
            if (d || (d = new Tt([], {})), 0 === d.segments.length && d.hasChildren()) return en(d, f, s);
            const m = function ar(d, f, s) {
                let m = 0, S = f;
                const H = {match: !1, pathIndex: 0, commandIndex: 0};
                for (; S < d.segments.length;) {
                    if (m >= s.length) return H;
                    const U = d.segments[S], Ie = s[m];
                    if (zn(Ie)) break;
                    const ut = `${Ie}`, rn = m < s.length - 1 ? s[m + 1] : null;
                    if (S > 0 && void 0 === ut) break;
                    if (ut && rn && "object" == typeof rn && void 0 === rn.outlets) {
                        if (!br(ut, rn, U)) return H;
                        m += 2
                    } else {
                        if (!br(ut, {}, U)) return H;
                        m++
                    }
                    S++
                }
                return {match: !0, pathIndex: S, commandIndex: m}
            }(d, f, s), S = s.slice(m.commandIndex);
            if (m.match && m.pathIndex < d.segments.length) {
                const H = new Tt(d.segments.slice(0, m.pathIndex), {});
                return H.children[gt] = new Tt(d.segments.slice(m.pathIndex), d.children), en(H, 0, S)
            }
            return m.match && 0 === S.length ? new Tt(d.segments, {}) : m.match && !d.hasChildren() ? _r(d, f, s) : m.match ? en(d, 0, S) : _r(d, f, s)
        }

        function en(d, f, s) {
            if (0 === s.length) return new Tt(d.segments, {});
            {
                const m = function vr(d) {
                    return zn(d[0]) ? d[0].outlets : {[gt]: d}
                }(s), S = {};
                return !m[gt] && d.children[gt] && 1 === d.numberOfChildren && 0 === d.children[gt].segments.length ? en(d.children[gt], f, s) : (cn(m, (H, U) => {
                    "string" == typeof H && (H = [H]), null !== H && (S[U] = Ft(d.children[U], f, H))
                }), cn(d.children, (H, U) => {
                    void 0 === m[U] && (S[U] = H)
                }), new Tt(d.segments, S))
            }
        }

        function _r(d, f, s) {
            const m = d.segments.slice(0, f);
            let S = 0;
            for (; S < s.length;) {
                const H = s[S];
                if (zn(H)) {
                    const ut = cr(H.outlets);
                    return new Tt(m, ut)
                }
                if (0 === S && Nt(s[0])) {
                    m.push(new Fn(d.segments[f].path, pr(s[0]))), S++;
                    continue
                }
                const U = zn(H) ? H.outlets[gt] : `${H}`, Ie = S < s.length - 1 ? s[S + 1] : null;
                U && Ie && Nt(Ie) ? (m.push(new Fn(U, pr(Ie))), S += 2) : (m.push(new Fn(U, {})), S++)
            }
            return new Tt(m, {})
        }

        function cr(d) {
            const f = {};
            return cn(d, (s, m) => {
                "string" == typeof s && (s = [s]), null !== s && (f[m] = _r(new Tt([], {}), 0, s))
            }), f
        }

        function pr(d) {
            const f = {};
            return cn(d, (s, m) => f[m] = `${s}`), f
        }

        function br(d, f, s) {
            return d == s.path && An(f, s.parameters)
        }

        const Ln = "imperative";

        class rr {
            constructor(f, s) {
                this.id = f, this.url = s
            }
        }

        class Ir extends rr {
            constructor(f, s, m = "imperative", S = null) {
                super(f, s), this.type = 0, this.navigationTrigger = m, this.restoredState = S
            }

            toString() {
                return `NavigationStart(id: ${this.id}, url: '${this.url}')`
            }
        }

        class dn extends rr {
            constructor(f, s, m) {
                super(f, s), this.urlAfterRedirects = m, this.type = 1
            }

            toString() {
                return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`
            }
        }

        class Or extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.reason = m, this.code = S, this.type = 2
            }

            toString() {
                return `NavigationCancel(id: ${this.id}, url: '${this.url}')`
            }
        }

        class v extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.reason = m, this.code = S, this.type = 16
            }
        }

        class x extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.error = m, this.target = S, this.type = 3
            }

            toString() {
                return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`
            }
        }

        class X extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.urlAfterRedirects = m, this.state = S, this.type = 4
            }

            toString() {
                return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`
            }
        }

        class ie extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.urlAfterRedirects = m, this.state = S, this.type = 7
            }

            toString() {
                return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`
            }
        }

        class Z extends rr {
            constructor(f, s, m, S, H) {
                super(f, s), this.urlAfterRedirects = m, this.state = S, this.shouldActivate = H, this.type = 8
            }

            toString() {
                return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`
            }
        }

        class Le extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.urlAfterRedirects = m, this.state = S, this.type = 5
            }

            toString() {
                return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`
            }
        }

        class te extends rr {
            constructor(f, s, m, S) {
                super(f, s), this.urlAfterRedirects = m, this.state = S, this.type = 6
            }

            toString() {
                return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`
            }
        }

        class Ze {
            constructor(f) {
                this.route = f, this.type = 9
            }

            toString() {
                return `RouteConfigLoadStart(path: ${this.route.path})`
            }
        }

        class ft {
            constructor(f) {
                this.route = f, this.type = 10
            }

            toString() {
                return `RouteConfigLoadEnd(path: ${this.route.path})`
            }
        }

        class lt {
            constructor(f) {
                this.snapshot = f, this.type = 11
            }

            toString() {
                return `ChildActivationStart(path: '${this.snapshot.routeConfig && this.snapshot.routeConfig.path || ""}')`
            }
        }

        class ht {
            constructor(f) {
                this.snapshot = f, this.type = 12
            }

            toString() {
                return `ChildActivationEnd(path: '${this.snapshot.routeConfig && this.snapshot.routeConfig.path || ""}')`
            }
        }

        class It {
            constructor(f) {
                this.snapshot = f, this.type = 13
            }

            toString() {
                return `ActivationStart(path: '${this.snapshot.routeConfig && this.snapshot.routeConfig.path || ""}')`
            }
        }

        class Jt {
            constructor(f) {
                this.snapshot = f, this.type = 14
            }

            toString() {
                return `ActivationEnd(path: '${this.snapshot.routeConfig && this.snapshot.routeConfig.path || ""}')`
            }
        }

        class Ht {
            constructor(f, s, m) {
                this.routerEvent = f, this.position = s, this.anchor = m, this.type = 15
            }

            toString() {
                return `Scroll(anchor: '${this.anchor}', position: '${this.position ? `${this.position[0]}, ${this.position[1]}` : null}')`
            }
        }

        let bt = (() => {
            class d {
                createUrlTree(s, m, S, H, U, Ie) {
                    return kt(s || m.root, S, H, U, Ie)
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac}), d
        })(), Vt = (() => {
            class d {
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({
                token: d, factory: function (f) {
                    return bt.\u0275fac(f)
                }, providedIn: "root"
            }), d
        })();

        class hn {
            constructor(f) {
                this._root = f
            }

            get root() {
                return this._root.value
            }

            parent(f) {
                const s = this.pathFromRoot(f);
                return s.length > 1 ? s[s.length - 2] : null
            }

            children(f) {
                const s = Qt(f, this._root);
                return s ? s.children.map(m => m.value) : []
            }

            firstChild(f) {
                const s = Qt(f, this._root);
                return s && s.children.length > 0 ? s.children[0].value : null
            }

            siblings(f) {
                const s = xt(f, this._root);
                return s.length < 2 ? [] : s[s.length - 2].children.map(S => S.value).filter(S => S !== f)
            }

            pathFromRoot(f) {
                return xt(f, this._root).map(s => s.value)
            }
        }

        function Qt(d, f) {
            if (d === f.value) return f;
            for (const s of f.children) {
                const m = Qt(d, s);
                if (m) return m
            }
            return null
        }

        function xt(d, f) {
            if (d === f.value) return [f];
            for (const s of f.children) {
                const m = xt(d, s);
                if (m.length) return m.unshift(f), m
            }
            return []
        }

        class Ot {
            constructor(f, s) {
                this.value = f, this.children = s
            }

            toString() {
                return `TreeNode(${this.value})`
            }
        }

        function wt(d) {
            const f = {};
            return d && d.children.forEach(s => f[s.value.outlet] = s), f
        }

        class bn extends hn {
            constructor(f, s) {
                super(f), this.snapshot = s, Ne(this, f)
            }

            toString() {
                return this.snapshot.toString()
            }
        }

        function Gn(d, f) {
            const s = function Cn(d, f) {
                    const U = new L([], {}, {}, "", {}, gt, f, null, d.root, -1, {});
                    return new ne("", new Ot(U, []))
                }(d, f), m = new k.X([new Fn("", {})]), S = new k.X({}), H = new k.X({}), U = new k.X({}), Ie = new k.X(""),
                ut = new En(m, S, U, Ie, H, gt, f, s.root);
            return ut.snapshot = s.root, new bn(new Ot(ut, []), s)
        }

        class En {
            constructor(f, s, m, S, H, U, Ie, ut) {
                this.url = f, this.params = s, this.queryParams = m, this.fragment = S, this.data = H, this.outlet = U, this.component = Ie, this.title = this.data?.pipe((0, pe.U)(rn => rn[Xt])) ?? (0, K.of)(void 0), this._futureSnapshot = ut
            }

            get routeConfig() {
                return this._futureSnapshot.routeConfig
            }

            get root() {
                return this._routerState.root
            }

            get parent() {
                return this._routerState.parent(this)
            }

            get firstChild() {
                return this._routerState.firstChild(this)
            }

            get children() {
                return this._routerState.children(this)
            }

            get pathFromRoot() {
                return this._routerState.pathFromRoot(this)
            }

            get paramMap() {
                return this._paramMap || (this._paramMap = this.params.pipe((0, pe.U)(f => Hn(f)))), this._paramMap
            }

            get queryParamMap() {
                return this._queryParamMap || (this._queryParamMap = this.queryParams.pipe((0, pe.U)(f => Hn(f)))), this._queryParamMap
            }

            toString() {
                return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`
            }
        }

        function jn(d, f = "emptyOnly") {
            const s = d.pathFromRoot;
            let m = 0;
            if ("always" !== f) for (m = s.length - 1; m >= 1;) {
                const S = s[m], H = s[m - 1];
                if (S.routeConfig && "" === S.routeConfig.path) m--; else {
                    if (H.component) break;
                    m--
                }
            }
            return function Nr(d) {
                return d.reduce((f, s) => ({
                    params: {...f.params, ...s.params},
                    data: {...f.data, ...s.data},
                    resolve: {...s.data, ...f.resolve, ...s.routeConfig?.data, ...s._resolvedData}
                }), {params: {}, data: {}, resolve: {}})
            }(s.slice(m))
        }

        class L {
            get title() {
                return this.data?.[Xt]
            }

            constructor(f, s, m, S, H, U, Ie, ut, rn, qt, Dr) {
                this.url = f, this.params = s, this.queryParams = m, this.fragment = S, this.data = H, this.outlet = U, this.component = Ie, this.routeConfig = ut, this._urlSegment = rn, this._lastPathIndex = qt, this._resolve = Dr
            }

            get root() {
                return this._routerState.root
            }

            get parent() {
                return this._routerState.parent(this)
            }

            get firstChild() {
                return this._routerState.firstChild(this)
            }

            get children() {
                return this._routerState.children(this)
            }

            get pathFromRoot() {
                return this._routerState.pathFromRoot(this)
            }

            get paramMap() {
                return this._paramMap || (this._paramMap = Hn(this.params)), this._paramMap
            }

            get queryParamMap() {
                return this._queryParamMap || (this._queryParamMap = Hn(this.queryParams)), this._queryParamMap
            }

            toString() {
                return `Route(url:'${this.url.map(m => m.toString()).join("/")}', path:'${this.routeConfig ? this.routeConfig.path : ""}')`
            }
        }

        class ne extends hn {
            constructor(f, s) {
                super(s), this.url = f, Ne(this, s)
            }

            toString() {
                return tt(this._root)
            }
        }

        function Ne(d, f) {
            f.value._routerState = d, f.children.forEach(s => Ne(d, s))
        }

        function tt(d) {
            const f = d.children.length > 0 ? ` { ${d.children.map(tt).join(", ")} } ` : "";
            return `${d.value}${f}`
        }

        function tn(d) {
            if (d.snapshot) {
                const f = d.snapshot, s = d._futureSnapshot;
                d.snapshot = s, An(f.queryParams, s.queryParams) || d.queryParams.next(s.queryParams), f.fragment !== s.fragment && d.fragment.next(s.fragment), An(f.params, s.params) || d.params.next(s.params), function zt(d, f) {
                    if (d.length !== f.length) return !1;
                    for (let s = 0; s < d.length; ++s) if (!An(d[s], f[s])) return !1;
                    return !0
                }(f.url, s.url) || d.url.next(s.url), An(f.data, s.data) || d.data.next(s.data)
            } else d.snapshot = d._futureSnapshot, d.data.next(d._futureSnapshot.data)
        }

        function Wn(d, f) {
            const s = An(d.params, f.params) && function Lr(d, f) {
                return $n(d, f) && d.every((s, m) => An(s.parameters, f[m].parameters))
            }(d.url, f.url);
            return s && !(!d.parent != !f.parent) && (!d.parent || Wn(d.parent, f.parent))
        }

        function Pr(d, f, s) {
            if (s && d.shouldReuseRoute(f.value, s.value.snapshot)) {
                const m = s.value;
                m._futureSnapshot = f.value;
                const S = function si(d, f, s) {
                    return f.children.map(m => {
                        for (const S of s.children) if (d.shouldReuseRoute(m.value, S.value.snapshot)) return Pr(d, m, S);
                        return Pr(d, m)
                    })
                }(d, f, s);
                return new Ot(m, S)
            }
            {
                if (d.shouldAttach(f.value)) {
                    const H = d.retrieve(f.value);
                    if (null !== H) {
                        const U = H.route;
                        return U.value._futureSnapshot = f.value, U.children = f.children.map(Ie => Pr(d, Ie)), U
                    }
                }
                const m = function li(d) {
                    return new En(new k.X(d.url), new k.X(d.params), new k.X(d.queryParams), new k.X(d.fragment), new k.X(d.data), d.outlet, d.component, d)
                }(f.value), S = f.children.map(H => Pr(d, H));
                return new Ot(m, S)
            }
        }

        const or = "ngNavigationCancelingError";

        function Hr(d, f) {
            const {redirectTo: s, navigationBehaviorOptions: m} = et(f) ? {
                redirectTo: f,
                navigationBehaviorOptions: void 0
            } : f, S = ei(!1, 0, f);
            return S.url = s, S.navigationBehaviorOptions = m, S
        }

        function ei(d, f, s) {
            const m = new Error("NavigationCancelingError: " + (d || ""));
            return m[or] = !0, m.cancellationCode = f, s && (m.url = s), m
        }

        function Br(d) {
            return Fr(d) && et(d.url)
        }

        function Fr(d) {
            return d && d[or]
        }

        class ui {
            constructor() {
                this.outlet = null, this.route = null, this.resolver = null, this.injector = null, this.children = new Zr, this.attachRef = null
            }
        }

        let Zr = (() => {
            class d {
                constructor() {
                    this.contexts = new Map
                }

                onChildOutletCreated(s, m) {
                    const S = this.getOrCreateContext(s);
                    S.outlet = m, this.contexts.set(s, S)
                }

                onChildOutletDestroyed(s) {
                    const m = this.getContext(s);
                    m && (m.outlet = null, m.attachRef = null)
                }

                onOutletDeactivated() {
                    const s = this.contexts;
                    return this.contexts = new Map, s
                }

                onOutletReAttached(s) {
                    this.contexts = s
                }

                getOrCreateContext(s) {
                    let m = this.getContext(s);
                    return m || (m = new ui, this.contexts.set(s, m)), m
                }

                getContext(s) {
                    return this.contexts.get(s) || null
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();
        const di = !1;
        let bi = (() => {
            class d {
                constructor() {
                    this.activated = null, this._activatedRoute = null, this.name = gt, this.activateEvents = new a.vpe, this.deactivateEvents = new a.vpe, this.attachEvents = new a.vpe, this.detachEvents = new a.vpe, this.parentContexts = (0, a.f3M)(Zr), this.location = (0, a.f3M)(a.s_b), this.changeDetector = (0, a.f3M)(a.sBO), this.environmentInjector = (0, a.f3M)(a.lqb)
                }

                ngOnChanges(s) {
                    if (s.name) {
                        const {firstChange: m, previousValue: S} = s.name;
                        if (m) return;
                        this.isTrackedInParentContexts(S) && (this.deactivate(), this.parentContexts.onChildOutletDestroyed(S)), this.initializeOutletWithName()
                    }
                }

                ngOnDestroy() {
                    this.isTrackedInParentContexts(this.name) && this.parentContexts.onChildOutletDestroyed(this.name)
                }

                isTrackedInParentContexts(s) {
                    return this.parentContexts.getContext(s)?.outlet === this
                }

                ngOnInit() {
                    this.initializeOutletWithName()
                }

                initializeOutletWithName() {
                    if (this.parentContexts.onChildOutletCreated(this.name, this), this.activated) return;
                    const s = this.parentContexts.getContext(this.name);
                    s?.route && (s.attachRef ? this.attach(s.attachRef, s.route) : this.activateWith(s.route, s.injector))
                }

                get isActivated() {
                    return !!this.activated
                }

                get component() {
                    if (!this.activated) throw new a.vHH(4012, di);
                    return this.activated.instance
                }

                get activatedRoute() {
                    if (!this.activated) throw new a.vHH(4012, di);
                    return this._activatedRoute
                }

                get activatedRouteData() {
                    return this._activatedRoute ? this._activatedRoute.snapshot.data : {}
                }

                detach() {
                    if (!this.activated) throw new a.vHH(4012, di);
                    this.location.detach();
                    const s = this.activated;
                    return this.activated = null, this._activatedRoute = null, this.detachEvents.emit(s.instance), s
                }

                attach(s, m) {
                    this.activated = s, this._activatedRoute = m, this.location.insert(s.hostView), this.attachEvents.emit(s.instance)
                }

                deactivate() {
                    if (this.activated) {
                        const s = this.component;
                        this.activated.destroy(), this.activated = null, this._activatedRoute = null, this.deactivateEvents.emit(s)
                    }
                }

                activateWith(s, m) {
                    if (this.isActivated) throw new a.vHH(4013, di);
                    this._activatedRoute = s;
                    const S = this.location, U = s.snapshot.component,
                        Ie = this.parentContexts.getOrCreateContext(this.name).children, ut = new Ki(s, Ie, S.injector);
                    if (m && function xi(d) {
                        return !!d.resolveComponentFactory
                    }(m)) {
                        const rn = m.resolveComponentFactory(U);
                        this.activated = S.createComponent(rn, S.length, ut)
                    } else this.activated = S.createComponent(U, {
                        index: S.length,
                        injector: ut,
                        environmentInjector: m ?? this.environmentInjector
                    });
                    this.changeDetector.markForCheck(), this.activateEvents.emit(this.activated.instance)
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275dir = a.lG2({
                type: d,
                selectors: [["router-outlet"]],
                inputs: {name: "name"},
                outputs: {
                    activateEvents: "activate",
                    deactivateEvents: "deactivate",
                    attachEvents: "attach",
                    detachEvents: "detach"
                },
                exportAs: ["outlet"],
                standalone: !0,
                features: [a.TTD]
            }), d
        })();

        class Ki {
            constructor(f, s, m) {
                this.route = f, this.childContexts = s, this.parent = m
            }

            get(f, s) {
                return f === En ? this.route : f === Zr ? this.childContexts : this.parent.get(f, s)
            }
        }

        let mi = (() => {
            class d {
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275cmp = a.Xpm({
                type: d,
                selectors: [["ng-component"]],
                standalone: !0,
                features: [a.jDz],
                decls: 1,
                vars: 0,
                template: function (s, m) {
                    1 & s && a._UZ(0, "router-outlet")
                },
                dependencies: [bi],
                encapsulation: 2
            }), d
        })();

        function Pi(d, f) {
            return d.providers && !d._injector && (d._injector = (0, a.MMx)(d.providers, f, `Route: ${d.path}`)), d._injector ?? f
        }

        function Fi(d) {
            const f = d.children && d.children.map(Fi), s = f ? {...d, children: f} : {...d};
            return !s.component && !s.loadComponent && (f || s.loadChildren) && s.outlet && s.outlet !== gt && (s.component = mi), s
        }

        function gr(d) {
            return d.outlet || gt
        }

        function da(d, f) {
            const s = d.filter(m => gr(m) === f);
            return s.push(...d.filter(m => gr(m) !== f)), s
        }

        function Di(d) {
            if (!d) return null;
            if (d.routeConfig?._injector) return d.routeConfig._injector;
            for (let f = d.parent; f; f = f.parent) {
                const s = f.routeConfig;
                if (s?._loadedInjector) return s._loadedInjector;
                if (s?._injector) return s._injector
            }
            return null
        }

        class ti {
            constructor(f, s, m, S) {
                this.routeReuseStrategy = f, this.futureState = s, this.currState = m, this.forwardEvent = S
            }

            activate(f) {
                const s = this.futureState._root, m = this.currState ? this.currState._root : null;
                this.deactivateChildRoutes(s, m, f), tn(this.futureState.root), this.activateChildRoutes(s, m, f)
            }

            deactivateChildRoutes(f, s, m) {
                const S = wt(s);
                f.children.forEach(H => {
                    const U = H.value.outlet;
                    this.deactivateRoutes(H, S[U], m), delete S[U]
                }), cn(S, (H, U) => {
                    this.deactivateRouteAndItsChildren(H, m)
                })
            }

            deactivateRoutes(f, s, m) {
                const S = f.value, H = s ? s.value : null;
                if (S === H) if (S.component) {
                    const U = m.getContext(S.outlet);
                    U && this.deactivateChildRoutes(f, s, U.children)
                } else this.deactivateChildRoutes(f, s, m); else H && this.deactivateRouteAndItsChildren(s, m)
            }

            deactivateRouteAndItsChildren(f, s) {
                f.value.component && this.routeReuseStrategy.shouldDetach(f.value.snapshot) ? this.detachAndStoreRouteSubtree(f, s) : this.deactivateRouteAndOutlet(f, s)
            }

            detachAndStoreRouteSubtree(f, s) {
                const m = s.getContext(f.value.outlet), S = m && f.value.component ? m.children : s, H = wt(f);
                for (const U of Object.keys(H)) this.deactivateRouteAndItsChildren(H[U], S);
                if (m && m.outlet) {
                    const U = m.outlet.detach(), Ie = m.children.onOutletDeactivated();
                    this.routeReuseStrategy.store(f.value.snapshot, {componentRef: U, route: f, contexts: Ie})
                }
            }

            deactivateRouteAndOutlet(f, s) {
                const m = s.getContext(f.value.outlet), S = m && f.value.component ? m.children : s, H = wt(f);
                for (const U of Object.keys(H)) this.deactivateRouteAndItsChildren(H[U], S);
                m && m.outlet && (m.outlet.deactivate(), m.children.onOutletDeactivated(), m.attachRef = null, m.resolver = null, m.route = null)
            }

            activateChildRoutes(f, s, m) {
                const S = wt(s);
                f.children.forEach(H => {
                    this.activateRoutes(H, S[H.value.outlet], m), this.forwardEvent(new Jt(H.value.snapshot))
                }), f.children.length && this.forwardEvent(new ht(f.value.snapshot))
            }

            activateRoutes(f, s, m) {
                const S = f.value, H = s ? s.value : null;
                if (tn(S), S === H) if (S.component) {
                    const U = m.getOrCreateContext(S.outlet);
                    this.activateChildRoutes(f, s, U.children)
                } else this.activateChildRoutes(f, s, m); else if (S.component) {
                    const U = m.getOrCreateContext(S.outlet);
                    if (this.routeReuseStrategy.shouldAttach(S.snapshot)) {
                        const Ie = this.routeReuseStrategy.retrieve(S.snapshot);
                        this.routeReuseStrategy.store(S.snapshot, null), U.children.onOutletReAttached(Ie.contexts), U.attachRef = Ie.componentRef, U.route = Ie.route.value, U.outlet && U.outlet.attach(Ie.componentRef, Ie.route.value), tn(Ie.route.value), this.activateChildRoutes(f, null, U.children)
                    } else {
                        const Ie = Di(S.snapshot), ut = Ie?.get(a._Vd) ?? null;
                        U.attachRef = null, U.route = S, U.resolver = ut, U.injector = Ie, U.outlet && U.outlet.activateWith(S, U.injector), this.activateChildRoutes(f, null, U.children)
                    }
                } else this.activateChildRoutes(f, null, m)
            }
        }

        class ca {
            constructor(f) {
                this.path = f, this.route = this.path[this.path.length - 1]
            }
        }

        class gi {
            constructor(f, s) {
                this.component = f, this.route = s
            }
        }

        function Ea(d, f, s) {
            const m = d._root;
            return Ei(m, f ? f._root : null, s, [m.value])
        }

        function Ti(d, f) {
            const s = Symbol(), m = f.get(d, s);
            return m === s ? "function" != typeof d || (0, a.Z0I)(d) ? f.get(d) : d : m
        }

        function Ei(d, f, s, m, S = {canDeactivateChecks: [], canActivateChecks: []}) {
            const H = wt(f);
            return d.children.forEach(U => {
                (function kn(d, f, s, m, S = {canDeactivateChecks: [], canActivateChecks: []}) {
                    const H = d.value, U = f ? f.value : null, Ie = s ? s.getContext(d.value.outlet) : null;
                    if (U && H.routeConfig === U.routeConfig) {
                        const ut = function ta(d, f, s) {
                            if ("function" == typeof s) return s(d, f);
                            switch (s) {
                                case"pathParamsChange":
                                    return !$n(d.url, f.url);
                                case"pathParamsOrQueryParamsChange":
                                    return !$n(d.url, f.url) || !An(d.queryParams, f.queryParams);
                                case"always":
                                    return !0;
                                case"paramsOrQueryParamsChange":
                                    return !Wn(d, f) || !An(d.queryParams, f.queryParams);
                                default:
                                    return !Wn(d, f)
                            }
                        }(U, H, H.routeConfig.runGuardsAndResolvers);
                        ut ? S.canActivateChecks.push(new ca(m)) : (H.data = U.data, H._resolvedData = U._resolvedData), Ei(d, f, H.component ? Ie ? Ie.children : null : s, m, S), ut && Ie && Ie.outlet && Ie.outlet.isActivated && S.canDeactivateChecks.push(new gi(Ie.outlet.component, U))
                    } else U && M(f, Ie, S), S.canActivateChecks.push(new ca(m)), Ei(d, null, H.component ? Ie ? Ie.children : null : s, m, S)
                })(U, H[U.value.outlet], s, m.concat([U.value]), S), delete H[U.value.outlet]
            }), cn(H, (U, Ie) => M(U, s.getContext(Ie), S)), S
        }

        function M(d, f, s) {
            const m = wt(d), S = d.value;
            cn(m, (H, U) => {
                M(H, S.component ? f ? f.children.getContext(U) : null : f, s)
            }), s.canDeactivateChecks.push(new gi(S.component && f && f.outlet && f.outlet.isActivated ? f.outlet.component : null, S))
        }

        function C(d) {
            return "function" == typeof d
        }

        function fa(d) {
            return d instanceof ue.K || "EmptyError" === d?.name
        }

        const jr = Symbol("INITIAL_VALUE");

        function Ri() {
            return (0, Qe.w)(d => (0, de.a)(d.map(f => f.pipe((0, nt.q)(1), (0, Ke.O)(jr)))).pipe((0, pe.U)(f => {
                for (const s of f) if (!0 !== s) {
                    if (s === jr) return jr;
                    if (!1 === s || s instanceof Jn) return s
                }
                return !0
            }), (0, ge.h)(f => f !== jr), (0, nt.q)(1)))
        }

        function E(d) {
            return (0, ce.z)((0, at.b)(f => {
                if (et(f)) throw Hr(0, f)
            }), (0, pe.U)(f => !0 === f))
        }

        const Y = {
            matched: !1,
            consumedSegments: [],
            remainingSegments: [],
            parameters: {},
            positionalParamSegments: {}
        };

        function fe(d, f, s, m, S) {
            const H = _e(d, f, s);
            return H.matched ? function N(d, f, s, m) {
                const S = f.canMatch;
                if (!S || 0 === S.length) return (0, K.of)(!0);
                const H = S.map(U => {
                    const Ie = Ti(U, d);
                    return Gt(function Xe(d) {
                        return d && C(d.canMatch)
                    }(Ie) ? Ie.canMatch(f, s) : d.runInContext(() => Ie(f, s)))
                });
                return (0, K.of)(H).pipe(Ri(), E())
            }(m = Pi(f, m), f, s).pipe((0, pe.U)(U => !0 === U ? H : {...Y})) : (0, K.of)(H)
        }

        function _e(d, f, s) {
            if ("" === f.path) return "full" === f.pathMatch && (d.hasChildren() || s.length > 0) ? {...Y} : {
                matched: !0,
                consumedSegments: [],
                remainingSegments: s,
                parameters: {},
                positionalParamSegments: {}
            };
            const S = (f.matcher || Bn)(s, d, f);
            if (!S) return {...Y};
            const H = {};
            cn(S.posParams, (Ie, ut) => {
                H[ut] = Ie.path
            });
            const U = S.consumed.length > 0 ? {...H, ...S.consumed[S.consumed.length - 1].parameters} : H;
            return {
                matched: !0,
                consumedSegments: S.consumed,
                remainingSegments: s.slice(S.consumed.length),
                parameters: U,
                positionalParamSegments: S.posParams ?? {}
            }
        }

        function ze(d, f, s, m) {
            if (s.length > 0 && function Wt(d, f, s) {
                return s.some(m => Un(d, f, m) && gr(m) !== gt)
            }(d, s, m)) {
                const H = new Tt(f, function jt(d, f, s, m) {
                    const S = {};
                    S[gt] = m, m._sourceSegment = d, m._segmentIndexShift = f.length;
                    for (const H of s) if ("" === H.path && gr(H) !== gt) {
                        const U = new Tt([], {});
                        U._sourceSegment = d, U._segmentIndexShift = f.length, S[gr(H)] = U
                    }
                    return S
                }(d, f, m, new Tt(s, d.children)));
                return H._sourceSegment = d, H._segmentIndexShift = f.length, {segmentGroup: H, slicedSegments: []}
            }
            if (0 === s.length && function tr(d, f, s) {
                return s.some(m => Un(d, f, m))
            }(d, s, m)) {
                const H = new Tt(d.segments, function ot(d, f, s, m, S) {
                    const H = {};
                    for (const U of m) if (Un(d, s, U) && !S[gr(U)]) {
                        const Ie = new Tt([], {});
                        Ie._sourceSegment = d, Ie._segmentIndexShift = f.length, H[gr(U)] = Ie
                    }
                    return {...S, ...H}
                }(d, f, s, m, d.children));
                return H._sourceSegment = d, H._segmentIndexShift = f.length, {segmentGroup: H, slicedSegments: s}
            }
            const S = new Tt(d.segments, d.children);
            return S._sourceSegment = d, S._segmentIndexShift = f.length, {segmentGroup: S, slicedSegments: s}
        }

        function Un(d, f, s) {
            return (!(d.hasChildren() || f.length > 0) || "full" !== s.pathMatch) && "" === s.path
        }

        function Sn(d, f, s, m) {
            return !!(gr(d) === m || m !== gt && Un(f, s, d)) && ("**" === d.path || _e(f, d, s).matched)
        }

        function Pn(d, f, s) {
            return 0 === f.length && !d.children[s]
        }

        const sr = !1;

        class yr {
            constructor(f) {
                this.segmentGroup = f || null
            }
        }

        class Ur {
            constructor(f) {
                this.urlTree = f
            }
        }

        function $r(d) {
            return Oe(new yr(d))
        }

        function zr(d) {
            return Oe(new Ur(d))
        }

        class xr {
            constructor(f, s, m, S, H) {
                this.injector = f, this.configLoader = s, this.urlSerializer = m, this.urlTree = S, this.config = H, this.allowRedirects = !0
            }

            apply() {
                const f = ze(this.urlTree.root, [], [], this.config).segmentGroup, s = new Tt(f.segments, f.children);
                return this.expandSegmentGroup(this.injector, this.config, s, gt).pipe((0, pe.U)(H => this.createUrlTree(ve(H), this.urlTree.queryParams, this.urlTree.fragment))).pipe(Ye(H => {
                    if (H instanceof Ur) return this.allowRedirects = !1, this.match(H.urlTree);
                    throw H instanceof yr ? this.noMatchError(H) : H
                }))
            }

            match(f) {
                return this.expandSegmentGroup(this.injector, this.config, f.root, gt).pipe((0, pe.U)(S => this.createUrlTree(ve(S), f.queryParams, f.fragment))).pipe(Ye(S => {
                    throw S instanceof yr ? this.noMatchError(S) : S
                }))
            }

            noMatchError(f) {
                return new a.vHH(4002, sr)
            }

            createUrlTree(f, s, m) {
                const S = ae(f);
                return new Jn(S, s, m)
            }

            expandSegmentGroup(f, s, m, S) {
                return 0 === m.segments.length && m.hasChildren() ? this.expandChildren(f, s, m).pipe((0, pe.U)(H => new Tt([], H))) : this.expandSegment(f, m, s, m.segments, S, !0)
            }

            expandChildren(f, s, m) {
                const S = [];
                for (const H of Object.keys(m.children)) "primary" === H ? S.unshift(H) : S.push(H);
                return (0, V.D)(S).pipe((0, Ge.b)(H => {
                    const U = m.children[H], Ie = da(s, H);
                    return this.expandSegmentGroup(f, Ie, U, H).pipe((0, pe.U)(ut => ({segment: ut, outlet: H})))
                }), Re((H, U) => (H[U.outlet] = U.segment, H), {}), rt())
            }

            expandSegment(f, s, m, S, H, U) {
                return (0, V.D)(m).pipe((0, Ge.b)(Ie => this.expandSegmentAgainstRoute(f, s, m, Ie, S, H, U).pipe(Ye(rn => {
                    if (rn instanceof yr) return (0, K.of)(null);
                    throw rn
                }))), (0, Fe.P)(Ie => !!Ie), Ye((Ie, ut) => {
                    if (fa(Ie)) return Pn(s, S, H) ? (0, K.of)(new Tt([], {})) : $r(s);
                    throw Ie
                }))
            }

            expandSegmentAgainstRoute(f, s, m, S, H, U, Ie) {
                return Sn(S, s, H, U) ? void 0 === S.redirectTo ? this.matchSegmentAgainstRoute(f, s, S, H, U) : Ie && this.allowRedirects ? this.expandSegmentAgainstRouteUsingRedirect(f, s, m, S, H, U) : $r(s) : $r(s)
            }

            expandSegmentAgainstRouteUsingRedirect(f, s, m, S, H, U) {
                return "**" === S.path ? this.expandWildCardWithParamsAgainstRouteUsingRedirect(f, m, S, U) : this.expandRegularSegmentAgainstRouteUsingRedirect(f, s, m, S, H, U)
            }

            expandWildCardWithParamsAgainstRouteUsingRedirect(f, s, m, S) {
                const H = this.applyRedirectCommands([], m.redirectTo, {});
                return m.redirectTo.startsWith("/") ? zr(H) : this.lineralizeSegments(m, H).pipe((0, se.z)(U => {
                    const Ie = new Tt(U, {});
                    return this.expandSegment(f, Ie, s, U, S, !1)
                }))
            }

            expandRegularSegmentAgainstRouteUsingRedirect(f, s, m, S, H, U) {
                const {
                    matched: Ie,
                    consumedSegments: ut,
                    remainingSegments: rn,
                    positionalParamSegments: qt
                } = _e(s, S, H);
                if (!Ie) return $r(s);
                const Dr = this.applyRedirectCommands(ut, S.redirectTo, qt);
                return S.redirectTo.startsWith("/") ? zr(Dr) : this.lineralizeSegments(S, Dr).pipe((0, se.z)(ii => this.expandSegment(f, s, m, ii.concat(rn), U, !1)))
            }

            matchSegmentAgainstRoute(f, s, m, S, H) {
                return "**" === m.path ? (f = Pi(m, f), m.loadChildren ? (m._loadedRoutes ? (0, K.of)({
                    routes: m._loadedRoutes,
                    injector: m._loadedInjector
                }) : this.configLoader.loadChildren(f, m)).pipe((0, pe.U)(Ie => (m._loadedRoutes = Ie.routes, m._loadedInjector = Ie.injector, new Tt(S, {})))) : (0, K.of)(new Tt(S, {}))) : fe(s, m, S, f).pipe((0, Qe.w)(({
                                                                                                                                                                                                                                 matched: U,
                                                                                                                                                                                                                                 consumedSegments: Ie,
                                                                                                                                                                                                                                 remainingSegments: ut
                                                                                                                                                                                                                             }) => U ? this.getChildConfig(f = m._injector ?? f, m, S).pipe((0, se.z)(qt => {
                    const Dr = qt.injector ?? f, ii = qt.routes, {
                        segmentGroup: ia,
                        slicedSegments: Ji
                    } = ze(s, Ie, ut, ii), va = new Tt(ia.segments, ia.children);
                    if (0 === Ji.length && va.hasChildren()) return this.expandChildren(Dr, ii, va).pipe((0, pe.U)(uo => new Tt(Ie, uo)));
                    if (0 === ii.length && 0 === Ji.length) return (0, K.of)(new Tt(Ie, {}));
                    const ji = gr(m) === H;
                    return this.expandSegment(Dr, va, ii, Ji, ji ? gt : H, !0).pipe((0, pe.U)(Ta => new Tt(Ie.concat(Ta.segments), Ta.children)))
                })) : $r(s)))
            }

            getChildConfig(f, s, m) {
                return s.children ? (0, K.of)({
                    routes: s.children,
                    injector: f
                }) : s.loadChildren ? void 0 !== s._loadedRoutes ? (0, K.of)({
                    routes: s._loadedRoutes,
                    injector: s._loadedInjector
                }) : function c(d, f, s, m) {
                    const S = f.canLoad;
                    if (void 0 === S || 0 === S.length) return (0, K.of)(!0);
                    const H = S.map(U => {
                        const Ie = Ti(U, d);
                        return Gt(function W(d) {
                            return d && C(d.canLoad)
                        }(Ie) ? Ie.canLoad(f, s) : d.runInContext(() => Ie(f, s)))
                    });
                    return (0, K.of)(H).pipe(Ri(), E())
                }(f, s, m).pipe((0, se.z)(S => S ? this.configLoader.loadChildren(f, s).pipe((0, at.b)(H => {
                    s._loadedRoutes = H.routes, s._loadedInjector = H.injector
                })) : function yi(d) {
                    return Oe(ei(sr, 3))
                }())) : (0, K.of)({routes: [], injector: f})
            }

            lineralizeSegments(f, s) {
                let m = [], S = s.root;
                for (; ;) {
                    if (m = m.concat(S.segments), 0 === S.numberOfChildren) return (0, K.of)(m);
                    if (S.numberOfChildren > 1 || !S.children[gt]) return Oe(new a.vHH(4e3, sr));
                    S = S.children[gt]
                }
            }

            applyRedirectCommands(f, s, m) {
                return this.applyRedirectCreateUrlTree(s, this.urlSerializer.parse(s), f, m)
            }

            applyRedirectCreateUrlTree(f, s, m, S) {
                const H = this.createSegmentGroup(f, s.root, m, S);
                return new Jn(H, this.createQueryParams(s.queryParams, this.urlTree.queryParams), s.fragment)
            }

            createQueryParams(f, s) {
                const m = {};
                return cn(f, (S, H) => {
                    if ("string" == typeof S && S.startsWith(":")) {
                        const Ie = S.substring(1);
                        m[H] = s[Ie]
                    } else m[H] = S
                }), m
            }

            createSegmentGroup(f, s, m, S) {
                const H = this.createSegments(f, s.segments, m, S);
                let U = {};
                return cn(s.children, (Ie, ut) => {
                    U[ut] = this.createSegmentGroup(f, Ie, m, S)
                }), new Tt(H, U)
            }

            createSegments(f, s, m, S) {
                return s.map(H => H.path.startsWith(":") ? this.findPosParam(f, H, S) : this.findOrReturn(H, m))
            }

            findPosParam(f, s, m) {
                const S = m[s.path.substring(1)];
                if (!S) throw new a.vHH(4001, sr);
                return S
            }

            findOrReturn(f, s) {
                let m = 0;
                for (const S of s) {
                    if (S.path === f.path) return s.splice(m), S;
                    m++
                }
                return f
            }
        }

        class Sa {
        }

        class Fa {
            constructor(f, s, m, S, H, U, Ie) {
                this.injector = f, this.rootComponentType = s, this.config = m, this.urlTree = S, this.url = H, this.paramsInheritanceStrategy = U, this.urlSerializer = Ie
            }

            recognize() {
                const f = ze(this.urlTree.root, [], [], this.config.filter(s => void 0 === s.redirectTo)).segmentGroup;
                return this.processSegmentGroup(this.injector, this.config, f, gt).pipe((0, pe.U)(s => {
                    if (null === s) return null;
                    const m = new L([], Object.freeze({}), Object.freeze({...this.urlTree.queryParams}), this.urlTree.fragment, {}, gt, this.rootComponentType, null, this.urlTree.root, -1, {}),
                        S = new Ot(m, s), H = new ne(this.url, S);
                    return this.inheritParamsAndData(H._root), H
                }))
            }

            inheritParamsAndData(f) {
                const s = f.value, m = jn(s, this.paramsInheritanceStrategy);
                s.params = Object.freeze(m.params), s.data = Object.freeze(m.data), f.children.forEach(S => this.inheritParamsAndData(S))
            }

            processSegmentGroup(f, s, m, S) {
                return 0 === m.segments.length && m.hasChildren() ? this.processChildren(f, s, m) : this.processSegment(f, s, m, m.segments, S)
            }

            processChildren(f, s, m) {
                return (0, V.D)(Object.keys(m.children)).pipe((0, Ge.b)(S => {
                    const H = m.children[S], U = da(s, S);
                    return this.processSegmentGroup(f, U, H, S)
                }), Re((S, H) => S && H ? (S.push(...H), S) : null), function _t(d, f = !1) {
                    return (0, mt.e)((s, m) => {
                        let S = 0;
                        s.subscribe((0, ye.x)(m, H => {
                            const U = d(H, S++);
                            (U || f) && m.next(H), !U && m.complete()
                        }))
                    })
                }(S => null !== S), (0, Ve.d)(null), rt(), (0, pe.U)(S => {
                    if (null === S) return null;
                    const H = Dn(S);
                    return function Ra(d) {
                        d.sort((f, s) => f.value.outlet === gt ? -1 : s.value.outlet === gt ? 1 : f.value.outlet.localeCompare(s.value.outlet))
                    }(H), H
                }))
            }

            processSegment(f, s, m, S, H) {
                return (0, V.D)(s).pipe((0, Ge.b)(U => this.processSegmentAgainstRoute(U._injector ?? f, U, m, S, H)), (0, Fe.P)(U => !!U), Ye(U => {
                    if (fa(U)) return Pn(m, S, H) ? (0, K.of)([]) : (0, K.of)(null);
                    throw U
                }))
            }

            processSegmentAgainstRoute(f, s, m, S, H) {
                if (s.redirectTo || !Sn(s, m, S, H)) return (0, K.of)(null);
                let U;
                if ("**" === s.path) {
                    const Ie = S.length > 0 ? _n(S).parameters : {}, ut = _(m) + S.length,
                        rn = new L(S, Ie, Object.freeze({...this.urlTree.queryParams}), this.urlTree.fragment, oe(s), gr(s), s.component ?? s._loadedComponent ?? null, s, I(m), ut, ke(s));
                    U = (0, K.of)({snapshot: rn, consumedSegments: [], remainingSegments: []})
                } else U = fe(m, s, S, f).pipe((0, pe.U)(({
                                                              matched: Ie,
                                                              consumedSegments: ut,
                                                              remainingSegments: rn,
                                                              parameters: qt
                                                          }) => {
                    if (!Ie) return null;
                    const Dr = _(m) + ut.length;
                    return {
                        snapshot: new L(ut, qt, Object.freeze({...this.urlTree.queryParams}), this.urlTree.fragment, oe(s), gr(s), s.component ?? s._loadedComponent ?? null, s, I(m), Dr, ke(s)),
                        consumedSegments: ut,
                        remainingSegments: rn
                    }
                }));
                return U.pipe((0, Qe.w)(Ie => {
                    if (null === Ie) return (0, K.of)(null);
                    const {snapshot: ut, consumedSegments: rn, remainingSegments: qt} = Ie;
                    f = s._injector ?? f;
                    const Dr = s._loadedInjector ?? f, ii = function on(d) {
                        return d.children ? d.children : d.loadChildren ? d._loadedRoutes : []
                    }(s), {
                        segmentGroup: ia,
                        slicedSegments: Ji
                    } = ze(m, rn, qt, ii.filter(ji => void 0 === ji.redirectTo));
                    if (0 === Ji.length && ia.hasChildren()) return this.processChildren(Dr, ii, ia).pipe((0, pe.U)(ji => null === ji ? null : [new Ot(ut, ji)]));
                    if (0 === ii.length && 0 === Ji.length) return (0, K.of)([new Ot(ut, [])]);
                    const va = gr(s) === H;
                    return this.processSegment(Dr, ii, ia, Ji, va ? gt : H).pipe((0, pe.U)(ji => null === ji ? null : [new Ot(ut, ji)]))
                }))
            }
        }

        function mn(d) {
            const f = d.value.routeConfig;
            return f && "" === f.path && void 0 === f.redirectTo
        }

        function Dn(d) {
            const f = [], s = new Set;
            for (const m of d) {
                if (!mn(m)) {
                    f.push(m);
                    continue
                }
                const S = f.find(H => m.value.routeConfig === H.value.routeConfig);
                void 0 !== S ? (S.children.push(...m.children), s.add(S)) : f.push(m)
            }
            for (const m of s) {
                const S = Dn(m.children);
                f.push(new Ot(m.value, S))
            }
            return f.filter(m => !s.has(m))
        }

        function I(d) {
            let f = d;
            for (; f._sourceSegment;) f = f._sourceSegment;
            return f
        }

        function _(d) {
            let f = d, s = f._segmentIndexShift ?? 0;
            for (; f._sourceSegment;) f = f._sourceSegment, s += f._segmentIndexShift ?? 0;
            return s - 1
        }

        function oe(d) {
            return d.data || {}
        }

        function ke(d) {
            return d.resolve || {}
        }

        function Rr(d) {
            return "string" == typeof d.title || null === d.title
        }

        function wr(d) {
            return (0, Qe.w)(f => {
                const s = d(f);
                return s ? (0, V.D)(s).pipe((0, pe.U)(() => f)) : (0, K.of)(f)
            })
        }

        const ri = new a.OlP("ROUTES");
        let hi = (() => {
            class d {
                constructor(s, m) {
                    this.injector = s, this.compiler = m, this.componentLoaders = new WeakMap, this.childrenLoaders = new WeakMap
                }

                loadComponent(s) {
                    if (this.componentLoaders.get(s)) return this.componentLoaders.get(s);
                    if (s._loadedComponent) return (0, K.of)(s._loadedComponent);
                    this.onLoadStartListener && this.onLoadStartListener(s);
                    const m = Gt(s.loadComponent()).pipe((0, pe.U)(ra), (0, at.b)(H => {
                        this.onLoadEndListener && this.onLoadEndListener(s), s._loadedComponent = H
                    }), Dt(() => {
                        this.componentLoaders.delete(s)
                    })), S = new $e(m, () => new yt.x).pipe(Ue());
                    return this.componentLoaders.set(s, S), S
                }

                loadChildren(s, m) {
                    if (this.childrenLoaders.get(m)) return this.childrenLoaders.get(m);
                    if (m._loadedRoutes) return (0, K.of)({routes: m._loadedRoutes, injector: m._loadedInjector});
                    this.onLoadStartListener && this.onLoadStartListener(m);
                    const H = this.loadModuleFactoryOrRoutes(m.loadChildren).pipe((0, pe.U)(Ie => {
                        this.onLoadEndListener && this.onLoadEndListener(m);
                        let ut, rn, qt = !1;
                        Array.isArray(Ie) ? rn = Ie : (ut = Ie.create(s).injector, rn = xn(ut.get(ri, [], a.XFs.Self | a.XFs.Optional)));
                        return {routes: rn.map(Fi), injector: ut}
                    }), Dt(() => {
                        this.childrenLoaders.delete(m)
                    })), U = new $e(H, () => new yt.x).pipe(Ue());
                    return this.childrenLoaders.set(m, U), U
                }

                loadModuleFactoryOrRoutes(s) {
                    return Gt(s()).pipe((0, pe.U)(ra), (0, se.z)(S => S instanceof a.YKP || Array.isArray(S) ? (0, K.of)(S) : (0, V.D)(this.compiler.compileModuleAsync(S))))
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.LFG(a.zs3), a.LFG(a.Sil))
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();

        function ra(d) {
            return function Hi(d) {
                return d && "object" == typeof d && "default" in d
            }(d) ? d.default : d
        }

        let ha = (() => {
            class d {
                get hasRequestedNavigation() {
                    return 0 !== this.navigationId
                }

                constructor() {
                    this.currentNavigation = null, this.lastSuccessfulNavigation = null, this.events = new yt.x, this.configLoader = (0, a.f3M)(hi), this.environmentInjector = (0, a.f3M)(a.lqb), this.urlSerializer = (0, a.f3M)(fn), this.rootContexts = (0, a.f3M)(Zr), this.navigationId = 0, this.afterPreactivation = () => (0, K.of)(void 0), this.rootComponentType = null, this.configLoader.onLoadEndListener = S => this.events.next(new ft(S)), this.configLoader.onLoadStartListener = S => this.events.next(new Ze(S))
                }

                complete() {
                    this.transitions?.complete()
                }

                handleNavigationRequest(s) {
                    const m = ++this.navigationId;
                    this.transitions?.next({...this.transitions.value, ...s, id: m})
                }

                setupNavigations(s) {
                    return this.transitions = new k.X({
                        id: 0,
                        targetPageId: 0,
                        currentUrlTree: s.currentUrlTree,
                        currentRawUrl: s.currentUrlTree,
                        extractedUrl: s.urlHandlingStrategy.extract(s.currentUrlTree),
                        urlAfterRedirects: s.urlHandlingStrategy.extract(s.currentUrlTree),
                        rawUrl: s.currentUrlTree,
                        extras: {},
                        resolve: null,
                        reject: null,
                        promise: Promise.resolve(!0),
                        source: Ln,
                        restoredState: null,
                        currentSnapshot: s.routerState.snapshot,
                        targetSnapshot: null,
                        currentRouterState: s.routerState,
                        targetRouterState: null,
                        guards: {canActivateChecks: [], canDeactivateChecks: []},
                        guardsResult: null
                    }), this.transitions.pipe((0, ge.h)(m => 0 !== m.id), (0, pe.U)(m => ({
                        ...m,
                        extractedUrl: s.urlHandlingStrategy.extract(m.rawUrl)
                    })), (0, Qe.w)(m => {
                        let S = !1, H = !1;
                        return (0, K.of)(m).pipe((0, at.b)(U => {
                            this.currentNavigation = {
                                id: U.id,
                                initialUrl: U.rawUrl,
                                extractedUrl: U.extractedUrl,
                                trigger: U.source,
                                extras: U.extras,
                                previousNavigation: this.lastSuccessfulNavigation ? {
                                    ...this.lastSuccessfulNavigation,
                                    previousNavigation: null
                                } : null
                            }
                        }), (0, Qe.w)(U => {
                            const Ie = s.browserUrlTree.toString(),
                                ut = !s.navigated || U.extractedUrl.toString() !== Ie || Ie !== s.currentUrlTree.toString();
                            if (!ut && "reload" !== (U.extras.onSameUrlNavigation ?? s.onSameUrlNavigation)) {
                                const qt = "";
                                return this.events.next(new v(U.id, s.serializeUrl(m.rawUrl), qt, 0)), s.rawUrlTree = U.rawUrl, U.resolve(null), xe.E
                            }
                            if (s.urlHandlingStrategy.shouldProcessUrl(U.rawUrl)) return La(U.source) && (s.browserUrlTree = U.extractedUrl), (0, K.of)(U).pipe((0, Qe.w)(qt => {
                                const Dr = this.transitions?.getValue();
                                return this.events.next(new Ir(qt.id, this.urlSerializer.serialize(qt.extractedUrl), qt.source, qt.restoredState)), Dr !== this.transitions?.getValue() ? xe.E : Promise.resolve(qt)
                            }), function Qr(d, f, s, m) {
                                return (0, Qe.w)(S => function ni(d, f, s, m, S) {
                                    return new xr(d, f, s, m, S).apply()
                                }(d, f, s, S.extractedUrl, m).pipe((0, pe.U)(H => ({...S, urlAfterRedirects: H}))))
                            }(this.environmentInjector, this.configLoader, this.urlSerializer, s.config), (0, at.b)(qt => {
                                this.currentNavigation = {
                                    ...this.currentNavigation,
                                    finalUrl: qt.urlAfterRedirects
                                }, m.urlAfterRedirects = qt.urlAfterRedirects
                            }), function pt(d, f, s, m, S) {
                                return (0, se.z)(H => function ki(d, f, s, m, S, H, U = "emptyOnly") {
                                    return new Fa(d, f, s, m, S, U, H).recognize().pipe((0, Qe.w)(Ie => null === Ie ? function na(d) {
                                        return new Te.y(f => f.error(d))
                                    }(new Sa) : (0, K.of)(Ie)))
                                }(d, f, s, H.urlAfterRedirects, m.serialize(H.urlAfterRedirects), m, S).pipe((0, pe.U)(U => ({
                                    ...H,
                                    targetSnapshot: U
                                }))))
                            }(this.environmentInjector, this.rootComponentType, s.config, this.urlSerializer, s.paramsInheritanceStrategy), (0, at.b)(qt => {
                                if (m.targetSnapshot = qt.targetSnapshot, "eager" === s.urlUpdateStrategy) {
                                    if (!qt.extras.skipLocationChange) {
                                        const ii = s.urlHandlingStrategy.merge(qt.urlAfterRedirects, qt.rawUrl);
                                        s.setBrowserUrl(ii, qt)
                                    }
                                    s.browserUrlTree = qt.urlAfterRedirects
                                }
                                const Dr = new X(qt.id, this.urlSerializer.serialize(qt.extractedUrl), this.urlSerializer.serialize(qt.urlAfterRedirects), qt.targetSnapshot);
                                this.events.next(Dr)
                            }));
                            if (ut && s.urlHandlingStrategy.shouldProcessUrl(s.rawUrlTree)) {
                                const {id: qt, extractedUrl: Dr, source: ii, restoredState: ia, extras: Ji} = U,
                                    va = new Ir(qt, this.urlSerializer.serialize(Dr), ii, ia);
                                this.events.next(va);
                                const ji = Gn(Dr, this.rootComponentType).snapshot;
                                return m = {
                                    ...U,
                                    targetSnapshot: ji,
                                    urlAfterRedirects: Dr,
                                    extras: {...Ji, skipLocationChange: !1, replaceUrl: !1}
                                }, (0, K.of)(m)
                            }
                            {
                                const qt = "";
                                return this.events.next(new v(U.id, s.serializeUrl(m.extractedUrl), qt, 1)), s.rawUrlTree = U.rawUrl, U.resolve(null), xe.E
                            }
                        }), (0, at.b)(U => {
                            const Ie = new ie(U.id, this.urlSerializer.serialize(U.extractedUrl), this.urlSerializer.serialize(U.urlAfterRedirects), U.targetSnapshot);
                            this.events.next(Ie)
                        }), (0, pe.U)(U => m = {
                            ...U,
                            guards: Ea(U.targetSnapshot, U.currentSnapshot, this.rootContexts)
                        }), function zi(d, f) {
                            return (0, se.z)(s => {
                                const {
                                    targetSnapshot: m,
                                    currentSnapshot: S,
                                    guards: {canActivateChecks: H, canDeactivateChecks: U}
                                } = s;
                                return 0 === U.length && 0 === H.length ? (0, K.of)({
                                    ...s,
                                    guardsResult: !0
                                }) : function fi(d, f, s, m) {
                                    return (0, V.D)(d).pipe((0, se.z)(S => function u(d, f, s, m, S) {
                                        const H = f && f.routeConfig ? f.routeConfig.canDeactivate : null;
                                        if (!H || 0 === H.length) return (0, K.of)(!0);
                                        const U = H.map(Ie => {
                                            const ut = Di(f) ?? S, rn = Ti(Ie, ut);
                                            return Gt(function kr(d) {
                                                return d && C(d.canDeactivate)
                                            }(rn) ? rn.canDeactivate(d, f, s, m) : ut.runInContext(() => rn(d, f, s, m))).pipe((0, Fe.P)())
                                        });
                                        return (0, K.of)(U).pipe(Ri())
                                    }(S.component, S.route, s, f, m)), (0, Fe.P)(S => !0 !== S, !0))
                                }(U, m, S, d).pipe((0, se.z)(Ie => Ie && function b(d) {
                                    return "boolean" == typeof d
                                }(Ie) ? function wa(d, f, s, m) {
                                    return (0, V.D)(f).pipe((0, Ge.b)(S => (0, be.z)(function Fo(d, f) {
                                        return null !== d && f && f(new lt(d)), (0, K.of)(!0)
                                    }(S.route.parent, m), function Na(d, f) {
                                        return null !== d && f && f(new It(d)), (0, K.of)(!0)
                                    }(S.route, m), function F(d, f, s) {
                                        const m = f[f.length - 1],
                                            H = f.slice(0, f.length - 1).reverse().map(U => function Ci(d) {
                                                const f = d.routeConfig ? d.routeConfig.canActivateChild : null;
                                                return f && 0 !== f.length ? {node: d, guards: f} : null
                                            }(U)).filter(U => null !== U).map(U => me(() => {
                                                const Ie = U.guards.map(ut => {
                                                    const rn = Di(U.node) ?? s, qt = Ti(ut, rn);
                                                    return Gt(function pn(d) {
                                                        return d && C(d.canActivateChild)
                                                    }(qt) ? qt.canActivateChild(m, d) : rn.runInContext(() => qt(m, d))).pipe((0, Fe.P)())
                                                });
                                                return (0, K.of)(Ie).pipe(Ri())
                                            }));
                                        return (0, K.of)(H).pipe(Ri())
                                    }(d, S.path, s), function eo(d, f, s) {
                                        const m = f.routeConfig ? f.routeConfig.canActivate : null;
                                        if (!m || 0 === m.length) return (0, K.of)(!0);
                                        const S = m.map(H => me(() => {
                                            const U = Di(f) ?? s, Ie = Ti(H, U);
                                            return Gt(function qe(d) {
                                                return d && C(d.canActivate)
                                            }(Ie) ? Ie.canActivate(f, d) : U.runInContext(() => Ie(f, d))).pipe((0, Fe.P)())
                                        }));
                                        return (0, K.of)(S).pipe(Ri())
                                    }(d, S.route, s))), (0, Fe.P)(S => !0 !== S, !0))
                                }(m, H, d, f) : (0, K.of)(Ie)), (0, pe.U)(Ie => ({...s, guardsResult: Ie})))
                            })
                        }(this.environmentInjector, U => this.events.next(U)), (0, at.b)(U => {
                            if (m.guardsResult = U.guardsResult, et(U.guardsResult)) throw Hr(0, U.guardsResult);
                            const Ie = new Z(U.id, this.urlSerializer.serialize(U.extractedUrl), this.urlSerializer.serialize(U.urlAfterRedirects), U.targetSnapshot, !!U.guardsResult);
                            this.events.next(Ie)
                        }), (0, ge.h)(U => !!U.guardsResult || (s.restoreHistory(U), this.cancelNavigationTransition(U, "", 3), !1)), wr(U => {
                            if (U.guards.canActivateChecks.length) return (0, K.of)(U).pipe((0, at.b)(Ie => {
                                const ut = new Le(Ie.id, this.urlSerializer.serialize(Ie.extractedUrl), this.urlSerializer.serialize(Ie.urlAfterRedirects), Ie.targetSnapshot);
                                this.events.next(ut)
                            }), (0, Qe.w)(Ie => {
                                let ut = !1;
                                return (0, K.of)(Ie).pipe(function an(d, f) {
                                    return (0, se.z)(s => {
                                        const {targetSnapshot: m, guards: {canActivateChecks: S}} = s;
                                        if (!S.length) return (0, K.of)(s);
                                        let H = 0;
                                        return (0, V.D)(S).pipe((0, Ge.b)(U => function Tn(d, f, s, m) {
                                            const S = d.routeConfig, H = d._resolve;
                                            return void 0 !== S?.title && !Rr(S) && (H[Xt] = S.title), function ir(d, f, s, m) {
                                                const S = function Kn(d) {
                                                    return [...Object.keys(d), ...Object.getOwnPropertySymbols(d)]
                                                }(d);
                                                if (0 === S.length) return (0, K.of)({});
                                                const H = {};
                                                return (0, V.D)(S).pipe((0, se.z)(U => function Qn(d, f, s, m) {
                                                    const S = Di(f) ?? m, H = Ti(d, S);
                                                    return Gt(H.resolve ? H.resolve(f, s) : S.runInContext(() => H(f, s)))
                                                }(d[U], f, s, m).pipe((0, Fe.P)(), (0, at.b)(Ie => {
                                                    H[U] = Ie
                                                }))), De(1), (0, Ut.h)(H), Ye(U => fa(U) ? xe.E : Oe(U)))
                                            }(H, d, f, m).pipe((0, pe.U)(U => (d._resolvedData = U, d.data = jn(d, s).resolve, S && Rr(S) && (d.data[Xt] = S.title), null)))
                                        }(U.route, m, d, f)), (0, at.b)(() => H++), De(1), (0, se.z)(U => H === S.length ? (0, K.of)(s) : xe.E))
                                    })
                                }(s.paramsInheritanceStrategy, this.environmentInjector), (0, at.b)({
                                    next: () => ut = !0,
                                    complete: () => {
                                        ut || (s.restoreHistory(Ie), this.cancelNavigationTransition(Ie, "", 2))
                                    }
                                }))
                            }), (0, at.b)(Ie => {
                                const ut = new te(Ie.id, this.urlSerializer.serialize(Ie.extractedUrl), this.urlSerializer.serialize(Ie.urlAfterRedirects), Ie.targetSnapshot);
                                this.events.next(ut)
                            }))
                        }), wr(U => {
                            const Ie = ut => {
                                const rn = [];
                                ut.routeConfig?.loadComponent && !ut.routeConfig._loadedComponent && rn.push(this.configLoader.loadComponent(ut.routeConfig).pipe((0, at.b)(qt => {
                                    ut.component = qt
                                }), (0, pe.U)(() => {
                                })));
                                for (const qt of ut.children) rn.push(...Ie(qt));
                                return rn
                            };
                            return (0, de.a)(Ie(U.targetSnapshot.root)).pipe((0, Ve.d)(), (0, nt.q)(1))
                        }), wr(() => this.afterPreactivation()), (0, pe.U)(U => {
                            const Ie = function Vr(d, f, s) {
                                const m = Pr(d, f._root, s ? s._root : void 0);
                                return new bn(m, f)
                            }(s.routeReuseStrategy, U.targetSnapshot, U.currentRouterState);
                            return m = {...U, targetRouterState: Ie}
                        }), (0, at.b)(U => {
                            s.currentUrlTree = U.urlAfterRedirects, s.rawUrlTree = s.urlHandlingStrategy.merge(U.urlAfterRedirects, U.rawUrl), s.routerState = U.targetRouterState, "deferred" === s.urlUpdateStrategy && (U.extras.skipLocationChange || s.setBrowserUrl(s.rawUrlTree, U), s.browserUrlTree = U.urlAfterRedirects)
                        }), ((d, f, s) => (0, pe.U)(m => (new ti(f, m.targetRouterState, m.currentRouterState, s).activate(d), m)))(this.rootContexts, s.routeReuseStrategy, U => this.events.next(U)), (0, at.b)({
                            next: U => {
                                S = !0, this.lastSuccessfulNavigation = this.currentNavigation, s.navigated = !0, this.events.next(new dn(U.id, this.urlSerializer.serialize(U.extractedUrl), this.urlSerializer.serialize(s.currentUrlTree))), s.titleStrategy?.updateTitle(U.targetRouterState.snapshot), U.resolve(!0)
                            }, complete: () => {
                                S = !0
                            }
                        }), Dt(() => {
                            S || H || this.cancelNavigationTransition(m, "", 1), this.currentNavigation?.id === m.id && (this.currentNavigation = null)
                        }), Ye(U => {
                            if (H = !0, Fr(U)) {
                                Br(U) || (s.navigated = !0, s.restoreHistory(m, !0));
                                const Ie = new Or(m.id, this.urlSerializer.serialize(m.extractedUrl), U.message, U.cancellationCode);
                                if (this.events.next(Ie), Br(U)) {
                                    const ut = s.urlHandlingStrategy.merge(U.url, s.rawUrlTree), rn = {
                                        skipLocationChange: m.extras.skipLocationChange,
                                        replaceUrl: "eager" === s.urlUpdateStrategy || La(m.source)
                                    };
                                    s.scheduleNavigation(ut, Ln, null, rn, {
                                        resolve: m.resolve,
                                        reject: m.reject,
                                        promise: m.promise
                                    })
                                } else m.resolve(!1)
                            } else {
                                s.restoreHistory(m, !0);
                                const Ie = new x(m.id, this.urlSerializer.serialize(m.extractedUrl), U, m.targetSnapshot ?? void 0);
                                this.events.next(Ie);
                                try {
                                    m.resolve(s.errorHandler(U))
                                } catch (ut) {
                                    m.reject(ut)
                                }
                            }
                            return xe.E
                        }))
                    }))
                }

                cancelNavigationTransition(s, m, S) {
                    const H = new Or(s.id, this.urlSerializer.serialize(s.extractedUrl), m, S);
                    this.events.next(H), s.resolve(!1)
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();

        function La(d) {
            return d !== Ln
        }

        let to = (() => {
            class d {
                buildTitle(s) {
                    let m, S = s.root;
                    for (; void 0 !== S;) m = this.getResolvedTitleForRoute(S) ?? m, S = S.children.find(H => H.outlet === gt);
                    return m
                }

                getResolvedTitleForRoute(s) {
                    return s.data[Xt]
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({
                token: d, factory: function () {
                    return (0, a.f3M)(no)
                }, providedIn: "root"
            }), d
        })(), no = (() => {
            class d extends to {
                constructor(s) {
                    super(), this.title = s
                }

                updateTitle(s) {
                    const m = this.buildTitle(s);
                    void 0 !== m && this.title.setTitle(m)
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.LFG(Bt.Dx))
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })(), vd = (() => {
            class d {
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({
                token: d, factory: function () {
                    return (0, a.f3M)(ms)
                }, providedIn: "root"
            }), d
        })();

        class ps {
            shouldDetach(f) {
                return !1
            }

            store(f, s) {
            }

            shouldAttach(f) {
                return !1
            }

            retrieve(f) {
                return null
            }

            shouldReuseRoute(f, s) {
                return f.routeConfig === s.routeConfig
            }
        }

        let ms = (() => {
            class d extends ps {
            }

            return d.\u0275fac = function () {
                let f;
                return function (m) {
                    return (f || (f = a.n5z(d)))(m || d)
                }
            }(), d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();
        const wi = new a.OlP("", {providedIn: "root", factory: () => ({})});
        let dl = (() => {
            class d {
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({
                token: d, factory: function () {
                    return (0, a.f3M)(ro)
                }, providedIn: "root"
            }), d
        })(), ro = (() => {
            class d {
                shouldProcessUrl(s) {
                    return !0
                }

                extract(s) {
                    return s
                }

                merge(s, m) {
                    return s
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();

        function gs(d) {
            throw d
        }

        function Ro(d, f, s) {
            return f.parse("/")
        }

        const Lo = {paths: "exact", fragment: "ignored", matrixParams: "ignored", queryParams: "exact"},
            cl = {paths: "subset", fragment: "ignored", matrixParams: "ignored", queryParams: "subset"};
        let pi = (() => {
            class d {
                get navigationId() {
                    return this.navigationTransitions.navigationId
                }

                get browserPageId() {
                    return this.location.getState()?.\u0275routerPageId
                }

                get events() {
                    return this.navigationTransitions.events
                }

                constructor() {
                    this.disposed = !1, this.currentPageId = 0, this.console = (0, a.f3M)(a.c2e), this.isNgZoneEnabled = !1, this.options = (0, a.f3M)(wi, {optional: !0}) || {}, this.errorHandler = this.options.errorHandler || gs, this.malformedUriErrorHandler = this.options.malformedUriErrorHandler || Ro, this.navigated = !1, this.lastSuccessfulId = -1, this.urlHandlingStrategy = (0, a.f3M)(dl), this.routeReuseStrategy = (0, a.f3M)(vd), this.urlCreationStrategy = (0, a.f3M)(Vt), this.titleStrategy = (0, a.f3M)(to), this.onSameUrlNavigation = this.options.onSameUrlNavigation || "ignore", this.paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || "emptyOnly", this.urlUpdateStrategy = this.options.urlUpdateStrategy || "deferred", this.canceledNavigationResolution = this.options.canceledNavigationResolution || "replace", this.config = xn((0, a.f3M)(ri, {optional: !0}) ?? []), this.navigationTransitions = (0, a.f3M)(ha), this.urlSerializer = (0, a.f3M)(fn), this.location = (0, a.f3M)(We.Ye), this.isNgZoneEnabled = (0, a.f3M)(a.R0b) instanceof a.R0b && a.R0b.isInAngularZone(), this.resetConfig(this.config), this.currentUrlTree = new Jn, this.rawUrlTree = this.currentUrlTree, this.browserUrlTree = this.currentUrlTree, this.routerState = Gn(this.currentUrlTree, null), this.navigationTransitions.setupNavigations(this).subscribe(s => {
                        this.lastSuccessfulId = s.id, this.currentPageId = s.targetPageId
                    }, s => {
                        this.console.warn(`Unhandled Navigation Error: ${s}`)
                    })
                }

                resetRootComponentType(s) {
                    this.routerState.root.component = s, this.navigationTransitions.rootComponentType = s
                }

                initialNavigation() {
                    if (this.setUpLocationChangeListener(), !this.navigationTransitions.hasRequestedNavigation) {
                        const s = this.location.getState();
                        this.navigateToSyncWithBrowser(this.location.path(!0), Ln, s)
                    }
                }

                setUpLocationChangeListener() {
                    this.locationSubscription || (this.locationSubscription = this.location.subscribe(s => {
                        const m = "popstate" === s.type ? "popstate" : "hashchange";
                        "popstate" === m && setTimeout(() => {
                            this.navigateToSyncWithBrowser(s.url, m, s.state)
                        }, 0)
                    }))
                }

                navigateToSyncWithBrowser(s, m, S) {
                    const H = {replaceUrl: !0}, U = S?.navigationId ? S : null;
                    if (S) {
                        const ut = {...S};
                        delete ut.navigationId, delete ut.\u0275routerPageId, 0 !== Object.keys(ut).length && (H.state = ut)
                    }
                    const Ie = this.parseUrl(s);
                    this.scheduleNavigation(Ie, m, U, H)
                }

                get url() {
                    return this.serializeUrl(this.currentUrlTree)
                }

                getCurrentNavigation() {
                    return this.navigationTransitions.currentNavigation
                }

                resetConfig(s) {
                    this.config = s.map(Fi), this.navigated = !1, this.lastSuccessfulId = -1
                }

                ngOnDestroy() {
                    this.dispose()
                }

                dispose() {
                    this.navigationTransitions.complete(), this.locationSubscription && (this.locationSubscription.unsubscribe(), this.locationSubscription = void 0), this.disposed = !0
                }

                createUrlTree(s, m = {}) {
                    const {
                        relativeTo: S,
                        queryParams: H,
                        fragment: U,
                        queryParamsHandling: Ie,
                        preserveFragment: ut
                    } = m, rn = ut ? this.currentUrlTree.fragment : U;
                    let qt = null;
                    switch (Ie) {
                        case"merge":
                            qt = {...this.currentUrlTree.queryParams, ...H};
                            break;
                        case"preserve":
                            qt = this.currentUrlTree.queryParams;
                            break;
                        default:
                            qt = H || null
                    }
                    return null !== qt && (qt = this.removeEmptyProps(qt)), this.urlCreationStrategy.createUrlTree(S, this.routerState, this.currentUrlTree, s, qt, rn ?? null)
                }

                navigateByUrl(s, m = {skipLocationChange: !1}) {
                    const S = et(s) ? s : this.parseUrl(s), H = this.urlHandlingStrategy.merge(S, this.rawUrlTree);
                    return this.scheduleNavigation(H, Ln, null, m)
                }

                navigate(s, m = {skipLocationChange: !1}) {
                    return function ys(d) {
                        for (let f = 0; f < d.length; f++) {
                            if (null == d[f]) throw new a.vHH(4008, !1)
                        }
                    }(s), this.navigateByUrl(this.createUrlTree(s, m), m)
                }

                serializeUrl(s) {
                    return this.urlSerializer.serialize(s)
                }

                parseUrl(s) {
                    let m;
                    try {
                        m = this.urlSerializer.parse(s)
                    } catch (S) {
                        m = this.malformedUriErrorHandler(S, this.urlSerializer, s)
                    }
                    return m
                }

                isActive(s, m) {
                    let S;
                    if (S = !0 === m ? {...Lo} : !1 === m ? {...cl} : m, et(s)) return hr(this.currentUrlTree, s, S);
                    const H = this.parseUrl(s);
                    return hr(this.currentUrlTree, H, S)
                }

                removeEmptyProps(s) {
                    return Object.keys(s).reduce((m, S) => {
                        const H = s[S];
                        return null != H && (m[S] = H), m
                    }, {})
                }

                scheduleNavigation(s, m, S, H, U) {
                    if (this.disposed) return Promise.resolve(!1);
                    let Ie, ut, rn, qt;
                    return U ? (Ie = U.resolve, ut = U.reject, rn = U.promise) : rn = new Promise((Dr, ii) => {
                        Ie = Dr, ut = ii
                    }), qt = "computed" === this.canceledNavigationResolution ? S && S.\u0275routerPageId ? S.\u0275routerPageId : H.replaceUrl || H.skipLocationChange ? this.browserPageId ?? 0 : (this.browserPageId ?? 0) + 1 : 0, this.navigationTransitions.handleNavigationRequest({
                        targetPageId: qt,
                        source: m,
                        restoredState: S,
                        currentUrlTree: this.currentUrlTree,
                        currentRawUrl: this.currentUrlTree,
                        rawUrl: s,
                        extras: H,
                        resolve: Ie,
                        reject: ut,
                        promise: rn,
                        currentSnapshot: this.routerState.snapshot,
                        currentRouterState: this.routerState
                    }), rn.catch(Dr => Promise.reject(Dr))
                }

                setBrowserUrl(s, m) {
                    const S = this.urlSerializer.serialize(s),
                        H = {...m.extras.state, ...this.generateNgRouterState(m.id, m.targetPageId)};
                    this.location.isCurrentPathEqualTo(S) || m.extras.replaceUrl ? this.location.replaceState(S, "", H) : this.location.go(S, "", H)
                }

                restoreHistory(s, m = !1) {
                    if ("computed" === this.canceledNavigationResolution) {
                        const S = this.currentPageId - s.targetPageId;
                        "popstate" !== s.source && "eager" !== this.urlUpdateStrategy && this.currentUrlTree !== this.getCurrentNavigation()?.finalUrl || 0 === S ? this.currentUrlTree === this.getCurrentNavigation()?.finalUrl && 0 === S && (this.resetState(s), this.browserUrlTree = s.currentUrlTree, this.resetUrlToCurrentUrlTree()) : this.location.historyGo(S)
                    } else "replace" === this.canceledNavigationResolution && (m && this.resetState(s), this.resetUrlToCurrentUrlTree())
                }

                resetState(s) {
                    this.routerState = s.currentRouterState, this.currentUrlTree = s.currentUrlTree, this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, s.rawUrl)
                }

                resetUrlToCurrentUrlTree() {
                    this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree), "", this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId))
                }

                generateNgRouterState(s, m) {
                    return "computed" === this.canceledNavigationResolution ? {
                        navigationId: s,
                        \u0275routerPageId: m
                    } : {navigationId: s}
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })(), ka = (() => {
            class d {
                constructor(s, m, S, H, U, Ie) {
                    this.router = s, this.route = m, this.tabIndexAttribute = S, this.renderer = H, this.el = U, this.locationStrategy = Ie, this._preserveFragment = !1, this._skipLocationChange = !1, this._replaceUrl = !1, this.href = null, this.commands = null, this.onChanges = new yt.x;
                    const ut = U.nativeElement.tagName?.toLowerCase();
                    this.isAnchorElement = "a" === ut || "area" === ut, this.isAnchorElement ? this.subscription = s.events.subscribe(rn => {
                        rn instanceof dn && this.updateHref()
                    }) : this.setTabIndexIfNotOnNativeEl("0")
                }

                set preserveFragment(s) {
                    this._preserveFragment = (0, a.D6c)(s)
                }

                get preserveFragment() {
                    return this._preserveFragment
                }

                set skipLocationChange(s) {
                    this._skipLocationChange = (0, a.D6c)(s)
                }

                get skipLocationChange() {
                    return this._skipLocationChange
                }

                set replaceUrl(s) {
                    this._replaceUrl = (0, a.D6c)(s)
                }

                get replaceUrl() {
                    return this._replaceUrl
                }

                setTabIndexIfNotOnNativeEl(s) {
                    null != this.tabIndexAttribute || this.isAnchorElement || this.applyAttributeValue("tabindex", s)
                }

                ngOnChanges(s) {
                    this.isAnchorElement && this.updateHref(), this.onChanges.next(this)
                }

                set routerLink(s) {
                    null != s ? (this.commands = Array.isArray(s) ? s : [s], this.setTabIndexIfNotOnNativeEl("0")) : (this.commands = null, this.setTabIndexIfNotOnNativeEl(null))
                }

                onClick(s, m, S, H, U) {
                    return !!(null === this.urlTree || this.isAnchorElement && (0 !== s || m || S || H || U || "string" == typeof this.target && "_self" != this.target)) || (this.router.navigateByUrl(this.urlTree, {
                        skipLocationChange: this.skipLocationChange,
                        replaceUrl: this.replaceUrl,
                        state: this.state
                    }), !this.isAnchorElement)
                }

                ngOnDestroy() {
                    this.subscription?.unsubscribe()
                }

                updateHref() {
                    this.href = null !== this.urlTree && this.locationStrategy ? this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)) : null;
                    const s = null === this.href ? null : (0, a.P3R)(this.href, this.el.nativeElement.tagName.toLowerCase(), "href");
                    this.applyAttributeValue("href", s)
                }

                applyAttributeValue(s, m) {
                    const S = this.renderer, H = this.el.nativeElement;
                    null !== m ? S.setAttribute(H, s, m) : S.removeAttribute(H, s)
                }

                get urlTree() {
                    return null === this.commands ? null : this.router.createUrlTree(this.commands, {
                        relativeTo: void 0 !== this.relativeTo ? this.relativeTo : this.route,
                        queryParams: this.queryParams,
                        fragment: this.fragment,
                        queryParamsHandling: this.queryParamsHandling,
                        preserveFragment: this.preserveFragment
                    })
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.Y36(pi), a.Y36(En), a.$8M("tabindex"), a.Y36(a.Qsj), a.Y36(a.SBq), a.Y36(We.S$))
            }, d.\u0275dir = a.lG2({
                type: d,
                selectors: [["", "routerLink", ""]],
                hostVars: 1,
                hostBindings: function (s, m) {
                    1 & s && a.NdJ("click", function (H) {
                        return m.onClick(H.button, H.ctrlKey, H.shiftKey, H.altKey, H.metaKey)
                    }), 2 & s && a.uIk("target", m.target)
                },
                inputs: {
                    target: "target",
                    queryParams: "queryParams",
                    fragment: "fragment",
                    queryParamsHandling: "queryParamsHandling",
                    state: "state",
                    relativeTo: "relativeTo",
                    preserveFragment: "preserveFragment",
                    skipLocationChange: "skipLocationChange",
                    replaceUrl: "replaceUrl",
                    routerLink: "routerLink"
                },
                standalone: !0,
                features: [a.TTD]
            }), d
        })(), ko = (() => {
            class d {
                get isActive() {
                    return this._isActive
                }

                constructor(s, m, S, H, U) {
                    this.router = s, this.element = m, this.renderer = S, this.cdr = H, this.link = U, this.classes = [], this._isActive = !1, this.routerLinkActiveOptions = {exact: !1}, this.isActiveChange = new a.vpe, this.routerEventsSubscription = s.events.subscribe(Ie => {
                        Ie instanceof dn && this.update()
                    })
                }

                ngAfterContentInit() {
                    (0, K.of)(this.links.changes, (0, K.of)(null)).pipe((0, At.J)()).subscribe(s => {
                        this.update(), this.subscribeToEachLinkOnChanges()
                    })
                }

                subscribeToEachLinkOnChanges() {
                    this.linkInputChangesSubscription?.unsubscribe();
                    const s = [...this.links.toArray(), this.link].filter(m => !!m).map(m => m.onChanges);
                    this.linkInputChangesSubscription = (0, V.D)(s).pipe((0, At.J)()).subscribe(m => {
                        this._isActive !== this.isLinkActive(this.router)(m) && this.update()
                    })
                }

                set routerLinkActive(s) {
                    const m = Array.isArray(s) ? s : s.split(" ");
                    this.classes = m.filter(S => !!S)
                }

                ngOnChanges(s) {
                    this.update()
                }

                ngOnDestroy() {
                    this.routerEventsSubscription.unsubscribe(), this.linkInputChangesSubscription?.unsubscribe()
                }

                update() {
                    !this.links || !this.router.navigated || Promise.resolve().then(() => {
                        const s = this.hasActiveLinks();
                        this._isActive !== s && (this._isActive = s, this.cdr.markForCheck(), this.classes.forEach(m => {
                            s ? this.renderer.addClass(this.element.nativeElement, m) : this.renderer.removeClass(this.element.nativeElement, m)
                        }), s && void 0 !== this.ariaCurrentWhenActive ? this.renderer.setAttribute(this.element.nativeElement, "aria-current", this.ariaCurrentWhenActive.toString()) : this.renderer.removeAttribute(this.element.nativeElement, "aria-current"), this.isActiveChange.emit(s))
                    })
                }

                isLinkActive(s) {
                    const m = function fl(d) {
                        return !!d.paths
                    }(this.routerLinkActiveOptions) ? this.routerLinkActiveOptions : this.routerLinkActiveOptions.exact || !1;
                    return S => !!S.urlTree && s.isActive(S.urlTree, m)
                }

                hasActiveLinks() {
                    const s = this.isLinkActive(this.router);
                    return this.link && s(this.link) || this.links.some(s)
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.Y36(pi), a.Y36(a.SBq), a.Y36(a.Qsj), a.Y36(a.sBO), a.Y36(ka, 8))
            }, d.\u0275dir = a.lG2({
                type: d,
                selectors: [["", "routerLinkActive", ""]],
                contentQueries: function (s, m, S) {
                    if (1 & s && a.Suo(S, ka, 5), 2 & s) {
                        let H;
                        a.iGM(H = a.CRH()) && (m.links = H)
                    }
                },
                inputs: {
                    routerLinkActiveOptions: "routerLinkActiveOptions",
                    ariaCurrentWhenActive: "ariaCurrentWhenActive",
                    routerLinkActive: "routerLinkActive"
                },
                outputs: {isActiveChange: "isActiveChange"},
                exportAs: ["routerLinkActive"],
                standalone: !0,
                features: [a.TTD]
            }), d
        })();

        class Va {
        }

        let vs = (() => {
            class d {
                constructor(s, m, S, H, U) {
                    this.router = s, this.injector = S, this.preloadingStrategy = H, this.loader = U
                }

                setUpPreloading() {
                    this.subscription = this.router.events.pipe((0, ge.h)(s => s instanceof dn), (0, Ge.b)(() => this.preload())).subscribe(() => {
                    })
                }

                preload() {
                    return this.processRoutes(this.injector, this.router.config)
                }

                ngOnDestroy() {
                    this.subscription && this.subscription.unsubscribe()
                }

                processRoutes(s, m) {
                    const S = [];
                    for (const H of m) {
                        H.providers && !H._injector && (H._injector = (0, a.MMx)(H.providers, s, `Route: ${H.path}`));
                        const U = H._injector ?? s, Ie = H._loadedInjector ?? U;
                        H.loadChildren && !H._loadedRoutes && void 0 === H.canLoad || H.loadComponent && !H._loadedComponent ? S.push(this.preloadConfig(U, H)) : (H.children || H._loadedRoutes) && S.push(this.processRoutes(Ie, H.children ?? H._loadedRoutes))
                    }
                    return (0, V.D)(S).pipe((0, At.J)())
                }

                preloadConfig(s, m) {
                    return this.preloadingStrategy.preload(m, () => {
                        let S;
                        S = m.loadChildren && void 0 === m.canLoad ? this.loader.loadChildren(s, m) : (0, K.of)(null);
                        const H = S.pipe((0, se.z)(U => null === U ? (0, K.of)(void 0) : (m._loadedRoutes = U.routes, m._loadedInjector = U.injector, this.processRoutes(U.injector ?? s, U.routes))));
                        if (m.loadComponent && !m._loadedComponent) {
                            const U = this.loader.loadComponent(m);
                            return (0, V.D)([H, U]).pipe((0, At.J)())
                        }
                        return H
                    })
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.LFG(pi), a.LFG(a.Sil), a.LFG(a.lqb), a.LFG(Va), a.LFG(hi))
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac, providedIn: "root"}), d
        })();
        const ao = new a.OlP("");
        let pa = (() => {
            class d {
                constructor(s, m, S, H, U = {}) {
                    this.urlSerializer = s, this.transitions = m, this.viewportScroller = S, this.zone = H, this.options = U, this.lastId = 0, this.lastSource = "imperative", this.restoredId = 0, this.store = {}, U.scrollPositionRestoration = U.scrollPositionRestoration || "disabled", U.anchorScrolling = U.anchorScrolling || "disabled"
                }

                init() {
                    "disabled" !== this.options.scrollPositionRestoration && this.viewportScroller.setHistoryScrollRestoration("manual"), this.routerEventsSubscription = this.createScrollEvents(), this.scrollEventsSubscription = this.consumeScrollEvents()
                }

                createScrollEvents() {
                    return this.transitions.events.subscribe(s => {
                        s instanceof Ir ? (this.store[this.lastId] = this.viewportScroller.getScrollPosition(), this.lastSource = s.navigationTrigger, this.restoredId = s.restoredState ? s.restoredState.navigationId : 0) : s instanceof dn && (this.lastId = s.id, this.scheduleScrollEvent(s, this.urlSerializer.parse(s.urlAfterRedirects).fragment))
                    })
                }

                consumeScrollEvents() {
                    return this.transitions.events.subscribe(s => {
                        s instanceof Ht && (s.position ? "top" === this.options.scrollPositionRestoration ? this.viewportScroller.scrollToPosition([0, 0]) : "enabled" === this.options.scrollPositionRestoration && this.viewportScroller.scrollToPosition(s.position) : s.anchor && "enabled" === this.options.anchorScrolling ? this.viewportScroller.scrollToAnchor(s.anchor) : "disabled" !== this.options.scrollPositionRestoration && this.viewportScroller.scrollToPosition([0, 0]))
                    })
                }

                scheduleScrollEvent(s, m) {
                    this.zone.runOutsideAngular(() => {
                        setTimeout(() => {
                            this.zone.run(() => {
                                this.transitions.events.next(new Ht(s, "popstate" === this.lastSource ? this.store[this.restoredId] : null, m))
                            })
                        }, 0)
                    })
                }

                ngOnDestroy() {
                    this.routerEventsSubscription?.unsubscribe(), this.scrollEventsSubscription?.unsubscribe()
                }
            }

            return d.\u0275fac = function (s) {
                a.$Z()
            }, d.\u0275prov = a.Yz7({token: d, factory: d.\u0275fac}), d
        })();

        function ma(d, f) {
            return {\u0275kind: d, \u0275providers: f}
        }

        function ga() {
            const d = (0, a.f3M)(a.zs3);
            return f => {
                const s = d.get(a.z2F);
                if (f !== s.components[0]) return;
                const m = d.get(pi), S = d.get(Ho);
                1 === d.get(ja) && m.initialNavigation(), d.get(Ar, null, a.XFs.Optional)?.setUpPreloading(), d.get(ao, null, a.XFs.Optional)?.init(), m.resetRootComponentType(s.componentTypes[0]), S.closed || (S.next(), S.unsubscribe())
            }
        }

        const Ho = new a.OlP("", {factory: () => new yt.x}), ja = new a.OlP("", {providedIn: "root", factory: () => 1});
        const Ar = new a.OlP("");

        function Dd(d) {
            return ma(0, [{provide: Ar, useExisting: vs}, {provide: Va, useExisting: d}])
        }

        const ml = new a.OlP("ROUTER_FORROOT_GUARD"), Cd = [We.Ye, {provide: fn, useClass: Xn}, pi, Zr, {
            provide: En, useFactory: function oo(d) {
                return d.routerState.root
            }, deps: [pi]
        }, hi, []];

        function Ua() {
            return new a.PXZ("Router", pi)
        }

        let Ed = (() => {
            class d {
                constructor(s) {
                }

                static forRoot(s, m) {
                    return {
                        ngModule: d,
                        providers: [Cd, [], {provide: ri, multi: !0, useValue: s}, {
                            provide: ml,
                            useFactory: $a,
                            deps: [[pi, new a.FiY, new a.tp0]]
                        }, {provide: wi, useValue: m || {}}, m?.useHash ? {
                            provide: We.S$,
                            useClass: We.Do
                        } : {provide: We.S$, useClass: We.b0}, {
                            provide: ao, useFactory: () => {
                                const d = (0, a.f3M)(We.EM), f = (0, a.f3M)(a.R0b), s = (0, a.f3M)(wi),
                                    m = (0, a.f3M)(ha), S = (0, a.f3M)(fn);
                                return s.scrollOffset && d.setOffset(s.scrollOffset), new pa(S, m, d, f, s)
                            }
                        }, m?.preloadingStrategy ? Dd(m.preloadingStrategy).\u0275providers : [], {
                            provide: a.PXZ,
                            multi: !0,
                            useFactory: Ua
                        }, m?.initialNavigation ? gl(m) : [], [{provide: Si, useFactory: ga}, {
                            provide: a.tb,
                            multi: !0,
                            useExisting: Si
                        }]]
                    }
                }

                static forChild(s) {
                    return {ngModule: d, providers: [{provide: ri, multi: !0, useValue: s}]}
                }
            }

            return d.\u0275fac = function (s) {
                return new (s || d)(a.LFG(ml, 8))
            }, d.\u0275mod = a.oAB({type: d}), d.\u0275inj = a.cJS({imports: [mi]}), d
        })();

        function $a(d) {
            return "guarded"
        }

        function gl(d) {
            return ["disabled" === d.initialNavigation ? ma(3, [{
                provide: a.ip1, multi: !0, useFactory: () => {
                    const f = (0, a.f3M)(pi);
                    return () => {
                        f.setUpLocationChangeListener()
                    }
                }
            }, {
                provide: ja,
                useValue: 2
            }]).\u0275providers : [], "enabledBlocking" === d.initialNavigation ? ma(2, [{
                provide: ja,
                useValue: 0
            }, {
                provide: a.ip1, multi: !0, deps: [a.zs3], useFactory: f => {
                    const s = f.get(We.V_, Promise.resolve());
                    return () => s.then(() => new Promise(S => {
                        const H = f.get(pi), U = f.get(Ho);
                        (function m(S) {
                            f.get(pi).events.pipe((0, ge.h)(U => U instanceof dn || U instanceof Or || U instanceof x), (0, pe.U)(U => U instanceof dn || U instanceof Or && (0 === U.code || 1 === U.code) && null), (0, ge.h)(U => null !== U), (0, nt.q)(1)).subscribe(() => {
                                S()
                            })
                        })(() => {
                            S(!0)
                        }), f.get(ha).afterPreactivation = () => (S(!0), U.closed ? (0, K.of)(void 0) : U), H.initialNavigation()
                    }))
                }
            }]).\u0275providers : []]
        }

        const Si = new a.OlP("")
    }
}, Pe => {
    Pe(Pe.s = 641)
}]);
"use strict";
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["polyfills"], {
    9550: (ie, Ee, de) => {
        de(8583)
    }, 8583: () => {
        !function (t) {
            const n = t.performance;

            function i(M) {
                n && n.mark && n.mark(M)
            }

            function o(M, T) {
                n && n.measure && n.measure(M, T)
            }

            i("Zone");
            const c = t.__Zone_symbol_prefix || "__zone_symbol__";

            function a(M) {
                return c + M
            }

            const p = !0 === t[a("forceDuplicateZoneCheck")];
            if (t.Zone) {
                if (p || "function" != typeof t.Zone.__symbol__) throw new Error("Zone already loaded.");
                return t.Zone
            }
            let d = (() => {
                class M {
                    constructor(e, r) {
                        this._parent = e, this._name = r ? r.name || "unnamed" : "<root>", this._properties = r && r.properties || {}, this._zoneDelegate = new v(this, this._parent && this._parent._zoneDelegate, r)
                    }

                    static assertZonePatched() {
                        if (t.Promise !== oe.ZoneAwarePromise) throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")
                    }

                    static get root() {
                        let e = M.current;
                        for (; e.parent;) e = e.parent;
                        return e
                    }

                    static get current() {
                        return U.zone
                    }

                    static get currentTask() {
                        return re
                    }

                    static __load_patch(e, r, k = !1) {
                        if (oe.hasOwnProperty(e)) {
                            if (!k && p) throw Error("Already loaded patch: " + e)
                        } else if (!t["__Zone_disable_" + e]) {
                            const C = "Zone:" + e;
                            i(C), oe[e] = r(t, M, z), o(C, C)
                        }
                    }

                    get parent() {
                        return this._parent
                    }

                    get name() {
                        return this._name
                    }

                    get(e) {
                        const r = this.getZoneWith(e);
                        if (r) return r._properties[e]
                    }

                    getZoneWith(e) {
                        let r = this;
                        for (; r;) {
                            if (r._properties.hasOwnProperty(e)) return r;
                            r = r._parent
                        }
                        return null
                    }

                    fork(e) {
                        if (!e) throw new Error("ZoneSpec required!");
                        return this._zoneDelegate.fork(this, e)
                    }

                    wrap(e, r) {
                        if ("function" != typeof e) throw new Error("Expecting function got: " + e);
                        const k = this._zoneDelegate.intercept(this, e, r), C = this;
                        return function () {
                            return C.runGuarded(k, this, arguments, r)
                        }
                    }

                    run(e, r, k, C) {
                        U = {parent: U, zone: this};
                        try {
                            return this._zoneDelegate.invoke(this, e, r, k, C)
                        } finally {
                            U = U.parent
                        }
                    }

                    runGuarded(e, r = null, k, C) {
                        U = {parent: U, zone: this};
                        try {
                            try {
                                return this._zoneDelegate.invoke(this, e, r, k, C)
                            } catch ($) {
                                if (this._zoneDelegate.handleError(this, $)) throw $
                            }
                        } finally {
                            U = U.parent
                        }
                    }

                    runTask(e, r, k) {
                        if (e.zone != this) throw new Error("A task can only be run in the zone of creation! (Creation: " + (e.zone || K).name + "; Execution: " + this.name + ")");
                        if (e.state === x && (e.type === Q || e.type === w)) return;
                        const C = e.state != E;
                        C && e._transitionTo(E, j), e.runCount++;
                        const $ = re;
                        re = e, U = {parent: U, zone: this};
                        try {
                            e.type == w && e.data && !e.data.isPeriodic && (e.cancelFn = void 0);
                            try {
                                return this._zoneDelegate.invokeTask(this, e, r, k)
                            } catch (l) {
                                if (this._zoneDelegate.handleError(this, l)) throw l
                            }
                        } finally {
                            e.state !== x && e.state !== h && (e.type == Q || e.data && e.data.isPeriodic ? C && e._transitionTo(j, E) : (e.runCount = 0, this._updateTaskCount(e, -1), C && e._transitionTo(x, E, x))), U = U.parent, re = $
                        }
                    }

                    scheduleTask(e) {
                        if (e.zone && e.zone !== this) {
                            let k = this;
                            for (; k;) {
                                if (k === e.zone) throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);
                                k = k.parent
                            }
                        }
                        e._transitionTo(X, x);
                        const r = [];
                        e._zoneDelegates = r, e._zone = this;
                        try {
                            e = this._zoneDelegate.scheduleTask(this, e)
                        } catch (k) {
                            throw e._transitionTo(h, X, x), this._zoneDelegate.handleError(this, k), k
                        }
                        return e._zoneDelegates === r && this._updateTaskCount(e, 1), e.state == X && e._transitionTo(j, X), e
                    }

                    scheduleMicroTask(e, r, k, C) {
                        return this.scheduleTask(new m(I, e, r, k, C, void 0))
                    }

                    scheduleMacroTask(e, r, k, C, $) {
                        return this.scheduleTask(new m(w, e, r, k, C, $))
                    }

                    scheduleEventTask(e, r, k, C, $) {
                        return this.scheduleTask(new m(Q, e, r, k, C, $))
                    }

                    cancelTask(e) {
                        if (e.zone != this) throw new Error("A task can only be cancelled in the zone of creation! (Creation: " + (e.zone || K).name + "; Execution: " + this.name + ")");
                        if (e.state === j || e.state === E) {
                            e._transitionTo(G, j, E);
                            try {
                                this._zoneDelegate.cancelTask(this, e)
                            } catch (r) {
                                throw e._transitionTo(h, G), this._zoneDelegate.handleError(this, r), r
                            }
                            return this._updateTaskCount(e, -1), e._transitionTo(x, G), e.runCount = 0, e
                        }
                    }

                    _updateTaskCount(e, r) {
                        const k = e._zoneDelegates;
                        -1 == r && (e._zoneDelegates = null);
                        for (let C = 0; C < k.length; C++) k[C]._updateTaskCount(e.type, r)
                    }
                }

                return M.__symbol__ = a, M
            })();
            const P = {
                name: "",
                onHasTask: (M, T, e, r) => M.hasTask(e, r),
                onScheduleTask: (M, T, e, r) => M.scheduleTask(e, r),
                onInvokeTask: (M, T, e, r, k, C) => M.invokeTask(e, r, k, C),
                onCancelTask: (M, T, e, r) => M.cancelTask(e, r)
            };

            class v {
                constructor(T, e, r) {
                    this._taskCounts = {
                        microTask: 0,
                        macroTask: 0,
                        eventTask: 0
                    }, this.zone = T, this._parentDelegate = e, this._forkZS = r && (r && r.onFork ? r : e._forkZS), this._forkDlgt = r && (r.onFork ? e : e._forkDlgt), this._forkCurrZone = r && (r.onFork ? this.zone : e._forkCurrZone), this._interceptZS = r && (r.onIntercept ? r : e._interceptZS), this._interceptDlgt = r && (r.onIntercept ? e : e._interceptDlgt), this._interceptCurrZone = r && (r.onIntercept ? this.zone : e._interceptCurrZone), this._invokeZS = r && (r.onInvoke ? r : e._invokeZS), this._invokeDlgt = r && (r.onInvoke ? e : e._invokeDlgt), this._invokeCurrZone = r && (r.onInvoke ? this.zone : e._invokeCurrZone), this._handleErrorZS = r && (r.onHandleError ? r : e._handleErrorZS), this._handleErrorDlgt = r && (r.onHandleError ? e : e._handleErrorDlgt), this._handleErrorCurrZone = r && (r.onHandleError ? this.zone : e._handleErrorCurrZone), this._scheduleTaskZS = r && (r.onScheduleTask ? r : e._scheduleTaskZS), this._scheduleTaskDlgt = r && (r.onScheduleTask ? e : e._scheduleTaskDlgt), this._scheduleTaskCurrZone = r && (r.onScheduleTask ? this.zone : e._scheduleTaskCurrZone), this._invokeTaskZS = r && (r.onInvokeTask ? r : e._invokeTaskZS), this._invokeTaskDlgt = r && (r.onInvokeTask ? e : e._invokeTaskDlgt), this._invokeTaskCurrZone = r && (r.onInvokeTask ? this.zone : e._invokeTaskCurrZone), this._cancelTaskZS = r && (r.onCancelTask ? r : e._cancelTaskZS), this._cancelTaskDlgt = r && (r.onCancelTask ? e : e._cancelTaskDlgt), this._cancelTaskCurrZone = r && (r.onCancelTask ? this.zone : e._cancelTaskCurrZone), this._hasTaskZS = null, this._hasTaskDlgt = null, this._hasTaskDlgtOwner = null, this._hasTaskCurrZone = null;
                    const k = r && r.onHasTask;
                    (k || e && e._hasTaskZS) && (this._hasTaskZS = k ? r : P, this._hasTaskDlgt = e, this._hasTaskDlgtOwner = this, this._hasTaskCurrZone = T, r.onScheduleTask || (this._scheduleTaskZS = P, this._scheduleTaskDlgt = e, this._scheduleTaskCurrZone = this.zone), r.onInvokeTask || (this._invokeTaskZS = P, this._invokeTaskDlgt = e, this._invokeTaskCurrZone = this.zone), r.onCancelTask || (this._cancelTaskZS = P, this._cancelTaskDlgt = e, this._cancelTaskCurrZone = this.zone))
                }

                fork(T, e) {
                    return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, T, e) : new d(T, e)
                }

                intercept(T, e, r) {
                    return this._interceptZS ? this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, T, e, r) : e
                }

                invoke(T, e, r, k, C) {
                    return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, T, e, r, k, C) : e.apply(r, k)
                }

                handleError(T, e) {
                    return !this._handleErrorZS || this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, T, e)
                }

                scheduleTask(T, e) {
                    let r = e;
                    if (this._scheduleTaskZS) this._hasTaskZS && r._zoneDelegates.push(this._hasTaskDlgtOwner), r = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, T, e), r || (r = e); else if (e.scheduleFn) e.scheduleFn(e); else {
                        if (e.type != I) throw new Error("Task is missing scheduleFn.");
                        R(e)
                    }
                    return r
                }

                invokeTask(T, e, r, k) {
                    return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, T, e, r, k) : e.callback.apply(r, k)
                }

                cancelTask(T, e) {
                    let r;
                    if (this._cancelTaskZS) r = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, T, e); else {
                        if (!e.cancelFn) throw Error("Task is not cancelable");
                        r = e.cancelFn(e)
                    }
                    return r
                }

                hasTask(T, e) {
                    try {
                        this._hasTaskZS && this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, T, e)
                    } catch (r) {
                        this.handleError(T, r)
                    }
                }

                _updateTaskCount(T, e) {
                    const r = this._taskCounts, k = r[T], C = r[T] = k + e;
                    if (C < 0) throw new Error("More tasks executed then were scheduled.");
                    0 != k && 0 != C || this.hasTask(this.zone, {
                        microTask: r.microTask > 0,
                        macroTask: r.macroTask > 0,
                        eventTask: r.eventTask > 0,
                        change: T
                    })
                }
            }

            class m {
                constructor(T, e, r, k, C, $) {
                    if (this._zone = null, this.runCount = 0, this._zoneDelegates = null, this._state = "notScheduled", this.type = T, this.source = e, this.data = k, this.scheduleFn = C, this.cancelFn = $, !r) throw new Error("callback is not defined");
                    this.callback = r;
                    const l = this;
                    this.invoke = T === Q && k && k.useG ? m.invokeTask : function () {
                        return m.invokeTask.call(t, l, this, arguments)
                    }
                }

                static invokeTask(T, e, r) {
                    T || (T = this), ee++;
                    try {
                        return T.runCount++, T.zone.runTask(T, e, r)
                    } finally {
                        1 == ee && _(), ee--
                    }
                }

                get zone() {
                    return this._zone
                }

                get state() {
                    return this._state
                }

                cancelScheduleRequest() {
                    this._transitionTo(x, X)
                }

                _transitionTo(T, e, r) {
                    if (this._state !== e && this._state !== r) throw new Error(`${this.type} '${this.source}': can not transition to '${T}', expecting state '${e}'${r ? " or '" + r + "'" : ""}, was '${this._state}'.`);
                    this._state = T, T == x && (this._zoneDelegates = null)
                }

                toString() {
                    return this.data && typeof this.data.handleId < "u" ? this.data.handleId.toString() : Object.prototype.toString.call(this)
                }

                toJSON() {
                    return {
                        type: this.type,
                        state: this.state,
                        source: this.source,
                        zone: this.zone.name,
                        runCount: this.runCount
                    }
                }
            }

            const L = a("setTimeout"), Z = a("Promise"), N = a("then");
            let J, B = [], H = !1;

            function q(M) {
                if (J || t[Z] && (J = t[Z].resolve(0)), J) {
                    let T = J[N];
                    T || (T = J.then), T.call(J, M)
                } else t[L](M, 0)
            }

            function R(M) {
                0 === ee && 0 === B.length && q(_), M && B.push(M)
            }

            function _() {
                if (!H) {
                    for (H = !0; B.length;) {
                        const M = B;
                        B = [];
                        for (let T = 0; T < M.length; T++) {
                            const e = M[T];
                            try {
                                e.zone.runTask(e, null, null)
                            } catch (r) {
                                z.onUnhandledError(r)
                            }
                        }
                    }
                    z.microtaskDrainDone(), H = !1
                }
            }

            const K = {name: "NO ZONE"}, x = "notScheduled", X = "scheduling", j = "scheduled", E = "running",
                G = "canceling", h = "unknown", I = "microTask", w = "macroTask", Q = "eventTask", oe = {}, z = {
                    symbol: a,
                    currentZoneFrame: () => U,
                    onUnhandledError: W,
                    microtaskDrainDone: W,
                    scheduleMicroTask: R,
                    showUncaughtError: () => !d[a("ignoreConsoleErrorUncaughtError")],
                    patchEventTarget: () => [],
                    patchOnProperties: W,
                    patchMethod: () => W,
                    bindArguments: () => [],
                    patchThen: () => W,
                    patchMacroTask: () => W,
                    patchEventPrototype: () => W,
                    isIEOrEdge: () => !1,
                    getGlobalObjects: () => {
                    },
                    ObjectDefineProperty: () => W,
                    ObjectGetOwnPropertyDescriptor: () => {
                    },
                    ObjectCreate: () => {
                    },
                    ArraySlice: () => [],
                    patchClass: () => W,
                    wrapWithCurrentZone: () => W,
                    filterProperties: () => [],
                    attachOriginToPatched: () => W,
                    _redefineProperty: () => W,
                    patchCallbacks: () => W,
                    nativeScheduleMicroTask: q
                };
            let U = {parent: null, zone: new d(null, null)}, re = null, ee = 0;

            function W() {
            }

            o("Zone", "Zone"), t.Zone = d
        }(typeof window < "u" && window || typeof self < "u" && self || global);
        const ie = Object.getOwnPropertyDescriptor, Ee = Object.defineProperty, de = Object.getPrototypeOf,
            ge = Object.create, Ve = Array.prototype.slice, Oe = "addEventListener", Se = "removeEventListener",
            Ze = Zone.__symbol__(Oe), Ne = Zone.__symbol__(Se), ce = "true", ae = "false", ke = Zone.__symbol__("");

        function Ie(t, n) {
            return Zone.current.wrap(t, n)
        }

        function Me(t, n, i, o, c) {
            return Zone.current.scheduleMacroTask(t, n, i, o, c)
        }

        const A = Zone.__symbol__, Pe = typeof window < "u", Te = Pe ? window : void 0,
            Y = Pe && Te || "object" == typeof self && self || global;

        function Le(t, n) {
            for (let i = t.length - 1; i >= 0; i--) "function" == typeof t[i] && (t[i] = Ie(t[i], n + "_" + i));
            return t
        }

        function Fe(t) {
            return !t || !1 !== t.writable && !("function" == typeof t.get && typeof t.set > "u")
        }

        const Be = typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope,
            we = !("nw" in Y) && typeof Y.process < "u" && "[object process]" === {}.toString.call(Y.process),
            je = !we && !Be && !(!Pe || !Te.HTMLElement),
            Ue = typeof Y.process < "u" && "[object process]" === {}.toString.call(Y.process) && !Be && !(!Pe || !Te.HTMLElement),
            Re = {}, We = function (t) {
                if (!(t = t || Y.event)) return;
                let n = Re[t.type];
                n || (n = Re[t.type] = A("ON_PROPERTY" + t.type));
                const i = this || t.target || Y, o = i[n];
                let c;
                return je && i === Te && "error" === t.type ? (c = o && o.call(this, t.message, t.filename, t.lineno, t.colno, t.error), !0 === c && t.preventDefault()) : (c = o && o.apply(this, arguments), null != c && !c && t.preventDefault()), c
            };

        function qe(t, n, i) {
            let o = ie(t, n);
            if (!o && i && ie(i, n) && (o = {enumerable: !0, configurable: !0}), !o || !o.configurable) return;
            const c = A("on" + n + "patched");
            if (t.hasOwnProperty(c) && t[c]) return;
            delete o.writable, delete o.value;
            const a = o.get, p = o.set, d = n.slice(2);
            let P = Re[d];
            P || (P = Re[d] = A("ON_PROPERTY" + d)), o.set = function (v) {
                let m = this;
                !m && t === Y && (m = Y), m && ("function" == typeof m[P] && m.removeEventListener(d, We), p && p.call(m, null), m[P] = v, "function" == typeof v && m.addEventListener(d, We, !1))
            }, o.get = function () {
                let v = this;
                if (!v && t === Y && (v = Y), !v) return null;
                const m = v[P];
                if (m) return m;
                if (a) {
                    let L = a.call(this);
                    if (L) return o.set.call(this, L), "function" == typeof v.removeAttribute && v.removeAttribute(n), L
                }
                return null
            }, Ee(t, n, o), t[c] = !0
        }

        function Xe(t, n, i) {
            if (n) for (let o = 0; o < n.length; o++) qe(t, "on" + n[o], i); else {
                const o = [];
                for (const c in t) "on" == c.slice(0, 2) && o.push(c);
                for (let c = 0; c < o.length; c++) qe(t, o[c], i)
            }
        }

        const ne = A("originalInstance");

        function ve(t) {
            const n = Y[t];
            if (!n) return;
            Y[A(t)] = n, Y[t] = function () {
                const c = Le(arguments, t);
                switch (c.length) {
                    case 0:
                        this[ne] = new n;
                        break;
                    case 1:
                        this[ne] = new n(c[0]);
                        break;
                    case 2:
                        this[ne] = new n(c[0], c[1]);
                        break;
                    case 3:
                        this[ne] = new n(c[0], c[1], c[2]);
                        break;
                    case 4:
                        this[ne] = new n(c[0], c[1], c[2], c[3]);
                        break;
                    default:
                        throw new Error("Arg list too long.")
                }
            }, ue(Y[t], n);
            const i = new n(function () {
            });
            let o;
            for (o in i) "XMLHttpRequest" === t && "responseBlob" === o || function (c) {
                "function" == typeof i[c] ? Y[t].prototype[c] = function () {
                    return this[ne][c].apply(this[ne], arguments)
                } : Ee(Y[t].prototype, c, {
                    set: function (a) {
                        "function" == typeof a ? (this[ne][c] = Ie(a, t + "." + c), ue(this[ne][c], a)) : this[ne][c] = a
                    }, get: function () {
                        return this[ne][c]
                    }
                })
            }(o);
            for (o in n) "prototype" !== o && n.hasOwnProperty(o) && (Y[t][o] = n[o])
        }

        function le(t, n, i) {
            let o = t;
            for (; o && !o.hasOwnProperty(n);) o = de(o);
            !o && t[n] && (o = t);
            const c = A(n);
            let a = null;
            if (o && (!(a = o[c]) || !o.hasOwnProperty(c)) && (a = o[c] = o[n], Fe(o && ie(o, n)))) {
                const d = i(a, c, n);
                o[n] = function () {
                    return d(this, arguments)
                }, ue(o[n], a)
            }
            return a
        }

        function lt(t, n, i) {
            let o = null;

            function c(a) {
                const p = a.data;
                return p.args[p.cbIdx] = function () {
                    a.invoke.apply(this, arguments)
                }, o.apply(p.target, p.args), a
            }

            o = le(t, n, a => function (p, d) {
                const P = i(p, d);
                return P.cbIdx >= 0 && "function" == typeof d[P.cbIdx] ? Me(P.name, d[P.cbIdx], P, c) : a.apply(p, d)
            })
        }

        function ue(t, n) {
            t[A("OriginalDelegate")] = n
        }

        let ze = !1, Ae = !1;

        function ft() {
            if (ze) return Ae;
            ze = !0;
            try {
                const t = Te.navigator.userAgent;
                (-1 !== t.indexOf("MSIE ") || -1 !== t.indexOf("Trident/") || -1 !== t.indexOf("Edge/")) && (Ae = !0)
            } catch {
            }
            return Ae
        }

        Zone.__load_patch("ZoneAwarePromise", (t, n, i) => {
            const o = Object.getOwnPropertyDescriptor, c = Object.defineProperty, p = i.symbol, d = [],
                P = !0 === t[p("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")], v = p("Promise"), m = p("then");
            i.onUnhandledError = l => {
                if (i.showUncaughtError()) {
                    const u = l && l.rejection;
                    u ? console.error("Unhandled Promise rejection:", u instanceof Error ? u.message : u, "; Zone:", l.zone.name, "; Task:", l.task && l.task.source, "; Value:", u, u instanceof Error ? u.stack : void 0) : console.error(l)
                }
            }, i.microtaskDrainDone = () => {
                for (; d.length;) {
                    const l = d.shift();
                    try {
                        l.zone.runGuarded(() => {
                            throw l.throwOriginal ? l.rejection : l
                        })
                    } catch (u) {
                        N(u)
                    }
                }
            };
            const Z = p("unhandledPromiseRejectionHandler");

            function N(l) {
                i.onUnhandledError(l);
                try {
                    const u = n[Z];
                    "function" == typeof u && u.call(this, l)
                } catch {
                }
            }

            function B(l) {
                return l && l.then
            }

            function H(l) {
                return l
            }

            function J(l) {
                return e.reject(l)
            }

            const q = p("state"), R = p("value"), _ = p("finally"), K = p("parentPromiseValue"),
                x = p("parentPromiseState"), j = null, E = !0, G = !1;

            function I(l, u) {
                return s => {
                    try {
                        z(l, u, s)
                    } catch (f) {
                        z(l, !1, f)
                    }
                }
            }

            const w = function () {
                let l = !1;
                return function (s) {
                    return function () {
                        l || (l = !0, s.apply(null, arguments))
                    }
                }
            }, oe = p("currentTaskTrace");

            function z(l, u, s) {
                const f = w();
                if (l === s) throw new TypeError("Promise resolved with itself");
                if (l[q] === j) {
                    let g = null;
                    try {
                        ("object" == typeof s || "function" == typeof s) && (g = s && s.then)
                    } catch (b) {
                        return f(() => {
                            z(l, !1, b)
                        })(), l
                    }
                    if (u !== G && s instanceof e && s.hasOwnProperty(q) && s.hasOwnProperty(R) && s[q] !== j) re(s), z(l, s[q], s[R]); else if (u !== G && "function" == typeof g) try {
                        g.call(s, f(I(l, u)), f(I(l, !1)))
                    } catch (b) {
                        f(() => {
                            z(l, !1, b)
                        })()
                    } else {
                        l[q] = u;
                        const b = l[R];
                        if (l[R] = s, l[_] === _ && u === E && (l[q] = l[x], l[R] = l[K]), u === G && s instanceof Error) {
                            const y = n.currentTask && n.currentTask.data && n.currentTask.data.__creationTrace__;
                            y && c(s, oe, {configurable: !0, enumerable: !1, writable: !0, value: y})
                        }
                        for (let y = 0; y < b.length;) ee(l, b[y++], b[y++], b[y++], b[y++]);
                        if (0 == b.length && u == G) {
                            l[q] = 0;
                            let y = s;
                            try {
                                throw new Error("Uncaught (in promise): " + function a(l) {
                                    return l && l.toString === Object.prototype.toString ? (l.constructor && l.constructor.name || "") + ": " + JSON.stringify(l) : l ? l.toString() : Object.prototype.toString.call(l)
                                }(s) + (s && s.stack ? "\n" + s.stack : ""))
                            } catch (D) {
                                y = D
                            }
                            P && (y.throwOriginal = !0), y.rejection = s, y.promise = l, y.zone = n.current, y.task = n.currentTask, d.push(y), i.scheduleMicroTask()
                        }
                    }
                }
                return l
            }

            const U = p("rejectionHandledHandler");

            function re(l) {
                if (0 === l[q]) {
                    try {
                        const u = n[U];
                        u && "function" == typeof u && u.call(this, {rejection: l[R], promise: l})
                    } catch {
                    }
                    l[q] = G;
                    for (let u = 0; u < d.length; u++) l === d[u].promise && d.splice(u, 1)
                }
            }

            function ee(l, u, s, f, g) {
                re(l);
                const b = l[q], y = b ? "function" == typeof f ? f : H : "function" == typeof g ? g : J;
                u.scheduleMicroTask("Promise.then", () => {
                    try {
                        const D = l[R], O = !!s && _ === s[_];
                        O && (s[K] = D, s[x] = b);
                        const S = u.run(y, void 0, O && y !== J && y !== H ? [] : [D]);
                        z(s, !0, S)
                    } catch (D) {
                        z(s, !1, D)
                    }
                }, s)
            }

            const M = function () {
            }, T = t.AggregateError;

            class e {
                static toString() {
                    return "function ZoneAwarePromise() { [native code] }"
                }

                static resolve(u) {
                    return z(new this(null), E, u)
                }

                static reject(u) {
                    return z(new this(null), G, u)
                }

                static any(u) {
                    if (!u || "function" != typeof u[Symbol.iterator]) return Promise.reject(new T([], "All promises were rejected"));
                    const s = [];
                    let f = 0;
                    try {
                        for (let y of u) f++, s.push(e.resolve(y))
                    } catch {
                        return Promise.reject(new T([], "All promises were rejected"))
                    }
                    if (0 === f) return Promise.reject(new T([], "All promises were rejected"));
                    let g = !1;
                    const b = [];
                    return new e((y, D) => {
                        for (let O = 0; O < s.length; O++) s[O].then(S => {
                            g || (g = !0, y(S))
                        }, S => {
                            b.push(S), f--, 0 === f && (g = !0, D(new T(b, "All promises were rejected")))
                        })
                    })
                }

                static race(u) {
                    let s, f, g = new this((D, O) => {
                        s = D, f = O
                    });

                    function b(D) {
                        s(D)
                    }

                    function y(D) {
                        f(D)
                    }

                    for (let D of u) B(D) || (D = this.resolve(D)), D.then(b, y);
                    return g
                }

                static all(u) {
                    return e.allWithCallback(u)
                }

                static allSettled(u) {
                    return (this && this.prototype instanceof e ? this : e).allWithCallback(u, {
                        thenCallback: f => ({
                            status: "fulfilled",
                            value: f
                        }), errorCallback: f => ({status: "rejected", reason: f})
                    })
                }

                static allWithCallback(u, s) {
                    let f, g, b = new this((S, V) => {
                        f = S, g = V
                    }), y = 2, D = 0;
                    const O = [];
                    for (let S of u) {
                        B(S) || (S = this.resolve(S));
                        const V = D;
                        try {
                            S.then(F => {
                                O[V] = s ? s.thenCallback(F) : F, y--, 0 === y && f(O)
                            }, F => {
                                s ? (O[V] = s.errorCallback(F), y--, 0 === y && f(O)) : g(F)
                            })
                        } catch (F) {
                            g(F)
                        }
                        y++, D++
                    }
                    return y -= 2, 0 === y && f(O), b
                }

                constructor(u) {
                    const s = this;
                    if (!(s instanceof e)) throw new Error("Must be an instanceof Promise.");
                    s[q] = j, s[R] = [];
                    try {
                        const f = w();
                        u && u(f(I(s, E)), f(I(s, G)))
                    } catch (f) {
                        z(s, !1, f)
                    }
                }

                get [Symbol.toStringTag]() {
                    return "Promise"
                }

                get [Symbol.species]() {
                    return e
                }

                then(u, s) {
                    var f;
                    let g = null === (f = this.constructor) || void 0 === f ? void 0 : f[Symbol.species];
                    (!g || "function" != typeof g) && (g = this.constructor || e);
                    const b = new g(M), y = n.current;
                    return this[q] == j ? this[R].push(y, b, u, s) : ee(this, y, b, u, s), b
                }

                catch(u) {
                    return this.then(null, u)
                }

                finally(u) {
                    var s;
                    let f = null === (s = this.constructor) || void 0 === s ? void 0 : s[Symbol.species];
                    (!f || "function" != typeof f) && (f = e);
                    const g = new f(M);
                    g[_] = _;
                    const b = n.current;
                    return this[q] == j ? this[R].push(b, g, u, u) : ee(this, b, g, u, u), g
                }
            }

            e.resolve = e.resolve, e.reject = e.reject, e.race = e.race, e.all = e.all;
            const r = t[v] = t.Promise;
            t.Promise = e;
            const k = p("thenPatched");

            function C(l) {
                const u = l.prototype, s = o(u, "then");
                if (s && (!1 === s.writable || !s.configurable)) return;
                const f = u.then;
                u[m] = f, l.prototype.then = function (g, b) {
                    return new e((D, O) => {
                        f.call(this, D, O)
                    }).then(g, b)
                }, l[k] = !0
            }

            return i.patchThen = C, r && (C(r), le(t, "fetch", l => function $(l) {
                return function (u, s) {
                    let f = l.apply(u, s);
                    if (f instanceof e) return f;
                    let g = f.constructor;
                    return g[k] || C(g), f
                }
            }(l))), Promise[n.__symbol__("uncaughtPromiseErrors")] = d, e
        }), Zone.__load_patch("toString", t => {
            const n = Function.prototype.toString, i = A("OriginalDelegate"), o = A("Promise"), c = A("Error"),
                a = function () {
                    if ("function" == typeof this) {
                        const v = this[i];
                        if (v) return "function" == typeof v ? n.call(v) : Object.prototype.toString.call(v);
                        if (this === Promise) {
                            const m = t[o];
                            if (m) return n.call(m)
                        }
                        if (this === Error) {
                            const m = t[c];
                            if (m) return n.call(m)
                        }
                    }
                    return n.call(this)
                };
            a[i] = n, Function.prototype.toString = a;
            const p = Object.prototype.toString;
            Object.prototype.toString = function () {
                return "function" == typeof Promise && this instanceof Promise ? "[object Promise]" : p.call(this)
            }
        });
        let ye = !1;
        if (typeof window < "u") try {
            const t = Object.defineProperty({}, "passive", {
                get: function () {
                    ye = !0
                }
            });
            window.addEventListener("test", t, t), window.removeEventListener("test", t, t)
        } catch {
            ye = !1
        }
        const ht = {useG: !0}, te = {}, Ye = {}, $e = new RegExp("^" + ke + "(\\w+)(true|false)$"),
            Ke = A("propagationStopped");

        function Je(t, n) {
            const i = (n ? n(t) : t) + ae, o = (n ? n(t) : t) + ce, c = ke + i, a = ke + o;
            te[t] = {}, te[t][ae] = c, te[t][ce] = a
        }

        function dt(t, n, i, o) {
            const c = o && o.add || Oe, a = o && o.rm || Se, p = o && o.listeners || "eventListeners",
                d = o && o.rmAll || "removeAllListeners", P = A(c), v = "." + c + ":", m = "prependListener",
                L = "." + m + ":", Z = function (R, _, K) {
                    if (R.isRemoved) return;
                    const x = R.callback;
                    let X;
                    "object" == typeof x && x.handleEvent && (R.callback = E => x.handleEvent(E), R.originalDelegate = x);
                    try {
                        R.invoke(R, _, [K])
                    } catch (E) {
                        X = E
                    }
                    const j = R.options;
                    return j && "object" == typeof j && j.once && _[a].call(_, K.type, R.originalDelegate ? R.originalDelegate : R.callback, j), X
                };

            function N(R, _, K) {
                if (!(_ = _ || t.event)) return;
                const x = R || _.target || t, X = x[te[_.type][K ? ce : ae]];
                if (X) {
                    const j = [];
                    if (1 === X.length) {
                        const E = Z(X[0], x, _);
                        E && j.push(E)
                    } else {
                        const E = X.slice();
                        for (let G = 0; G < E.length && (!_ || !0 !== _[Ke]); G++) {
                            const h = Z(E[G], x, _);
                            h && j.push(h)
                        }
                    }
                    if (1 === j.length) throw j[0];
                    for (let E = 0; E < j.length; E++) {
                        const G = j[E];
                        n.nativeScheduleMicroTask(() => {
                            throw G
                        })
                    }
                }
            }

            const B = function (R) {
                return N(this, R, !1)
            }, H = function (R) {
                return N(this, R, !0)
            };

            function J(R, _) {
                if (!R) return !1;
                let K = !0;
                _ && void 0 !== _.useG && (K = _.useG);
                const x = _ && _.vh;
                let X = !0;
                _ && void 0 !== _.chkDup && (X = _.chkDup);
                let j = !1;
                _ && void 0 !== _.rt && (j = _.rt);
                let E = R;
                for (; E && !E.hasOwnProperty(c);) E = de(E);
                if (!E && R[c] && (E = R), !E || E[P]) return !1;
                const G = _ && _.eventNameToString, h = {}, I = E[P] = E[c], w = E[A(a)] = E[a], Q = E[A(p)] = E[p],
                    oe = E[A(d)] = E[d];
                let z;

                function U(s, f) {
                    return !ye && "object" == typeof s && s ? !!s.capture : ye && f ? "boolean" == typeof s ? {
                        capture: s,
                        passive: !0
                    } : s ? "object" == typeof s && !1 !== s.passive ? Object.assign(Object.assign({}, s), {passive: !0}) : s : {passive: !0} : s
                }

                _ && _.prepend && (z = E[A(_.prepend)] = E[_.prepend]);
                const e = K ? function (s) {
                        if (!h.isExisting) return I.call(h.target, h.eventName, h.capture ? H : B, h.options)
                    } : function (s) {
                        return I.call(h.target, h.eventName, s.invoke, h.options)
                    }, r = K ? function (s) {
                        if (!s.isRemoved) {
                            const f = te[s.eventName];
                            let g;
                            f && (g = f[s.capture ? ce : ae]);
                            const b = g && s.target[g];
                            if (b) for (let y = 0; y < b.length; y++) if (b[y] === s) {
                                b.splice(y, 1), s.isRemoved = !0, 0 === b.length && (s.allRemoved = !0, s.target[g] = null);
                                break
                            }
                        }
                        if (s.allRemoved) return w.call(s.target, s.eventName, s.capture ? H : B, s.options)
                    } : function (s) {
                        return w.call(s.target, s.eventName, s.invoke, s.options)
                    }, C = _ && _.diff ? _.diff : function (s, f) {
                        const g = typeof f;
                        return "function" === g && s.callback === f || "object" === g && s.originalDelegate === f
                    }, $ = Zone[A("UNPATCHED_EVENTS")], l = t[A("PASSIVE_EVENTS")],
                    u = function (s, f, g, b, y = !1, D = !1) {
                        return function () {
                            const O = this || t;
                            let S = arguments[0];
                            _ && _.transferEventName && (S = _.transferEventName(S));
                            let V = arguments[1];
                            if (!V) return s.apply(this, arguments);
                            if (we && "uncaughtException" === S) return s.apply(this, arguments);
                            let F = !1;
                            if ("function" != typeof V) {
                                if (!V.handleEvent) return s.apply(this, arguments);
                                F = !0
                            }
                            if (x && !x(s, V, O, arguments)) return;
                            const fe = ye && !!l && -1 !== l.indexOf(S), se = U(arguments[2], fe);
                            if ($) for (let _e = 0; _e < $.length; _e++) if (S === $[_e]) return fe ? s.call(O, S, V, se) : s.apply(this, arguments);
                            const xe = !!se && ("boolean" == typeof se || se.capture),
                                nt = !(!se || "object" != typeof se) && se.once, gt = Zone.current;
                            let Ge = te[S];
                            Ge || (Je(S, G), Ge = te[S]);
                            const rt = Ge[xe ? ce : ae];
                            let De, me = O[rt], ot = !1;
                            if (me) {
                                if (ot = !0, X) for (let _e = 0; _e < me.length; _e++) if (C(me[_e], V)) return
                            } else me = O[rt] = [];
                            const st = O.constructor.name, it = Ye[st];
                            it && (De = it[S]), De || (De = st + f + (G ? G(S) : S)), h.options = se, nt && (h.options.once = !1), h.target = O, h.capture = xe, h.eventName = S, h.isExisting = ot;
                            const be = K ? ht : void 0;
                            be && (be.taskData = h);
                            const he = gt.scheduleEventTask(De, V, be, g, b);
                            return h.target = null, be && (be.taskData = null), nt && (se.once = !0), !ye && "boolean" == typeof he.options || (he.options = se), he.target = O, he.capture = xe, he.eventName = S, F && (he.originalDelegate = V), D ? me.unshift(he) : me.push(he), y ? O : void 0
                        }
                    };
                return E[c] = u(I, v, e, r, j), z && (E[m] = u(z, L, function (s) {
                    return z.call(h.target, h.eventName, s.invoke, h.options)
                }, r, j, !0)), E[a] = function () {
                    const s = this || t;
                    let f = arguments[0];
                    _ && _.transferEventName && (f = _.transferEventName(f));
                    const g = arguments[2], b = !!g && ("boolean" == typeof g || g.capture), y = arguments[1];
                    if (!y) return w.apply(this, arguments);
                    if (x && !x(w, y, s, arguments)) return;
                    const D = te[f];
                    let O;
                    D && (O = D[b ? ce : ae]);
                    const S = O && s[O];
                    if (S) for (let V = 0; V < S.length; V++) {
                        const F = S[V];
                        if (C(F, y)) return S.splice(V, 1), F.isRemoved = !0, 0 === S.length && (F.allRemoved = !0, s[O] = null, "string" == typeof f) && (s[ke + "ON_PROPERTY" + f] = null), F.zone.cancelTask(F), j ? s : void 0
                    }
                    return w.apply(this, arguments)
                }, E[p] = function () {
                    const s = this || t;
                    let f = arguments[0];
                    _ && _.transferEventName && (f = _.transferEventName(f));
                    const g = [], b = Qe(s, G ? G(f) : f);
                    for (let y = 0; y < b.length; y++) {
                        const D = b[y];
                        g.push(D.originalDelegate ? D.originalDelegate : D.callback)
                    }
                    return g
                }, E[d] = function () {
                    const s = this || t;
                    let f = arguments[0];
                    if (f) {
                        _ && _.transferEventName && (f = _.transferEventName(f));
                        const g = te[f];
                        if (g) {
                            const D = s[g[ae]], O = s[g[ce]];
                            if (D) {
                                const S = D.slice();
                                for (let V = 0; V < S.length; V++) {
                                    const F = S[V];
                                    this[a].call(this, f, F.originalDelegate ? F.originalDelegate : F.callback, F.options)
                                }
                            }
                            if (O) {
                                const S = O.slice();
                                for (let V = 0; V < S.length; V++) {
                                    const F = S[V];
                                    this[a].call(this, f, F.originalDelegate ? F.originalDelegate : F.callback, F.options)
                                }
                            }
                        }
                    } else {
                        const g = Object.keys(s);
                        for (let b = 0; b < g.length; b++) {
                            const D = $e.exec(g[b]);
                            let O = D && D[1];
                            O && "removeListener" !== O && this[d].call(this, O)
                        }
                        this[d].call(this, "removeListener")
                    }
                    if (j) return this
                }, ue(E[c], I), ue(E[a], w), oe && ue(E[d], oe), Q && ue(E[p], Q), !0
            }

            let q = [];
            for (let R = 0; R < i.length; R++) q[R] = J(i[R], o);
            return q
        }

        function Qe(t, n) {
            if (!n) {
                const a = [];
                for (let p in t) {
                    const d = $e.exec(p);
                    let P = d && d[1];
                    if (P && (!n || P === n)) {
                        const v = t[p];
                        if (v) for (let m = 0; m < v.length; m++) a.push(v[m])
                    }
                }
                return a
            }
            let i = te[n];
            i || (Je(n), i = te[n]);
            const o = t[i[ae]], c = t[i[ce]];
            return o ? c ? o.concat(c) : o.slice() : c ? c.slice() : []
        }

        function _t(t, n) {
            const i = t.Event;
            i && i.prototype && n.patchMethod(i.prototype, "stopImmediatePropagation", o => function (c, a) {
                c[Ke] = !0, o && o.apply(c, a)
            })
        }

        function Et(t, n, i, o, c) {
            const a = Zone.__symbol__(o);
            if (n[a]) return;
            const p = n[a] = n[o];
            n[o] = function (d, P, v) {
                return P && P.prototype && c.forEach(function (m) {
                    const L = `${i}.${o}::` + m, Z = P.prototype;
                    try {
                        if (Z.hasOwnProperty(m)) {
                            const N = t.ObjectGetOwnPropertyDescriptor(Z, m);
                            N && N.value ? (N.value = t.wrapWithCurrentZone(N.value, L), t._redefineProperty(P.prototype, m, N)) : Z[m] && (Z[m] = t.wrapWithCurrentZone(Z[m], L))
                        } else Z[m] && (Z[m] = t.wrapWithCurrentZone(Z[m], L))
                    } catch {
                    }
                }), p.call(n, d, P, v)
            }, t.attachOriginToPatched(n[o], p)
        }

        function et(t, n, i) {
            if (!i || 0 === i.length) return n;
            const o = i.filter(a => a.target === t);
            if (!o || 0 === o.length) return n;
            const c = o[0].ignoreProperties;
            return n.filter(a => -1 === c.indexOf(a))
        }

        function tt(t, n, i, o) {
            t && Xe(t, et(t, n, i), o)
        }

        function He(t) {
            return Object.getOwnPropertyNames(t).filter(n => n.startsWith("on") && n.length > 2).map(n => n.substring(2))
        }

        Zone.__load_patch("util", (t, n, i) => {
            const o = He(t);
            i.patchOnProperties = Xe, i.patchMethod = le, i.bindArguments = Le, i.patchMacroTask = lt;
            const c = n.__symbol__("BLACK_LISTED_EVENTS"), a = n.__symbol__("UNPATCHED_EVENTS");
            t[a] && (t[c] = t[a]), t[c] && (n[c] = n[a] = t[c]), i.patchEventPrototype = _t, i.patchEventTarget = dt, i.isIEOrEdge = ft, i.ObjectDefineProperty = Ee, i.ObjectGetOwnPropertyDescriptor = ie, i.ObjectCreate = ge, i.ArraySlice = Ve, i.patchClass = ve, i.wrapWithCurrentZone = Ie, i.filterProperties = et, i.attachOriginToPatched = ue, i._redefineProperty = Object.defineProperty, i.patchCallbacks = Et, i.getGlobalObjects = () => ({
                globalSources: Ye,
                zoneSymbolEventNames: te,
                eventNames: o,
                isBrowser: je,
                isMix: Ue,
                isNode: we,
                TRUE_STR: ce,
                FALSE_STR: ae,
                ZONE_SYMBOL_PREFIX: ke,
                ADD_EVENT_LISTENER_STR: Oe,
                REMOVE_EVENT_LISTENER_STR: Se
            })
        });
        const Ce = A("zoneTask");

        function pe(t, n, i, o) {
            let c = null, a = null;
            i += o;
            const p = {};

            function d(v) {
                const m = v.data;
                return m.args[0] = function () {
                    return v.invoke.apply(this, arguments)
                }, m.handleId = c.apply(t, m.args), v
            }

            function P(v) {
                return a.call(t, v.data.handleId)
            }

            c = le(t, n += o, v => function (m, L) {
                if ("function" == typeof L[0]) {
                    const Z = {
                        isPeriodic: "Interval" === o,
                        delay: "Timeout" === o || "Interval" === o ? L[1] || 0 : void 0,
                        args: L
                    }, N = L[0];
                    L[0] = function () {
                        try {
                            return N.apply(this, arguments)
                        } finally {
                            Z.isPeriodic || ("number" == typeof Z.handleId ? delete p[Z.handleId] : Z.handleId && (Z.handleId[Ce] = null))
                        }
                    };
                    const B = Me(n, L[0], Z, d, P);
                    if (!B) return B;
                    const H = B.data.handleId;
                    return "number" == typeof H ? p[H] = B : H && (H[Ce] = B), H && H.ref && H.unref && "function" == typeof H.ref && "function" == typeof H.unref && (B.ref = H.ref.bind(H), B.unref = H.unref.bind(H)), "number" == typeof H || H ? H : B
                }
                return v.apply(t, L)
            }), a = le(t, i, v => function (m, L) {
                const Z = L[0];
                let N;
                "number" == typeof Z ? N = p[Z] : (N = Z && Z[Ce], N || (N = Z)), N && "string" == typeof N.type ? "notScheduled" !== N.state && (N.cancelFn && N.data.isPeriodic || 0 === N.runCount) && ("number" == typeof Z ? delete p[Z] : Z && (Z[Ce] = null), N.zone.cancelTask(N)) : v.apply(t, L)
            })
        }

        Zone.__load_patch("legacy", t => {
            const n = t[Zone.__symbol__("legacyPatch")];
            n && n()
        }), Zone.__load_patch("queueMicrotask", (t, n, i) => {
            i.patchMethod(t, "queueMicrotask", o => function (c, a) {
                n.current.scheduleMicroTask("queueMicrotask", a[0])
            })
        }), Zone.__load_patch("timers", t => {
            const n = "set", i = "clear";
            pe(t, n, i, "Timeout"), pe(t, n, i, "Interval"), pe(t, n, i, "Immediate")
        }), Zone.__load_patch("requestAnimationFrame", t => {
            pe(t, "request", "cancel", "AnimationFrame"), pe(t, "mozRequest", "mozCancel", "AnimationFrame"), pe(t, "webkitRequest", "webkitCancel", "AnimationFrame")
        }), Zone.__load_patch("blocking", (t, n) => {
            const i = ["alert", "prompt", "confirm"];
            for (let o = 0; o < i.length; o++) le(t, i[o], (a, p, d) => function (P, v) {
                return n.current.run(a, t, v, d)
            })
        }), Zone.__load_patch("EventTarget", (t, n, i) => {
            (function mt(t, n) {
                n.patchEventPrototype(t, n)
            })(t, i), function pt(t, n) {
                if (Zone[n.symbol("patchEventTarget")]) return;
                const {
                    eventNames: i,
                    zoneSymbolEventNames: o,
                    TRUE_STR: c,
                    FALSE_STR: a,
                    ZONE_SYMBOL_PREFIX: p
                } = n.getGlobalObjects();
                for (let P = 0; P < i.length; P++) {
                    const v = i[P], Z = p + (v + a), N = p + (v + c);
                    o[v] = {}, o[v][a] = Z, o[v][c] = N
                }
                const d = t.EventTarget;
                d && d.prototype && n.patchEventTarget(t, n, [d && d.prototype])
            }(t, i);
            const o = t.XMLHttpRequestEventTarget;
            o && o.prototype && i.patchEventTarget(t, i, [o.prototype])
        }), Zone.__load_patch("MutationObserver", (t, n, i) => {
            ve("MutationObserver"), ve("WebKitMutationObserver")
        }), Zone.__load_patch("IntersectionObserver", (t, n, i) => {
            ve("IntersectionObserver")
        }), Zone.__load_patch("FileReader", (t, n, i) => {
            ve("FileReader")
        }), Zone.__load_patch("on_property", (t, n, i) => {
            !function Tt(t, n) {
                if (we && !Ue || Zone[t.symbol("patchEvents")]) return;
                const i = n.__Zone_ignore_on_properties;
                let o = [];
                if (je) {
                    const c = window;
                    o = o.concat(["Document", "SVGElement", "Element", "HTMLElement", "HTMLBodyElement", "HTMLMediaElement", "HTMLFrameSetElement", "HTMLFrameElement", "HTMLIFrameElement", "HTMLMarqueeElement", "Worker"]);
                    const a = function ut() {
                        try {
                            const t = Te.navigator.userAgent;
                            if (-1 !== t.indexOf("MSIE ") || -1 !== t.indexOf("Trident/")) return !0
                        } catch {
                        }
                        return !1
                    }() ? [{target: c, ignoreProperties: ["error"]}] : [];
                    tt(c, He(c), i && i.concat(a), de(c))
                }
                o = o.concat(["XMLHttpRequest", "XMLHttpRequestEventTarget", "IDBIndex", "IDBRequest", "IDBOpenDBRequest", "IDBDatabase", "IDBTransaction", "IDBCursor", "WebSocket"]);
                for (let c = 0; c < o.length; c++) {
                    const a = n[o[c]];
                    a && a.prototype && tt(a.prototype, He(a.prototype), i)
                }
            }(i, t)
        }), Zone.__load_patch("customElements", (t, n, i) => {
            !function yt(t, n) {
                const {isBrowser: i, isMix: o} = n.getGlobalObjects();
                (i || o) && t.customElements && "customElements" in t && n.patchCallbacks(n, t.customElements, "customElements", "define", ["connectedCallback", "disconnectedCallback", "adoptedCallback", "attributeChangedCallback"])
            }(t, i)
        }), Zone.__load_patch("XHR", (t, n) => {
            !function P(v) {
                const m = v.XMLHttpRequest;
                if (!m) return;
                const L = m.prototype;
                let N = L[Ze], B = L[Ne];
                if (!N) {
                    const h = v.XMLHttpRequestEventTarget;
                    if (h) {
                        const I = h.prototype;
                        N = I[Ze], B = I[Ne]
                    }
                }
                const H = "readystatechange", J = "scheduled";

                function q(h) {
                    const I = h.data, w = I.target;
                    w[a] = !1, w[d] = !1;
                    const Q = w[c];
                    N || (N = w[Ze], B = w[Ne]), Q && B.call(w, H, Q);
                    const oe = w[c] = () => {
                        if (w.readyState === w.DONE) if (!I.aborted && w[a] && h.state === J) {
                            const U = w[n.__symbol__("loadfalse")];
                            if (0 !== w.status && U && U.length > 0) {
                                const re = h.invoke;
                                h.invoke = function () {
                                    const ee = w[n.__symbol__("loadfalse")];
                                    for (let W = 0; W < ee.length; W++) ee[W] === h && ee.splice(W, 1);
                                    !I.aborted && h.state === J && re.call(h)
                                }, U.push(h)
                            } else h.invoke()
                        } else !I.aborted && !1 === w[a] && (w[d] = !0)
                    };
                    return N.call(w, H, oe), w[i] || (w[i] = h), E.apply(w, I.args), w[a] = !0, h
                }

                function R() {
                }

                function _(h) {
                    const I = h.data;
                    return I.aborted = !0, G.apply(I.target, I.args)
                }

                const K = le(L, "open", () => function (h, I) {
                    return h[o] = 0 == I[2], h[p] = I[1], K.apply(h, I)
                }), X = A("fetchTaskAborting"), j = A("fetchTaskScheduling"), E = le(L, "send", () => function (h, I) {
                    if (!0 === n.current[j] || h[o]) return E.apply(h, I);
                    {
                        const w = {target: h, url: h[p], isPeriodic: !1, args: I, aborted: !1},
                            Q = Me("XMLHttpRequest.send", R, w, q, _);
                        h && !0 === h[d] && !w.aborted && Q.state === J && Q.invoke()
                    }
                }), G = le(L, "abort", () => function (h, I) {
                    const w = function Z(h) {
                        return h[i]
                    }(h);
                    if (w && "string" == typeof w.type) {
                        if (null == w.cancelFn || w.data && w.data.aborted) return;
                        w.zone.cancelTask(w)
                    } else if (!0 === n.current[X]) return G.apply(h, I)
                })
            }(t);
            const i = A("xhrTask"), o = A("xhrSync"), c = A("xhrListener"), a = A("xhrScheduled"), p = A("xhrURL"),
                d = A("xhrErrorBeforeScheduled")
        }), Zone.__load_patch("geolocation", t => {
            t.navigator && t.navigator.geolocation && function at(t, n) {
                const i = t.constructor.name;
                for (let o = 0; o < n.length; o++) {
                    const c = n[o], a = t[c];
                    if (a) {
                        if (!Fe(ie(t, c))) continue;
                        t[c] = (d => {
                            const P = function () {
                                return d.apply(this, Le(arguments, i + "." + c))
                            };
                            return ue(P, d), P
                        })(a)
                    }
                }
            }(t.navigator.geolocation, ["getCurrentPosition", "watchPosition"])
        }), Zone.__load_patch("PromiseRejectionEvent", (t, n) => {
            function i(o) {
                return function (c) {
                    Qe(t, o).forEach(p => {
                        const d = t.PromiseRejectionEvent;
                        if (d) {
                            const P = new d(o, {promise: c.promise, reason: c.rejection});
                            p.invoke(P)
                        }
                    })
                }
            }

            t.PromiseRejectionEvent && (n[A("unhandledPromiseRejectionHandler")] = i("unhandledrejection"), n[A("rejectionHandledHandler")] = i("rejectionhandled"))
        })
    }
}, ie => {
    ie(ie.s = 9550)
}]);
"use strict";
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["projects_client-application_src_features_cartographie_index_ts"], {
    9806: (rs, X, d) => {
        d.r(X), d.d(X, {CartographieFeatureModule: () => Ka, CartographieWebComponentModule: () => is});
        var u = d(6895), H = d(529), m = d(4006), f = d(4931), C = d(7945), Y = d(5532), Ie = d(936), Ee = d(8886),
            Fe = d(5700), Ue = d(5102), Pe = d(5070), Oe = d(6114), L = d(4497), e = d(4650), D = d(9646), N = d(7579),
            F = d(9841), ee = d(4482), De = d(5797), Je = d(3268), Se = d(9635), te = d(3269);

        function ie(...i) {
            const o = (0, te.jO)(i);
            return o ? (0, Se.z)(ie(...i), (0, Je.Z)(o)) : (0, ee.e)((t, n) => {
                (0, F.l)([t, ...(0, De.k)(i)])(n)
            })
        }

        function $(...i) {
            return ie(...i)
        }

        var Re = d(6451), Qe = d(8675), x = d(4004), l = d(5), g = d(3215), _ = d(4928), U = d(6286);
        const ne = [{label: "France"}], He = [{label: "Retour \xe0 la liste des r\xe9gions", link: ["regions"]}],
            Ye = [{label: "France", link: ["regions"]}], oe = (i, o) => i === o.length - 1,
            Ge = i => i.reduce((o, t, n) => [...o, ...oe(n, i) ? [] : [t.path]], []),
            Be = (i, o) => Object.assign({label: i[o].path}, !oe(o, i) && {link: Ge(i)}), re = new Map([[l.PV.CNFS, {
                ref: l.PV.CNFS,
                nom: "Conseiller num\xe9rique",
                description: "Un Conseiller num\xe9rique a pour mission d\u2019accompagner les Fran\xe7ais dans leur appropriation des usages num\xe9riques quotidiens",
                url: "https://www.conseiller-numerique.gouv.fr/",
                carracteristiques: [l.t6.RealiserDesDemarchesAdministratives, l.t6.AccompagnerLesDemarchesDeSante, l.t6.FavoriserMonInsertionProfessionnelle, l.t6.DevenirAutonomeDansLesDemarchesAdministratives, l.t6.PrendreEnMainUnOrdinateur, l.t6.SoutenirLaParentalite, l.t6.UtiliserLeNumerique]
            }], [l.PV.AidantsConnect, {
                ref: l.PV.AidantsConnect,
                nom: "Aidants Connect",
                description: "Aidants Connect permet \xe0 des professionnels de r\xe9aliser des d\xe9marches administratives \xe0 la place d'un usager de fa\xe7on s\xe9curis\xe9e.",
                url: "https://aidantsconnect.beta.gouv.fr/",
                carracteristiques: [l.t6.RealiserDesDemarchesAdministratives, l.t6.AccompagnerLesDemarchesDeSante, l.t6.CreerEtDevelopperMonEntreprise, l.xG.AMaPlace]
            }], [l.PV.APTIC, {
                ref: l.PV.APTIC,
                nom: "APTIC",
                description: "#APTIC c\u2019est le pass qui rapproche le citoyen du num\xe9rique. Con\xe7u sur le mod\xe8le des titres-restaurant, il permet de payer totalement ou partiellement des services de m\xe9diation num\xe9rique.",
                url: "https://www.aptic.fr/",
                carracteristiques: [l.aw.AccepteLePassNumerique]
            }], [l.PV.CampusConnecte, {
                ref: l.PV.CampusConnecte,
                nom: "Campus Connect\xe9",
                description: "Les campus connect\xe9s sont des lieux d'\xe9tudes o\xf9 les jeunes peuvent suivre, pr\xe8s de chez eux, des formations \xe0 distance dans l'enseignement sup\xe9rieur en b\xe9n\xe9ficiant d'un tutorat individuel et collectif. Des dipl\xf4mes de qualit\xe9 sont propos\xe9s \xe0 distance par les \xe9tablissements d'enseignement sup\xe9rieur.",
                url: "https://www.enseignementsup-recherche.gouv.fr/fr/campus-connectes",
                carracteristiques: [l.t6.FavoriserMonInsertionProfessionnelle, l.xG.DansUnAtelier, l.fG.Jeunes]
            }], [l.PV.FabriquesDeTerritoire, {
                ref: l.PV.FabriquesDeTerritoire,
                nom: "Fabrique de territoire",
                description: "Un tiers-lieu Fabrique de territoire participe \xe0 l\u2019\xe9mergence d\u2019autres tiers-lieux de moindre envergure et accompagne la mont\xe9e en comp\xe9tences num\xe9rique sur son territoire.",
                url: "https://agence-cohesion-territoires.gouv.fr/fabriques-de-territoire-582",
                carracteristiques: ["Tiers-lieux et coworking"]
            }], [l.PV.FranceServices, {
                ref: l.PV.FranceServices,
                nom: "France Services",
                description: "Une maison France services est un lieu qui combine accueil physique et accompagnement num\xe9rique, et qui regroupe en un m\xeame lieu plusieurs services.",
                url: "https://www.economie.gouv.fr/particuliers/france-services",
                carracteristiques: [l.t6.RealiserDesDemarchesAdministratives, l.t6.AccompagnerLesDemarchesDeSante, l.t6.FavoriserMonInsertionProfessionnelle, l.t6.DevenirAutonomeDansLesDemarchesAdministratives]
            }], [l.PV.FrenchTech, {
                ref: l.PV.FrenchTech,
                nom: "La French Tech",
                description: "La French Tech \xe0 pour mission de faire de la France l'un des pays les plus attractifs au monde pour les start-up qui veulent se lancer, partir \xe0 la conqu\xeate des march\xe9s internationaux et b\xe2tir un avenir qui ait du sens.",
                url: "https://lafrenchtech.com",
                carracteristiques: [l.t6.CreerEtDevelopperMonEntreprise]
            }], [l.PV.GrandesEcolesDuNumerique, {
                ref: l.PV.GrandesEcolesDuNumerique,
                nom: "Grandes \xe9coles du num\xe9rique",
                description: "les Grandes \xe9coles du num\xe9rique visent \xe0 apporter une r\xe9ponse aux besoins en comp\xe9tences dans les m\xe9tiers du num\xe9rique et \xe0 favoriser la formation et l'insertion sociale et professionnelle des personnes \xe9loign\xe9es de l'emploi.",
                url: "https://www.grandeecolenumerique.fr/",
                carracteristiques: [l.t6.FavoriserMonInsertionProfessionnelle, l.t6.CreerAvecLeNumerique]
            }], [l.PV.PointNumeriqueCAF, {
                ref: l.PV.PointNumeriqueCAF,
                nom: "Point num\xe9rique CAF",
                description: "Les points num\xe9riques caf.fr sont des espaces num\xe9riques am\xe9nag\xe9s mettant \xe0 disposition des ordinateurs, scanners et imprimantes, pour effectuer vos d\xe9marches en ligne.",
                url: "https://www.caf.fr/allocataires/caf-de-l-essonne/actualites-departementales/vos-points-relais-et-points-numeriques-caffr",
                carracteristiques: [l.t6.RealiserDesDemarchesAdministratives, l.t6.AccompagnerLesDemarchesDeSante, l.xG.Seul]
            }], [l.PV.PointRelaisCAF, {
                ref: l.PV.PointRelaisCAF,
                nom: "Point relais CAF",
                description: "les points relais caf.fr sont des espaces num\xe9riques am\xe9nag\xe9s mettant \xe0 disposition des ordinateurs, scanners et imprimantes, pour effectuer vos d\xe9marches en ligne.",
                url: "https://www.caf.fr/allocataires/caf-de-l-essonne/actualites-departementales/vos-points-relais-et-points-numeriques-caffr",
                carracteristiques: [l.t6.RealiserDesDemarchesAdministratives, l.t6.AccompagnerLesDemarchesDeSante, l.xG.Seul, l.xG.AvecDeLAide]
            }], [l.PV.RelaisPoleEmploi, {
                ref: l.PV.RelaisPoleEmploi,
                nom: "Relais P\xf4le Emploi",
                description: "Les Relais Emploi travaillent en partenariat avec P\xf4le Emploi, ils ont pour mission de renseigner toutes personnes en recherche d\u2019emploi, stages, formations et d'apporter des informations diverses en lien avec l\u2019emploi.",
                url: "https://www.pole-emploi.fr/",
                carracteristiques: [l.t6.FavoriserMonInsertionProfessionnelle, l.t6.CreerEtDevelopperMonEntreprise]
            }]]);
        var We = d(9300), ae = d(5403), Xe = d(8421), et = d(4671), tt = d(5032);

        function se(...i) {
            const o = (0, te.jO)(i);
            return (0, ee.e)((t, n) => {
                const r = i.length, a = new Array(r);
                let s = i.map(() => !1), c = !1;
                for (let p = 0; p < r; p++) (0, Xe.Xf)(i[p]).subscribe((0, ae.x)(n, v => {
                    a[p] = v, !c && !s[p] && (s[p] = !0, (c = s.every(et.y)) && (s = null))
                }, tt.Z));
                t.subscribe((0, ae.x)(n, p => {
                    if (c) {
                        const v = [p, ...a];
                        n.next(o ? o(...v) : v)
                    }
                }))
            })
        }

        var h = d(2199);
        const it = new Map([["ACI", "Structures porteuses d'ateliers et chantiers d'insertion"], ["ACIPHC", "Atelier chantier d'insertion premi\xe8res heures en chantier"], ["AFPA", "Agence nationale pour la formation professionnelle des adultes"], ["AI", "Associations interm\xe9diaires"], ["ASE", "Aide sociale \xe0 l'enfance"], ["ASSO", "Associations"], ["ASSO_CHOMEUR", "Associations de ch\xf4meurs"], ["Autre", "Autre"], ["BIB", "Biblioth\xe8que / M\xe9diath\xe8que"], ["CAARUD", "Centre d'accueil et d'accompagnement \xe0 la r\xe9duction de risques pour usagers de drogues"], ["CADA", "Centres d'accueil de demandeurs d'asile"], ["CAF", "Caisses d'allocation familiale"], ["CAP_EMPLOI", "Cap Emploi"], ["CAVA", "Centres d'adaptation \xe0 la vie active"], ["CC", "Communaut\xe9s de Commune"], ["CCAS", "Centres communaux d'action sociale"], ["CCONS", "Chambres consulaires (CCI, CMA, CA)"], ["CD", "Conseils D\xe9partementaux"], ["CHRS", "Centres d'h\xe9bergement et de r\xe9insertion sociale"], ["CHU", "Centres d'h\xe9bergement d'urgence"], ["CIAS", "Centres intercommunaux d'action sociale"], ["CIDFF", "Centres d'information sur les droits des femmes et des familles"], ["CITMET", "Cit\xe9 des m\xe9tiers"], ["CPH", "Centres provisoires d'h\xe9bergement"], ["CS", "Centre social"], ["CSAPA", "Centre de soins, d'accompagnement et de pr\xe9vention en addictologie"], ["DEETS", "Directions de l'Economie, de l'Emploi, du Travail et des Solidarit\xe9s"], ["DEPT", "Services sociaux du Conseil d\xe9partemental"], ["DIPLP", "D\xe9l\xe9gation interminist\xe9rielles \xe0 la pr\xe9vention et \xe0 la lutte contre la pauvret\xe9"], ["E2C", "\xc9cole de la deuxi\xe8me chance"], ["EA", "Entreprise adapt\xe9e"], ["EATT", "Entreprise Adapt\xe9e"], ["EI", "Entreprises d'insertion"], ["EITI", "Entreprises d'insertion par le travail ind\xe9pendant"], ["EPCI", "Intercommunalit\xe9"], ["EPIDE", "\xc9tablissement pour l'insertion dans l'emploi"], ["ESS", "Entreprise de l'\xc9conomie Sociale et Solidaire"], ["ETTI", "Entreprises de travail temporaire d'insertion"], ["FAIS", "F\xe9d\xe9rations d'acteurs de l'insertion et de la solidarit\xe9"], ["GEIQ", "Groupements d'employeurs pour l'insertion et la qualification"], ["HUDA", "H\xe9bergement d'urgence pour demandeurs d'asile"], ["MDE", "Maison de l'emploi"], ["MDEF", "Maison de l'emploi et de la formation"], ["MDPH", "Maison D\xe9partementale des Personnes Handicap\xe9es"], ["MDS", "Maison D\xe9partementale des Solidarit\xe9s"], ["MJC", "Maison des jeunes et de la culture"], ["ML", "Mission Locale"], ["MQ", "Maison de quartier"], ["MSA", "Mutualit\xe9 Sociale Agricole"], ["MUNI", "Municipalit\xe9s"], ["OACAS", "Structures agr\xe9\xe9es Organisme d'accueil communautaire et d'activit\xe9 solidaire"], ["ODC", "Organisation d\xe9l\xe9gataire d'un CD"], ["OF", "Organisme de formations"], ["OIL", "Op\xe9rateur d'interm\xe9diation locative"], ["OPCS", "Organisation porteuse de la clause sociale"], ["PAD", "Point d'Acc\xe8s au Droit"], ["PE", "P\xf4le emploi"], ["PENSION", "Pension de famille / r\xe9sidence accueil"], ["PIJ_BIJ", "Points et bureaux information jeunesse"], ["PIMMS", "Point Information M\xe9diation Multi Services"], ["PJJ", "Protection judiciaire de la jeunesse"], ["PLIE", "Plans locaux pour l'insertion et l'emploi"], ["PREF", "Pr\xe9fecture, Sous-Pr\xe9fecture"], ["PREVENTION", "Service ou club de pr\xe9vention"], ["REG", "R\xe9gion"], ["RFS", "R\xe9seau France Services"], ["RS_FJT", "R\xe9sidence sociale / FJT - Foyer de Jeunes Travailleurs"], ["SCP", "Services et clubs de pr\xe9vention"], ["SPIP", "Services p\xe9nitentiaires d'insertion et de probation"], ["TIERS_LIEUX", "Tiers lieu & coworking"], ["UDAF", "Union D\xe9partementale d'Aide aux Familles"]]),
            nt = new Map([["aidants-connect", {
                label: "Aidants Connect",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-national-fournis-par-aidants-connect/",
                detail: "Formulaire d'habilitation Aidants Connect",
                update_link: "https://aidantsconnect.beta.gouv.fr/habilitation/demandeur/",
                logo: "aidants-connect"
            }], ["angers", {
                label: "Ville d'Angers",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-maine-et-loire-fournis-par-angers/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["assembleurs", {
                label: "Les Assembleurs",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-hauts-de-france-fournis-par-les-assembleurs/",
                detail: "Formulaire des Assembleurs",
                update_link: "https://solen1.enquetes.social.gouv.fr/cgi-9/HE/SF?P=76z14z2z-1z-1z2747C6FAAF",
                logo: "assembleurs"
            }], ["cd17", {
                label: "D\xe9partement de la Charente-Maritime",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-nouvelle-aquitaine-fournis-par-charente-maritime/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd23", {
                label: "D\xe9partement de la Creuse",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-nouvelle-aquitaine-fournis-par-la-creuse/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd28-appui-territorial", {
                label: "D\xe9partement de l'Eure-et-Loir",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-eure-et-loir-fournis-par-appui-territorial-deure-et-loir/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd33", {
                label: "D\xe9partement de la Gironde",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-nouvelle-aquitaine-fournis-par-gironde/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd40", {
                label: "D\xe9partement des Landes",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-nouvelle-aquitaine-fournis-par-les-landes/",
                detail: "Plateforme d'\xe9change de donn\xe9es en Nouvelle-Aquitaine",
                update_link: "https://www.pigma.org/onegeo-login/fr/signin/?next=%2Fonegeo-maps%2F",
                logo: "les-landes"
            }], ["cd44", {
                label: "D\xe9partement de la Loire-Atlantique",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-loire-atlantique-fournis-par-loire-atlantique-1/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd49", {
                label: "D\xe9partement du Maine-et-Loire",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-maine-et-loire-fournis-par-departement-du-maine-et-loire/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd85", {
                label: "D\xe9partement de la Vend\xe9e",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-vendee-fournis-par-vendee/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["cd87", {
                label: "D\xe9partement de la Haute-Vienne",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-nouvelle-aquitaine-fournis-par-haute-vienne/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["conseiller-numerique", {
                label: "Conseiller num\xe9rique",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-national-fournis-par-conseiller-numerique-1/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'espace Coop CNFS",
                update_link: "https://coop.conseiller-numerique.gouv.fr/mes-lieux-activite",
                logo: "CnFS"
            }], ["conumm", {
                label: "Conumm",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-maine-et-loire-fournis-par-conumm/",
                detail: "Formulaire Conumm",
                update_link: "https://framaforms.org/cartographie-des-espaces-de-mediation-numerique-en-pays-de-la-loire-1580983145",
                logo: "Conumm"
            }], ["cr93", {
                label: "R\xe9gion PACA",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-provence-alpes-cote-dazur-fournis-par-paca/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["dora", {
                label: "Dora",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numeriques-en-france-disponibles-dans-le-referentiel-de-loffre-dinsertion-publie-par-data-inclusion/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["etapes-numerique", {
                label: "Etapes Numerique",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-national-fournis-par-etapes-numerique/",
                detail: "Donn\xe9es g\xe9r\xe9es par La Poste et la Banque des Territoires",
                update_link: "",
                logo: "etapes-num"
            }], ["fibre-64", {
                label: "Fibre 64",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-pyrenees-atlantique-fournis-par-fibre-64-3",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["france-services", {
                label: "France Services",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-national-fournis-par-france-services",
                detail: "Les horaires et coordonn\xe9es de votre France services doivent \xeatre actualis\xe9s directement depuis l\u2019onglet \xab Ma structure \xbb de la Plateforme France services. Pour tout autre changement, veuillez-vous rapprocher de votre r\xe9f\xe9rent d\xe9partemental.",
                logo: "fs"
            }], ["france-tiers-lieux", {
                label: "France Tiers-Lieux",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-national-fournis-par-france-tiers-lieux/",
                detail: "Cartographie des tiers-lieux",
                update_link: "https://cartographie.francetierslieux.fr/",
                logo: "france-tiers-lieux"
            }], ["francilin", {
                label: "Francil'IN",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-ile-de-france-fournis-par-francil-in/",
                detail: "Formulaire Francil'In",
                update_link: "https://equipe752106.typeform.com/to/qTKCmDOf?typeform-source=carto.francilin.fr",
                logo: "francilin"
            }], ["hinaura", {
                label: "Hinaura",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-auvergne-rhone-alpes-fournis-par-hinaura/",
                detail: "Formulaire Hinaura",
                update_link: "https://carto.hinaura.fr/?CommentModif",
                logo: "hinaura"
            }], ["hub-antilles", {
                label: "Mednum-Hub-Antilles",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-martinique-fournis-par-mednum-hub-antilles-4/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["hub-lo", {
                label: "Hub-lo",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-centre-val-de-loire-fournis-par-hub-lo-1/",
                detail: "Plateforme Hub-lo Centre Val-de-Loire",
                update_link: "https://medrcvl.doterr.fr/inscription",
                logo: "hub-lo"
            }], ["mulhouse", {
                label: "Ville de Mulhouse",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-haut-rhin-fournis-par-mulhouse/",
                detail: "Open data M2a",
                update_link: "https://data.mulhouse-alsace.fr/pages/accueil/",
                logo: "mulhouse"
            }], ["numi", {
                label: "Numi",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-normandie-fournis-par-numi/",
                detail: "Ces donn\xe9es sont int\xe9gr\xe9es via l'outil DORA",
                update_link: "https://dora.inclusion.beta.gouv.fr/auth/connexion?next=%2F",
                logo: "dora"
            }], ["res-in", {
                label: "R\xe9s-in",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-lyon-fournis-par-res-in/",
                detail: "Plateforme R\xe9s'in",
                update_link: "https://resin.grandlyon.com/acteurs",
                logo: "resin"
            }], ["rhinocc", {
                label: "RhinOcc",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-occitanie-fournis-par-rhinocc/",
                detail: "Formulaire RhinOcc",
                update_link: "https://rhinocc.fr/recensement/",
                logo: "rhinocc"
            }], ["ultra-numerique", {
                label: "Ultra-numerique",
                link: "https://www.data.gouv.fr/fr/datasets/lieux-de-mediation-numerique-sur-le-territoire-la-reunion-fournis-par-ultra-numerique/",
                detail: "Plateforme Ultra Numerique",
                update_link: "https://reunion.ultranumerique.fr/",
                logo: "ultra-numerique"
            }]]),
            ot = new Map([[l.aw.Gratuit, "Gratuit"], [l.aw.GratuitSousCondition, "Gratuit sous condition"], [l.aw.Payant, "Payant"], [l.aw.AccepteLePassNumerique, "Accepte le Pass Num\xe9rique"], [l.aw.Adhesion, "Adh\xe9sion"]]),
            rt = new Map([[l.xG.Seul, {
                label: "Seul",
                icon: "ri-user-3-line",
                description: "j'ai acc\xe8s \xe0 du materiel et une connexion"
            }], [l.xG.AvecDeLAide, {
                label: "Avec de l'aide",
                icon: "ri-group-line",
                description: "je suis accompagn\xe9 dans l'usage du num\xe9rique"
            }], [l.xG.AMaPlace, {
                label: "\xc0 ma place",
                icon: "ri-service-line",
                description: "une personne fait les d\xe9marches \xe0 ma place"
            }], [l.xG.DansUnAtelier, {
                label: "Dans un atelier",
                icon: "ri-tools-line",
                description: "j'apprends \xe0 utiliser le num\xe9rique"
            }]]), at = i => null != i, st = ([i, o]) => i.find(t => t.id === o.get("id")), ct = i => null != i,
            pt = i => rt.get(i), dt = i => i.length > 0 ? i : void 0;

        class j {
            constructor(o) {
                this.lieuxMediationNumeriqueRepository = o, this.getAll$ = this.lieuxMediationNumeriqueRepository.getAll$()
            }

            lieuMediationNumeriqueFromParams$(o, t, n) {
                return (0, F.a)([this.getAll$, o]).pipe((0, x.U)(st), (0, We.h)(at), se(n), (0, x.U)(([r, a]) => {
                    var s, c, p;
                    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({
                        id: r.id,
                        nom: r.nom,
                        adresse: [r.adresse.voie, r.adresse.complement_adresse, r.adresse.code_postal, `${r.adresse.commune.charAt(0).toUpperCase()}${r.adresse.commune.substring(1).toLowerCase()}`].join(" "),
                        commune: r.adresse.commune,
                        code_postal: r.adresse.code_postal,
                        services: r.services
                    }, (0, h.NL)("horaires", (0, _.YP)(t)(r.horaires))), (0, h.NL)("status", (0, _.Yq)(t)(r.horaires))), (0, h.NL)("typologies", null === (s = r.typologies) || void 0 === s ? void 0 : s.map(v => it.get(v) || "").join(", "))), (0, h.NL)("contact", r.contact)), (0, h.NL)("presentation", r.presentation)), (0, h.NL)("date_maj", r.date_maj)), (0, h.NL)("publics_accueillis", r.publics_accueillis)), (0, h.NL)("conditions_acces", r.conditions_acces?.map(o => ot.get(o)).join(", "))), (0, h.NL)("labels_nationaux", r.labels_nationaux)), (0, h.NL)("labels_autres", r.labels_autres)), (0, h.NL)("modalites_accompagnement", (i => {
                        var o;
                        return null !== (o = i?.map(pt).filter(ct)) && void 0 !== o ? o : []
                    })(r.modalites_accompagnement), dt)), (0, h.NL)("accessibilite", r.accessibilite)), (0, h.NL)("localisation", r.localisation)), (0, h.NL)("distance", ((i, o) => o === U.nL || null == i.localisation ? void 0 : (0, _.Hl)(i.localisation, o))(r, a))), (0, h.NL)("prise_rdv", r.prise_rdv)), (0, h.NL)("aidants", r.aidants)), (0, h.NL)("source", null !== (p = nt.get(null !== (c = r.source) && void 0 !== c ? c : "")) && void 0 !== p ? p : void 0))
                }))
            }
        }

        const G = i => `${i[0].toUpperCase()}${i.toLowerCase().substring(1)}`, _t = i => i.length > 0,
            xt = i => `${(i => `${(i => i ? G(i) + ", " : "")(i.complement_adresse)}${(i => i.split(" ").filter(_t).map(G).join(" "))(i.voie)}`)(i)} ${i.code_postal}, ${G(i.commune)}`,
            J = "regions", P = (i, o) => i > (parseInt(o ?? "") >= 5e4 && parseInt(o ?? "") <= 1e5 ? 8 : 9),
            ce = i => null != i.distance,
            Jt = i => i.sort((o, t) => ce(o) && ce(t) ? ((i, o) => i.distance - o.distance)(o, t) : ((i, o) => i.code_postal !== o.code_postal)(o, t) ? ((i, o) => i.code_postal < o.code_postal ? -1 : 1)(o, t) : ((i, o) => i.nom < o.nom ? -1 : 1)(o, t)),
            Rt = ([i, o]) => {
                var t;
                return ((i, o) => i ? o.filter(t => {
                    var n;
                    return (null === (n = (0, _.TE)(t)) || void 0 === n ? void 0 : n.code) === i.code
                }) : o)((0, _._g)(null !== (t = o.get("nomDepartement")) && void 0 !== t ? t : ""), i)
            };
        var S = d(1135), k = d(8505), z = d(3986);
        const Ht = [{deps: [z.y], provide: _.yF, useClass: _.yF}, {deps: [z.y], provide: j, useClass: j}, {
            deps: [z.y],
            provide: L.z_,
            useClass: _.yF,
            multi: !0
        }, {deps: [L.PA], provide: L.z_, useClass: L.kV, multi: !0}, {deps: [g.KN, g.S7], provide: _.M, useClass: _.M}];
        var Yt = d(7188), $t = d(2084);
        const jt = i => {
                var o;
                return null !== (o = i.labels_nationaux) && void 0 !== o ? o : []
            }, Gt = i => {
                var o;
                return null !== (o = i.labels_autres) && void 0 !== o ? o : []
            }, pe = i => Array.from(new Set(i)), Bt = i => pe(i.flatMap(jt)),
            Vt = i => (i => pe(i.flatMap(Gt)))(i).filter(o => "QPV" === o || "ZRR" === o);
        var me = d(9022);

        function Kt(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "li", 3)(1, "div", 4)(2, "label", 5)(3, "input", 12), e.NdJ("change", function () {
                    e.CHM(t);
                    const r = e.oxw(3);
                    return e.KtG(r.setFilterToQueryString("labels_nationaux"))
                }), e.qZA(), e._uU(4), e.qZA()()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(3);
                let r;
                e.xp6(3), e.Q6J("value", t), e.xp6(1), e.hij(" ", null !== (r = n.labelMap.get(t)) && void 0 !== r ? r : t, " ")
            }
        }

        function Wt(i, o) {
            if (1 & i && (e.TgZ(0, "fieldset")(1, "legend", 1), e._uU(2, "Labels nationaux"), e.qZA(), e.TgZ(3, "ul", 2), e.YNc(4, Kt, 5, 2, "li", 11), e.qZA()()), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(4), e.Q6J("ngForOf", t)
            }
        }

        function Xt(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, Wt, 5, 1, "fieldset", 10), e.BQk()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.length > 1)
            }
        }

        function ei(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "li", 3)(1, "div", 4)(2, "label", 5)(3, "input", 13), e.NdJ("change", function () {
                    e.CHM(t);
                    const r = e.oxw(3);
                    return e.KtG(r.setFilterToQueryString("labels_autres"))
                }), e.qZA(), e._uU(4), e.qZA()()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(3);
                let r;
                e.xp6(3), e.Q6J("value", t), e.xp6(1), e.hij(" ", null !== (r = n.labelMap.get(t)) && void 0 !== r ? r : t, " ")
            }
        }

        function ti(i, o) {
            if (1 & i && (e.TgZ(0, "fieldset")(1, "legend", 1), e._uU(2, "Territoires Prioritaires"), e.qZA(), e.TgZ(3, "ul", 2), e.YNc(4, ei, 5, 2, "li", 11), e.qZA()()), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(4), e.Q6J("ngForOf", t)
            }
        }

        function ii(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, ti, 5, 1, "fieldset", 10), e.BQk()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.length > 0)
            }
        }

        const ni = function () {
            return {day: "now"}
        };
        let ri = (() => {
            class i {
                constructor(t, n) {
                    this.route = t, this.router = n, this.lieuxMediationNumeriques = [], this.labelMap = new Map([["CNFS", "Conseillers Num\xe9riques"], ["QPV", "QPV (quartier prioritaire de la ville)"], ["ZRR", "ZRR (zones de revitalisation rurale)"]]), this.affinerRechercheForm = (i => {
                        var o, t, n, r, a, s;
                        return new m.cw({
                            prise_rdv: new m.NI(null !== (o = i.prise_rdv) && void 0 !== o && o),
                            accessibilite: new m.NI(null !== (t = i.accessibilite) && void 0 !== t && t),
                            horaires_ouverture: new m.NI(null !== (n = i.horaires_ouverture) && void 0 !== n && n),
                            conditions_acces: new m.NI(null !== (r = i.conditions_acces) && void 0 !== r ? r : []),
                            labels_nationaux: new m.NI(null !== (a = i.labels_nationaux) && void 0 !== a ? a : []),
                            labels_autres: new m.NI(null !== (s = i.labels_autres) && void 0 !== s ? s : [])
                        })
                    })((0, _.Ut)(this.route.snapshot.queryParams)), this.strategiesTerritorialesFrom = Vt, this.labelNationauxFrom = Bt
                }

                setFilterToQueryString(t) {
                    var n, r;
                    this.router.navigate([], {queryParams: Object.assign(Object.assign(Object.assign({}, this.route.snapshot.queryParams), {[t]: null === (n = this.affinerRechercheForm.get(t)) || void 0 === n ? void 0 : n.value}), "horaires_ouverture" === t && null !== (r = this.affinerRechercheForm.get(t)) && void 0 !== r && r.value ? {horaires_ouverture: JSON.stringify([{day: "now"}])} : {})})
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(f.gz), e.Y36(f.F0))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-affiner-recherche-form"]],
                inputs: {lieuxMediationNumeriques: "lieuxMediationNumeriques"},
                decls: 27,
                vars: 5,
                consts: [[3, "formGroup"], [1, "text-uppercase", "p-2", "pt-4", "border-bottom", "bg-white", "text-muted", "h6", "fw-bold"], [1, "list-group", "list-group-flush", "fw-bold"], [1, "list-group-item", "bg-transparent"], [1, "form-check", "form-switch", "my-2"], [1, "form-check-label"], ["type", "checkbox", "name", "prise_rdv", "role", "switch", "formControlName", "prise_rdv", 1, "form-check-input", 3, "change"], ["type", "checkbox", "name", "accessibilite", "role", "switch", "formControlName", "accessibilite", 1, "form-check-input", 3, "change"], ["type", "checkbox", "name", "horaires_ouverture", "role", "switch", "formControlName", "horaires_ouverture", 1, "form-check-input", 3, "value", "change"], ["type", "checkbox", "name", "conditions_acces", "role", "switch", "value", "Gratuit : Je peux acc\xe9der gratuitement au lieu et \xe0 ses services", "appCheckboxArray", "", "formControlName", "conditions_acces", 1, "form-check-input", 3, "change"], [4, "ngIf"], ["class", "list-group-item bg-transparent", 4, "ngFor", "ngForOf"], ["name", "labels_nationaux", "type", "checkbox", "role", "switch", "appCheckboxArray", "", "formControlName", "labels_nationaux", 1, "form-check-input", 3, "value", "change"], ["name", "labels_autres", "type", "checkbox", "role", "switch", "appCheckboxArray", "", "formControlName", "labels_autres", 1, "form-check-input", 3, "value", "change"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "form", 0)(1, "fieldset")(2, "legend", 1), e._uU(3, "Accessibilit\xe9"), e.qZA(), e.TgZ(4, "ul", 2)(5, "li", 3)(6, "div", 4)(7, "label", 5)(8, "input", 6), e.NdJ("change", function () {
                        return n.setFilterToQueryString("prise_rdv")
                    }), e.qZA(), e._uU(9, " Pouvoir prendre RDV "), e.qZA()()(), e.TgZ(10, "li", 3)(11, "div", 4)(12, "label", 5)(13, "input", 7), e.NdJ("change", function () {
                        return n.setFilterToQueryString("accessibilite")
                    }), e.qZA(), e._uU(14, " Informations pour les personnes en situation de handicap "), e.qZA()()(), e.TgZ(15, "li", 3)(16, "div", 4)(17, "label", 5)(18, "input", 8), e.NdJ("change", function () {
                        return n.setFilterToQueryString("horaires_ouverture")
                    }), e.qZA(), e._uU(19, " Ouvert actuellement "), e.qZA()()(), e.TgZ(20, "li", 3)(21, "div", 4)(22, "label", 5)(23, "input", 9), e.NdJ("change", function () {
                        return n.setFilterToQueryString("conditions_acces")
                    }), e.qZA(), e._uU(24, " Gratuit "), e.qZA()()()()(), e.YNc(25, Xt, 2, 1, "ng-container", 10), e.YNc(26, ii, 2, 1, "ng-container", 10), e.qZA()), 2 & t && (e.Q6J("formGroup", n.affinerRechercheForm), e.xp6(18), e.Q6J("value", e.DdM(4, ni)), e.xp6(7), e.Q6J("ngIf", n.labelNationauxFrom(n.lieuxMediationNumeriques)), e.xp6(1), e.Q6J("ngIf", n.strategiesTerritorialesFrom(n.lieuxMediationNumeriques)))
                },
                dependencies: [u.sg, u.O5, m._Y, m.Wl, m.JJ, m.JL, m.sg, m.u, me.A],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), ai = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-cartographie-loader"]],
                decls: 24,
                vars: 0,
                consts: [[1, "mx-auto", "my-5", "position-relative", 2, "height", "0", "width", "100%", "padding-bottom", "100%"], [1, "full-animation-container", "position-absolute"], [1, "fond-degrade"], [1, "elmt-animation", "elmt-animation-0"], [1, "elmt-animation", "elmt-animation-1"], [1, "elmt-animation", "elmt-animation-2"], [1, "elmt-animation", "elmt-animation-3"], [1, "elmt-animation", "elmt-animation-4"], [1, "elmt-animation", "elmt-animation-5"], [1, "elmt-animation", "elmt-animation-6"], [1, "elmt-animation", "elmt-animation-7"], [1, "elmt-animation", "elmt-animation-8"], [1, "elmt-animation", "elmt-animation-9"], [1, "elmt-animation", "elmt-animation-10"], [1, "elmt-animation", "elmt-animation-11"], [1, "elmt-animation", "elmt-animation-12"], [1, "elmt-animation", "elmt-animation-13"], [1, "elmt-animation", "elmt-animation-14"], [1, "elmt-animation", "elmt-animation-15"], [1, "elmt-animation", "elmt-animation-16"], [1, "elmt-animation", "elmt-animation-17"], [1, "elmt-animation", "elmt-animation-18"], [1, "elmt-animation", "elmt-animation-19"], [1, "elmt-animation", "elmt-animation-20"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "div", 1), e._UZ(2, "div", 2)(3, "div", 3)(4, "div", 4)(5, "div", 5)(6, "div", 6)(7, "div", 7)(8, "div", 8)(9, "div", 9)(10, "div", 10)(11, "div", 11)(12, "div", 12)(13, "div", 13)(14, "div", 14)(15, "div", 15)(16, "div", 16)(17, "div", 17)(18, "div", 18)(19, "div", 19)(20, "div", 20)(21, "div", 21)(22, "div", 22)(23, "div", 23), e.qZA()())
                },
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function si(i, o) {
            1 & i && (e.TgZ(0, "div", 9), e._uU(1, " Prise de RDV en ligne disponible "), e.qZA())
        }

        function li(i, o) {
            if (1 & i && (e.TgZ(0, "div", 10)(1, "span"), e._uU(2), e.qZA(), e._uU(3, " \xb7 "), e.TgZ(4, "small"), e._uU(5), e.qZA()()), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.ekj("text-primary", "Ouvert" === t.status.label), e.xp6(1), e.hij(" ", t.status.label, " "), e.xp6(3), e.Oqu(t.status.limite)
            }
        }

        function ui(i, o) {
            1 & i && (e.TgZ(0, "div", 10), e._uU(1, "Horaires inconnus"), e.qZA())
        }

        const ci = function (i) {
            return [0, i]
        }, de = function (i, o) {
            return [i, o]
        };

        function pi(i, o) {
            if (1 & i && (e.TgZ(0, "mgl-popup", 3), e.YNc(1, si, 2, 0, "div", 4), e.TgZ(2, "div", 5)(3, "b", 6), e._uU(4), e.qZA(), e.YNc(5, li, 6, 4, "div", 7), e.YNc(6, ui, 2, 0, "ng-template", null, 8, e.W1O), e.qZA()()), 2 & i) {
                const t = o.ngIf, n = e.MAs(7);
                e.Q6J("offset", e.VKq(8, ci, -40))("lngLat", e.WLB(10, de, t.longitude, t.latitude))("closeButton", !1), e.xp6(1), e.Q6J("ngIf", t.prise_rdv), e.xp6(1), e.Q6J("ngClass", "Ouvert" === (null == t.status ? null : t.status.label) ? "border-success" : "border-muted"), e.xp6(2), e.Oqu(t.nom), e.xp6(1), e.Q6J("ngIf", t.status)("ngIfElse", n)
            }
        }

        function mi(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, pi, 8, 13, "mgl-popup", 2), e.ALo(2, "async"), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", e.lcZ(2, 1, t.highlight))
            }
        }

        function di(i, o) {
            1 & i && (e.O4$(), e.TgZ(0, "g", 17), e._UZ(1, "path", 18)(2, "path", 19)(3, "path", 20), e.qZA())
        }

        function _i(i, o) {
            1 & i && (e.O4$(), e.TgZ(0, "g", 17), e._UZ(1, "path", 21), e.qZA())
        }

        function gi(i, o) {
            1 & i && (e.O4$(), e.TgZ(0, "g"), e._UZ(1, "path", 22)(2, "path", 23)(3, "path", 24)(4, "path", 25)(5, "path", 26)(6, "path", 27), e.qZA())
        }

        function fi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "mgl-marker", 11)(2, "button", 12), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw();
                    return e.KtG(s.showDetails.emit(a))
                })("mouseenter", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw();
                    return e.KtG(s.highlight.emit(a))
                })("mouseleave", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.highlight.emit())
                }), e.O4$(), e.TgZ(3, "svg", 13), e._UZ(4, "ellipse", 14), e.YNc(5, di, 4, 0, "g", 15), e.YNc(6, _i, 2, 0, "ng-template", null, 16, e.W1O), e.YNc(8, gi, 7, 0, "g", 0), e.qZA()()(), e.BQk()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.MAs(7), r = e.oxw();
                e.xp6(1), e.Q6J("lngLat", e.WLB(12, de, t.longitude, t.latitude))("className", r.hoverId === t.id || r.selectedId === t.id ? "marker-hover" : ""), e.xp6(2), e.ekj("marker-status-open", "Ouvert" === (null == t.status ? null : t.status.label))("marker-status-closed", "Ferm\xe9" === (null == t.status ? null : t.status.label))("marker-status-unknown", "Ferm\xe9" !== (null == t.status ? null : t.status.label) && "Ouvert" !== (null == t.status ? null : t.status.label)), e.Q6J("ngClass", null != t.labels_nationaux && t.labels_nationaux.includes("CNFS") ? "marker-cnfs" : "marker-default"), e.xp6(2), e.Q6J("ngIf", null == t.labels_nationaux ? null : t.labels_nationaux.includes("CNFS"))("ngIfElse", n), e.xp6(3), e.Q6J("ngIf", t.prise_rdv)
            }
        }

        let R = (() => {
            class i {
                constructor() {
                    this.lieuxMediationNumeriques = [], this.selectedId = "", this.hoverId = "", this.displayTooltip = !0, this.showDetails = new e.vpe, this.highlight = new e.vpe
                }

                trackByLieuId(t, n) {
                    return n.id
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-lieu-mediation-numerique-markers"]],
                inputs: {
                    lieuxMediationNumeriques: "lieuxMediationNumeriques",
                    selectedId: "selectedId",
                    hoverId: "hoverId",
                    displayTooltip: "displayTooltip"
                },
                outputs: {showDetails: "showDetails", highlight: "highlight"},
                decls: 2,
                vars: 3,
                consts: [[4, "ngIf"], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["anchor", "bottom", 3, "offset", "lngLat", "closeButton", 4, "ngIf"], ["anchor", "bottom", 3, "offset", "lngLat", "closeButton"], ["class", "text-center text-primary fs-6 p-2", "style", "background-color: #c0c0ff", 4, "ngIf"], [1, "text-center", "p-3", "border-bottom", "border-3", "text-wrap", 3, "ngClass"], [1, "fs-5"], ["class", "text-muted", 4, "ngIf", "ngIfElse"], ["noOpeningHours", ""], [1, "text-center", "text-primary", "fs-6", "p-2", 2, "background-color", "#c0c0ff"], [1, "text-muted"], [3, "lngLat", "className"], ["tabindex", "-1", 1, "btn", 3, "click", "mouseenter", "mouseleave"], ["width", "50", "height", "85", "viewBox", "0 0 45 80", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 3, "ngClass"], ["cx", "22.75", "cy", "59.5", "rx", "11.3", "ry", "4", 1, "marker-base"], ["class", "marker-body", 4, "ngIf", "ngIfElse"], ["defaultMarker", ""], [1, "marker-body"], ["d", "m23.527 54.153 13.6-23.6v-16.7l-14.4-8.3-14.4 8.3v16.7l13.6 23.6z", 1, "marker-shape"], ["d", "m32.327 16.653-9.6-5.5-9.6 5.5v11.1l9.6 5.5 9.6-5.5v-3.2h-5.5v-4.7h5.5z", 1, "marker-shape-out"], ["d", "M18.627 19.853v4.7l4.1 2.4 4.1-2.4v-4.7l-4.1-2.4z", 1, "marker-shape-in"], ["d", "M22.727 6c-8.8 0-16 7.2-16 16s16 32 16 32 16-23.2 16-32-7.2-16-16-16zm0 21c-2.9 0-5.3-2.4-5.3-5.3s2.4-5.3 5.3-5.3 5.3 2.4 5.3 5.3-2.4 5.3-5.3 5.3z", 1, "marker-shape"], ["d", "M34.257 69.177v8h12l-4-4 4-4z", "fill", "#c0c0ff"], ["d", "m34.257 77.177 4-4h-4z", "fill", "#000091"], ["d", "M11.198 69.177v8h-12l4-4-4-4z", "fill", "#c0c0ff"], ["d", "m11.198 77.177-4-4h4z", "fill", "#000091"], ["fill", "#c0c0ff", "d", "M7.198 61.176h31.059v12H7.197Z"], ["d", "M12.845 70.706v-7.059h2.085c1.5 0 2.427.797 2.427 2.108 0 .857-.4 1.492-1.102 1.825l2.135 3.126h-1.628l-1.822-2.854h-.711v2.854zm2.163-5.869h-.78v1.825h.78c.585 0 .926-.353.926-.927 0-.535-.341-.898-.926-.898zm4.161 5.87v-7.06h2.68c2.163 0 3.625 1.624 3.625 3.53 0 1.906-1.462 3.53-3.625 3.53zm2.631-5.759h-1.315v4.457H21.8c1.267 0 2.183-.978 2.183-2.228 0-1.26-.916-2.229-2.183-2.229zm3.833-1.3h1.471l2.017 5.515 2.017-5.516h1.472l-2.583 7.06h-1.812z", "fill", "#000091"]],
                template: function (t, n) {
                    1 & t && (e.YNc(0, mi, 3, 3, "ng-container", 0), e.YNc(1, fi, 9, 15, "ng-container", 1)), 2 & t && (e.Q6J("ngIf", n.displayTooltip), e.xp6(1), e.Q6J("ngForOf", n.lieuxMediationNumeriques)("ngForTrackBy", n.trackByLieuId))
                },
                dependencies: [u.mk, u.sg, u.O5, C.CI, C.RX, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const hi = function (i, o) {
            return [i, o]
        };

        function xi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "mgl-marker", 1)(1, "button", 2), e.NdJ("mouseenter", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw();
                    return e.KtG(s.highlight.emit(a))
                })("mouseleave", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.highlight.emit())
                })("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw();
                    return e.KtG(s.showLieux.emit(a))
                }), e._UZ(2, "div", 3)(3, "div", 4), e.TgZ(4, "div", 5)(5, "span", 6), e._uU(6), e.qZA()()()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw();
                let r;
                e.Q6J("lngLat", e.WLB(4, hi, t.localisation.longitude, t.localisation.latitude)), e.xp6(1), e.ekj("marker-hover", n.hoverId === t.code), e.xp6(5), e.Oqu(null !== (r = t.lieuxCount) && void 0 !== r ? r : 0)
            }
        }

        let bi = (() => {
            class i {
                constructor() {
                    this.territoires = [], this.hoverId = "", this.showLieux = new e.vpe, this.highlight = new e.vpe
                }

                trackByTerritoireCode(t, n) {
                    return n.code
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-territoire-markers"]],
                inputs: {territoires: "territoires", hoverId: "hoverId"},
                outputs: {showLieux: "showLieux", highlight: "highlight"},
                decls: 1,
                vars: 2,
                consts: [[3, "lngLat", 4, "ngFor", "ngForOf", "ngForTrackBy"], [3, "lngLat"], ["tabindex", "-1", 1, "marker-group", 3, "mouseenter", "mouseleave", "click"], [1, "marker-group-bg", "rounded-circle", "shadow-sm"], [1, "marker-group-bg", "rounded-circle", "bg-white"], [1, "marker-group-fg", "rounded-circle", "d-flex", "bg-primary"], [1, "m-auto", "text-white", "fw-bold", "fs-6"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, xi, 7, 7, "mgl-marker", 0), 2 & t && e.Q6J("ngForOf", n.territoires)("ngForTrackBy", n.trackByTerritoireCode)
                },
                dependencies: [u.sg, C.CI],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function vi(i, o) {
            if (1 & i && (e.TgZ(0, "a", 11), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(2).$implicit;
                e.Q6J("href", t.link[0], e.LSH), e.xp6(1), e.hij(" ", t.label, " ")
            }
        }

        function qi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "a", 12), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw(2).$implicit, a = e.oxw(2);
                    return e.KtG(a.onClick(r.label))
                }), e._uU(1), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw(2).$implicit;
                e.Q6J("routerLink", t.link), e.xp6(1), e.hij(" ", t.label, " ")
            }
        }

        function wi(i, o) {
            if (1 & i && (e.TgZ(0, "span", 8), e.YNc(1, vi, 2, 2, "a", 9), e.YNc(2, qi, 2, 2, "ng-template", null, 10, e.W1O), e.qZA()), 2 & i) {
                const t = e.MAs(3), n = e.oxw().$implicit;
                e.xp6(1), e.Q6J("ngIf", n.link[0].startsWith("http"))("ngIfElse", t)
            }
        }

        function Ci(i, o) {
            if (1 & i && (e.TgZ(0, "span", 13), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw().$implicit;
                e.xp6(1), e.Oqu(t.label)
            }
        }

        function Zi(i, o) {
            1 & i && e._UZ(0, "i", 14)
        }

        function Ti(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, wi, 4, 2, "span", 5), e.YNc(2, Ci, 2, 1, "ng-template", null, 6, e.W1O), e.YNc(4, Zi, 1, 0, "i", 7), e.BQk()), 2 & i) {
                const t = o.$implicit, n = o.last, r = e.MAs(3);
                e.xp6(1), e.Q6J("ngIf", t.link)("ngIfElse", r), e.xp6(3), e.Q6J("ngIf", !n)
            }
        }

        function Mi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "a", 15), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.onClick(r[1].label))
                }), e._uU(1, " Changer de d\xe9partement "), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw().ngIf;
                e.Q6J("routerLink", t[1].link)
            }
        }

        function Ai(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "a", 15), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.onClick(r[0].label))
                }), e._uU(1, " Changer de r\xe9gion "), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw().ngIf;
                e.Q6J("routerLink", t[0].link)
            }
        }

        function yi(i, o) {
            if (1 & i && (e.ynx(0), e.TgZ(1, "small", 1), e.YNc(2, Ti, 5, 3, "ng-container", 2), e.qZA(), e.TgZ(3, "div", 3), e.YNc(4, Mi, 2, 1, "a", 4), e.YNc(5, Ai, 2, 1, "a", 4), e.qZA(), e.BQk()), 2 & i) {
                const t = o.ngIf;
                e.xp6(2), e.Q6J("ngForOf", t), e.xp6(2), e.Q6J("ngIf", null == t || null == t[1] ? null : t[1].link), e.xp6(1), e.Q6J("ngIf", null == t || null == t[0] ? null : t[0].link)
            }
        }

        let Li = (() => {
            class i {
                constructor() {
                    this.url = [], this.zoom = 0, this.showLieux = new e.vpe, this.region = new e.vpe, this.departement = new e.vpe, this._breadcrumbItems$ = new N.x, this.breadcrumbItems$ = this._breadcrumbItems$.asObservable()
                }

                ngOnChanges() {
                    const t = ((i, o) => (i => 0 === i.length || "regions" !== i[0].path)(i) ? (i => i < 9 ? ne : He)(o) : (i => (i => 1 === i.length)(i) ? ne : [...i.reduce((o, t, n) => "regions" === t.path ? Ye : [...o, Be(i, n)], [])])(i.slice(0, 3)))(this.url, this.zoom);
                    this._breadcrumbItems$.next(t), t.length > 1 ? this.region.emit(t[1].label) : this.region.emit(), t.length > 2 ? this.departement.emit(t[2].label) : this.departement.emit()
                }

                onClick(t) {
                    this.showLieux.emit((0, _.RW)(t))
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-location-breadcrumb"]],
                inputs: {url: "url", zoom: "zoom"},
                outputs: {showLieux: "showLieux", region: "region", departement: "departement"},
                features: [e.TTD],
                decls: 2,
                vars: 3,
                consts: [[4, "ngIf"], ["aria-label", "Navigation par territoire", 1, "d-lg-flex", "d-none", "align-items-center"], [4, "ngFor", "ngForOf"], [1, "d-lg-none", "d-block", "list-group", "list-group-flush", "fw-bold"], ["queryParamsHandling", "preserve", "class", "list-group-item py-3 list-group-item-action", 3, "routerLink", "click", 4, "ngIf"], ["class", "breadcrumb-item", 4, "ngIf", "ngIfElse"], ["currentPage", ""], ["class", "ri-arrow-drop-right-fill", "aria-hidden", "true", 4, "ngIf"], [1, "breadcrumb-item"], ["target", "_blank", "rel", "noopener noreferrer", "class", "text-body opacity-75", 3, "href", 4, "ngIf", "ngIfElse"], ["routerLink", ""], ["target", "_blank", "rel", "noopener noreferrer", 1, "text-body", "opacity-75", 3, "href"], ["queryParamsHandling", "preserve", 1, "text-body", "opacity-75", 3, "routerLink", "click"], ["aria-current", "page", 1, "breadcrumb-item", "active", "text-body", "opacity-75"], ["aria-hidden", "true", 1, "ri-arrow-drop-right-fill"], ["queryParamsHandling", "preserve", 1, "list-group-item", "py-3", "list-group-item-action", 3, "routerLink", "click"]],
                template: function (t, n) {
                    1 & t && (e.YNc(0, yi, 6, 3, "ng-container", 0), e.ALo(1, "async")), 2 & t && e.Q6J("ngIf", e.lcZ(1, 1, n.breadcrumbItems$))
                },
                dependencies: [u.sg, u.O5, f.rH, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const Ni = function () {
            return ["/", "orientation", "besoin"]
        };

        function ki(i, o) {
            1 & i && (e.TgZ(0, "a", 3), e._UZ(1, "i", 4), e._uU(2, " Modifier l'orientation "), e.qZA()), 2 & i && e.Q6J("routerLink", e.DdM(1, Ni))
        }

        function Ii(i, o) {
            if (1 & i && (e.TgZ(0, "a", 5), e.ALo(1, "async"), e._UZ(2, "i", 4), e._uU(3, " Modifier l'orientation "), e.qZA()), 2 & i) {
                const t = e.oxw().ngIf, n = e.oxw();
                e.Q6J("href", t.url + "?" + n.toQueryString(e.lcZ(1, 1, n.route.queryParams)), e.LSH)
            }
        }

        function Ei(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, ki, 3, 2, "a", 1), e.YNc(2, Ii, 4, 3, "a", 2), e.BQk()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.active), e.xp6(1), e.Q6J("ngIf", !t.active && t.url)
            }
        }

        let _e = (() => {
            class i {
                constructor(t, n) {
                    this.route = t, this.features = n
                }

                toQueryString(t = {}) {
                    return new H.LE({fromObject: t}).toString()
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(f.gz), e.Y36(g.RS))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-modifier-orientation"]],
                decls: 1,
                vars: 1,
                consts: [[4, "ngIf"], ["class", "btn btn-secondary me-3", "queryParamsHandling", "preserve", 3, "routerLink", 4, "ngIf"], ["class", "btn btn-secondary me-3", 3, "href", 4, "ngIf"], ["queryParamsHandling", "preserve", 1, "btn", "btn-secondary", "me-3", 3, "routerLink"], ["aria-hidden", "true", 1, "ri-sound-module-line", "me-1"], [1, "btn", "btn-secondary", "me-3", 3, "href"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, Ei, 3, 2, "ng-container", 0), 2 & t && e.Q6J("ngIf", n.features.get("orientation"))
                },
                dependencies: [u.O5, f.rH, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Fi(i, o) {
            1 & i && (e.ynx(0), e.TgZ(1, "p", 59), e._uU(2, "Patientez quelques instants"), e.qZA(), e.TgZ(3, "h3", 60), e._uU(4, " Nous recherchons les lieux "), e._UZ(5, "br"), e._uU(6, " correspondant \xe0 votre recherche "), e.qZA(), e.BQk())
        }

        function Ui(i, o) {
            1 & i && (e.TgZ(0, "div", 61)(1, "div", 62), e._uU(2, "Patientez quelques instants"), e.qZA(), e.TgZ(3, "div", 63), e._uU(4, "Nous chargeons les lieux correspondants"), e.qZA()())
        }

        function Pi(i, o) {
            if (1 & i && (e.TgZ(0, "div", 50)(1, "div", 51)(2, "div", 52)(3, "div", 53)(4, "div", 54)(5, "div", 55)(6, "div", 56), e.YNc(7, Fi, 7, 0, "ng-container", 57), e.YNc(8, Ui, 5, 0, "ng-template", null, 58, e.W1O), e.qZA(), e._UZ(10, "app-cartographie-loader"), e.qZA()()()()()()), 2 & i) {
                const t = e.MAs(9), n = e.oxw();
                e.xp6(7), e.Q6J("ngIf", n.fromOrientation)("ngIfElse", t)
            }
        }

        const M = function () {
            return []
        };

        function Oi(i, o) {
            if (1 & i && (e._UZ(0, "app-affiner-recherche-form", 64), e.ALo(1, "async")), 2 & i) {
                const t = e.oxw();
                let n;
                e.Q6J("lieuxMediationNumeriques", null !== (n = e.lcZ(1, 1, t.allLieuxMediationNumerique$)) && void 0 !== n ? n : e.DdM(3, M))
            }
        }

        function Di(i, o) {
            1 & i && e._uU(0, "1 r\xe9sultat")
        }

        function Ji(i, o) {
            if (1 & i && e._uU(0), 2 & i) {
                const t = e.oxw().ngIf;
                e.hij("", t, " r\xe9sultats")
            }
        }

        function Si(i, o) {
            1 & i && (e.TgZ(0, "div", 65), e.YNc(1, Di, 1, 0, "ng-template", 66), e.YNc(2, Ji, 1, 1, "ng-template", 67), e.qZA()), 2 & i && e.Q6J("ngPlural", o.ngIf)
        }

        function Ri(i, o) {
            1 & i && (e.TgZ(0, "div", 68), e._uU(1, "Aucun r\xe9sultat"), e.qZA())
        }

        const ge = function (i, o) {
            return [i, o]
        };

        function Qi(i, o) {
            if (1 & i && (e.TgZ(0, "mgl-marker", 75), e.O4$(), e.TgZ(1, "svg", 76), e._UZ(2, "circle", 77)(3, "circle", 78), e.qZA()()), 2 & i) {
                const t = o.ngIf;
                e.Q6J("lngLat", e.WLB(1, ge, t.longitude, t.latitude))
            }
        }

        function Hi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "app-territoire-markers", 79), e.NdJ("showLieux", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onShowLieuxInZone(r))
                }), e.ALo(1, "async"), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw(2);
                let n;
                e.Q6J("territoires", null !== (n = null == (n = e.lcZ(1, 1, t.france$)) ? null : n.payload) && void 0 !== n ? n : e.DdM(3, M))
            }
        }

        function Yi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "app-territoire-markers", 80), e.NdJ("highlight", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onHighlight(null == r ? null : r.code))
                })("showLieux", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onShowLieuxInRegion(r))
                }), e.ALo(1, "async"), e.ALo(2, "async"), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw(2);
                let n, r;
                e.Q6J("territoires", null !== (n = null == (n = e.lcZ(1, 2, t.regions$)) ? null : n.payload) && void 0 !== n ? n : e.DdM(6, M))("hoverId", null !== (r = e.lcZ(2, 4, t.markersPresenter.highlighted$)) && void 0 !== r ? r : "")
            }
        }

        function $i(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "app-territoire-markers", 80), e.NdJ("highlight", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onHighlight(null == r ? null : r.code))
                })("showLieux", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onShowLieuxInDepartement(r))
                }), e.ALo(1, "async"), e.ALo(2, "async"), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw(2);
                let n, r;
                e.Q6J("territoires", null !== (n = null == (n = e.lcZ(1, 2, t.departements$)) ? null : n.payload) && void 0 !== n ? n : e.DdM(6, M))("hoverId", null !== (r = e.lcZ(2, 4, t.markersPresenter.highlighted$)) && void 0 !== r ? r : "")
            }
        }

        function ji(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "app-lieu-mediation-numerique-markers", 81), e.NdJ("highlight", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onHighlight(null == r ? null : r.id))
                })("showDetails", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onShowDetails(r))
                }), e.ALo(1, "async"), e.ALo(2, "async"), e.ALo(3, "async"), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw(2);
                let n, r, a;
                e.Q6J("lieuxMediationNumeriques", null !== (n = e.lcZ(1, 3, t.lieuxMediationNumerique$)) && void 0 !== n ? n : e.DdM(9, M))("selectedId", null !== (r = e.lcZ(2, 5, t.markersPresenter.selected$)) && void 0 !== r ? r : "")("hoverId", null !== (a = e.lcZ(3, 7, t.markersPresenter.highlighted$)) && void 0 !== a ? a : "")
            }
        }

        const Gi = function () {
            return {speed: 2}
        }, Bi = function (i) {
            return [i]
        };

        function zi(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "mgl-map", 69), e.NdJ("zoomEvt", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.zooming(r))
                })("zoomEnd", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onMapViewUpdated(r))
                })("mapDragEnd", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onMapViewUpdated(r))
                }), e.ALo(1, "async"), e._UZ(2, "mgl-control", 70), e.YNc(3, Qi, 4, 4, "mgl-marker", 71), e.ALo(4, "async"), e.YNc(5, Hi, 2, 4, "app-territoire-markers", 72), e.ALo(6, "async"), e.YNc(7, Yi, 3, 7, "app-territoire-markers", 73), e.ALo(8, "async"), e.ALo(9, "async"), e.YNc(10, $i, 3, 7, "app-territoire-markers", 73), e.ALo(11, "async"), e.ALo(12, "async"), e.YNc(13, ji, 4, 10, "app-lieu-mediation-numerique-markers", 74), e.ALo(14, "async"), e.qZA()
            }
            if (2 & i) {
                const t = o.ngIf, n = e.oxw();
                let r, a, s, c, p;
                e.Akn(n.assetsConfiguration.path + "/data/map-style.json"), e.Q6J("movingMethod", "flyTo")("movingOptions", e.DdM(29, Gi))("zoom", e.VKq(30, Bi, null !== (r = e.lcZ(1, 13, n.markersPresenter.zoom$)) && void 0 !== r ? r : 0))("center", e.WLB(32, ge, t.longitude, t.latitude)), e.xp6(2), e.Q6J("showZoom", !0)("showCompass", !1), e.xp6(1), e.Q6J("ngIf", e.lcZ(4, 15, n.userLocalisation$)), e.xp6(2), e.Q6J("ngIf", (null !== (a = e.lcZ(6, 17, n.currentZoom$)) && void 0 !== a ? a : 0) <= 4), e.xp6(2), e.Q6J("ngIf", (null !== (s = e.lcZ(8, 19, n.currentZoom$)) && void 0 !== s ? s : 0) <= 7 && (null !== (s = e.lcZ(9, 21, n.currentZoom$)) && void 0 !== s ? s : 0) > 4), e.xp6(3), e.Q6J("ngIf", (null !== (c = e.lcZ(11, 23, n.currentZoom$)) && void 0 !== c ? c : 0) < n.departementZoomForDistance() && (null !== (c = e.lcZ(12, 25, n.currentZoom$)) && void 0 !== c ? c : 0) > 7), e.xp6(3), e.Q6J("ngIf", (null !== (p = e.lcZ(14, 27, n.currentZoom$)) && void 0 !== p ? p : 0) >= 8)
            }
        }

        function Vi(i, o) {
            1 & i && e._uU(0, "Aucun r\xe9sultat")
        }

        function Ki(i, o) {
            1 & i && e._uU(0, "1 r\xe9sultat")
        }

        function Wi(i, o) {
            if (1 & i && e._uU(0), 2 & i) {
                const t = e.oxw().ngIf;
                e.hij("", t, " r\xe9sultats")
            }
        }

        function Xi(i, o) {
            1 & i && (e.TgZ(0, "i", 82), e.YNc(1, Vi, 1, 0, "ng-template", 83), e.YNc(2, Ki, 1, 0, "ng-template", 66), e.YNc(3, Wi, 1, 1, "ng-template", 67), e.qZA()), 2 & i && e.Q6J("ngPlural", o.ngIf)
        }

        const on = i => i.sort((o, t) => t.latitude - o.latitude);
        let I = (() => {
            class i {
                constructor(t, n, r, a, s, c) {
                    this._lieuxMediationNumeriqueListPresenter = t, this.router = n, this.route = r, this.markersPresenter = a, this.assetsConfiguration = s, this._zoomLevel = c, this._showMapForSmallDevices$ = new S.X(!1), this.showMapForSmallDevices$ = this._showMapForSmallDevices$.asObservable(), this._currentZoom$ = new S.X(this._zoomLevel.regular), this.currentZoom$ = this._currentZoom$.asObservable(), this._loadingState$ = new S.X(!0), this.loadingState$ = this._loadingState$.asObservable(), this._resultsCount$ = new N.x, this.resultsCount$ = this._resultsCount$.asObservable(), this._lieuxMediationNumeriqueListPresenterArgs = [(0, D.of)((0, _.LE)((0, _.Ut)(this.route.snapshot.queryParams))), this.route.queryParams.pipe((0, x.U)(_.Ut)), new Date], this.france$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueFrance$(...this._lieuxMediationNumeriqueListPresenterArgs).pipe((0, k.b)(({lieuxCount: p}) => {
                        this._loadingState$.next(!1), this._resultsCount$.next(p)
                    })), this.regions$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByRegion$(...this._lieuxMediationNumeriqueListPresenterArgs).pipe((0, k.b)(({lieuxCount: p}) => {
                        this._loadingState$.next(!1), this._resultsCount$.next(p)
                    })), this.departements$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByDepartement$(...this._lieuxMediationNumeriqueListPresenterArgs).pipe((0, k.b)(({lieuxCount: p}) => {
                        this._loadingState$.next(!1), this._resultsCount$.next(p)
                    })), this.lieuxMediationNumerique$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByDistance$(...this._lieuxMediationNumeriqueListPresenterArgs, this.markersPresenter.boundingBox$, this.currentZoom$).pipe((0, x.U)(p => ((i, o) => ((i, o) => i ? o.filter(t => {
                        var n;
                        return (null === (n = (0, _.TE)(t)) || void 0 === n ? void 0 : n.code) === i.code
                    }) : o)((0, _._g)(o), i))(p, this.getRouteParam("nomDepartement"))), se(this._currentZoom$), (0, x.U)((i => ([o, t]) => t > 9 ? o.map(n => Object.assign(Object.assign({}, n), (0, h.NL)("status", (0, _.Yq)(i)(n.horaires)))) : o)(new Date)), (0, x.U)(on), (0, k.b)(p => {
                        p.length > 0 && this._resultsCount$.next(p.length), this._loadingState$.next(!1)
                    })), this.allLieuxMediationNumerique$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByDistance$((0, D.of)(U.nL)), this.defaultAddress$ = this.route.queryParamMap.pipe((0, x.U)(p => p.get("address"))), this.fromOrientation = Object.keys(this.route.snapshot.queryParams).length > 0, this._userLocalisation$ = new S.X(U.nL), this.userLocalisation$ = this._userLocalisation$.asObservable()
                }

                onShowLieuxInDepartement(t) {
                    var n;
                    this.markersPresenter.center(t.localisation, t.zoom), this.router.navigate(["regions", null === (n = (0, _._W)(t)) || void 0 === n ? void 0 : n.nom, t.nom], {
                        relativeTo: this.route.parent,
                        queryParamsHandling: "preserve"
                    })
                }

                onShowLieuxInRegion(t) {
                    this.markersPresenter.center(t.localisation, t.zoom), this.router.navigate(["regions", t.nom], {
                        relativeTo: this.route.parent,
                        queryParamsHandling: "preserve"
                    })
                }

                onShowLieuxInZone(t) {
                    t ? this.markersPresenter.center(t.localisation, t.zoom) : this.markersPresenter.reset()
                }

                onShowDetails(t) {
                    this.router.navigate([t.id, "details"], {
                        relativeTo: this.route.parent,
                        queryParamsHandling: "preserve"
                    }), this.markersPresenter.center((0, l.tf)({
                        latitude: t.latitude,
                        longitude: t.longitude
                    })), this.markersPresenter.select(t.id), this.toggleMapForSmallDevices()
                }

                onHighlight(t) {
                    this.markersPresenter.highlight(t ?? "")
                }

                zooming(t) {
                    this._currentZoom$.next(t.target.getZoom()), this.updateMarkers(t.target.getBounds())
                }

                onMapViewUpdated(t) {
                    const n = (0, l.tf)({latitude: t.target.getCenter().lat, longitude: t.target.getCenter().lng});
                    this.markersPresenter.center(n, t.target.getZoom()), this.updateMarkers(t.target.getBounds()), this.navigateToPageMatchingZoomLevel(t.target.getZoom(), n)
                }

                updateMarkers(t) {
                    this.markersPresenter.boundingBox([(0, l.tf)({
                        latitude: t.getNorthWest().lat,
                        longitude: t.getNorthWest().lng
                    }), (0, l.tf)({latitude: t.getSouthEast().lat, longitude: t.getSouthEast().lng})])
                }

                departementZoomForDistance() {
                    return parseInt(this.route.snapshot.queryParams.distance) >= 5e4 && parseInt(this.route.snapshot.queryParams.distance) <= 1e5 ? 8 : 9
                }

                navigateToPageMatchingZoomLevel(t, n) {
                    var r, a;
                    const s = ((i, o, t) => P(i, t) ? ["."] : (i => !(i => i <= 7)(i) && !P(i))(i) && o ? [J, o] : [J])(t, (0, _.fn)(n).nom, this.route.snapshot.queryParams.distance);
                    ((i, o) => null != o && !(i => ":id/details" === i)(o) && !(i => i.endsWith(":nomDepartement/:id"))(o) && (((i, o) => i[0] === J && "regions" !== o)(i, o) || ((i, o) => i.length > 1 && i[0] === J && "regions/:nomRegion" !== o)(i, o) || ((i, o) => "." === i[0] && !["regions/:nomRegion/:nomDepartement", ":id"].includes(o))(i, o)))(s, null === (a = null === (r = this.route.children[0]) || void 0 === r ? void 0 : r.routeConfig) || void 0 === a ? void 0 : a.path) && this.router.navigate(s, {
                        relativeTo: this.route.parent,
                        queryParamsHandling: "preserve"
                    })
                }

                getRouteParam(t) {
                    var n, r, a;
                    return null !== (a = null === (r = null === (n = this.route.children[0]) || void 0 === n ? void 0 : n.children[0]) || void 0 === r ? void 0 : r.snapshot.paramMap.get(t)) && void 0 !== a ? a : ""
                }

                onResultFound(t) {
                    var n;
                    t.localisation && this.router.navigate(null !== (n = t.payload) && void 0 !== n && n.id ? ["/cartographie", t.payload.id, "details"] : ["/cartographie"], {
                        queryParams: {
                            latitude: t.localisation.latitude,
                            longitude: t.localisation.longitude
                        }, queryParamsHandling: "merge"
                    }), this._userLocalisation$.next(t.localisation)
                }

                toggleMapForSmallDevices() {
                    this._showMapForSmallDevices$.next(!this._showMapForSmallDevices$.value)
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(_.yF), e.Y36(f.F0), e.Y36(f.gz), e.Y36(_.M), e.Y36(g.Pl), e.Y36(g.KN))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["ng-component"]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(f.lC, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.routerOutlet = r.first)
                    }
                },
                features: [e._Bn(Ht)],
                decls: 86,
                vars: 68,
                consts: [["class", "position-absolute top-0 w-100 h-100 bg-light z-index-over-all", 4, "ngIf"], [1, "d-flex", "h-100", "flex-column"], ["aria-label", "cartographie", 1, "navbar", "navbar-expand-lg", "bg-light", "shadow-sm", "sticky-top", "py-0", "d-print-none", "z-index-elevated"], [1, "container-fluid", "ms-sm-4", "p-0"], ["placeholder", "Recherchez un lieu ou une adresse", 1, "me-3", "d-sm-inline-block", "d-none", 3, "adresse", "resultFound"], ["id", "breadcrumb", 1, "d-lg-block", "d-none", 3, "url", "zoom", "showLieux"], ["id", "filter", 1, "navbar-btn", "btn-affiner-recherche", "ms-auto", "flex-sm-grow-0", "flex-grow-1", "text-start", 3, "click"], [1, "d-sm-inline", "d-none"], ["aria-hidden", "true", 1, "me-1", 3, "ngClass"], [1, "d-sm-none", "d-inline", "d-flex"], ["aria-hidden", "true", 1, "me-2", "ri-2x", 3, "ngClass"], [1, "my-auto", 2, "line-height", "0.75rem"], [1, "lh-sm", "fst-italic"], ["id", "help", 1, "navbar-btn", "pb-1", "pt-0", "mt-1", 3, "click"], [1, "ri-2x", 3, "ngClass"], [1, "visually-hidden"], [1, "d-flex", "flex-grow-1", "overflow-hidden", "position-relative"], ["heading", "Options pour affiner la recherche", "className", "offcanvas-top h-100 w-auto position-relative z-index-over d-flex flex-column", 1, "position-absolute", "h-100", "end-0", 3, "useHeader"], ["affinerRechercheOffcanvas", ""], [1, "h-100", "d-flex", "flex-column", "border-end"], [1, "flex-grow-1", "overflow-auto"], ["placeholder", "Recherchez un lieu ou une adresse", 1, "m-3", "d-sm-none", "d-block", 3, "adresse", "fullWidth", "resultFound"], [1, "d-lg-none", "d-block", 3, "url", "zoom", "showLieux", "departement", "region"], [3, "lieuxMediationNumeriques", 4, "ngIf"], [1, "bg-white", "p-3", "g-0", "row", "align-items-center"], [1, "col-auto"], [1, "btn", "btn-primary", 3, "click"], ["class", "col text-end", 3, "ngPlural", 4, "ngIf", "ngIfElse"], ["noResults", ""], ["heading", "\xc0 propos", "className", "offcanvas-top h-100 w-auto position-relative overflow-auto z-index-over", 1, "position-absolute", "h-100", "end-0", 3, "useHeader"], ["aideOffcanvas", ""], [1, "d-flex", "flex-column", "h-100", "bg-white", "border-top"], [1, "list-group", "list-group-flush"], ["href", "https://labase.anct.gouv.fr/ressource/995", "target", "_blank", "rel", "noopener noreferrer", 1, "list-group-item", "list-group-item-action", "fw-bold", "py-4"], ["href", "https://labase.anct.gouv.fr/ressource/974", "target", "_blank", "rel", "noopener noreferrer", 1, "list-group-item", "list-group-item-action", "fw-bold", "py-4"], [1, "mt-auto", "bg-light", "p-4"], ["href", "https://labase.anct.gouv.fr/base/356?tags=&page=0&tab=resources", "target", "_blank", "rel", "noopener noreferrer", 1, "btn", "orientation-btn", "bg-white", "mb-3", "p-3", "rounded-0", "d-flex", "d-flex", "align-items-center"], ["aria-hidden", "true", 1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3"], [1, "ri-link"], [1, "orientation-btn-label", "my-auto", "text-start", "lh-sm"], [1, "small", "text-muted"], ["href", "mailto:cartographie.sonum@anct.gouv.fr", 1, "btn", "orientation-btn", "bg-white", "mb-3", "p-3", "rounded-0", "d-flex", "align-items-center"], ["src", "/assets/img/logo/cartographie-nationale-brand.png", "height", "45", "alt", "", 1, "me-3"], ["id", "content", 1, "col-12", "show-map", "position-relative", 3, "ngClass"], ["aria-label", "carte interactive des lieux d'inclusion num\xe9rique", 1, "col-lg", "col-12", "d-flex", "flex-column", "show-map"], ["aria-hidden", "true", "class", "h-100 w-100 overflow-hidden", 3, "movingMethod", "movingOptions", "style", "zoom", "center", "zoomEvt", "zoomEnd", "mapDragEnd", 4, "ngIf"], [1, "p-3", "d-flex", "d-lg-none", "bg-primary", "align-items-center"], [1, "btn", "btn-link", "link-light", "text-decoration-none", "px-0", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-left-s-line"], ["class", "ms-auto small text-white", 3, "ngPlural", 4, "ngIf"], [1, "position-absolute", "top-0", "w-100", "h-100", "bg-light", "z-index-over-all"], [1, "container", "h-100"], [1, "row", "justify-content-center", "h-100"], [1, "col-lg-6", "m-auto"], [1, "card", "border-0", "shadow", "m-auto"], [1, "card-body", "p-5"], [1, "d-flex", "flex-column", "text-center"], [4, "ngIf", "ngIfElse"], ["welcome", ""], [1, "text-muted"], [1, "card-title", "text-primary"], [1, "fw-bold"], [1, "text-muted", "mb-2"], [1, "text-primary", "fs-4"], [3, "lieuxMediationNumeriques"], [1, "col", "text-end", 3, "ngPlural"], ["ngPluralCase", "=1"], ["ngPluralCase", "other"], [1, "col", "text-end"], ["aria-hidden", "true", 1, "h-100", "w-100", "overflow-hidden", 3, "movingMethod", "movingOptions", "zoom", "center", "zoomEvt", "zoomEnd", "mapDragEnd"], ["mglNavigation", "", "position", "top-left", 3, "showZoom", "showCompass"], [3, "lngLat", 4, "ngIf"], [3, "territoires", "showLieux", 4, "ngIf"], [3, "territoires", "hoverId", "highlight", "showLieux", 4, "ngIf"], [3, "lieuxMediationNumeriques", "selectedId", "hoverId", "highlight", "showDetails", 4, "ngIf"], [3, "lngLat"], ["width", "28", "height", "28", "viewBox", "0 0 28 28", "xmlns", "http://www.w3.org/2000/svg"], ["cx", "14", "cy", "14", "r", "14", "fill-opacity", ".3"], ["cx", "14", "cy", "14", "r", "9", "fill-opacity", ".65", 1, "user-marker"], [3, "territoires", "showLieux"], [3, "territoires", "hoverId", "highlight", "showLieux"], [3, "lieuxMediationNumeriques", "selectedId", "hoverId", "highlight", "showDetails"], [1, "ms-auto", "small", "text-white", 3, "ngPlural"], ["ngPluralCase", "=0"]],
                template: function (t, n) {
                    if (1 & t) {
                        const r = e.EpF();
                        e.YNc(0, Pi, 11, 2, "div", 0), e.ALo(1, "async"), e.TgZ(2, "div", 1)(3, "nav", 2)(4, "div", 3)(5, "app-user-location", 4), e.NdJ("resultFound", function (s) {
                            return n.onResultFound(s)
                        }), e.ALo(6, "async"), e.qZA(), e.TgZ(7, "app-location-breadcrumb", 5), e.NdJ("showLieux", function (s) {
                            return s ? n.onShowLieuxInZone(s) : n.markersPresenter.reset()
                        }), e.ALo(8, "async"), e.ALo(9, "async"), e.qZA(), e.TgZ(10, "button", 6), e.NdJ("click", function (s) {
                            e.CHM(r);
                            const c = e.MAs(33), p = e.MAs(53);
                            return c.toggle(s), e.KtG(p.close())
                        }), e.ALo(11, "async"), e.TgZ(12, "span", 7), e._UZ(13, "i", 8), e.ALo(14, "async"), e._uU(15, " Affiner ma recherche "), e.qZA(), e.TgZ(16, "span", 9), e._UZ(17, "i", 10), e.ALo(18, "async"), e.TgZ(19, "span", 11)(20, "small", 12), e._uU(21), e.qZA(), e._UZ(22, "br"), e.TgZ(23, "span"), e._uU(24, "Affiner ma recherche"), e.qZA()()()(), e.TgZ(25, "button", 13), e.NdJ("click", function (s) {
                            e.CHM(r);
                            const c = e.MAs(53), p = e.MAs(33);
                            return c.toggle(s), e.KtG(p.close())
                        }), e.ALo(26, "async"), e._UZ(27, "i", 14), e.ALo(28, "async"), e.TgZ(29, "span", 15), e._uU(30, "\xc0 propos"), e.qZA()()()(), e.TgZ(31, "div", 16)(32, "app-offcanvas", 17, 18)(34, "div", 19)(35, "div", 20)(36, "app-user-location", 21), e.NdJ("resultFound", function (s) {
                            return n.onResultFound(s)
                        }), e.ALo(37, "async"), e.qZA(), e.TgZ(38, "app-location-breadcrumb", 22), e.NdJ("showLieux", function (s) {
                            e.CHM(r);
                            const c = e.MAs(33);
                            return n.onShowLieuxInZone(s), e.KtG(c.close())
                        })("departement", function (s) {
                            return n.currentDepartement = s
                        })("region", function (s) {
                            return n.currentRegion = s
                        }), e.ALo(39, "async"), e.ALo(40, "async"), e.qZA(), e.YNc(41, Oi, 2, 4, "app-affiner-recherche-form", 23), e.ALo(42, "async"), e.qZA(), e.TgZ(43, "div", 24)(44, "div", 25), e._UZ(45, "app-modifier-orientation"), e.TgZ(46, "button", 26), e.NdJ("click", function (s) {
                            e.CHM(r);
                            const c = e.MAs(33);
                            return e.KtG(c.toggle(s))
                        }), e._uU(47, "Terminer"), e.qZA()(), e.YNc(48, Si, 3, 1, "div", 27), e.ALo(49, "async"), e.YNc(50, Ri, 2, 0, "ng-template", null, 28, e.W1O), e.qZA()()(), e.TgZ(52, "app-offcanvas", 29, 30)(54, "div", 31)(55, "div", 32)(56, "a", 33), e._uU(57, " FAQ "), e.qZA(), e.TgZ(58, "a", 34), e._uU(59, " Comment orienter ? "), e.qZA()(), e.TgZ(60, "div", 35)(61, "a", 36)(62, "span", 37), e._UZ(63, "i", 38), e.qZA(), e.TgZ(64, "span", 39), e._uU(65, " La Cartographie nationale sur la Base "), e._UZ(66, "br"), e.TgZ(67, "i", 40), e._uU(68, " Comment enregistrer vos donn\xe9es sur la cartographie ? Comment orienter un b\xe9n\xe9ficiaire ? Les r\xe9ponses \xe0 vos questions sont ici. "), e.qZA()()(), e.TgZ(69, "a", 41), e._UZ(70, "img", 42), e.TgZ(71, "span", 39), e._uU(72, " Contactez l'\xe9quipe de la Cartographie nationale des lieux d'inclusion num\xe9rique "), e.qZA()()()()(), e.TgZ(73, "main", 43), e.ALo(74, "async"), e._UZ(75, "router-outlet"), e.qZA(), e.TgZ(76, "aside", 44), e.ALo(77, "async"), e.YNc(78, zi, 15, 35, "mgl-map", 45), e.ALo(79, "async"), e.TgZ(80, "div", 46)(81, "button", 47), e.NdJ("click", function () {
                            return n.toggleMapForSmallDevices()
                        }), e._UZ(82, "i", 48), e._uU(83, " Afficher la liste "), e.qZA(), e.YNc(84, Xi, 4, 1, "i", 49), e.ALo(85, "async"), e.qZA()()()()
                    }
                    if (2 & t) {
                        const r = e.MAs(33), a = e.MAs(51), s = e.MAs(53);
                        let c, p, v, w, b, q, Z;
                        e.Q6J("ngIf", e.lcZ(1, 30, n.loadingState$)), e.xp6(5), e.Q6J("adresse", null !== (c = e.lcZ(6, 32, n.defaultAddress$)) && void 0 !== c ? c : ""), e.xp6(2), e.Q6J("url", null !== (p = e.lcZ(8, 34, null == n.routerOutlet || null == n.routerOutlet.activatedRoute ? null : n.routerOutlet.activatedRoute.url)) && void 0 !== p ? p : e.DdM(66, M))("zoom", null !== (v = e.lcZ(9, 36, n.markersPresenter.zoom$)) && void 0 !== v ? v : 0), e.xp6(3), e.ekj("active", e.lcZ(11, 38, r.expanded$)), e.uIk("aria-controls", r.id), e.xp6(3), e.Q6J("ngClass", e.lcZ(14, 40, r.expanded$) ? "ri-close-line" : "ri-sound-module-line"), e.xp6(4), e.Q6J("ngClass", e.lcZ(18, 42, r.expanded$) ? "ri-close-line" : "ri-sound-module-line"), e.xp6(4), e.Oqu(null !== (w = null !== (w = n.currentDepartement) && void 0 !== w ? w : n.currentRegion) && void 0 !== w ? w : "France"), e.xp6(4), e.ekj("active", e.lcZ(26, 44, s.expanded$)), e.uIk("aria-controls", s.id), e.xp6(2), e.Q6J("ngClass", e.lcZ(28, 46, s.expanded$) ? "ri-close-circle-line text-primary" : "ri-question-line"), e.xp6(5), e.Q6J("useHeader", !1), e.xp6(4), e.Q6J("adresse", null !== (b = e.lcZ(37, 48, n.defaultAddress$)) && void 0 !== b ? b : "")("fullWidth", !0), e.xp6(2), e.Q6J("url", null !== (q = e.lcZ(39, 50, null == n.routerOutlet || null == n.routerOutlet.activatedRoute ? null : n.routerOutlet.activatedRoute.url)) && void 0 !== q ? q : e.DdM(67, M))("zoom", null !== (Z = e.lcZ(40, 52, n.markersPresenter.zoom$)) && void 0 !== Z ? Z : 0), e.xp6(3), e.Q6J("ngIf", e.lcZ(42, 54, r.expanded$)), e.xp6(7), e.Q6J("ngIf", e.lcZ(49, 56, n.resultsCount$))("ngIfElse", a), e.xp6(4), e.Q6J("useHeader", !1), e.xp6(21), e.ekj("show-map-for-small-devices", e.lcZ(74, 58, n.showMapForSmallDevices$)), e.Q6J("ngClass", n.router.url.includes("/details") ? "map-details" : "map-list"), e.xp6(3), e.ekj("show-map-for-small-devices", e.lcZ(77, 60, n.showMapForSmallDevices$)), e.xp6(2), e.Q6J("ngIf", e.lcZ(79, 62, n.markersPresenter.localisation$)), e.xp6(6), e.Q6J("ngIf", e.lcZ(85, 64, n.resultsCount$))
                    }
                },
                dependencies: [u.mk, u.O5, u.iq, u.zE, f.lC, C.Gd, C.CI, C.Fr, C.yM, Yt.W, $t.I, ri, ai, R, bi, Li, _e, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), rn = (() => {
            class i {
                set latitude(t) {
                    g.X1.latitude = parseFloat(t)
                }

                set longitude(t) {
                    g.X1.longitude = parseFloat(t)
                }

                set zoom(t) {
                    g.Rh.regular = parseInt(t)
                }

                set source(t) {
                    g.o$.lieuxDeMediationNumerique = t
                }

                set lienOrientation(t) {
                    this._features.set("orientation", {active: !1, url: t})
                }

                constructor(t, n) {
                    this._features = t, this.router = n, t.set("orientation", {active: !1})
                }

                ngOnInit() {
                    this.router.initialNavigation()
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.RS), e.Y36(f.F0))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["ng-component"]],
                inputs: {
                    latitude: "latitude",
                    longitude: "longitude",
                    zoom: "zoom",
                    source: "source",
                    lienOrientation: "lienOrientation"
                },
                decls: 1,
                vars: 0,
                template: function (t, n) {
                    1 & t && e._UZ(0, "router-outlet")
                },
                dependencies: [f.lC],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        var V = d(8976), O = d(8842), fe = d(1978);

        function an(i, o) {
            if (1 & i && (e.TgZ(0, "div", 16), e._uU(1), e.ALo(2, "distance"), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(e.lcZ(2, 1, t.lieuMediationNumerique.distance))
            }
        }

        function sn(i, o) {
            if (1 & i && (e.TgZ(0, "div", 17), e._UZ(1, "i", 18), e.TgZ(2, "span"), e._uU(3), e.qZA(), e.TgZ(4, "span", 19), e._uU(5, "\xb7"), e.qZA(), e.TgZ(6, "i", 20), e._uU(7), e.qZA()()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.ekj("text-primary", "Ouvert" === t.lieuMediationNumerique.status.label), e.xp6(1), e.ekj("text-primary", "Ouvert" === t.lieuMediationNumerique.status.label), e.xp6(1), e.hij(" ", t.lieuMediationNumerique.status.label, " "), e.xp6(4), e.Oqu(t.lieuMediationNumerique.status.limite)
            }
        }

        function ln(i, o) {
            1 & i && e._UZ(0, "div", 21)
        }

        function un(i, o) {
            if (1 & i && (e.TgZ(0, "div", 26), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.Q6J("ngClass", t.lieuMediationNumerique.conditions_acces.isFree ? "text-primary" : "text-muted"), e.xp6(1), e.hij(" ", t.lieuMediationNumerique.conditions_acces.label, " ")
            }
        }

        function cn(i, o) {
            1 & i && (e.TgZ(0, "div", 28), e._uU(1, "\xa0"), e.qZA())
        }

        const pn = function () {
            return []
        };

        function mn(i, o) {
            if (1 & i && e.YNc(0, cn, 2, 0, "div", 27), 2 & i) {
                const t = e.oxw(2);
                let n;
                e.Q6J("ngIf", (null !== (n = t.lieuMediationNumerique.labels_nationaux) && void 0 !== n ? n : e.DdM(1, pn)).length > 0)
            }
        }

        function dn(i, o) {
            if (1 & i && (e.TgZ(0, "small", 29), e._uU(1), e.ALo(2, "date"), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.hij(" Mise \xe0 jour le ", e.xi3(2, 1, t.lieuMediationNumerique.date_maj, "dd/MM/y"), " ")
            }
        }

        function _n(i, o) {
            if (1 & i && (e.TgZ(0, "div", 22), e.YNc(1, un, 2, 2, "div", 23), e.YNc(2, mn, 1, 2, "ng-template", null, 24, e.W1O), e.YNc(4, dn, 3, 4, "small", 25), e.qZA()), 2 & i) {
                const t = e.MAs(3), n = e.oxw();
                e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.conditions_acces)("ngIfElse", t), e.xp6(3), e.Q6J("ngIf", n.lieuMediationNumerique.date_maj && n.dateIsValide(n.lieuMediationNumerique.date_maj))
            }
        }

        function gn(i, o) {
            1 & i && (e.TgZ(0, "a", 34), e.NdJ("click", function (n) {
                return n.stopPropagation()
            }), e._UZ(1, "i", 35), e._uU(2, " Contacter par mail "), e.qZA()), 2 & i && e.MGl("href", "mailto:", o.ngIf, "", e.LSH)
        }

        function fn(i, o) {
            if (1 & i && (e.TgZ(0, "a", 36), e.NdJ("click", function (n) {
                return n.stopPropagation()
            }), e.TgZ(1, "span", 28), e._uU(2), e.ALo(3, "phone"), e.qZA(), e.TgZ(4, "span", 37), e._uU(5, "Contacter par t\xe9l\xe9phone"), e.qZA(), e._UZ(6, "i", 38), e.qZA()), 2 & i) {
                const t = o.ngIf;
                e.MGl("href", "tel://", t, "", e.LSH), e.xp6(2), e.Oqu(e.lcZ(3, 2, t))
            }
        }

        function hn(i, o) {
            1 & i && (e.TgZ(0, "div", 39), e._uU(1, " RDV disponible "), e._UZ(2, "i", 40), e.qZA())
        }

        function xn(i, o) {
            if (1 & i && (e.TgZ(0, "div", 30), e.YNc(1, gn, 3, 1, "a", 31), e.YNc(2, fn, 7, 4, "a", 32), e.YNc(3, hn, 3, 0, "div", 33), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", t.lieuMediationNumerique.courriel), e.xp6(1), e.Q6J("ngIf", t.lieuMediationNumerique.telephone), e.xp6(1), e.Q6J("ngIf", t.lieuMediationNumerique.prise_rdv)
            }
        }

        function bn(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 42)(1, "button", 43), e.NdJ("click", function (r) {
                    const s = e.CHM(t).$implicit, c = e.oxw(2);
                    return c.showLabel.emit(s), c.showLabelInvokingContext.emit(r), r.stopPropagation(), e.KtG(r.preventDefault())
                }), e._UZ(2, "img", 44), e.qZA()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(2);
                e.xp6(2), e.Q6J("src", n.assetsConfiguration.path + "/img/logo/labels/" + t + ".svg", e.LSH)("alt", "Label " + t)
            }
        }

        function vn(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, bn, 3, 2, "div", 41), e.BQk()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.Q6J("ngForOf", t)
            }
        }

        function qn(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 45), e._uU(2), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(2), e.hij(" ", t.lieuMediationNumerique.telephone, " ")
            }
        }

        function wn(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 46), e._uU(2), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(2), e.hij(" ", t.lieuMediationNumerique.courriel, " ")
            }
        }

        function Cn(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 47), e._uU(2), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(2), e.hij(" ", t.lieuMediationNumerique.site_web, " ")
            }
        }

        const Zn = function (i) {
            return [i, "details"]
        };
        let he = (() => {
            class i {
                constructor(t, n) {
                    this.assetsConfiguration = t, this.route = n, this.showLabel = new e.vpe, this.showLabelInvokingContext = new e.vpe, this.enableHover = new e.vpe, this.disableHover = new e.vpe, this.payant = l.aw.Payant
                }

                dateIsValide(t) {
                    return t > new Date("1970-01-01")
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl), e.Y36(f.gz))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-mediation-numerique-list-item"]],
                inputs: {lieuMediationNumerique: "lieuMediationNumerique"},
                outputs: {
                    showLabel: "showLabel",
                    showLabelInvokingContext: "showLabelInvokingContext",
                    enableHover: "enableHover",
                    disableHover: "disableHover"
                },
                decls: 24,
                vars: 17,
                consts: [[1, "position-relative", "d-print-none"], ["queryParamsHandling", "preserve", 1, "text-decoration-none", "link-dark", "link-lieu", 3, "routerLink", "relativeTo", "mouseover", "mouseout"], [1, "row", "d-print-none"], [1, "col", "me-3"], [1, "h5", "mb-0", "text-first-letter-uppercase", "fw-bold"], [1, "text-muted"], ["class", "mt-1", 4, "ngIf"], ["class", "text-muted d-inline-flex flex-wrap align-items-center", 4, "ngIf"], ["style", "width: 180px", 4, "ngIf"], ["class", "mt-4 d-flex flex-column text-end ms-auto", "style", "width: 180px", 4, "ngIf"], ["class", "text-end position-absolute top-0 end-0", "style", "width: 180px", 4, "ngIf"], [1, "position-absolute", "row", "g-2", "start-0", "bottom-0"], [4, "ngIf"], [1, "d-none", "d-print-block", "small"], [1, "fw-bold"], [1, "text-muted", "my-1"], [1, "mt-1"], [1, "text-muted", "d-inline-flex", "flex-wrap", "align-items-center"], ["aria-hidden", "true", 1, "ri-checkbox-blank-circle-fill", "ri-xxs", "me-1"], [1, "mx-1"], [1, "small", "align-self-end"], [2, "width", "180px"], [1, "mt-4", "d-flex", "flex-column", "text-end", "ms-auto", 2, "width", "180px"], [3, "ngClass", 4, "ngIf", "ngIfElse"], ["emptyConditionAcces", ""], ["class", "text-muted fst-italic", 4, "ngIf"], [3, "ngClass"], ["aria-hidden", "true", 4, "ngIf"], ["aria-hidden", "true"], [1, "text-muted", "fst-italic"], [1, "text-end", "position-absolute", "top-0", "end-0", 2, "width", "180px"], ["class", "btn btn-sm btn-secondary d-block mb-2", 3, "href", "click", 4, "ngIf"], ["class", "text-decoration-none text-muted", 3, "href", "click", 4, "ngIf"], ["class", "text-primary", 4, "ngIf"], [1, "btn", "btn-sm", "btn-secondary", "d-block", "mb-2", 3, "href", "click"], ["aria-hidden", "true", 1, "ri-mail-line", "me-2", "text-right"], [1, "text-decoration-none", "text-muted", 3, "href", "click"], [1, "visually-hidden"], ["aria-hidden", "true", 1, "ms-2", "ri-phone-line"], [1, "text-primary"], ["aria-hidden", "true", 1, "ri-calendar-check-line", "ms-1"], ["class", "col", 4, "ngFor", "ngForOf"], [1, "col"], [1, "btn", "btn-link", "p-0", 3, "click"], [3, "src", "alt"], ["aria-hidden", "true", 1, "ri", "ri-phone-line"], ["aria-hidden", "true", 1, "ri", "ri-mail-line"], ["aria-hidden", "true", 1, "ri", "ri-link"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "a", 1), e.NdJ("mouseover", function () {
                        return n.enableHover.emit(n.lieuMediationNumerique.id)
                    })("mouseout", function () {
                        return n.disableHover.emit()
                    }), e.TgZ(2, "div", 2)(3, "div", 3)(4, "h2", 4), e._uU(5), e.qZA(), e.TgZ(6, "div", 5), e._uU(7), e.qZA(), e.YNc(8, an, 3, 3, "div", 6), e.YNc(9, sn, 8, 6, "div", 7), e.qZA(), e.YNc(10, ln, 1, 0, "div", 8), e.qZA(), e.YNc(11, _n, 5, 3, "div", 9), e.qZA(), e.YNc(12, xn, 4, 3, "div", 10), e.TgZ(13, "div", 11), e.YNc(14, vn, 2, 1, "ng-container", 12), e.qZA()(), e.TgZ(15, "div", 13)(16, "div", 14), e._uU(17), e.qZA(), e.TgZ(18, "div"), e._uU(19), e.qZA(), e.TgZ(20, "div", 15), e.YNc(21, qn, 3, 1, "div", 12), e.YNc(22, wn, 3, 1, "div", 12), e.YNc(23, Cn, 3, 1, "div", 12), e.qZA()()), 2 & t && (e.xp6(1), e.Q6J("routerLink", e.VKq(15, Zn, n.lieuMediationNumerique.id))("relativeTo", n.route.parent), e.xp6(4), e.hij(" ", n.lieuMediationNumerique.nom, " "), e.xp6(2), e.Oqu(n.lieuMediationNumerique.adresse), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.distance), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.status), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.courriel || n.lieuMediationNumerique.telephone || n.lieuMediationNumerique.prise_rdv), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.conditions_acces || n.lieuMediationNumerique.date_maj), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.courriel || n.lieuMediationNumerique.telephone || n.lieuMediationNumerique.prise_rdv), e.xp6(2), e.Q6J("ngIf", n.lieuMediationNumerique.labels_nationaux), e.xp6(3), e.Oqu(n.lieuMediationNumerique.nom), e.xp6(2), e.Oqu(n.lieuMediationNumerique.adresse), e.xp6(2), e.Q6J("ngIf", n.lieuMediationNumerique.telephone), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.courriel), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.site_web))
                },
                dependencies: [u.mk, u.sg, u.O5, f.rH, u.uU, O.E, fe.w],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const Tn = ["container"], Mn = ["item"];

        function An(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "article", 16, 17)(2, "app-mediation-numerique-list-item", 18), e.NdJ("showLabel", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.showLabel.emit(r))
                })("showLabelInvokingContext", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.showLabelInvokingContext.emit(r))
                })("enableHover", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.enableHover.emit(r))
                })("disableHover", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.disableHover.emit())
                }), e.qZA()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw();
                e.ekj("list-group-item-hover", n.hoverId === t.id), e.uIk("id", t.id), e.xp6(2), e.Q6J("lieuMediationNumerique", t)
            }
        }

        function yn(i, o) {
            1 & i && e._uU(0, "Aucun r\xe9sultat")
        }

        function Ln(i, o) {
            1 & i && e._uU(0, "1 r\xe9sultat")
        }

        function Nn(i, o) {
            if (1 & i && e._uU(0), 2 & i) {
                const t = e.oxw();
                e.hij("", t.lieuxMediationNumerique.length, " r\xe9sultats")
            }
        }

        let In = (() => {
            class i {
                set focusId(t) {
                    t && this.scrollTo(t)
                }

                constructor(t, n) {
                    this.route = t, this.cartographieLayout = n, this.lieuxMediationNumerique = [], this.hoverId = null, this.print = new e.vpe, this.selectLieu = new e.vpe, this.enableHover = new e.vpe, this.disableHover = new e.vpe, this.showLabel = new e.vpe, this.showLabelInvokingContext = new e.vpe
                }

                scrollTo(t) {
                    setTimeout(() => {
                        var n;
                        const r = null === (n = this.items) || void 0 === n ? void 0 : n.find((i => o => o.nativeElement.id === i)(t));
                        r && this.container.nativeElement.scrollTo({
                            top: r.nativeElement.getBoundingClientRect().y - this.container.nativeElement.getBoundingClientRect().y,
                            behavior: "smooth"
                        }), r?.nativeElement.querySelectorAll(".link-lieu")[0].focus()
                    })
                }

                trackByLieuId(t, n) {
                    return n.id
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(f.gz), e.Y36(I))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-lieux-mediation-numerique-list"]],
                viewQuery: function (t, n) {
                    if (1 & t && (e.Gf(Tn, 5), e.Gf(Mn, 5)), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.container = r.first), e.iGM(r = e.CRH()) && (n.items = r)
                    }
                },
                inputs: {
                    lieuxMediationNumerique: "lieuxMediationNumerique",
                    hoverId: "hoverId",
                    orientationFeature: "orientationFeature",
                    focusId: "focusId"
                },
                outputs: {
                    print: "print",
                    selectLieu: "selectLieu",
                    enableHover: "enableHover",
                    disableHover: "disableHover",
                    showLabel: "showLabel",
                    showLabelInvokingContext: "showLabelInvokingContext"
                },
                decls: 20,
                vars: 3,
                consts: [[1, "h-100", "d-flex", "flex-column", "border-end"], ["tabindex", "-1", 1, "list-group", "list-group-flush", "flex-grow-1", "overflow-auto"], ["container", ""], [1, "visually-hidden"], ["class", "list-group-item py-4 px-sm-4 px-3", 3, "list-group-item-hover", 4, "ngFor", "ngForOf", "ngForTrackBy"], [1, "bg-primary", "py-3", "px-4", "g-0", "row", "align-items-center"], [1, "col-auto"], [1, "btn", "btn-sm", "btn-outline-light", 3, "click"], ["aria-hidden", "true", 1, "ri-printer-line", "me-2"], [1, "d-flex", "small", "text-white", "ms-3", 3, "ngPlural"], ["ngPluralCase", "=0"], ["ngPluralCase", "=1"], ["ngPluralCase", "other"], [1, "col", "text-end", "d-block", "d-lg-none"], [1, "btn", "btn-link", "link-light", "text-decoration-none", "px-0", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [1, "list-group-item", "py-4", "px-sm-4", "px-3"], ["item", ""], [3, "lieuMediationNumerique", "showLabel", "showLabelInvokingContext", "enableHover", "disableHover"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "div", 1, 2)(3, "h1", 3), e._uU(4, "Liste des lieux d'inclusion num\xe9rique"), e.qZA(), e.YNc(5, An, 3, 4, "article", 4), e.qZA(), e.TgZ(6, "div", 5)(7, "div", 6)(8, "button", 7), e.NdJ("click", function () {
                        return n.print.emit()
                    }), e._UZ(9, "i", 8), e._uU(10, " Imprimer la liste "), e.qZA()(), e.TgZ(11, "div", 6)(12, "i", 9), e.YNc(13, yn, 1, 0, "ng-template", 10), e.YNc(14, Ln, 1, 0, "ng-template", 11), e.YNc(15, Nn, 1, 1, "ng-template", 12), e.qZA()(), e.TgZ(16, "div", 13)(17, "button", 14), e.NdJ("click", function () {
                        return n.cartographieLayout.toggleMapForSmallDevices()
                    }), e._uU(18, " Afficher la carte "), e._UZ(19, "i", 15), e.qZA()()()()), 2 & t && (e.xp6(5), e.Q6J("ngForOf", n.lieuxMediationNumerique)("ngForTrackBy", n.trackByLieuId), e.xp6(7), e.Q6J("ngPlural", n.lieuxMediationNumerique.length))
                },
                dependencies: [u.sg, u.iq, u.zE, he],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function En(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.hij(" ", null == t.filters ? null : t.filters.address, " ")
            }
        }

        function Fn(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                let n;
                e.xp6(1), e.hij(" 0-", (null !== (n = null == t.filters ? null : t.filters.distance) && void 0 !== n ? n : 0) / 1e3, "km ")
            }
        }

        function Un(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.hij(" ", null == t.filters ? null : t.filters.service, " ")
            }
        }

        function Pn(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function On(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        const xe = function () {
            return []
        };

        function Dn(i, o) {
            if (1 & i && (e.TgZ(0, "div", 8)(1, "small", 9), e._uU(2, "D\xe9tails de la recherche"), e.qZA(), e.TgZ(3, "div"), e._uU(4, "FILTRES ACTIV\xc9S"), e.qZA(), e.TgZ(5, "div"), e.YNc(6, En, 2, 1, "span", 10), e.YNc(7, Fn, 2, 1, "span", 10), e.YNc(8, Un, 2, 1, "span", 10), e.YNc(9, Pn, 2, 1, "span", 11), e.YNc(10, On, 2, 1, "span", 11), e.qZA()()), 2 & i) {
                const t = e.oxw();
                let n, r;
                e.xp6(6), e.Q6J("ngIf", null == t.filters ? null : t.filters.address), e.xp6(1), e.Q6J("ngIf", null == t.filters ? null : t.filters.distance), e.xp6(1), e.Q6J("ngIf", null == t.filters ? null : t.filters.service), e.xp6(1), e.Q6J("ngForOf", null !== (n = null == t.filters ? null : t.filters.publics_accueillis) && void 0 !== n ? n : e.DdM(5, xe)), e.xp6(1), e.Q6J("ngForOf", null !== (r = null == t.filters ? null : t.filters.modalites_accompagnement) && void 0 !== r ? r : e.DdM(6, xe))
            }
        }

        function Jn(i, o) {
            if (1 & i && (e.TgZ(0, "div", 13), e._UZ(1, "app-mediation-numerique-list-item", 14), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.Q6J("lieuMediationNumerique", t)
            }
        }

        let Sn = (() => {
            class i {
                constructor(t) {
                    this.brandConfiguration = t, this.lieuxMediationNumerique = []
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.hh))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-lieux-mediation-numerique-list-print"]],
                inputs: {lieuxMediationNumerique: "lieuxMediationNumerique", filters: "filters"},
                decls: 15,
                vars: 3,
                consts: [[1, "h3", "mb-3", "pb-1", "border-bottom", "border-dark", "border-2"], ["aria-hidden", "true", 1, "ri", "ri-list-check", "me-2"], ["class", "bg-light px-4 py-3 mb-2", 4, "ngIf"], [1, "border-0"], [1, "border-top", "border-dark", "border-2", "w-100", "pt-2"], ["height", "50px", "alt", "", 1, "pt-2", 3, "src"], [1, "row"], ["class", "col-6", 4, "ngFor", "ngForOf"], [1, "bg-light", "px-4", "py-3", "mb-2"], [1, "fw-bold", "text-muted"], ["class", "badge rounded-pill bg-muted-dark py-1 me-1 fw-normal", 4, "ngIf"], ["class", "badge rounded-pill bg-muted-dark py-1 me-1 fw-normal", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "bg-muted-dark", "py-1", "me-1", "fw-normal"], [1, "col-6"], [1, "d-block", "border-bottom", "h-100", "py-1", 3, "lieuMediationNumerique"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "h2", 0), e._UZ(1, "i", 1), e._uU(2, " Liste des lieux\n"), e.qZA(), e.YNc(3, Dn, 11, 7, "div", 2), e.TgZ(4, "table", 3)(5, "tfoot")(6, "tr"), e._uU(7, "\xa0"), e.qZA(), e.TgZ(8, "tr")(9, "td", 4), e._UZ(10, "img", 5), e.qZA()()(), e.TgZ(11, "tbody")(12, "tr")(13, "td", 6), e.YNc(14, Jn, 2, 1, "div", 7), e.qZA()()()()), 2 & t) {
                        let r;
                        e.xp6(3), e.Q6J("ngIf", (null == n.filters ? null : n.filters.service) || (null == n.filters || null == n.filters.publics_accueillis ? null : n.filters.publics_accueillis.length) || (null == n.filters || null == n.filters.modalites_accompagnement ? null : n.filters.modalites_accompagnement.length)), e.xp6(7), e.Q6J("src", null !== (r = n.brandConfiguration.logoAvecTexte) && void 0 !== r ? r : n.brandConfiguration.logo, e.LSH), e.xp6(4), e.Q6J("ngForOf", n.lieuxMediationNumerique)
                    }
                },
                dependencies: [u.sg, u.O5, he],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Rn(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "button", 13), e.NdJ("click", function (r) {
                    e.CHM(t);
                    const a = e.oxw().$implicit, s = e.oxw(2);
                    return s.showHub.emit(a), e.KtG(s.showHubInvokingContext.emit(r))
                }), e._UZ(1, "img", 14), e.qZA()
            }
            if (2 & i) {
                const t = e.oxw().$implicit, n = e.oxw(2);
                e.xp6(1), e.Q6J("src", n.assetsConfiguration.path + "/img/logo/hubs/48/" + t.hub.nom + ".png", e.LSH)("alt", t.hub.nom)("title", t.hub.nom)
            }
        }

        const Qn = function (i) {
            return ["regions", i]
        };

        function Hn(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "article", 8)(1, "a", 9), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.showLieux.emit(a))
                })("mouseover", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.enableHover.emit(a.code))
                })("mouseout", function () {
                    e.CHM(t);
                    const r = e.oxw(2);
                    return e.KtG(r.disableHover.emit())
                }), e.TgZ(2, "h2", 10), e._uU(3), e.qZA(), e.TgZ(4, "div", 11), e._uU(5), e.qZA()(), e.YNc(6, Rn, 2, 3, "button", 12), e.qZA()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(2);
                e.ekj("list-group-item-hover", n.hoverId === t.code), e.xp6(1), e.Q6J("routerLink", e.VKq(7, Qn, t.nom))("relativeTo", n.route.parent), e.xp6(2), e.Oqu(t.nom), e.xp6(2), e.hij("", t.lieuxCount, " r\xe9sultats"), e.xp6(1), e.Q6J("ngIf", t.hub)
            }
        }

        function Yn(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 1)(1, "div", 2)(2, "h1", 3), e._uU(3, "R\xe9sultats par r\xe9gion"), e.qZA(), e.YNc(4, Hn, 7, 9, "article", 4), e.qZA(), e.TgZ(5, "div", 5)(6, "button", 6), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.cartographieLayout.toggleMapForSmallDevices())
                }), e._uU(7, " Afficher la carte "), e._UZ(8, "i", 7), e.qZA()()()
            }
            if (2 & i) {
                const t = e.oxw();
                e.xp6(4), e.Q6J("ngForOf", t.regions)
            }
        }

        let $n = (() => {
            class i {
                constructor(t, n, r) {
                    this.assetsConfiguration = t, this.cartographieLayout = n, this.route = r, this.regions = [], this.hoverId = null, this.showHub = new e.vpe, this.showHubInvokingContext = new e.vpe, this.showLieux = new e.vpe, this.enableHover = new e.vpe, this.disableHover = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl), e.Y36(I), e.Y36(f.gz))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-regions-list"]],
                inputs: {regions: "regions", hoverId: "hoverId"},
                outputs: {
                    showHub: "showHub",
                    showHubInvokingContext: "showHubInvokingContext",
                    showLieux: "showLieux",
                    enableHover: "enableHover",
                    disableHover: "disableHover"
                },
                decls: 1,
                vars: 1,
                consts: [["class", "h-100 d-flex flex-column border-end", 4, "ngIf"], [1, "h-100", "d-flex", "flex-column", "border-end"], ["tabindex", "-1", 1, "list-group", "list-group-flush", "flex-grow-1", "overflow-auto"], [1, "visually-hidden"], ["class", "list-group-item d-flex p-sm-2 p-0", 3, "list-group-item-hover", 4, "ngFor", "ngForOf"], [1, "bg-primary", "py-3", "px-4", "text-end", "d-block", "d-lg-none", "d-print-none"], [1, "btn", "btn-link", "link-light", "text-decoration-none", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [1, "list-group-item", "d-flex", "p-sm-2", "p-0"], ["queryParamsHandling", "preserve", 1, "list-group-item-action", "text-decoration-none", "flex-grow-1", "p-3", 3, "routerLink", "relativeTo", "click", "mouseover", "mouseout"], [1, "h5", "fw-bold", "mb-0"], [1, "text-muted"], ["class", "btn btn-link", 3, "click", 4, "ngIf"], [1, "btn", "btn-link", 3, "click"], [2, "max-width", "120px", 3, "src", "alt", "title"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, Yn, 9, 1, "div", 0), 2 & t && e.Q6J("ngIf", n.regions)
                },
                dependencies: [u.sg, u.O5, f.rH],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function jn(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "h4", 2), e._uU(2, "Nous ne trouvons pas de r\xe9sultats correspondant \xe0 votre recherche"), e.qZA(), e.TgZ(3, "p", 3), e._uU(4, " Aucun lieu n'est disponible selon ces crit\xe8res. "), e._UZ(5, "br"), e._uU(6, " Modifiez ou supprimez certains de vos filtres pr\xe9c\xe9demment s\xe9lectionn\xe9s "), e.qZA(), e.TgZ(7, "div", 4), e._UZ(8, "app-modifier-orientation"), e.TgZ(9, "button", 5), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.resetFilters.emit())
                }), e._uU(10, "R\xe9initialiser mes filtres"), e.qZA()(), e.BQk()
            }
        }

        function Gn(i, o) {
            1 & i && (e.TgZ(0, "h4", 2), e._uU(1, "Il n'y a pas encore de lieu de m\xe9diation num\xe9rique ici."), e.qZA(), e.TgZ(2, "p", 3), e._uU(3, "Continuez \xe0 naviguer sur la carte ou d\xe9zoomez pour trouver les lieux aux alentours !"), e.qZA())
        }

        let Bn = (() => {
            class i {
                constructor() {
                    this.queryParams = "", this.filterPresentation = null, this.resetFilters = new e.vpe, this.hasActiveFilter = _.FN
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-no-lieux-found"]],
                inputs: {
                    queryParams: "queryParams",
                    filterPresentation: "filterPresentation",
                    orientationFeature: "orientationFeature"
                },
                outputs: {resetFilters: "resetFilters"},
                decls: 3,
                vars: 2,
                consts: [[4, "ngIf", "ngIfElse"], ["lostInMap", ""], [1, "text-center", "fw-bold", "mb-3"], [1, "text-muted", "text-center"], [1, "d-flex", "justify-content-center", "my-3"], [1, "btn", "bg-primary", "text-secondary", 3, "click"]],
                template: function (t, n) {
                    if (1 & t && (e.YNc(0, jn, 11, 0, "ng-container", 0), e.YNc(1, Gn, 4, 0, "ng-template", null, 1, e.W1O)), 2 & t) {
                        const r = e.MAs(2);
                        e.Q6J("ngIf", n.filterPresentation && n.hasActiveFilter(n.filterPresentation))("ngIfElse", r)
                    }
                },
                dependencies: [u.O5, _e],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        var T = d(9934);
        const zn = ["label", ""];

        function Vn(i, o) {
            if (1 & i && (e.TgZ(0, "i", 11), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function Kn(i, o) {
            1 & i && (e.TgZ(0, "b"), e._uU(1, "1 lieu"), e.qZA(), e._uU(2, " utilise ce label "))
        }

        function Wn(i, o) {
            if (1 & i && (e.TgZ(0, "b"), e._uU(1), e.qZA(), e._uU(2, " utilisent ce label ")), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij("", t, " lieux")
            }
        }

        function Xn(i, o) {
            1 & i && (e.TgZ(0, "span", 12), e._UZ(1, "i", 13), e.YNc(2, Kn, 3, 0, "ng-template", 14), e.YNc(3, Wn, 3, 1, "ng-template", 15), e.qZA()), 2 & i && e.Q6J("ngPlural", o.ngIf)
        }

        function eo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 4), e._UZ(1, "img", 5), e.TgZ(2, "h3", 6), e._uU(3), e.qZA(), e.TgZ(4, "p", 7), e._uU(5), e.qZA(), e.TgZ(6, "div", 8), e.YNc(7, Vn, 2, 1, "i", 9), e.qZA(), e.YNc(8, Xn, 4, 1, "span", 10), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("src", t.assetsConfiguration.path + "/img/logo/labels/" + t.label.ref + ".svg", e.LSH)("alt", "Logo " + t.label.nom), e.xp6(2), e.Oqu(t.label.nom), e.xp6(2), e.Oqu(t.label.description), e.xp6(2), e.Q6J("ngForOf", t.label.carracteristiques), e.xp6(1), e.Q6J("ngIf", t.label.lieuxCount)
            }
        }

        function to(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "a", 16), e.NdJ("click", function () {
                    e.CHM(t), e.oxw();
                    const r = e.MAs(1);
                    return e.KtG(r.close())
                }), e._uU(1, " Acc\xe9der au site "), e._UZ(2, "i", 17), e.qZA()
            }
            2 & i && e.Q6J("href", o.ngIf, e.LSH)
        }

        let be = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t, this.label = null
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-label-modal", "label", ""]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(T.z, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.control = r.first)
                    }
                },
                inputs: {label: "label"},
                attrs: zn,
                decls: 4,
                vars: 2,
                consts: [["heading", "Informations label", "icon", "ri-information-line", "closeLabel", "Retour \xe0 la carte"], ["modal", ""], ["class", "text-center", 4, "ngIf"], ["slot", "footer", "target", "_blank", "rel", "noopener noreferrer", "class", "btn btn-primary", 3, "href", "click", 4, "ngIf"], [1, "text-center"], [1, "mb-3", 2, "width", "180px", "max-height", "120px", 3, "src", "alt"], [1, "h4", "fw-bold", "text-primary"], [1, "mb-0", "mt-3"], [1, "my-3"], ["class", "badge rounded-pill text-bg-light fw-normal me-2", 4, "ngFor", "ngForOf"], ["class", "rounded-5 bg-light py-1 px-3", 3, "ngPlural", 4, "ngIf"], [1, "badge", "rounded-pill", "text-bg-light", "fw-normal", "me-2"], [1, "rounded-5", "bg-light", "py-1", "px-3", 3, "ngPlural"], ["aria-hidden", "true", 1, "ri-map-pin-5-line", "me-2"], ["ngPluralCase", "=1"], ["ngPluralCase", "other"], ["slot", "footer", "target", "_blank", "rel", "noopener noreferrer", 1, "btn", "btn-primary", 3, "href", "click"], ["aria-hidden", "true", 1, "ri-external-link-line"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "app-modal", 0, 1), e.YNc(2, eo, 9, 6, "div", 2), e.YNc(3, to, 3, 1, "a", 3), e.qZA()), 2 & t && (e.xp6(2), e.Q6J("ngIf", n.label), e.xp6(1), e.Q6J("ngIf", null == n.label ? null : n.label.url))
                },
                dependencies: [u.sg, u.O5, u.iq, u.zE, T.z],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function io(i, o) {
            1 & i && (e.ynx(0), e._uU(1, "\u2002-\u2002"), e.BQk())
        }

        function no(i, o) {
            if (1 & i && (e.TgZ(0, "span", 15)(1, "b"), e._uU(2), e.qZA(), e.TgZ(3, "i"), e._uU(4), e.qZA(), e.YNc(5, io, 2, 0, "ng-container", 16), e.qZA()), 2 & i) {
                const t = o.$implicit, n = o.last;
                e.xp6(2), e.Oqu(t.nom), e.xp6(2), e.hij("\u2002(", t.numero, ")"), e.xp6(1), e.Q6J("ngIf", !n)
            }
        }

        function oo(i, o) {
            1 & i && (e.TgZ(0, "b"), e._uU(1, "1 lieu"), e.qZA())
        }

        function ro(i, o) {
            if (1 & i && (e.TgZ(0, "b"), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij("", t, " lieux")
            }
        }

        function ao(i, o) {
            1 & i && (e.TgZ(0, "span", 17), e._UZ(1, "i", 18), e._uU(2, " Ce hub a r\xe9f\xe9renc\xe9 "), e.YNc(3, oo, 2, 0, "ng-template", 19), e.YNc(4, ro, 2, 1, "ng-template", 20), e.qZA()), 2 & i && e.Q6J("ngPlural", o.ngIf)
        }

        function so(i, o) {
            if (1 & i && (e.TgZ(0, "div", 8), e._UZ(1, "img", 9), e.TgZ(2, "h3", 10), e._uU(3, " HUB d'inclusion num\xe9rique "), e._UZ(4, "br"), e.TgZ(5, "span", 11), e._uU(6), e.qZA()(), e.TgZ(7, "div", 12), e.YNc(8, no, 6, 3, "span", 13), e.qZA(), e.YNc(9, ao, 5, 1, "span", 14), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("src", t.assetsConfiguration.path + "/img/logo/hubs/48/" + t.hub.nom + ".png", e.LSH)("alt", "Logo" + t.hub.nom), e.xp6(5), e.Oqu(t.hub.region), e.xp6(2), e.Q6J("ngForOf", t.hub.departements), e.xp6(1), e.Q6J("ngIf", t.hub.lieuxCount)
            }
        }

        function lo(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "a", 21), e.NdJ("click", function () {
                    e.CHM(t), e.oxw();
                    const r = e.MAs(1);
                    return e.KtG(r.close())
                }), e._uU(1, " Acc\xe9der au site "), e._UZ(2, "i", 22), e.qZA()
            }
            2 & i && e.Q6J("href", o.ngIf, e.LSH)
        }

        let uo = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t, this.hub = null
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-hub-modal"]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(T.z, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.control = r.first)
                    }
                },
                inputs: {hub: "hub"},
                decls: 9,
                vars: 2,
                consts: [["heading", "Informations Hub", "icon", "ri-information-line", "closeLabel", "Retour \xe0 la carte"], ["modal", ""], ["class", "text-center", 4, "ngIf"], [1, "mt-4", "d-flex", "justify-content-center"], [1, "text-muted", "small"], ["href", "https://societenumerique.gouv.fr/fr/dispositif/hubs-numerique/", "target", "_blank", "rel", "noopener noreferrer", 1, "text-decoration-none"], ["aria-hidden", "true", 1, "ri", "ri-external-link-line", "my-auto", "me-2", "opacity-75", "text-muted"], ["slot", "footer", "target", "_blank", "rel", "noopener noreferrer", "class", "btn btn-primary", 3, "href", "click", 4, "ngIf"], [1, "text-center"], [1, "mb-4", 3, "src", "alt"], [1, "h4", "fw-bold"], [1, "text-primary"], [1, "mt-5", "mb-4"], ["class", "d-inline-block", 4, "ngFor", "ngForOf"], ["class", "rounded-5 bg-light py-1 px-3", 3, "ngPlural", 4, "ngIf"], [1, "d-inline-block"], [4, "ngIf"], [1, "rounded-5", "bg-light", "py-1", "px-3", 3, "ngPlural"], ["aria-hidden", "true", 1, "ri-map-pin-5-line"], ["ngPluralCase", "=1"], ["ngPluralCase", "other"], ["slot", "footer", "target", "_blank", "rel", "noopener noreferrer", 1, "btn", "btn-primary", 3, "href", "click"], ["aria-hidden", "true", 1, "ri-external-link-line"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "app-modal", 0, 1), e.YNc(2, so, 10, 5, "div", 2), e.TgZ(3, "div", 3)(4, "div", 4), e._uU(5, "Qu'est ce qu'un Hub territorial ?"), e.qZA(), e.TgZ(6, "a", 5), e._UZ(7, "i", 6), e.qZA()(), e.YNc(8, lo, 3, 1, "a", 7), e.qZA()), 2 & t && (e.xp6(2), e.Q6J("ngIf", n.hub), e.xp6(6), e.Q6J("ngIf", null == n.hub ? null : n.hub.url))
                },
                dependencies: [u.sg, u.O5, u.iq, u.zE, T.z],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function co(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 13)(1, "app-no-lieux-found", 14), e.NdJ("resetFilters", function () {
                    e.CHM(t);
                    const r = e.oxw(3);
                    return e.KtG(r.resetFilters())
                }), e.ALo(2, "async"), e.qZA()()
            }
            if (2 & i) {
                const t = e.oxw(3);
                e.xp6(1), e.Q6J("filterPresentation", e.lcZ(2, 3, t.filterPresentation$))("queryParams", t.toQueryString(t.route.queryParams))("orientationFeature", t.features.get("orientation"))
            }
        }

        const ve = function () {
            return []
        };

        function po(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.YNc(1, co, 3, 5, "div", 8), e.TgZ(2, "app-lieux-mediation-numerique-list", 9), e.NdJ("print", function () {
                    e.CHM(t);
                    const r = e.oxw(2);
                    return e.KtG(r.printPage())
                })("selectLieu", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.select(r.id, r.latitude, r.longitude))
                })("enableHover", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.hover(r))
                })("disableHover", function () {
                    e.CHM(t);
                    const r = e.oxw(2);
                    return e.KtG(r.hover())
                })("showLabel", function (r) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.onShowLabel(r))
                })("showLabelInvokingContext", function (r) {
                    e.CHM(t);
                    const a = e.MAs(8);
                    return e.KtG(a.control.toggle(r))
                }), e.ALo(3, "async"), e.ALo(4, "async"), e.qZA(), e._UZ(5, "app-lieux-mediation-numerique-list-print", 10), e.ALo(6, "async"), e._UZ(7, "app-label-modal", 11, 12), e.ALo(9, "async"), e.BQk()
            }
            if (2 & i) {
                const t = o.ngIf, n = e.oxw(2);
                let r, a, s;
                e.xp6(1), e.Q6J("ngIf", 0 === (null == t ? null : t.length)), e.xp6(1), e.Q6J("lieuxMediationNumerique", t)("orientationFeature", n.features.get("orientation"))("focusId", null == (r = e.lcZ(3, 8, n.lieuSelected$)) ? null : r.id)("hoverId", e.lcZ(4, 10, n.markersPresenter.highlighted$)), e.xp6(3), e.Q6J("filters", null !== (a = e.lcZ(6, 12, n.filters$)) && void 0 !== a ? a : void 0)("lieuxMediationNumerique", null !== (s = t) && void 0 !== s ? s : e.DdM(16, ve)), e.xp6(2), e.Q6J("label", e.lcZ(9, 14, n.labelToDisplay$))
            }
        }

        function mo(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, po, 10, 17, "ng-container", 7), e.ALo(2, "async"), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", e.lcZ(2, 1, t.lieuxMediationNumerique$))
            }
        }

        function _o(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "app-regions-list", 15), e.NdJ("enableHover", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.hover(r))
                })("disableHover", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.hover())
                })("showHub", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onShowHub(r))
                })("showHubInvokingContext", function (r) {
                    e.CHM(t);
                    const a = e.MAs(4);
                    return e.KtG(a.control.toggle(r))
                })("showLieux", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.markersPresenter.center(r.localisation, r.zoom))
                }), e.ALo(1, "async"), e.ALo(2, "async"), e.qZA(), e._UZ(3, "app-hub-modal", 16, 17), e.ALo(5, "async")
            }
            if (2 & i) {
                const t = e.oxw();
                let n;
                e.Q6J("regions", null !== (n = e.lcZ(1, 3, t.regions$)) && void 0 !== n ? n : e.DdM(9, ve))("hoverId", e.lcZ(2, 5, t.markersPresenter.highlighted$)), e.xp6(3), e.Q6J("hub", e.lcZ(5, 7, t.hubToDisplay$))
            }
        }

        let A = (() => {
            class i {
                boundingBox$() {
                    return this.route.snapshot.paramMap.get("nomDepartement") ? (0, D.of)([U.nL, U.nL]) : this.markersPresenter.boundingBox$
                }

                constructor(t, n, r, a, s, c, p, v, w) {
                    this.features = t, this._zoomLevel = n, this.setTitle = r, this._lieuxMediationNumeriqueListPresenter = a, this.assetsConfiguration = s, this.route = c, this._router = p, this._cartographieLayout = v, this.markersPresenter = w, this._hubToDisplay$ = new N.x, this.hubToDisplay$ = this._hubToDisplay$.asObservable().pipe($(this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumerique$), (0, x.U)(([b, q]) => Object.assign(Object.assign({}, b), {lieuxCount: q.filter(Z => Z.source === b.source).length}))), this._labelToDisplay$ = new N.x, this.labelToDisplay$ = this._labelToDisplay$.asObservable().pipe($(this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumerique$), (0, x.U)(([b, q]) => Object.assign(Object.assign({}, b), {
                        lieuxCount: q.filter(Z => {
                            var y;
                            return null === (y = Z.labels_nationaux) || void 0 === y ? void 0 : y.includes(b.ref)
                        }).length
                    }))), this._localisation$ = (0, Re.T)(this.route.queryParams.pipe((0, x.U)(b => (0, _.LE)((0, _.Ut)(b)))), this._cartographieLayout.userLocalisation$), this._isInitialZoomDone = !1, this.lieuxMediationNumerique$ = (0, F.a)([this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByDistance$(this._localisation$, this.route.queryParams.pipe((0, x.U)(_.Ut)), new Date, this.boundingBox$()), this.route.paramMap]).pipe((0, x.U)(Rt), (0, x.U)(Jt), (0, x.U)((i => o => o.map(t => Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({
                        id: t.id,
                        nom: t.nom,
                        adresse: xt(t),
                        latitude: t.latitude,
                        longitude: t.longitude,
                        date_maj: t.date_maj
                    }, (0, h.NL)("telephone", t.telephone)), (0, h.NL)("courriel", t.courriel)), (0, h.NL)("site_web", t.site_web)), (0, h.NL)("labels_nationaux", (i => i?.filter(o => o === l.PV.CNFS || o === l.PV.FranceServices))(t.labels_nationaux))), (0, h.NL)("conditions_acces", (i => {
                        var o;
                        return null === (o = i?.map(t => {
                            switch (t) {
                                case l.aw.Gratuit:
                                    return {label: "Gratuit", isFree: !0};
                                case l.aw.Payant:
                                    return {label: "Payant", isFree: !1};
                                case l.aw.GratuitSousCondition:
                                    return {label: "Gratuit sous condition", isFree: !1};
                                case l.aw.Adhesion:
                                    return {label: "Adh\xe9sion", isFree: !1};
                                case l.aw.AccepteLePassNumerique:
                                    return {label: "Pass Num\xe9rique", isFree: !1}
                            }
                        })) || void 0 === o ? void 0 : o[0]
                    })(t.conditions_acces))), (0, h.NL)("distance", t.distance)), (0, h.NL)("prise_rdv", t.prise_rdv)), (0, h.NL)("status", (0, _.Yq)(i)(t.horaires)))))(new Date))), this.regions$ = this._cartographieLayout.regions$.pipe((0, x.U)(b => [...b.payload].sort(_._q))), this.filterForm = (0, _.MO)((0, _.Ut)(this.route.snapshot.queryParams)), this.filterPresentation$ = this.filterForm.valueChanges.pipe((0, Qe.O)((0, _.Ut)(this.route.snapshot.queryParams))), this.filters$ = this.route.queryParams.pipe((0, x.U)(_.Ut)), this.lieuSelected$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumerique$.pipe((0, x.U)((i => o => o.find(t => t.id === i.get("id")))(this.route.snapshot.paramMap))), this.zoom$ = (0, F.a)([this.markersPresenter.zoom$, this.lieuSelected$]).pipe((0, x.U)(([b, q]) => (q && q.localisation && !this._isInitialZoomDone && this.select(q.id, q.localisation.latitude, q.localisation.longitude), this._isInitialZoomDone = !0, b)))
                }

                ngOnInit() {
                    var t;
                    const n = (0, _._g)(null !== (t = this.route.snapshot.paramMap.get("nomDepartement")) && void 0 !== t ? t : "");
                    null != n && this.markersPresenter.center(n.localisation, n.zoom)
                }

                printPage() {
                    window.print()
                }

                hover(t) {
                    this.markersPresenter.highlight(t ?? "")
                }

                select(t, n, r) {
                    !P(this.markersPresenter.getZoom()) && this.markersPresenter.center((0, l.tf)({
                        latitude: n,
                        longitude: r
                    }), this._zoomLevel.userPosition), this.markersPresenter.select(t)
                }

                inLieuxZoomLevel(t, n) {
                    var r;
                    const a = (0, _._g)(null !== (r = this.route.snapshot.paramMap.get("nomDepartement")) && void 0 !== r ? r : ""),
                        s = P(t, n);
                    return this.setTitle(s ? [a?.nom, "Liste des lieux"] : ["Regions"]), s
                }

                resetFilters() {
                    this._router.navigate([], {relativeTo: this.route.parent})
                }

                getDistance() {
                    return this.route.snapshot.queryParams.distance
                }

                toQueryString(t = {}) {
                    return new H.LE({fromObject: t}).toString()
                }

                onShowHub(t) {
                    this._hubToDisplay$.next((i => {
                        var o, t, n;
                        return {
                            nom: null === (o = i.hub) || void 0 === o ? void 0 : o.nom,
                            source: null === (t = i.hub) || void 0 === t ? void 0 : t.source,
                            url: null === (n = i.hub) || void 0 === n ? void 0 : n.url,
                            region: i.nom,
                            departements: i.departements.map(r => {
                                var a;
                                return {nom: null === (a = (0, _.E6)(r)) || void 0 === a ? void 0 : a.nom, numero: r}
                            })
                        }
                    })(t))
                }

                onShowLabel(t) {
                    const n = re.get(t);
                    n && this._labelToDisplay$.next(n)
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.RS), e.Y36(g.KN), e.Y36(g.K3), e.Y36(_.yF), e.Y36(g.Pl), e.Y36(f.gz), e.Y36(f.F0), e.Y36(I), e.Y36(_.M))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["ng-component"]],
                decls: 14,
                vars: 4,
                consts: [["fragment", "content"], ["fragment", "address"], ["fragment", "filter"], ["fragment", "help"], ["fragment", "footer"], [4, "ngIf", "ngIfElse"], ["regions", ""], [4, "ngIf"], ["class", "d-flex h-100", 4, "ngIf"], [1, "d-print-none", 3, "lieuxMediationNumerique", "orientationFeature", "focusId", "hoverId", "print", "selectLieu", "enableHover", "disableHover", "showLabel", "showLabelInvokingContext"], [1, "d-none", "d-print-block", 3, "filters", "lieuxMediationNumerique"], [3, "label"], ["labelModal", ""], [1, "d-flex", "h-100"], [1, "w-100", "my-auto", "mx-4", 3, "filterPresentation", "queryParams", "orientationFeature", "resetFilters"], [3, "regions", "hoverId", "enableHover", "disableHover", "showHub", "showHubInvokingContext", "showLieux"], [3, "hub"], ["hubModal", ""]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "Rechercher une adresse"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Affiner ma recherche"), e.qZA(), e.TgZ(6, "app-skip-link", 3), e._uU(7, "Aide"), e.qZA(), e.TgZ(8, "app-skip-link", 4), e._uU(9, "Pied de page"), e.qZA(), e.YNc(10, mo, 3, 3, "ng-container", 5), e.ALo(11, "async"), e.YNc(12, _o, 6, 10, "ng-template", null, 6, e.W1O)), 2 & t) {
                        const r = e.MAs(13);
                        let a;
                        e.xp6(10), e.Q6J("ngIf", n.inLieuxZoomLevel(null !== (a = e.lcZ(11, 2, n.zoom$)) && void 0 !== a ? a : 0, n.getDistance()))("ngIfElse", r)
                    }
                },
                dependencies: [u.O5, V.a, In, Sn, $n, Bn, be, uo, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const qo = new e.OlP("MATOMO_CONFIGURATION");
        let Co = (() => {
            class i {
                constructor(t) {
                    this.configuration = t;
                    try {
                        typeof window._paq > "u" && console.warn("Matomo has not yet been initialized!")
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                trackPageView(t) {
                    try {
                        const n = [];
                        t && n.push(t), window._paq.push(["trackPageView", ...n])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                trackEvent(t, n, r, a) {
                    try {
                        const s = [t, n];
                        r && (s.push(r), "number" == typeof a && s.push(a)), window._paq.push(["trackEvent", ...s])
                    } catch (s) {
                        if (!(s instanceof ReferenceError)) throw s
                    }
                }

                trackSiteSearch(t, n, r) {
                    try {
                        const a = [t];
                        n && (a.push(n), "number" == typeof r && a.push(r)), window._paq.push(["trackSiteSearch", ...a])
                    } catch (a) {
                        if (!(a instanceof ReferenceError)) throw a
                    }
                }

                trackGoal(t, n) {
                    try {
                        const r = [t];
                        "number" == typeof n && r.push(n), window._paq.push(["trackGoal", ...r])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                trackLink(t, n) {
                    try {
                        window._paq.push(["trackLink", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                trackAllContentImpressions() {
                    try {
                        window._paq.push(["trackAllContentImpressions"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                trackVisibleContentImpressions(t, n) {
                    try {
                        window._paq.push(["trackVisibleContentImpressions", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                trackContentImpressionsWithinNode(t) {
                    try {
                        window._paq.push(["trackContentImpressionsWithinNode", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                trackContentInteractionNode(t, n) {
                    try {
                        window._paq.push(["trackContentInteractionNode", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                trackContentImpression(t, n, r) {
                    try {
                        window._paq.push(["trackContentImpression", t, n, r])
                    } catch (a) {
                        if (!(a instanceof ReferenceError)) throw a
                    }
                }

                trackContentInteraction(t, n, r, a) {
                    try {
                        window._paq.push(["trackContentInteraction", t, n, r, a])
                    } catch (s) {
                        if (!(s instanceof ReferenceError)) throw s
                    }
                }

                logAllContentBlocksOnPage() {
                    try {
                        window._paq.push(["logAllContentBlocksOnPage"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                ping() {
                    try {
                        window._paq.push(["ping"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                enableHeartBeatTimer(t) {
                    try {
                        window._paq.push(["enableHeartBeatTimer", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                enableLinkTracking(t = !1) {
                    try {
                        window._paq.push(["enableLinkTracking", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                enableCrossDomainLinking() {
                    try {
                        window._paq.push(["enableCrossDomainLinking"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setCrossDomainLinkingTimeout(t) {
                    try {
                        window._paq.push(["setCrossDomainLinkingTimeout", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                getCrossDomainLinkingUrlParameter() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getCrossDomainLinkingUrlParameter())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                setDocumentTitle(t) {
                    try {
                        window._paq.push(["setDocumentTitle", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setDomains(t) {
                    try {
                        window._paq.push(["setDomains", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setCustomUrl(t) {
                    try {
                        window._paq.push(["setCustomUrl", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setReferrerUrl(t) {
                    try {
                        window._paq.push(["setReferrerUrl", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setSiteId(t) {
                    try {
                        window._paq.push(["setSiteId", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setApiUrl(t) {
                    try {
                        window._paq.push(["setApiUrl", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setTrackerUrl(t) {
                    try {
                        window._paq.push(["setTrackerUrl", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                getMatomoUrl() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getPiwikUrl())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getCurrentUrl() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getCurrentUrl())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                setDownloadClasses(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setDownloadExtensions(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                addDownloadExtensions(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                removeDownloadExtensions(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setIgnoreClasses(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setLinkClasses(t) {
                    try {
                        window._paq.push(["setDownloadClasses", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setLinkTrackingTimer(t) {
                    try {
                        window._paq.push(["setLinkTrackingTimer", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                getLinkTrackingTimer() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getLinkTrackingTimer())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                discardHashTag(t) {
                    try {
                        window._paq.push(["discardHashTag", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setGenerationTimeMs(t) {
                    if (this.configuration.scriptVersion < 4) try {
                        window._paq.push(["setGenerationTimeMs", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                appendToTrackingUrl(t) {
                    try {
                        window._paq.push(["appendToTrackingUrl", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                killFrame() {
                    try {
                        window._paq.push(["killFrame"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                redirectFile(t) {
                    try {
                        window._paq.push(["redirectFile", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setHeartBeatTimer(t, n) {
                    try {
                        window._paq.push(["setHeartBeatTimer", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                getVisitorId() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getVisitorId())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getVisitorInfo() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getVisitorInfo())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getAttributionInfo() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getAttributionInfo())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getAttributionCampaignName() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getAttributionCampaignName())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getAttributionCampaignKeyword() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getAttributionCampaignKeyword())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getAttributionReferrerTimestamp() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getAttributionReferrerTimestamp())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getAttributionReferrerUrl() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getAttributionReferrerUrl())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                getUserId() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getUserId())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                setUserId(t) {
                    try {
                        window._paq.push(["setUserId", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                resetUserId() {
                    try {
                        window._paq.push(["resetUserId"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setCustomVariable(t, n, r, a) {
                    try {
                        window._paq.push(["setCustomVariable", t, n, r, a])
                    } catch (s) {
                        if (!(s instanceof ReferenceError)) throw s
                    }
                }

                deleteCustomVariable(t, n) {
                    try {
                        window._paq.push(["deleteCustomVariable", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                deleteCustomVariables(t) {
                    try {
                        window._paq.push(["deleteCustomVariables", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                getCustomVariable(t, n) {
                    return new Promise((r, a) => {
                        try {
                            window._paq.push([function () {
                                r(this.getCustomVariable(t, n))
                            }])
                        } catch (s) {
                            s instanceof ReferenceError || a(s)
                        }
                    })
                }

                storeCustomVariablesInCookie() {
                    try {
                        window._paq.push(["storeCustomVariablesInCookie"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setCustomDimension(t, n) {
                    try {
                        window._paq.push(["setCustomDimension", t, n])
                    } catch (r) {
                        if (!(r instanceof ReferenceError)) throw r
                    }
                }

                deleteCustomDimension(t) {
                    try {
                        window._paq.push(["deleteCustomDimension", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                getCustomDimension(t) {
                    return new Promise((n, r) => {
                        try {
                            window._paq.push([function () {
                                n(this.getCustomDimension(t))
                            }])
                        } catch (a) {
                            a instanceof ReferenceError || r(a)
                        }
                    })
                }

                setCampaignNameKey(t) {
                    try {
                        window._paq.push(["setCampaignNameKey", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setCampaignKeywordKey(t) {
                    try {
                        window._paq.push(["setCampaignKeywordKey", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setConversionAttributionFirstReferrer(t) {
                    try {
                        window._paq.push(["setConversionAttributionFirstReferrer", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setEcommerceView(t, n, r, a) {
                    try {
                        window._paq.push(["setEcommerceView", t, n, r, a])
                    } catch (s) {
                        if (!(s instanceof ReferenceError)) throw s
                    }
                }

                addEcommerceItem(t, n, r, a, s) {
                    try {
                        const c = [t];
                        n && (c.push(n), r && (c.push(r), "number" == typeof a && (c.push(a), "number" == typeof s && c.push(s)))), window._paq.push(["addEcommerceItem", ...c])
                    } catch (c) {
                        if (!(c instanceof ReferenceError)) throw c
                    }
                }

                removeEcommerceItem(t) {
                    try {
                        window._paq.push(["removeEcommerceItem", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                clearEcommerceCart() {
                    try {
                        window._paq.push(["clearEcommerceCart"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                getEcommerceItems() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.getEcommerceItems())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                trackEcommerceCartUpdate(t) {
                    try {
                        window._paq.push(["trackEcommerceCartUpdate", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                trackEcommerceOrder(t, n, r, a, s, c) {
                    try {
                        const p = [t, n];
                        "number" == typeof r && (p.push(r), "number" == typeof a && (p.push(a), "number" == typeof s && (p.push(s), ("number" == typeof c || "boolean" == typeof c) && p.push(c)))), window._paq.push(["trackEcommerceOrder", ...p])
                    } catch (p) {
                        if (!(p instanceof ReferenceError)) throw p
                    }
                }

                requireConsent() {
                    try {
                        window._paq.push(["requireConsent"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                requireCookieConsent() {
                    try {
                        window._paq.push(["requireCookieConsent"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setConsentGiven() {
                    try {
                        window._paq.push(["setConsentGiven"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setCookieConsentGiven() {
                    try {
                        window._paq.push(["setCookieConsentGiven"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                rememberConsentGiven(t) {
                    try {
                        const n = [];
                        "number" == typeof t && n.push(t), window._paq.push(["rememberConsentGiven", ...n])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                rememberCookieConsentGiven(t) {
                    try {
                        const n = [];
                        "number" == typeof t && n.push(t), window._paq.push(["rememberCookieConsentGiven", ...n])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                forgetConsentGiven() {
                    try {
                        window._paq.push(["forgetConsentGiven"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                forgetCookieConsentGiven() {
                    try {
                        window._paq.push(["forgetCookieConsentGiven"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                setDoNotTrack(t) {
                    try {
                        window._paq.push(["setDoNotTrack", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                disableCookies() {
                    try {
                        window._paq.push(["disableCookies"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                deleteCookies() {
                    try {
                        window._paq.push(["deleteCookies"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }

                hasCookies() {
                    return new Promise((t, n) => {
                        try {
                            window._paq.push([function () {
                                t(this.hasCookies())
                            }])
                        } catch (r) {
                            r instanceof ReferenceError || n(r)
                        }
                    })
                }

                setCookieNamePrefix(t) {
                    try {
                        window._paq.push(["setCookieNamePrefix", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setCookieDomain(t) {
                    try {
                        window._paq.push(["setCookieDomain", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setCookiePath(t) {
                    try {
                        window._paq.push(["setCookiePath", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setSecureCookie(t) {
                    try {
                        window._paq.push(["setSecureCookie", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setVisitorCookieTimeout(t) {
                    try {
                        window._paq.push(["setVisitorCookieTimeout", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setReferralCookieTimeout(t) {
                    try {
                        window._paq.push(["setReferralCookieTimeout", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setSessionCookieTimeout(t) {
                    try {
                        window._paq.push(["setSessionCookieTimeout", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                addListener(t) {
                    try {
                        window._paq.push(["addListener", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setRequestMethod(t) {
                    try {
                        window._paq.push(["setRequestMethod", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setCustomRequestProcessing(t) {
                    try {
                        window._paq.push(["setCustomRequestProcessing", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                setRequestContentType(t) {
                    try {
                        window._paq.push(["setRequestContentType", t])
                    } catch (n) {
                        if (!(n instanceof ReferenceError)) throw n
                    }
                }

                disableQueueRequest() {
                    try {
                        window._paq.push(["disableQueueRequest"])
                    } catch (t) {
                        if (!(t instanceof ReferenceError)) throw t
                    }
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.LFG(qo))
            }, i.\u0275prov = e.Yz7({token: i, factory: i.\u0275fac}), i
        })();

        function Zo(i, o) {
            if (1 & i && (e.TgZ(0, "p", 2), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(t.resume)
            }
        }

        function To(i, o) {
            if (1 & i && (e.TgZ(0, "p", 3), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(t.detail)
            }
        }

        let qe = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-description"]],
                inputs: {resume: "resume", detail: "detail"},
                decls: 2,
                vars: 2,
                consts: [["class", "my-3 presentation-resume", 4, "ngIf"], ["class", "my-3 presentation-detail", 4, "ngIf"], [1, "my-3", "presentation-resume"], [1, "my-3", "presentation-detail"]],
                template: function (t, n) {
                    1 & t && (e.YNc(0, Zo, 2, 1, "p", 0), e.YNc(1, To, 2, 1, "p", 1)), 2 & t && (e.Q6J("ngIf", n.resume), e.xp6(1), e.Q6J("ngIf", n.detail))
                },
                dependencies: [u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Mo(i, o) {
            if (1 & i && (e.TgZ(0, "li"), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.Oqu(t)
            }
        }

        function Ao(i, o) {
            if (1 & i && (e.TgZ(0, "ul", 6), e.YNc(1, Mo, 2, 1, "li", 7), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.Q6J("ngForOf", t.services)
            }
        }

        function yo(i, o) {
            1 & i && e._uU(0, "Services inconnus")
        }

        function Lo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 2)(1, "h2", 3), e._uU(2, "Services"), e.qZA(), e.YNc(3, Ao, 2, 1, "ul", 4), e.YNc(4, yo, 1, 0, "ng-template", null, 5, e.W1O), e.qZA()), 2 & i) {
                const t = e.MAs(5), n = e.oxw();
                e.xp6(3), e.Q6J("ngIf", n.services.length > 0)("ngIfElse", t)
            }
        }

        function No(i, o) {
            if (1 & i && (e.TgZ(0, "span", 12), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.Oqu(t)
            }
        }

        function ko(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e.YNc(1, No, 2, 1, "span", 11), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.Q6J("ngForOf", t.services)
            }
        }

        function Io(i, o) {
            1 & i && e._uU(0, "Services inconnus")
        }

        function Eo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 8)(1, "small", 9), e._uU(2, "Services"), e.qZA(), e._UZ(3, "br"), e.YNc(4, ko, 2, 1, "div", 10), e.YNc(5, Io, 1, 0, "ng-template", null, 5, e.W1O), e.qZA()), 2 & i) {
                const t = e.MAs(6), n = e.oxw();
                e.xp6(4), e.Q6J("ngIf", n.services.length > 0)("ngIfElse", t)
            }
        }

        let we = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-services"]],
                inputs: {services: "services"},
                decls: 2,
                vars: 2,
                consts: [["class", "bg-light p-4 d-print-none", 4, "ngIf"], ["class", "d-none d-print-block", 4, "ngIf"], [1, "bg-light", "p-4", "d-print-none"], [1, "h5", "text-muted-dark", "text-uppercase"], ["class", "ps-3 fw-bold", 4, "ngIf", "ngIfElse"], ["noServices", ""], [1, "ps-3", "fw-bold"], [4, "ngFor", "ngForOf"], [1, "d-none", "d-print-block"], [1, "fw-bold", "text-muted"], [4, "ngIf", "ngIfElse"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "text-bg-light", "py-1", "fw-normal"]],
                template: function (t, n) {
                    1 & t && (e.YNc(0, Lo, 6, 2, "div", 0), e.YNc(1, Eo, 7, 2, "div", 1)), 2 & t && (e.Q6J("ngIf", n.services), e.xp6(1), e.Q6J("ngIf", n.services))
                },
                dependencies: [u.sg, u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Fo(i, o) {
            if (1 & i && (e.ynx(0), e.TgZ(1, "table", 4)(2, "tbody")(3, "tr")(4, "th", 5), e._uU(5, "Lundi"), e.qZA(), e.TgZ(6, "td"), e._uU(7), e.qZA()(), e.TgZ(8, "tr")(9, "th", 5), e._uU(10, "Mardi"), e.qZA(), e.TgZ(11, "td"), e._uU(12), e.qZA()(), e.TgZ(13, "tr")(14, "th", 5), e._uU(15, "Mercredi"), e.qZA(), e.TgZ(16, "td"), e._uU(17), e.qZA()(), e.TgZ(18, "tr")(19, "th", 5), e._uU(20, "Jeudi"), e.qZA(), e.TgZ(21, "td"), e._uU(22), e.qZA()(), e.TgZ(23, "tr")(24, "th", 5), e._uU(25, "Vendredi"), e.qZA(), e.TgZ(26, "td"), e._uU(27), e.qZA()(), e.TgZ(28, "tr")(29, "th", 6), e._uU(30, "Samedi"), e.qZA(), e.TgZ(31, "td"), e._uU(32), e.qZA()(), e.TgZ(33, "tr")(34, "th", 5), e._uU(35, "Dimanche"), e.qZA(), e.TgZ(36, "td"), e._uU(37), e.qZA()()()(), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(7), e.Oqu(t.horaires.Lundi), e.xp6(5), e.Oqu(t.horaires.Mardi), e.xp6(5), e.Oqu(t.horaires.Mercredi), e.xp6(5), e.Oqu(t.horaires.Jeudi), e.xp6(5), e.Oqu(t.horaires.Vendredi), e.xp6(5), e.Oqu(t.horaires.Samedi), e.xp6(5), e.Oqu(t.horaires.Dimanche)
            }
        }

        function Uo(i, o) {
            1 & i && e._uU(0, "Horaires d'ouverture inconnus")
        }

        let Ce = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-horaires"]],
                inputs: {horaires: "horaires"},
                decls: 7,
                vars: 2,
                consts: [[1, "h5", "text-muted-dark", "mb-3", "d-print-none", "text-uppercase"], [1, "text-muted-dark", "fw-bold", "mb-2", "d-none", "d-print-block"], [4, "ngIf", "ngIfElse"], ["noOpeningHours", ""], [1, "table", "table-horaires", "table-borderless", "table-sm", "mb-0", "text-prewrap"], ["scope", "row", 1, "day", "text-muted", "fw-bold"], [1, "day", "text-muted", "fw-bold"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "h2", 0), e._uU(1, "Horaires"), e.qZA(), e.TgZ(2, "small", 1), e._uU(3, "Horaires d'ouverture"), e.qZA(), e.YNc(4, Fo, 38, 7, "ng-container", 2), e.YNc(5, Uo, 1, 0, "ng-template", null, 3, e.W1O)), 2 & t) {
                        const r = e.MAs(6);
                        e.xp6(4), e.Q6J("ngIf", n.horaires)("ngIfElse", r)
                    }
                },
                dependencies: [u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Po(i, o) {
            if (1 & i && (e.TgZ(0, "div", 4)(1, "span", 5), e._UZ(2, "i", 6), e.qZA(), e.TgZ(3, "div", 7)(4, "b", 8), e._uU(5), e.qZA()(), e.TgZ(6, "div", 7)(7, "small", 9), e._uU(8), e.qZA()()()), 2 & i) {
                const t = o.$implicit;
                e.xp6(2), e.Q6J("ngClass", t.icon), e.xp6(3), e.Oqu(t.label), e.xp6(3), e.Oqu(t.description)
            }
        }

        function Oo(i, o) {
            if (1 & i && (e.TgZ(0, "span", 10), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t.label, " ")
            }
        }

        let Ze = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-modalites-accompagnement"]],
                inputs: {modalitesAccompagnement: "modalitesAccompagnement"},
                decls: 4,
                vars: 2,
                consts: [[1, "row", "d-print-none"], ["class", "text-center col-md col-6 my-md-0 my-3", 4, "ngFor", "ngForOf"], [1, "d-none", "d-print-block"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal", 4, "ngFor", "ngForOf"], [1, "text-center", "col-md", "col-6", "my-md-0", "my-3"], [1, "ri-circled", "bg-light", "fw-normal"], ["aria-hidden", "true", 3, "ngClass"], [1, "mt-2"], [1, "text-lowercase"], [1, "text-muted", "fst-italic"], [1, "badge", "rounded-pill", "text-bg-light", "py-1", "fw-normal"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0), e.YNc(1, Po, 9, 3, "div", 1), e.qZA(), e.TgZ(2, "div", 2), e.YNc(3, Oo, 2, 1, "span", 3), e.qZA()), 2 & t && (e.xp6(1), e.Q6J("ngForOf", n.modalitesAccompagnement), e.xp6(2), e.Q6J("ngForOf", n.modalitesAccompagnement))
                },
                dependencies: [u.mk, u.sg],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Do(i, o) {
            if (1 & i && (e.TgZ(0, "span", 6)(1, "span", 7), e._uU(2), e.qZA()()), 2 & i) {
                const t = o.$implicit, n = e.oxw(2);
                let r;
                e.xp6(2), e.Oqu(null !== (r = n.publicsAccueilliMap.get(t)) && void 0 !== r ? r : t)
            }
        }

        function Jo(i, o) {
            if (1 & i && (e.TgZ(0, "span", 8), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function So(i, o) {
            if (1 & i && (e.ynx(0), e.TgZ(1, "div", 1)(2, "h2", 2), e._uU(3, "Propri\xe9t\xe9 public"), e.qZA(), e.YNc(4, Do, 3, 1, "span", 3), e.qZA(), e.TgZ(5, "div", 4), e.YNc(6, Jo, 2, 1, "span", 5), e.qZA(), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(4), e.Q6J("ngForOf", t.publicsAccueillis), e.xp6(2), e.Q6J("ngForOf", t.publicsAccueillis)
            }
        }

        let Te = (() => {
            class i {
                constructor() {
                    this.publicsAccueilliMap = new Map([[l.fG.HandicapsPsychiques, "Handicaps psychiques"], [l.fG.HandicapsMentaux, "Handicaps mentaux"]])
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-public-pris-en-charge"]],
                inputs: {publicsAccueillis: "publicsAccueillis"},
                decls: 1,
                vars: 1,
                consts: [[4, "ngIf"], [1, "d-print-none"], [1, "h5", "text-muted", "text-uppercase", "mb-3"], ["class", "badge rounded-pill text-bg-light p-2 me-2 mb-2 fs-6 overflow-hidden", "style", "max-width: 400px; text-overflow: ellipsis", 4, "ngFor", "ngForOf"], [1, "d-none", "d-print-block"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "text-bg-light", "p-2", "me-2", "mb-2", "fs-6", "overflow-hidden", 2, "max-width", "400px", "text-overflow", "ellipsis"], [1, "opacity-75"], [1, "badge", "rounded-pill", "text-bg-light", "py-1", "fw-normal"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, So, 7, 2, "ng-container", 0), 2 & t && e.Q6J("ngIf", n.publicsAccueillis)
                },
                dependencies: [u.sg, u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Ro(i, o) {
            1 & i && (e.ynx(0), e._UZ(1, "i", 22), e._uU(2, " Fiche d'orientation "), e.BQk())
        }

        function Qo(i, o) {
            1 & i && (e._UZ(0, "i", 23), e._uU(1, " Fiche lieu "))
        }

        const Ho = function (i, o, t, n, r) {
            return {id: i, nom: o, labels_nationaux: t, latitude: n, longitude: r}
        }, Yo = function (i) {
            return [i]
        };

        function $o(i, o) {
            if (1 & i && e._UZ(0, "app-lieu-mediation-numerique-markers", 26), 2 & i) {
                const t = e.oxw(2);
                e.Q6J("lieuxMediationNumeriques", e.VKq(7, Yo, e.qbA(1, Ho, t.lieuMediationNumerique.id, t.lieuMediationNumerique.nom, t.lieuMediationNumerique.labels_nationaux, t.lieuMediationNumerique.localisation.latitude, t.lieuMediationNumerique.localisation.longitude)))
            }
        }

        const jo = function () {
            return [17]
        }, Go = function (i, o) {
            return [i, o]
        };

        function Bo(i, o) {
            if (1 & i && (e.TgZ(0, "mgl-map", 24), e.YNc(1, $o, 1, 9, "app-lieu-mediation-numerique-markers", 25), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.Akn(t.assetsConfiguration.path + "/data/map-style.json"), e.Q6J("interactive", !1)("attributionControl", !1)("zoom", e.DdM(7, jo))("center", e.WLB(8, Go, t.lieuMediationNumerique.localisation.longitude, t.lieuMediationNumerique.localisation.latitude)), e.xp6(1), e.Q6J("ngIf", t.lieuMediationNumerique.localisation)
            }
        }

        function zo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 27), e._UZ(1, "i", 28), e.TgZ(2, "small"), e._uU(3, " T\xe9l\xe9phone "), e._UZ(4, "br"), e.TgZ(5, "b", 29), e._uU(6), e.ALo(7, "phone"), e.qZA()()()), 2 & i) {
                const t = e.oxw();
                let n;
                e.xp6(6), e.Oqu(e.lcZ(7, 1, null !== (n = null == t.lieuMediationNumerique.contact ? null : t.lieuMediationNumerique.contact.telephone) && void 0 !== n ? n : ""))
            }
        }

        function Vo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 27), e._UZ(1, "i", 30), e.TgZ(2, "small"), e._uU(3, " Mail "), e._UZ(4, "br"), e.TgZ(5, "b", 31), e._uU(6), e.qZA()()()), 2 & i) {
                const t = e.oxw();
                e.xp6(6), e.Oqu(null == t.lieuMediationNumerique.contact ? null : t.lieuMediationNumerique.contact.courriel)
            }
        }

        function Ko(i, o) {
            if (1 & i && (e.TgZ(0, "div", 27), e._UZ(1, "i", 32), e.TgZ(2, "small"), e._uU(3, " Site "), e._UZ(4, "br"), e.TgZ(5, "b", 31), e._uU(6), e.qZA()()()), 2 & i) {
                const t = e.oxw();
                e.xp6(6), e.Oqu(null == t.lieuMediationNumerique.contact ? null : t.lieuMediationNumerique.contact.site_web)
            }
        }

        function Wo(i, o) {
            if (1 & i && (e.TgZ(0, "div", 37), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij(" ", t.details, " ")
            }
        }

        function Xo(i, o) {
            if (1 & i && (e.TgZ(0, "span", 40), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(1), e.hij(" ", null == t.filters ? null : t.filters.service, " ")
            }
        }

        function er(i, o) {
            if (1 & i && (e.TgZ(0, "span", 40), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function tr(i, o) {
            if (1 & i && (e.TgZ(0, "span", 40), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        const Me = function () {
            return []
        };

        function ir(i, o) {
            if (1 & i && (e.TgZ(0, "div")(1, "small", 33), e._uU(2, "Objet du rendez-vous"), e.qZA(), e.TgZ(3, "div"), e.YNc(4, Xo, 2, 1, "span", 38), e.YNc(5, er, 2, 1, "span", 39), e.YNc(6, tr, 2, 1, "span", 39), e.qZA()()), 2 & i) {
                const t = e.oxw(2);
                let n, r;
                e.xp6(4), e.Q6J("ngIf", null == t.filters ? null : t.filters.service), e.xp6(1), e.Q6J("ngForOf", null !== (n = null == t.filters ? null : t.filters.publics_accueillis) && void 0 !== n ? n : e.DdM(3, Me)), e.xp6(1), e.Q6J("ngForOf", null !== (r = null == t.filters ? null : t.filters.modalites_accompagnement) && void 0 !== r ? r : e.DdM(4, Me))
            }
        }

        function nr(i, o) {
            if (1 & i && (e.TgZ(0, "div")(1, "small", 33), e._uU(2, "Informations sur le b\xe9n\xe9ficiaire"), e.qZA(), e.TgZ(3, "div", 34), e._uU(4), e.qZA(), e.YNc(5, Wo, 2, 1, "div", 35), e.YNc(6, ir, 7, 5, "div", 36), e.qZA()), 2 & i) {
                const t = o.ngIf, n = e.oxw();
                e.xp6(4), e.AsE("", t.firstname, " ", t.lastname, ""), e.xp6(1), e.Q6J("ngIf", t.details), e.xp6(1), e.Q6J("ngIf", (null == n.filters ? null : n.filters.service) || (null == n.filters || null == n.filters.publics_accueillis ? null : n.filters.publics_accueillis.length) || (null == n.filters || null == n.filters.modalites_accompagnement ? null : n.filters.modalites_accompagnement.length))
            }
        }

        function or(i, o) {
            if (1 & i && (e.TgZ(0, "div", 44)(1, "div", 45), e._uU(2, "Description du lieu"), e.qZA(), e._UZ(3, "app-description", 46), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(3), e.Q6J("detail", null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.detail)("resume", null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.resume)
            }
        }

        function rr(i, o) {
            if (1 & i && (e.TgZ(0, "div")(1, "div", 47), e._uU(2, "Caract\xe9ristiques du lieu"), e.qZA(), e._UZ(3, "app-modalites-accompagnement", 48)(4, "app-public-pris-en-charge", 49), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(3), e.Q6J("modalitesAccompagnement", t.lieuMediationNumerique.modalites_accompagnement), e.xp6(1), e.Q6J("publicsAccueillis", t.lieuMediationNumerique.publics_accueillis)
            }
        }

        function ar(i, o) {
            if (1 & i && (e.YNc(0, or, 4, 2, "div", 41), e.TgZ(1, "div", 42), e._UZ(2, "app-services", 43), e.qZA(), e.YNc(3, rr, 5, 2, "div", 36)), 2 & i) {
                const t = e.oxw();
                e.Q6J("ngIf", (null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.detail) || (null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.resume)), e.xp6(2), e.Q6J("services", t.lieuMediationNumerique.services), e.xp6(1), e.Q6J("ngIf", t.lieuMediationNumerique.modalites_accompagnement || t.lieuMediationNumerique.publics_accueillis)
            }
        }

        function sr(i, o) {
            if (1 & i && e._UZ(0, "img", 50), 2 & i) {
                const t = e.oxw();
                e.Q6J("src", t.brandConfiguration.logoAvecTexte, e.LSH)
            }
        }

        function lr(i, o) {
            if (1 & i && e._UZ(0, "img", 50), 2 & i) {
                const t = e.oxw(2);
                e.Q6J("src", t.brandConfiguration.logo, e.LSH)
            }
        }

        function ur(i, o) {
            if (1 & i && e.YNc(0, lr, 1, 1, "img", 51), 2 & i) {
                const t = e.oxw();
                e.Q6J("ngIf", t.brandConfiguration.logo)
            }
        }

        function cr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 52)(1, "b"), e._uU(2, "Orientation R\xe9alis\xe9e par :"), e.qZA(), e._UZ(3, "br"), e._uU(4), e.qZA()), 2 & i) {
                const t = o.ngIf;
                e.xp6(4), e.AsE(" ", t.firstname, " ", t.lastname, " ")
            }
        }

        let pr = (() => {
            class i {
                constructor(t, n) {
                    this.assetsConfiguration = t, this.brandConfiguration = n
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl), e.Y36(g.hh))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-lieux-mediation-numerique-details-print"]],
                inputs: {
                    lieuMediationNumerique: "lieuMediationNumerique",
                    orientationSheetForm: "orientationSheetForm",
                    filters: "filters"
                },
                decls: 34,
                vars: 14,
                consts: [[1, "lieux-mediation-numerique-details-print", "d-flex", "flex-column", "border-3", "overflow-hidden"], [1, "mb-3", "d-none", "d-print-block"], [4, "ngIf", "ngIfElse"], ["noOrientationSheetFormTitle", ""], ["aria-hidden", "true", 1, "map-container"], [1, "border-top", 2, "height", "250px"], ["class", "h-100 w-100 overflow-hidden d-none d-print-block", 3, "style", "interactive", "attributionControl", "zoom", "center", 4, "ngIf"], [1, "d-none", "d-print-flex", "flex-grow-1", "row", "mt-3", "border-bottom", "pb-3"], [1, "col-5", "bg-light"], [1, "h-100", "d-flex", "flex-column", "justify-content-between", "p-3"], [1, "text-muted", "fw-bold"], [1, "d-none", "d-print-block", "h4", "fw-bold"], [3, "horaires"], [1, "lh-1", "text-muted", "border-2"], ["class", "mt-3 d-flex align-items-center", 4, "ngIf"], [1, "col-7", "my-auto"], ["noOrientationSheetForm", ""], [1, "d-none", "d-print-block"], [1, "d-flex", "mt-3"], ["class", "w-25", "alt", "", 3, "src", 4, "ngIf", "ngIfElse"], ["brandLogo", ""], ["class", "ms-auto border-start border-1", 4, "ngIf"], ["aria-hidden", "true", 1, "ri-account-pin-circle-fill", "me-2"], ["aria-hidden", "true", 1, "ri-file-text-line", "me-2"], [1, "h-100", "w-100", "overflow-hidden", "d-none", "d-print-block", 3, "interactive", "attributionControl", "zoom", "center"], [3, "lieuxMediationNumeriques", 4, "ngIf"], [3, "lieuxMediationNumeriques"], [1, "mt-3", "d-flex", "align-items-center"], ["aria-hidden", "true", 1, "ri", "ri-lg", "ri-phone-line", "border-end", "pe-2", "me-2"], [1, "text-body"], ["aria-hidden", "true", 1, "ri", "ri-lg", "ri-mail-line", "border-end", "pe-2", "me-2"], [1, "text-body", "text-break"], ["aria-hidden", "true", 1, "ri", "ri-link", "ri-lg", "ri-link-line", "border-end", "pe-2", "me-2"], [1, "fw-bold", "text-muted"], [1, "h4", "fw-bold", "text-break"], ["class", "small text-break mb-4", 4, "ngIf"], [4, "ngIf"], [1, "small", "text-break", "mb-4"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal", 4, "ngIf"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "text-bg-light", "py-1", "fw-normal"], ["class", "mb-3 small", 4, "ngIf"], [1, "mb-3"], [3, "services"], [1, "mb-3", "small"], [1, "fw-bold", "text-muted", "mb-2"], [3, "detail", "resume"], [1, "small", "fw-bold", "text-muted", "mb-2"], [3, "modalitesAccompagnement"], [3, "publicsAccueillis"], ["alt", "", 1, "w-25", 3, "src"], ["class", "w-25", "alt", "", 3, "src", 4, "ngIf"], [1, "ms-auto", "border-start", "border-1"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "div", 0)(1, "h3", 1), e.YNc(2, Ro, 3, 0, "ng-container", 2), e.YNc(3, Qo, 2, 0, "ng-template", null, 3, e.W1O), e.qZA(), e.TgZ(5, "div", 4)(6, "div", 5), e.YNc(7, Bo, 2, 11, "mgl-map", 6), e.qZA()(), e.TgZ(8, "div", 7)(9, "div", 8)(10, "div", 9)(11, "div")(12, "small", 10), e._uU(13, "Lieu accueillant"), e.qZA(), e._UZ(14, "br"), e.TgZ(15, "h1", 11), e._uU(16), e.qZA(), e.TgZ(17, "small", 10), e._uU(18), e.qZA()(), e._UZ(19, "app-horaires", 12), e.TgZ(20, "div", 13), e.YNc(21, zo, 8, 3, "div", 14), e.YNc(22, Vo, 7, 1, "div", 14), e.YNc(23, Ko, 7, 1, "div", 14), e.qZA()()(), e.TgZ(24, "div", 15), e.YNc(25, nr, 7, 4, "div", 2), e.YNc(26, ar, 4, 3, "ng-template", null, 16, e.W1O), e.qZA()(), e.TgZ(28, "div", 17)(29, "div", 18), e.YNc(30, sr, 1, 1, "img", 19), e.YNc(31, ur, 1, 1, "ng-template", null, 20, e.W1O), e.YNc(33, cr, 5, 2, "div", 21), e.qZA()()()), 2 & t) {
                        const r = e.MAs(4), a = e.MAs(27), s = e.MAs(32);
                        e.xp6(2), e.Q6J("ngIf", n.orientationSheetForm)("ngIfElse", r), e.xp6(5), e.Q6J("ngIf", n.lieuMediationNumerique.localisation), e.xp6(9), e.Oqu(n.lieuMediationNumerique.nom), e.xp6(2), e.Oqu(n.lieuMediationNumerique.adresse), e.xp6(1), e.Q6J("horaires", n.lieuMediationNumerique.horaires), e.xp6(2), e.Q6J("ngIf", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.telephone), e.xp6(1), e.Q6J("ngIf", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.courriel), e.xp6(1), e.Q6J("ngIf", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.site_web), e.xp6(2), e.Q6J("ngIf", null == n.orientationSheetForm ? null : n.orientationSheetForm.usager)("ngIfElse", a), e.xp6(5), e.Q6J("ngIf", n.brandConfiguration.logoAvecTexte)("ngIfElse", s), e.xp6(3), e.Q6J("ngIf", null == n.orientationSheetForm ? null : n.orientationSheetForm.prescripteur)
                    }
                },
                dependencies: [u.sg, u.O5, C.Gd, qe, we, Ce, Ze, Te, R, O.E],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function fr(i, o) {
            if (1 & i && (e.TgZ(0, "small"), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(t.typologie)
            }
        }

        function hr(i, o) {
            1 & i && (e.TgZ(0, "span", 11), e._UZ(1, "i", 12), e._uU(2, " Derni\xe8re mise \xe0 jour il y a plus d'un an "), e.qZA())
        }

        function xr(i, o) {
            if (1 & i && (e.TgZ(0, "span", 13), e._uU(1), e.ALo(2, "date"), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.hij("Mise \xe0 jour le ", e.xi3(2, 1, t.date, "dd/MM/y"), "")
            }
        }

        function br(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, hr, 3, 0, "span", 9), e.YNc(2, xr, 3, 4, "ng-template", null, 10, e.W1O), e.BQk()), 2 & i) {
                const t = e.MAs(3), n = e.oxw();
                e.xp6(1), e.Q6J("ngIf", n.isTooOld(n.date))("ngIfElse", t)
            }
        }

        function vr(i, o) {
            if (1 & i && (e.TgZ(0, "small", 14), e._uU(1, " source : "), e.TgZ(2, "a", 15), e._uU(3), e.qZA()()), 2 & i) {
                const t = e.oxw();
                e.xp6(2), e.s9C("href", t.source.link, e.LSH), e.xp6(1), e.hij(" ", t.source.label, " ")
            }
        }

        let qr = (() => {
            class i {
                constructor() {
                    this.id = "", this.nom = "", this.closeDetails = new e.vpe, this.isTooOld = (i => o => o.getTime() < i.getTime() - 31536e6)(new Date)
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-informations-generales"]],
                inputs: {
                    id: "id",
                    nom: "nom",
                    typologie: "typologie",
                    date: "date",
                    status: "status",
                    source: "source"
                },
                outputs: {closeDetails: "closeDetails"},
                decls: 11,
                vars: 4,
                consts: [[1, "d-flex", "flex-row-reverse"], [1, "d-flex", "flex-column"], [1, "flex-grow-1", "text-end"], ["type", "button", "tabindex", "0", "aria-label", "Revenir \xe0 la liste", 1, "btn", "btn-close", "btn-close-white", "opacity-100", 3, "click"], [1, "flex-grow-1", "align-self-center"], [4, "ngIf"], [1, "h2", "fw-bold", "mb-0", "text-first-letter-uppercase"], ["class", "opacity-75 fst-italic", 4, "ngIf"], ["aria-hidden", "true", 1, "ri-4x", "ri-map-pin-2-line", "my-auto", "me-2", "d-md-inline", "d-none"], ["class", "badge rounded-pill bg-tertiary text-primary fw-normal me-1", 4, "ngIf", "ngIfElse"], ["updateDate", ""], [1, "badge", "rounded-pill", "bg-tertiary", "text-primary", "fw-normal", "me-1"], ["aria-hidden", "true", 1, "ri-alert-line"], [1, "mt-1", "fst-italic", "me-2"], [1, "opacity-75", "fst-italic"], ["target", "_blank", "rel", "noopener noreferrer", 1, "text-secondary", 3, "href"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "button", 3), e.NdJ("click", function () {
                        return n.closeDetails.emit()
                    }), e.qZA()()(), e.TgZ(4, "div", 4), e.YNc(5, fr, 2, 1, "small", 5), e.TgZ(6, "h1", 6), e._uU(7), e.qZA(), e.YNc(8, br, 4, 2, "ng-container", 5), e.YNc(9, vr, 4, 2, "small", 7), e.qZA(), e._UZ(10, "i", 8), e.qZA()), 2 & t && (e.xp6(5), e.Q6J("ngIf", n.typologie), e.xp6(2), e.hij(" ", n.nom, " "), e.xp6(1), e.Q6J("ngIf", n.date), e.xp6(1), e.Q6J("ngIf", n.source))
                },
                dependencies: [u.O5, u.uU],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), wr = (() => {
            class i {
                constructor() {
                    this.print = new e.vpe, this.sendByEmail = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-boutons-action"]],
                inputs: {siteWeb: "siteWeb", priseRdv: "priseRdv"},
                outputs: {print: "print", sendByEmail: "sendByEmail"},
                decls: 25,
                vars: 8,
                consts: [[1, "row", "gx-0", "py-0", "px-md-6", "flex-md-row", "flex-column", "bg-light", "py-md-0", "py-2"], [1, "col", "me-1"], ["target", "_blank", "rel", "noopener noreferrer", 1, "btn", "btn-tile", "px-md-0", "py-md-4", "p-2", "d-flex", "flex-md-column", "flex-row"], [1, "ri-circled", "text-light", "fw-normal", 3, "ngClass"], ["aria-hidden", "true", 1, "ri-calendar-check-line"], [1, "mt-md-2", "mb-md-0", "ms-md-0", "ms-2"], [1, "col"], ["aria-hidden", "true", 1, "ri-computer-line"], ["type", "button", 1, "btn", "btn-tile", "px-md-0", "py-md-4", "p-2", "d-flex", "flex-md-column", "flex-row", 3, "click"], [1, "ri-circled", "bg-primary", "text-light", "fw-normal"], ["aria-hidden", "true", 1, "ri-printer-line"], ["aria-hidden", "true", 1, "ri-mail-send-line"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "div", 0)(1, "div", 1)(2, "a", 2)(3, "span", 3), e._UZ(4, "i", 4), e.qZA(), e.TgZ(5, "b", 5), e._uU(6, "RDV en ligne"), e.qZA()()(), e.TgZ(7, "div", 6)(8, "a", 2)(9, "span", 3), e._UZ(10, "i", 7), e.qZA(), e.TgZ(11, "b", 5), e._uU(12, "Voir le site"), e.qZA()()(), e.TgZ(13, "div", 6)(14, "button", 8), e.NdJ("click", function () {
                        return n.print.emit()
                    }), e.TgZ(15, "span", 9), e._UZ(16, "i", 10), e.qZA(), e.TgZ(17, "b", 5), e._uU(18, "Imprimer"), e.qZA()()(), e.TgZ(19, "div", 6)(20, "button", 8), e.NdJ("click", function (a) {
                        return n.sendByEmail.emit(a)
                    }), e.TgZ(21, "span", 9), e._UZ(22, "i", 11), e.qZA(), e.TgZ(23, "b", 5), e._uU(24, "Envoyer par mail"), e.qZA()()()()), 2 & t) {
                        let r, a;
                        e.xp6(2), e.ekj("disabled", !n.priseRdv), e.uIk("href", null !== (r = n.priseRdv) && void 0 !== r ? r : null, e.LSH), e.xp6(1), e.Q6J("ngClass", n.priseRdv ? "bg-primary" : "bg-muted-dark"), e.xp6(5), e.ekj("disabled", !(null != n.siteWeb && n.siteWeb[0])), e.uIk("href", null !== (a = null == n.siteWeb ? null : n.siteWeb[0]) && void 0 !== a ? a : null, e.LSH), e.xp6(1), e.Q6J("ngClass", null != n.siteWeb && n.siteWeb[0] ? "bg-primary" : "bg-muted-dark")
                    }
                },
                dependencies: [u.mk],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Cr(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._uU(1), e.ALo(2, "distance"), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(e.lcZ(2, 1, t.distance))
            }
        }

        function Zr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 9), e._UZ(1, "i", 10), e.TgZ(2, "span"), e._uU(3), e.qZA(), e.TgZ(4, "span", 11), e._uU(5, "\xb7"), e.qZA(), e.TgZ(6, "i", 12), e._uU(7), e.qZA()()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.ekj("text-primary", "Ouvert" === t.status.label)("text-danger", "Ferm\xe9" === t.status.label), e.xp6(1), e.ekj("text-primary", "Ouvert" === t.status.label)("text-danger", "Ferm\xe9" === t.status.label), e.xp6(1), e.hij(" ", t.status.label, " "), e.xp6(4), e.Oqu(t.status.limite)
            }
        }

        function Tr(i, o) {
            if (1 & i && (e.TgZ(0, "a", 16), e.NdJ("click", function (n) {
                return n.stopPropagation()
            }), e._UZ(1, "i", 17), e._uU(2, " Contacter par mail "), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.MGl("href", "mailto:", t.courriel, "", e.LSH)
            }
        }

        function Mr(i, o) {
            if (1 & i && (e.TgZ(0, "a", 18), e.NdJ("click", function (n) {
                return n.stopPropagation()
            }), e._UZ(1, "i", 19), e.TgZ(2, "span", 20), e._uU(3), e.ALo(4, "phone"), e.qZA(), e.TgZ(5, "span", 21), e._uU(6, "Contacter par t\xe9l\xe9phone"), e.qZA()()), 2 & i) {
                const t = e.oxw(2);
                e.MGl("href", "tel://", t.telephone, "", e.LSH), e.xp6(3), e.Oqu(e.lcZ(4, 2, t.telephone))
            }
        }

        function Ar(i, o) {
            if (1 & i && (e.TgZ(0, "div", 13), e.YNc(1, Tr, 3, 1, "a", 14), e.YNc(2, Mr, 7, 4, "a", 15), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", t.courriel), e.xp6(1), e.Q6J("ngIf", t.telephone)
            }
        }

        function yr(i, o) {
            if (1 & i && (e.TgZ(0, "a", 22), e._UZ(1, "i", 23), e.TgZ(2, "b"), e._uU(3, "Consulter les informations d'accessibilit\xe9"), e.qZA()()), 2 & i) {
                const t = e.oxw();
                e.s9C("href", t.accessibilite, e.LSH)
            }
        }

        function Lr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 24), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Oqu(t.conditionsAcces)
            }
        }

        let Nr = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-informations-pratiques"]],
                inputs: {
                    adresse: "adresse",
                    conditionsAcces: "conditionsAcces",
                    accessibilite: "accessibilite",
                    courriel: "courriel",
                    telephone: "telephone",
                    distance: "distance",
                    status: "status"
                },
                decls: 10,
                vars: 6,
                consts: [[1, "row"], [1, "col-md", "col-12"], [1, "mb-2"], [4, "ngIf"], ["class", "mb-3 d-flex align-items-center", 4, "ngIf"], ["class", "col-md-auto col-12 text-md-end d-print-none", 4, "ngIf"], [1, "mt-2"], ["class", "text-decoration-none", "target", "_blank", 3, "href", 4, "ngIf"], ["class", "text-primary mt-2", 4, "ngIf"], [1, "mb-3", "d-flex", "align-items-center"], ["aria-hidden", "true", 1, "ri-checkbox-blank-circle-fill", "ri-xxs", "me-1"], [1, "mx-1"], [1, "small", "text-muted", "align-self-end"], [1, "col-md-auto", "col-12", "text-md-end", "d-print-none"], ["class", "btn btn-sm btn-secondary mb-1", 3, "href", "click", 4, "ngIf"], ["class", "text-decoration-none d-block text-muted", 3, "href", "click", 4, "ngIf"], [1, "btn", "btn-sm", "btn-secondary", "mb-1", 3, "href", "click"], ["aria-hidden", "true", 1, "ri-mail-line", "me-2", "text-right"], [1, "text-decoration-none", "d-block", "text-muted", 3, "href", "click"], ["aria-hidden", "true", 1, "me-2", "ri-phone-line"], ["aria-hidden", "true"], [1, "visually-hidden"], ["target", "_blank", 1, "text-decoration-none", 3, "href"], ["aria-hidden", "true", 1, "ri-wheelchair-line", "ri-xl", "text-primary"], [1, "text-primary", "mt-2"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "div", 1)(2, "address", 2), e._uU(3), e.qZA(), e.YNc(4, Cr, 3, 3, "div", 3), e.YNc(5, Zr, 8, 10, "div", 4), e.qZA(), e.YNc(6, Ar, 3, 2, "div", 5), e.TgZ(7, "div", 6), e.YNc(8, yr, 4, 1, "a", 7), e.qZA(), e.YNc(9, Lr, 2, 1, "div", 8), e.qZA()), 2 & t && (e.xp6(3), e.hij(" ", n.adresse, " "), e.xp6(1), e.Q6J("ngIf", n.distance), e.xp6(1), e.Q6J("ngIf", n.status), e.xp6(1), e.Q6J("ngIf", n.courriel || n.telephone), e.xp6(2), e.Q6J("ngIf", n.accessibilite), e.xp6(1), e.Q6J("ngIf", n.conditionsAcces))
                },
                dependencies: [u.O5, O.E, fe.w],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function kr(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "div", 4)(2, "p", 5), e._uU(3, " En renseignant ces informations, vous aiderez le m\xe9diateur num\xe9rique du lieu d'accueil pour la prise en charge du b\xe9n\xe9ficiaire "), e.qZA(), e.TgZ(4, "form", 6), e.NdJ("ngSubmit", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.onSubmitUsagerOrientationSheetForm())
                }), e.TgZ(5, "p", 7), e._uU(6, "Qui est b\xe9n\xe9ficiaire ?"), e.qZA(), e.TgZ(7, "div", 8)(8, "div", 9)(9, "label", 10), e._uU(10, "Pr\xe9nom du b\xe9n\xe9ficiaire"), e.qZA(), e._UZ(11, "input", 11), e.TgZ(12, "small", 12), e._uU(13, " * Champ obligatoire "), e.qZA()(), e.TgZ(14, "div", 9)(15, "label", 13), e._uU(16, "Nom du b\xe9n\xe9ficiaire"), e.qZA(), e._UZ(17, "input", 14), e.TgZ(18, "small", 15), e._uU(19, " * Champ obligatoire "), e.qZA()()(), e.TgZ(20, "div", 16)(21, "label", 17), e._uU(22, "Avez-vous des pr\xe9cisions \xe0 apporter ?"), e.qZA(), e._UZ(23, "textarea", 18), e.qZA()()(), e.BQk()
            }
            if (2 & i) {
                const t = e.oxw();
                let n, r, a, s;
                e.xp6(4), e.Q6J("formGroup", t.usagerOrientationSheetForm), e.xp6(7), e.ekj("is-invalid", (null == (n = t.usagerOrientationSheetForm.get("firstname")) ? null : n.touched) && (null == (n = t.usagerOrientationSheetForm.get("firstname")) ? null : n.invalid)), e.xp6(1), e.Q6J("ngClass", null != (r = t.usagerOrientationSheetForm.get("firstname")) && r.touched && null != (r = t.usagerOrientationSheetForm.get("firstname")) && r.invalid ? "invalid-feedback" : "text-muted-dark"), e.xp6(5), e.ekj("is-invalid", (null == (a = t.usagerOrientationSheetForm.get("lastname")) ? null : a.touched) && (null == (a = t.usagerOrientationSheetForm.get("lastname")) ? null : a.invalid)), e.xp6(1), e.Q6J("ngClass", null != (s = t.usagerOrientationSheetForm.get("lastname")) && s.touched && null != (s = t.usagerOrientationSheetForm.get("lastname")) && s.invalid ? "invalid-feedback" : "text-muted-dark")
            }
        }

        function Ir(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "div", 4)(2, "p", 5), e._uU(3, " Ces informations vont permettre au lieu d'accueil de savoir par qui a \xe9t\xe9 orient\xe9 le b\xe9n\xe9ficiaire. "), e.qZA(), e.TgZ(4, "form", 19), e.NdJ("ngSubmit", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.onSubmitPrescripteurOrientationSheetForm())
                }), e.TgZ(5, "p", 7), e._uU(6, "Qui est \xe0 l'origine de l'orientation ?"), e.qZA(), e.TgZ(7, "div", 8)(8, "div", 9)(9, "label", 20), e._uU(10, "Pr\xe9nom du b\xe9n\xe9ficiaire"), e.qZA(), e._UZ(11, "input", 21), e.TgZ(12, "small", 22), e._uU(13, " * Champ obligatoire "), e.qZA()(), e.TgZ(14, "div", 9)(15, "label", 23), e._uU(16, "Nom du b\xe9n\xe9ficiaire"), e.qZA(), e._UZ(17, "input", 24), e.TgZ(18, "small", 25), e._uU(19, " * Champ obligatoire "), e.qZA()()(), e.TgZ(20, "div")(21, "label", 26), e._uU(22, "Lieu de la prescription"), e.qZA(), e._UZ(23, "input", 27), e.TgZ(24, "small", 28), e._uU(25, " * Champ obligatoire "), e.qZA()()()(), e.BQk()
            }
            if (2 & i) {
                const t = e.oxw();
                let n, r, a, s, c, p;
                e.xp6(4), e.Q6J("formGroup", t.prescripteurOrientationSheetForm), e.xp6(7), e.ekj("is-invalid", (null == (n = t.prescripteurOrientationSheetForm.get("firstname")) ? null : n.touched) && (null == (n = t.prescripteurOrientationSheetForm.get("firstname")) ? null : n.invalid)), e.xp6(1), e.Q6J("ngClass", null != (r = t.prescripteurOrientationSheetForm.get("firstname")) && r.touched && null != (r = t.prescripteurOrientationSheetForm.get("firstname")) && r.invalid ? "invalid-feedback" : "text-muted-dark"), e.xp6(5), e.ekj("is-invalid", (null == (a = t.prescripteurOrientationSheetForm.get("lastname")) ? null : a.touched) && (null == (a = t.prescripteurOrientationSheetForm.get("lastname")) ? null : a.invalid)), e.xp6(1), e.Q6J("ngClass", null != (s = t.prescripteurOrientationSheetForm.get("lastname")) && s.touched && null != (s = t.prescripteurOrientationSheetForm.get("lastname")) && s.invalid ? "invalid-feedback" : "text-muted-dark"), e.xp6(5), e.ekj("is-invalid", (null == (c = t.prescripteurOrientationSheetForm.get("place")) ? null : c.touched) && (null == (c = t.prescripteurOrientationSheetForm.get("place")) ? null : c.invalid)), e.xp6(1), e.Q6J("ngClass", null != (p = t.prescripteurOrientationSheetForm.get("place")) && p.touched && null != (p = t.prescripteurOrientationSheetForm.get("place")) && p.invalid ? "invalid-feedback" : "text-muted-dark")
            }
        }

        const Er = function (i, o, t, n, r) {
            return {id: i, nom: o, labels_nationaux: t, latitude: n, longitude: r}
        }, Fr = function (i) {
            return [i]
        };

        function Ur(i, o) {
            if (1 & i && e._UZ(0, "app-lieu-mediation-numerique-markers", 37), 2 & i) {
                const t = e.oxw(3);
                e.Q6J("displayTooltip", !1)("lieuxMediationNumeriques", e.VKq(8, Fr, e.qbA(2, Er, t.id, t.nom, t.labels_nationaux, t.localisation.latitude, t.localisation.longitude)))
            }
        }

        const Pr = function () {
            return [17]
        }, Or = function (i, o) {
            return [i, o]
        };

        function Dr(i, o) {
            if (1 & i && (e.TgZ(0, "mgl-map", 35), e.YNc(1, Ur, 1, 10, "app-lieu-mediation-numerique-markers", 36), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.Akn(t.assetsConfiguration.path + "/data/map-style.json"), e.Q6J("interactive", !1)("attributionControl", !1)("zoom", e.DdM(7, Pr))("center", e.WLB(8, Or, t.localisation.longitude, t.localisation.latitude)), e.xp6(1), e.Q6J("ngIf", t.localisation)
            }
        }

        function Jr(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 39), e._uU(2), e.qZA()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(2), e.hij(" ", t.telephone, " ")
            }
        }

        function Sr(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 40), e.TgZ(2, "span", 41), e._uU(3), e.qZA()()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(3), e.Oqu(t.courriel)
            }
        }

        function Rr(i, o) {
            if (1 & i && (e.TgZ(0, "div"), e._UZ(1, "i", 42), e.TgZ(2, "span", 41), e._uU(3), e.qZA()()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(3), e.Oqu(t.siteWeb[0])
            }
        }

        function Qr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 38), e.YNc(1, Jr, 3, 1, "div", 2), e.YNc(2, Sr, 4, 1, "div", 2), e.YNc(3, Rr, 4, 1, "div", 2), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(1), e.Q6J("ngIf", t.telephone), e.xp6(1), e.Q6J("ngIf", t.courriel), e.xp6(1), e.Q6J("ngIf", t.siteWeb)
            }
        }

        function Hr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 47), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(1), e.Oqu(t.usager.details)
            }
        }

        function Yr(i, o) {
            if (1 & i && (e.TgZ(0, "span", 50), e._uU(1), e.qZA()), 2 & i) {
                const t = e.oxw(4);
                e.xp6(1), e.hij(" ", null == t.filters ? null : t.filters.service, " ")
            }
        }

        function $r(i, o) {
            if (1 & i && (e.TgZ(0, "span", 50), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function jr(i, o) {
            if (1 & i && (e.TgZ(0, "span", 50), e._uU(1), e.qZA()), 2 & i) {
                const t = o.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        const Ae = function () {
            return []
        };

        function Gr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 44)(1, "b"), e._uU(2, "Objet du rendez-vous :"), e.qZA(), e.TgZ(3, "div"), e.YNc(4, Yr, 2, 1, "span", 48), e.YNc(5, $r, 2, 1, "span", 49), e.YNc(6, jr, 2, 1, "span", 49), e.qZA()()), 2 & i) {
                const t = e.oxw(3);
                let n, r;
                e.xp6(4), e.Q6J("ngIf", null == t.filters ? null : t.filters.service), e.xp6(1), e.Q6J("ngForOf", null !== (n = null == t.filters ? null : t.filters.publics_accueillis) && void 0 !== n ? n : e.DdM(3, Ae)), e.xp6(1), e.Q6J("ngForOf", null !== (r = null == t.filters ? null : t.filters.modalites_accompagnement) && void 0 !== r ? r : e.DdM(4, Ae))
            }
        }

        function Br(i, o) {
            if (1 & i && (e.TgZ(0, "div", 44)(1, "b"), e._uU(2, "Orientation r\xe9alis\xe9e par :"), e.qZA(), e.TgZ(3, "div", 51), e._uU(4), e.qZA()()), 2 & i) {
                const t = e.oxw(3);
                e.xp6(4), e.lnq("", t.prescripteur.firstname, " ", t.prescripteur.lastname, " - ", t.prescripteur.place, "")
            }
        }

        function zr(i, o) {
            if (1 & i && (e.TgZ(0, "div", 9)(1, "h3", 43), e._uU(2, "R\xe9sum\xe9 de la fiche d'orientation"), e.qZA(), e.TgZ(3, "div", 44)(4, "b", 41), e._uU(5), e.qZA(), e.YNc(6, Hr, 2, 1, "div", 45), e.qZA(), e.YNc(7, Gr, 7, 5, "div", 46), e.YNc(8, Br, 5, 3, "div", 46), e.qZA()), 2 & i) {
                const t = e.oxw(2);
                e.xp6(5), e.AsE("", t.usager.firstname, " ", t.usager.lastname, ""), e.xp6(1), e.Q6J("ngIf", t.usager.details), e.xp6(1), e.Q6J("ngIf", (null == t.filters ? null : t.filters.service) || (null == t.filters || null == t.filters.publics_accueillis ? null : t.filters.publics_accueillis.length) || (null == t.filters || null == t.filters.modalites_accompagnement ? null : t.filters.modalites_accompagnement.length)), e.xp6(1), e.Q6J("ngIf", t.prescripteur)
            }
        }

        function Vr(i, o) {
            if (1 & i && (e.ynx(0), e.TgZ(1, "div", 29)(2, "div", 30)(3, "b"), e._uU(4), e.qZA(), e._UZ(5, "br"), e._uU(6), e.qZA(), e.TgZ(7, "div", 31), e.YNc(8, Dr, 2, 11, "mgl-map", 32), e.qZA(), e.YNc(9, Qr, 4, 3, "div", 33), e.qZA(), e.YNc(10, zr, 9, 5, "div", 34), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(4), e.Oqu(t.nom), e.xp6(2), e.hij(" ", t.adresse, " "), e.xp6(2), e.Q6J("ngIf", t.localisation), e.xp6(1), e.Q6J("ngIf", t.telephone || t.courriel || (null == t.siteWeb ? null : t.siteWeb.length)), e.xp6(1), e.Q6J("ngIf", t.usager)
            }
        }

        function Kr(i, o) {
            1 & i && (e.ynx(0), e.TgZ(1, "button", 52), e._uU(2, " Suivant "), e._UZ(3, "i", 53), e.qZA(), e.BQk())
        }

        function Wr(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "button", 54), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.printOrientationSheetStep = "usager")
                }), e._UZ(2, "i", 55), e._uU(3, " Pr\xe9c\xe9dent "), e.qZA(), e.TgZ(4, "button", 56), e._uU(5, " Suivant "), e._UZ(6, "i", 53), e.qZA(), e.BQk()
            }
        }

        function Xr(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "button", 57), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.printOrientationSheetStep = "prescripteur")
                }), e._UZ(2, "i", 55), e._uU(3, " Modifier les informations "), e.qZA(), e.TgZ(4, "button", 58), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.printWithOrientationSheetDetails())
                }), e._UZ(5, "i", 59), e._uU(6, " Imprimer la fiche "), e.qZA(), e.BQk()
            }
        }

        const ye = function () {
            return ["usager", "prescripteur"]
        };
        let ea = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t, this.printOrientationSheetStep = "usager", this.usagerOrientationSheetForm = new m.cw({
                        firstname: new m.NI("", [m.kI.required]),
                        lastname: new m.NI("", [m.kI.required]),
                        details: new m.NI(void 0)
                    }), this.prescripteurOrientationSheetForm = new m.cw({
                        firstname: new m.NI("", [m.kI.required]),
                        lastname: new m.NI("", [m.kI.required]),
                        place: new m.NI("", [m.kI.required])
                    }), this.siteWeb = [], this.labels_nationaux = [], this.print = new e.vpe
                }

                onSubmitUsagerOrientationSheetForm() {
                    this.usagerOrientationSheetForm.invalid ? this.usagerOrientationSheetForm.markAllAsTouched() : (this.printOrientationSheetStep = "prescripteur", this.usager = this.usagerOrientationSheetForm.getRawValue())
                }

                onSubmitPrescripteurOrientationSheetForm() {
                    this.prescripteurOrientationSheetForm.invalid ? this.prescripteurOrientationSheetForm.markAllAsTouched() : (this.printOrientationSheetStep = "r\xe9sum\xe9", this.prescripteur = this.prescripteurOrientationSheetForm.getRawValue())
                }

                onClose() {
                    this.usagerOrientationSheetForm.reset(), this.prescripteurOrientationSheetForm.reset(), this.printOrientationSheetStep = "usager"
                }

                printWithOrientationSheetDetails() {
                    this.print.emit({
                        usager: this.usagerOrientationSheetForm.getRawValue(),
                        prescripteur: this.prescripteurOrientationSheetForm.getRawValue()
                    })
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-orientation-sheet-modal"]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(T.z, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.control = r.first)
                    }
                },
                inputs: {
                    id: "id",
                    nom: "nom",
                    adresse: "adresse",
                    courriel: "courriel",
                    telephone: "telephone",
                    siteWeb: "siteWeb",
                    labels_nationaux: "labels_nationaux",
                    localisation: "localisation",
                    filters: "filters"
                },
                outputs: {print: "print"},
                decls: 9,
                vars: 10,
                consts: [["heading", "Fiche d'orientation", "icon", "ri-road-map-line", 3, "bgBody", "bgFooter", "closed"], [1, "row"], [4, "ngIf"], ["slot", "footer"], [1, "col-md-7", "col-12", "mx-auto"], [1, "text-center"], ["id", "usagerOrientationSheetForm", 1, "my-4", 3, "formGroup", "ngSubmit"], [1, "fw-bold"], [1, "row", "mb-3"], [1, "col"], ["for", "firstname", 1, "form-label", "visually-hidden"], ["type", "text", "maxlength", "40", "id", "firstname", "placeholder", "Pr\xe9nom", "aria-describedby", "firstnameHelp", "formControlName", "firstname", 1, "form-control"], ["id", "firstnameHelp", 3, "ngClass"], ["for", "lastname", 1, "form-label", "visually-hidden"], ["type", "text", "maxlength", "40", "id", "lastname", "placeholder", "Nom", "aria-describedby", "lastnameHelp", "formControlName", "lastname", 1, "form-control"], ["id", "lastnameHelp", 3, "ngClass"], [1, "mb-3"], ["for", "details", 1, "form-label", "fw-bold"], ["id", "details", "rows", "3", "maxlength", "800", "formControlName", "details", 1, "form-control"], ["id", "prescripteurOrientationSheetForm", 1, "my-4", 3, "formGroup", "ngSubmit"], ["for", "prescripteurFirstname", 1, "form-label", "visually-hidden"], ["type", "text", "maxlength", "40", "id", "prescripteurFirstname", "placeholder", "Pr\xe9nom", "aria-describedby", "prescripteurFirstnameHelp", "formControlName", "firstname", 1, "form-control"], ["id", "prescripteurFirstnameHelp", 3, "ngClass"], ["for", "prescripteurLastname", 1, "form-label", "visually-hidden"], ["type", "text", "maxlength", "40", "id", "prescripteurLastname", "placeholder", "Nom", "aria-describedby", "prescripteurLastnameHelp", "formControlName", "lastname", 1, "form-control"], ["id", "prescripteurLastnameHelp", 3, "ngClass"], ["for", "prescripteurPlace", 1, "form-label"], ["type", "text", "maxlength", "40", "id", "prescripteurPlace", "placeholder", "Endroit o\xf9 a \xe9t\xe9 r\xe9alis\xe9 la prescription", "aria-describedby", "prescripteurPlaceHelp", "formControlName", "place", 1, "form-control"], ["id", "prescripteurPlaceHelp", 3, "ngClass"], [1, "col", "bg-light", "px-0"], [1, "p-3"], ["aria-hidden", "true", 2, "height", "200px"], ["class", "h-100 w-100 overflow-hidden", 3, "style", "interactive", "attributionControl", "zoom", "center", 4, "ngIf"], ["class", "p-3 text-muted-dark", 4, "ngIf"], ["class", "col", 4, "ngIf"], [1, "h-100", "w-100", "overflow-hidden", 3, "interactive", "attributionControl", "zoom", "center"], [3, "displayTooltip", "lieuxMediationNumeriques", 4, "ngIf"], [3, "displayTooltip", "lieuxMediationNumeriques"], [1, "p-3", "text-muted-dark"], ["aria-hidden", "true", 1, "ri-phone-line"], ["aria-hidden", "true", 1, "ri-mail-line"], [1, "text-break"], ["aria-hidden", "true", 1, "ri-link"], [1, "h5", "text-primary", "fw-bold", "mb-2"], [1, "mb-5"], ["class", "text-muted-dark text-break", 4, "ngIf"], ["class", "mb-5", 4, "ngIf"], [1, "text-muted-dark", "text-break"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal text-wrap text-start", 4, "ngIf"], ["class", "badge rounded-pill text-bg-light py-1 fw-normal text-wrap text-start", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "text-bg-light", "py-1", "fw-normal", "text-wrap", "text-start"], [1, "text-muted-dark"], ["type", "submit", "form", "usagerOrientationSheetForm", 1, "btn", "btn-primary"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], ["type", "button", 1, "btn", "btn-secondary", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-left-s-line"], ["type", "submit", "form", "prescripteurOrientationSheetForm", 1, "btn", "btn-primary"], ["type", "button", 1, "btn", "btn-secondary", "me-3", 3, "click"], ["type", "button", 1, "btn", "btn-primary", 3, "click"], ["aria-hidden", "true", 1, "ri-printer-line", "me-1"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "app-modal", 0), e.NdJ("closed", function () {
                        return n.onClose()
                    }), e.TgZ(1, "div", 1), e.YNc(2, kr, 24, 7, "ng-container", 2), e.YNc(3, Ir, 26, 10, "ng-container", 2), e.YNc(4, Vr, 11, 5, "ng-container", 2), e.qZA(), e.ynx(5, 3), e.YNc(6, Kr, 4, 0, "ng-container", 2), e.YNc(7, Wr, 7, 0, "ng-container", 2), e.YNc(8, Xr, 7, 0, "ng-container", 2), e.BQk(), e.qZA()), 2 & t && (e.Q6J("bgBody", e.DdM(8, ye).includes(n.printOrientationSheetStep) ? "light" : "white")("bgFooter", e.DdM(9, ye).includes(n.printOrientationSheetStep) ? "white" : "light"), e.xp6(2), e.Q6J("ngIf", "usager" === n.printOrientationSheetStep), e.xp6(1), e.Q6J("ngIf", "prescripteur" === n.printOrientationSheetStep), e.xp6(1), e.Q6J("ngIf", "r\xe9sum\xe9" === n.printOrientationSheetStep), e.xp6(2), e.Q6J("ngIf", "usager" === n.printOrientationSheetStep), e.xp6(1), e.Q6J("ngIf", "prescripteur" === n.printOrientationSheetStep), e.xp6(1), e.Q6J("ngIf", "r\xe9sum\xe9" === n.printOrientationSheetStep))
                },
                dependencies: [u.mk, u.sg, u.O5, m._Y, m.Fj, m.JJ, m.JL, m.nD, m.sg, m.u, C.Gd, T.z, R],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), ta = (() => {
            class i {
                constructor() {
                    this.sendByEmailForm = new m.cw({email: new m.NI("", [m.kI.required, m.kI.email])}), this.sendEmailTo = new e.vpe
                }

                onSubmitSendByEmailForm() {
                    this.sendByEmailForm.invalid ? this.sendByEmailForm.markAllAsTouched() : (this.sendEmailTo.emit(this.sendByEmailForm.controls.email.value), this.sendByEmailForm.reset())
                }

                onClose() {
                    this.sendByEmailForm.reset()
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-send-by-email-modal"]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(T.z, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.control = r.first)
                    }
                },
                outputs: {sendEmailTo: "sendEmailTo"},
                decls: 14,
                vars: 4,
                consts: [["heading", "Envoyer par mail", "icon", "ri-mail-send-line", "closeLabel", "Annuler", "bgBody", "light", "bgFooter", "white", 3, "closed"], ["modal", ""], ["id", "sendByEmailForm", 1, "my-4", "mx-auto", "col-lg-7", "col-12", 3, "formGroup", "ngSubmit"], [1, "fw-bold"], [1, "mb-3"], ["for", "email", 1, "form-label", "visually-hidden"], ["type", "text", "maxlength", "40", "id", "email", "placeholder", "Adresse e-mail du b\xe9n\xe9ficiaire", "aria-describedby", "emailHelp", "formControlName", "email", 1, "form-control"], ["id", "emailHelp", 3, "ngClass"], ["slot", "footer", "type", "submit", "form", "sendByEmailForm", 1, "btn", "btn-primary"], ["aria-hidden", "true", 1, "ri-mail-send-line"]],
                template: function (t, n) {
                    if (1 & t) {
                        const r = e.EpF();
                        e.TgZ(0, "app-modal", 0, 1), e.NdJ("closed", function () {
                            return n.onClose()
                        }), e.TgZ(2, "form", 2), e.NdJ("ngSubmit", function () {
                            e.CHM(r);
                            const s = e.MAs(1);
                            return n.onSubmitSendByEmailForm(), e.KtG(s.close())
                        }), e.TgZ(3, "p", 3), e._uU(4, "Qui est b\xe9n\xe9ficiaire ?"), e.qZA(), e.TgZ(5, "div", 4)(6, "label", 5), e._uU(7, "\xc0 qui souhaitez-vous envoyer la fiche ?"), e.qZA(), e._UZ(8, "input", 6), e.TgZ(9, "div", 7), e._uU(10, " * Champ obligatoire "), e.qZA()()(), e.TgZ(11, "button", 8), e._UZ(12, "i", 9), e._uU(13, " Envoyer "), e.qZA()()
                    }
                    2 & t && (e.xp6(2), e.Q6J("formGroup", n.sendByEmailForm), e.xp6(6), e.ekj("is-invalid", n.sendByEmailForm.controls.email.touched && n.sendByEmailForm.controls.email.invalid), e.xp6(1), e.Q6J("ngClass", n.sendByEmailForm.controls.email.touched && n.sendByEmailForm.controls.email.invalid ? "invalid-feedback" : "text-muted-dark"))
                },
                dependencies: [u.mk, m._Y, m.Fj, m.JJ, m.JL, m.nD, m.sg, m.u, T.z],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function ia(i, o) {
            1 & i && e._uU(0, "aucun conseiller")
        }

        function na(i, o) {
            1 & i && e._uU(0, "1 conseiller")
        }

        function oa(i, o) {
            if (1 & i && e._uU(0), 2 & i) {
                const t = e.oxw();
                e.hij("", t.aidants.length, " conseillers")
            }
        }

        function ra(i, o) {
            if (1 & i && (e.TgZ(0, "div", 15), e._UZ(1, "i", 16), e.TgZ(2, "p", 17), e._uU(3), e.ALo(4, "phone"), e.qZA()()), 2 & i) {
                const t = e.oxw().$implicit;
                e.xp6(3), e.Oqu(e.lcZ(4, 1, t.telephone))
            }
        }

        function aa(i, o) {
            if (1 & i && (e.TgZ(0, "div", 18), e._UZ(1, "i", 19), e.TgZ(2, "p", 20), e._uU(3), e.qZA()()), 2 & i) {
                const t = e.oxw().$implicit;
                e.xp6(3), e.Oqu(t.courriel)
            }
        }

        function sa(i, o) {
            if (1 & i && (e.TgZ(0, "div", 7)(1, "div", 8)(2, "div", 9)(3, "div", 10), e._UZ(4, "i", 11), e.TgZ(5, "h6", 12), e._uU(6), e.qZA()(), e.YNc(7, ra, 5, 3, "div", 13), e.YNc(8, aa, 4, 1, "div", 14), e.qZA()()()), 2 & i) {
                const t = o.$implicit;
                e.xp6(6), e.Oqu(t.nom), e.xp6(1), e.Q6J("ngIf", t.telephone), e.xp6(1), e.Q6J("ngIf", t.courriel)
            }
        }

        let la = (() => {
            class i {
                constructor() {
                    this.aidants = []
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-aidants"]],
                inputs: {aidants: "aidants"},
                decls: 8,
                vars: 2,
                consts: [[1, "h6", "text-muted", "mb-3"], [3, "ngPlural"], ["ngPluralCase", "0"], ["ngPluralCase", "1"], ["ngPluralCase", "other"], [1, "row", "g-4"], ["class", "col-6", 4, "ngFor", "ngForOf"], [1, "col-6"], [1, "card", "h-100", "border-0", "rounded-0", "bg-light", 2, "border-radius", "0"], [1, "card-body"], [1, "d-flex", "align-items-center", "mb-2"], ["aria-hidden", "true", 1, "ri-user-3-line", "ri-fw", "ri-space", "bg-primary", "text-light", "rounded-circle"], [1, "card-title", "mt-2", "fw-bold", "ms-3"], ["class", "d-flex align-items-center", 4, "ngIf"], ["class", "d-flex", 4, "ngIf"], [1, "d-flex", "align-items-center"], ["aria-hidden", "true", 1, "ri-phone-line", "ri-fw", "ri-space"], [1, "card-text", "ms-2"], [1, "d-flex"], ["aria-hidden", "true", 1, "ri-mail-line", "ri-fw", "ri-space"], [1, "card-text", "ms-2", 2, "margin-top", "0.1rem"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "span", 1), e.YNc(2, ia, 1, 0, "ng-template", 2), e.YNc(3, na, 1, 0, "ng-template", 3), e.YNc(4, oa, 1, 1, "ng-template", 4), e.qZA(), e._uU(5, " num\xe9rique dans ce lieu\n"), e.qZA(), e.TgZ(6, "div", 5), e.YNc(7, sa, 9, 3, "div", 6), e.qZA()), 2 & t && (e.xp6(1), e.Q6J("ngPlural", n.aidants.length), e.xp6(6), e.Q6J("ngForOf", n.aidants))
                },
                dependencies: [u.sg, u.O5, u.iq, u.zE, O.E],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function ua(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "button", 4), e.NdJ("click", function (r) {
                    const s = e.CHM(t).$implicit, c = e.oxw(2);
                    return c.showLabel.emit(s), e.KtG(c.showLabelInvokingContext.emit(r))
                }), e._UZ(1, "img", 5), e.qZA()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(2);
                e.xp6(1), e.Q6J("src", n.assetsConfiguration.path + "/img/logo/labels/" + t + ".svg", e.LSH)("alt", "Label " + t)
            }
        }

        function ca(i, o) {
            if (1 & i && (e.ynx(0), e.YNc(1, ua, 2, 2, "button", 3), e.BQk()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngForOf", t.labelsNationaux)
            }
        }

        function pa(i, o) {
            if (1 & i && (e.TgZ(0, "span", 8)(1, "span", 9), e._uU(2), e.qZA()()), 2 & i) {
                const t = o.$implicit;
                e.xp6(2), e.Oqu(t)
            }
        }

        function ma(i, o) {
            if (1 & i && (e.TgZ(0, "div", 6), e.YNc(1, pa, 3, 1, "span", 7), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngForOf", t.labelsAutres)
            }
        }

        let da = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t, this.showLabel = new e.vpe, this.showLabelInvokingContext = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-labellisations"]],
                inputs: {labelsNationaux: "labelsNationaux", labelsAutres: "labelsAutres"},
                outputs: {showLabel: "showLabel", showLabelInvokingContext: "showLabelInvokingContext"},
                decls: 4,
                vars: 2,
                consts: [[1, "h5", "text-muted", "text-uppercase"], [4, "ngIf"], ["class", "mt-3", 4, "ngIf"], ["class", "btn btn-link p-0 me-3", 3, "click", 4, "ngFor", "ngForOf"], [1, "btn", "btn-link", "p-0", "me-3", 3, "click"], [3, "src", "alt"], [1, "mt-3"], ["class", "badge rounded-pill text-bg-light p-2 me-3 mb-2 fs-6", 4, "ngFor", "ngForOf"], [1, "badge", "rounded-pill", "text-bg-light", "p-2", "me-3", "mb-2", "fs-6"], [1, "opacity-75"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "h2", 0), e._uU(1, "Labellisations"), e.qZA(), e.YNc(2, ca, 2, 1, "ng-container", 1), e.YNc(3, ma, 2, 1, "div", 2)), 2 & t && (e.xp6(2), e.Q6J("ngIf", n.labelsNationaux), e.xp6(1), e.Q6J("ngIf", n.labelsAutres))
                },
                dependencies: [u.sg, u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function _a(i, o) {
            if (1 & i && (e.TgZ(0, "div", 5), e._UZ(1, "img", 6), e.qZA()), 2 & i) {
                const t = o.ngIf, n = e.oxw(2);
                e.xp6(1), e.Q6J("src", n.assetsConfiguration.path + "/img/logo/source-update/" + t + ".svg", e.LSH)
            }
        }

        function ga(i, o) {
            if (1 & i && (e.TgZ(0, "div", 7)(1, "p", 8), e._uU(2, "Mettre \xe0 jour la fiche"), e.qZA(), e.TgZ(3, "i", 9), e._uU(4), e.qZA()()), 2 & i) {
                const t = o.ngIf;
                e.xp6(4), e.Oqu(t)
            }
        }

        function fa(i, o) {
            if (1 & i && (e.TgZ(0, "div")(1, "a", 10)(2, "span", 11), e._uU(3, "Acc\xe9der au formulaire de mise \xe0 jour"), e.qZA(), e._UZ(4, "i", 12), e.qZA()()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.s9C("href", t, e.LSH)
            }
        }

        function ha(i, o) {
            if (1 & i && (e.TgZ(0, "div", 1), e.YNc(1, _a, 2, 1, "div", 2), e.YNc(2, ga, 5, 1, "div", 3), e.YNc(3, fa, 5, 1, "div", 4), e.qZA()), 2 & i) {
                const t = o.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.logo), e.xp6(1), e.Q6J("ngIf", t.detail), e.xp6(1), e.Q6J("ngIf", null == t ? null : t.update_link)
            }
        }

        let xa = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-mise-a-jour"]],
                inputs: {source: "source"},
                decls: 1,
                vars: 1,
                consts: [["class", "d-flex py-3", 4, "ngIf"], [1, "d-flex", "py-3"], ["class", "d-flex justify-content-center align-items-center bg-white rounded-circle", "style", "width: 50px; height: 50px", 4, "ngIf"], ["class", "d-flex flex-grow-1 flex-column px-2", 4, "ngIf"], [4, "ngIf"], [1, "d-flex", "justify-content-center", "align-items-center", "bg-white", "rounded-circle", 2, "width", "50px", "height", "50px"], ["alt", "", 1, "img-fluid", 3, "src"], [1, "d-flex", "flex-grow-1", "flex-column", "px-2"], [1, "fw-bold", "mb-0", "text-start", "opacity-75"], [1, "opacity-75", "text-start"], ["target", "_blank", "rel", "noopener noreferrer", 1, "btn", "btn-link", "text-decoration-none", 3, "href"], [1, "visually-hidden"], ["aria-hidden", "true", 1, "ri-2x", "ri-external-link-line", "my-auto", "me-2", "opacity-75", "text-muted"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, ha, 4, 3, "div", 0), 2 & t && e.Q6J("ngIf", n.source)
                },
                dependencies: [u.O5],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        var ba = d(4394);

        function va(i, o) {
            1 & i && e._UZ(0, "i", 19)
        }

        function qa(i, o) {
            1 & i && e._UZ(0, "i", 20)
        }

        let wa = (() => {
            class i {
                constructor(t) {
                    this.assetsConfiguration = t
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.Pl))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-accessibilite"]],
                inputs: {accessibilite: "accessibilite"},
                decls: 29,
                vars: 15,
                consts: [[1, "row", "g-0", "bg-light", "p-3", "d-print-none"], [1, "col-sm-auto", "col-12"], ["href", "https://acceslibre.beta.gouv.fr/contrib/start/", "target", "_blank", "rel", "noopener noreferrer", 1, "btn", "btn-sm", "btn-secondary", "m-auto", "d-block"], ["aria-hidden", "true", 1, "ri-edit-line", "me-1", "text-right"], [1, "col-sm", "col-12", "row", "g-0", "mt-1"], [1, "col-6"], ["aria-hidden", "true", 1, "ri-close-circle-fill", "me-1", "ms-sm-2", "ms-0"], [1, "mt-1"], [1, "col-6", "text-end"], ["aria-controls", "collapseAccesLibre", 1, "btn", "btn-link", "text-decoration-none", "p-0", 3, "click"], ["collapseAccesLibreControl", ""], ["alt", "\xc0 propos du site acc\xe8s libre", 1, "img-fluid", "ms-auto", "me-2", 3, "src"], [1, "ms-auto"], ["class", "ri-information-line ri-xl text-muted-dark", "aria-hidden", "true", 4, "ngIf"], ["class", "ri-close-circle-fill ri-xl text-primary", "aria-hidden", "true", 4, "ngIf"], ["aria-labelledby", "headingAccesLibre", 3, "control"], ["collapseAccesLibre", ""], [1, "accordion-body", "bg-light", "ps-3", "p-2"], [2, "font-size", "0.85em"], ["aria-hidden", "true", 1, "ri-information-line", "ri-xl", "text-muted-dark"], ["aria-hidden", "true", 1, "ri-close-circle-fill", "ri-xl", "text-primary"]],
                template: function (t, n) {
                    if (1 & t) {
                        const r = e.EpF();
                        e.TgZ(0, "div", 0)(1, "div", 1)(2, "a", 2), e._UZ(3, "i", 3), e.TgZ(4, "span"), e._uU(5, "Renseigner l'accessibilit\xe9"), e.qZA()()(), e.TgZ(6, "div", 4)(7, "div", 5), e._UZ(8, "i", 6), e.TgZ(9, "em", 7), e._uU(10, "Pas d'information"), e.qZA()(), e.TgZ(11, "div", 8)(12, "button", 9, 10), e.NdJ("click", function () {
                            e.CHM(r);
                            const s = e.MAs(23);
                            return e.KtG(s.toggle())
                        }), e.ALo(14, "async"), e.ALo(15, "async"), e._UZ(16, "img", 11), e.TgZ(17, "span", 12), e.YNc(18, va, 1, 0, "i", 13), e.ALo(19, "async"), e.YNc(20, qa, 1, 0, "i", 14), e.ALo(21, "async"), e.qZA()()()()(), e.TgZ(22, "app-collapse", 15, 16)(24, "div", 17)(25, "em", 18), e._uU(26, " Acc\xe8s libre est une plateforme regroupant toutes les informations d\u2019accessibilit\xe9 des lieux ouverts au public. "), e._UZ(27, "br"), e._uU(28, " Chaque utilisateur peut consulter, cr\xe9er et modifier librement les informations d\u2019un lieu. "), e.qZA()()()
                    }
                    if (2 & t) {
                        const r = e.MAs(13), a = e.MAs(23);
                        e.xp6(12), e.ekj("collapsed", e.lcZ(14, 7, a.isCollapsed$)), e.uIk("aria-expanded", e.lcZ(15, 9, a.isExpanded$)), e.xp6(4), e.Q6J("src", n.assetsConfiguration.path + "/img/logo/acces-libre/acces-libre.svg", e.LSH), e.xp6(2), e.Q6J("ngIf", e.lcZ(19, 11, a.isCollapsed$)), e.xp6(2), e.Q6J("ngIf", e.lcZ(21, 13, a.isExpanded$)), e.xp6(2), e.Q6J("control", r)
                    }
                },
                dependencies: [u.O5, ba.W, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), Ca = (() => {
            class i {
                constructor() {
                    this.openErreurFormModal = new e.vpe, this.closeDetails = new e.vpe, this.openOrientationSheetModal = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-bandeau-erreur"]],
                outputs: {
                    openErreurFormModal: "openErreurFormModal",
                    closeDetails: "closeDetails",
                    openOrientationSheetModal: "openOrientationSheetModal"
                },
                decls: 12,
                vars: 0,
                consts: [[1, "d-flex", "p-0"], [1, "btn", "btn-primary", "btn-sm", "my-auto", 3, "click"], ["aria-hidden", "true", 1, "ri-printer-line", "me-2"], [1, "flex-grow-1", "my-auto"], [1, "btn", "btn-sm", "text-muted", 3, "click"], ["aria-hidden", "true", 1, "ri", "ri-error-warning-line", "ms-1"], [1, "d-flex", "mt-3"], [1, "text-muted-light"], ["tabindex", "0", "aria-label", "Revenir \xe0 la liste", 1, "btn", "btn-sm", "btn-close", "btn-close-white", "opacity-100", 3, "click"]],
                template: function (t, n) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "button", 1), e.NdJ("click", function (a) {
                        return n.openOrientationSheetModal.emit(a)
                    }), e._UZ(2, "i", 2), e._uU(3, " fiche d'orientation "), e.qZA(), e.TgZ(4, "div", 3)(5, "button", 4), e.NdJ("click", function (a) {
                        return n.openErreurFormModal.emit(a)
                    }), e._UZ(6, "i", 5), e._uU(7, " Signaler une erreur dans cette fiche "), e.qZA()(), e.TgZ(8, "div", 6)(9, "p", 7), e._uU(10, "Retour"), e.qZA(), e.TgZ(11, "button", 8), e.NdJ("click", function () {
                        return n.closeDetails.emit()
                    }), e.qZA()()())
                },
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        var Q = (() => {
            return (i = Q || (Q = {})).horaires = "Horaires", i.servicesProposes = "Services propos\xe9s", i.adresse = "Adresse", i.contacts = "Contacts", i.accompagnements = "Accompagnements", i.labels = "Labels", i.public = "Public", i.autre = "Autre", Q;
            var i
        })();

        function Za(i, o) {
            if (1 & i && (e.TgZ(0, "div", 12), e._UZ(1, "input", 13), e.TgZ(2, "label", 14)(3, "b"), e._uU(4), e.qZA()()()), 2 & i) {
                const t = o.$implicit, n = o.index;
                e.xp6(1), e.Q6J("value", t), e.uIk("id", "availableErreurChip" + n), e.xp6(1), e.uIk("for", "availableErreurChip" + n), e.xp6(2), e.Oqu(t)
            }
        }

        let Ta = (() => {
            class i {
                constructor() {
                    this.reportAnError = new e.vpe, this.availableErreurs = Object.values(Q)
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-erreur-form-modal"]],
                viewQuery: function (t, n) {
                    if (1 & t && e.Gf(Y.zS, 5), 2 & t) {
                        let r;
                        e.iGM(r = e.CRH()) && (n.control = r.first)
                    }
                },
                inputs: {erreursReportFormGroup: "erreursReportFormGroup"},
                outputs: {reportAnError: "reportAnError"},
                decls: 20,
                vars: 2,
                consts: [["heading", "Signaler une erreur", "icon", "ri-error-warning-line", "bgBody", "light", "bgFooter", "white", 3, "closed"], ["modal", ""], ["id", "erreurGroup", 1, "my-4", "mx-auto", "col-lg-7", "col-12", 3, "formGroup", "ngSubmit"], [1, "fw-bold", "m-0"], [1, "mb-4"], [1, "text-muted", "mb-1"], ["class", "form-check form-check-inline form-chip my-2", 4, "ngFor", "ngForOf"], ["for", "precision", 1, "fw-bold", "m-0"], [1, "text-muted", "mb-1", "small"], ["formControlName", "precision", "placeholder", "Commencez \xe0 \xe9crire", "id", "precision", "rows", "3", "maxlength", "800", 1, "form-control"], ["slot", "footer", "type", "submit", "form", "erreurGroup", 1, "btn", "btn-primary"], ["aria-hidden", "true", 1, "ri-mail-send-line"], [1, "form-check", "form-check-inline", "form-chip", "my-2"], ["type", "checkbox", "name", "selected", "appCheckboxArray", "", "formControlName", "selected", 1, "form-check-input", 3, "value"], [1, "form-check-label", "bg-white"]],
                template: function (t, n) {
                    if (1 & t) {
                        const r = e.EpF();
                        e.TgZ(0, "app-modal", 0, 1), e.NdJ("closed", function () {
                            return n.erreursReportFormGroup.reset()
                        }), e.TgZ(2, "div")(3, "form", 2), e.NdJ("ngSubmit", function () {
                            e.CHM(r);
                            const s = e.MAs(1);
                            return n.reportAnError.emit(), e.KtG(s.close())
                        }), e.TgZ(4, "p", 3), e._uU(5, "L'erreur concerne :"), e.qZA(), e.TgZ(6, "div", 4)(7, "small", 5), e._uU(8, "choisissez la ou les sections de la fiche qui sont erron\xe9es"), e.qZA(), e.TgZ(9, "div"), e.YNc(10, Za, 5, 4, "div", 6), e.qZA()(), e.TgZ(11, "div", 4)(12, "label", 7), e._uU(13, "Quelle(s) correction(s) souhaitez-vous apporter?"), e.qZA(), e.TgZ(14, "p", 8), e._uU(15, "ces corrections seront directement transmises au r\xe9f\xe9rent du lieu"), e.qZA(), e._UZ(16, "textarea", 9), e.qZA()()(), e.TgZ(17, "button", 10), e._UZ(18, "i", 11), e._uU(19, " Signaler l'erreur "), e.qZA()()
                    }
                    2 & t && (e.xp6(3), e.Q6J("formGroup", n.erreursReportFormGroup), e.xp6(7), e.Q6J("ngForOf", n.availableErreurs))
                },
                dependencies: [u.sg, m._Y, m.Fj, m.Wl, m.JJ, m.JL, m.nD, m.sg, m.u, me.A, T.z],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const Ma = function (i, o, t, n, r) {
            return {id: i, nom: o, labels_nationaux: t, latitude: n, longitude: r}
        }, Aa = function (i) {
            return [i]
        };

        function ya(i, o) {
            if (1 & i && e._UZ(0, "app-lieu-mediation-numerique-markers", 28), 2 & i) {
                const t = e.oxw().ngIf, n = e.oxw();
                e.Q6J("displayTooltip", !1)("lieuxMediationNumeriques", e.VKq(8, Aa, e.qbA(2, Ma, n.lieuMediationNumerique.id, n.lieuMediationNumerique.nom, n.lieuMediationNumerique.labels_nationaux, t.latitude, t.longitude)))
            }
        }

        const La = function () {
            return [14]
        }, Na = function (i, o) {
            return [i, o]
        };

        function ka(i, o) {
            if (1 & i && (e.TgZ(0, "mgl-map", 26), e.YNc(1, ya, 1, 10, "app-lieu-mediation-numerique-markers", 27), e.qZA()), 2 & i) {
                const t = o.ngIf;
                e.Akn("https://openmaptiles.geo.data.gouv.fr/styles/osm-bright/style.json"), e.Q6J("interactive", !1)("attributionControl", !1)("zoom", e.DdM(7, La))("center", e.WLB(8, Na, t.longitude, t.latitude)), e.xp6(1), e.Q6J("ngIf", t)
            }
        }

        function Ia(i, o) {
            if (1 & i && (e.TgZ(0, "li", 7), e._UZ(1, "app-description", 29), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("detail", null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.detail)("resume", null == t.lieuMediationNumerique.presentation ? null : t.lieuMediationNumerique.presentation.resume)
            }
        }

        function Ea(i, o) {
            if (1 & i && (e.TgZ(0, "li", 30), e._UZ(1, "app-accessibilite", 31), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("accessibilite", t.lieuMediationNumerique.accessibilite)
            }
        }

        function Fa(i, o) {
            if (1 & i && (e.TgZ(0, "li", 7), e._UZ(1, "app-aidants", 32), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("aidants", t.lieuMediationNumerique.aidants)
            }
        }

        function Ua(i, o) {
            if (1 & i && (e.TgZ(0, "li", 7), e._UZ(1, "app-modalites-accompagnement", 33), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("modalitesAccompagnement", t.lieuMediationNumerique.modalites_accompagnement)
            }
        }

        function Pa(i, o) {
            if (1 & i && (e.TgZ(0, "li", 7), e._UZ(1, "app-public-pris-en-charge", 34), e.qZA()), 2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("publicsAccueillis", t.lieuMediationNumerique.publics_accueillis)
            }
        }

        function Oa(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "li", 7)(1, "app-labellisations", 35), e.NdJ("showLabel", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.showLabel.emit(r))
                })("showLabelInvokingContext", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.showLabelInvokingContext.emit(r))
                }), e.qZA()()
            }
            if (2 & i) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("labelsNationaux", t.lieuMediationNumerique.labels_nationaux)("labelsAutres", t.lieuMediationNumerique.labels_autres)
            }
        }

        let Da = (() => {
            class i {
                constructor() {
                    this.print = new e.vpe, this.sendEmailTo = new e.vpe, this.reportAnError = new e.vpe, this.closeDetails = new e.vpe, this.openOrientationSheetModal = new e.vpe, this.openErreurFormModal = new e.vpe, this.showLabel = new e.vpe, this.showLabelInvokingContext = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-lieux-mediation-numerique-details"]],
                inputs: {
                    lieuMediationNumerique: "lieuMediationNumerique",
                    filters: "filters",
                    erreursReportFormGroup: "erreursReportFormGroup"
                },
                outputs: {
                    print: "print",
                    sendEmailTo: "sendEmailTo",
                    reportAnError: "reportAnError",
                    closeDetails: "closeDetails",
                    openOrientationSheetModal: "openOrientationSheetModal",
                    openErreurFormModal: "openErreurFormModal",
                    showLabel: "showLabel",
                    showLabelInvokingContext: "showLabelInvokingContext"
                },
                decls: 33,
                vars: 39,
                consts: [[1, "d-print-none", "d-flex", "h-100", "flex-column"], [1, "p-4", "sticky-top", "z-index-over", "bg-primary", "text-white", "d-block", 3, "id", "nom", "typologie", "date", "status", "source", "closeDetails"], [1, "position-relative"], [3, "siteWeb", "priseRdv", "print", "sendByEmail"], ["aria-hidden", "true", 1, "border-top", "border-bottom", "d-xl-none", 2, "height", "275px"], ["class", "h-100 w-100 overflow-hidden", 3, "style", "interactive", "attributionControl", "zoom", "center", 4, "ngIf"], [1, "list-group", "list-group-lg", "list-group-flush", "list-group-flush-at-edge", "flex-grow-1", "mx-4"], [1, "list-group-item"], [3, "adresse", "conditionsAcces", "accessibilite", "courriel", "telephone", "distance", "status"], ["class", "list-group-item", 4, "ngIf"], ["class", "list-group-item border-0", 4, "ngIf"], [1, "row"], [1, "col-md-5", "mt-4"], [3, "horaires"], [1, "col-md-7", "mt-md-0", "mt-4"], [3, "services"], [1, "bg-light", "px-2"], [3, "source"], [1, "bg-primary", "p-2"], [3, "openOrientationSheetModal", "openErreurFormModal", "closeDetails"], [1, "d-print-none", 3, "erreursReportFormGroup", "reportAnError"], ["erreurFormModal", ""], [1, "d-print-none", 3, "id", "nom", "labels_nationaux", "adresse", "courriel", "telephone", "siteWeb", "localisation", "filters", "print"], ["orientationSheetModal", ""], [1, "d-print-none", 3, "sendEmailTo"], ["sendByEmailModal", ""], [1, "h-100", "w-100", "overflow-hidden", 3, "interactive", "attributionControl", "zoom", "center"], [3, "displayTooltip", "lieuxMediationNumeriques", 4, "ngIf"], [3, "displayTooltip", "lieuxMediationNumeriques"], [3, "detail", "resume"], [1, "list-group-item", "border-0"], [3, "accessibilite"], [3, "aidants"], [3, "modalitesAccompagnement"], [3, "publicsAccueillis"], [3, "labelsNationaux", "labelsAutres", "showLabel", "showLabelInvokingContext"]],
                template: function (t, n) {
                    if (1 & t) {
                        const r = e.EpF();
                        e.TgZ(0, "div", 0)(1, "app-informations-generales", 1), e.NdJ("closeDetails", function () {
                            return n.closeDetails.emit(n.lieuMediationNumerique)
                        }), e.qZA(), e.TgZ(2, "div", 2)(3, "app-boutons-action", 3), e.NdJ("print", function () {
                            return n.print.emit()
                        })("sendByEmail", function (s) {
                            e.CHM(r);
                            const c = e.MAs(32);
                            return e.KtG(c.control.toggle(s))
                        }), e.qZA(), e.TgZ(4, "div", 4), e.YNc(5, ka, 2, 11, "mgl-map", 5), e.qZA()(), e.TgZ(6, "ul", 6)(7, "li", 7), e._UZ(8, "app-informations-pratiques", 8), e.ALo(9, "phone"), e.qZA(), e.YNc(10, Ia, 2, 2, "li", 9), e.YNc(11, Ea, 2, 1, "li", 10), e.TgZ(12, "li", 7)(13, "div", 11)(14, "div", 12), e._UZ(15, "app-horaires", 13), e.qZA(), e.TgZ(16, "div", 14), e._UZ(17, "app-services", 15), e.qZA()()(), e.YNc(18, Fa, 2, 1, "li", 9), e.YNc(19, Ua, 2, 1, "li", 9), e.YNc(20, Pa, 2, 1, "li", 9), e.YNc(21, Oa, 2, 2, "li", 9), e.qZA(), e.TgZ(22, "div", 16), e._UZ(23, "app-mise-a-jour", 17), e.qZA(), e.TgZ(24, "div", 18)(25, "app-bandeau-erreur", 19), e.NdJ("openOrientationSheetModal", function (s) {
                            e.CHM(r);
                            const c = e.MAs(29);
                            return e.KtG(c.control.toggle(s))
                        })("openErreurFormModal", function (s) {
                            e.CHM(r);
                            const c = e.MAs(27);
                            return e.KtG(c.control.toggle(s))
                        })("closeDetails", function () {
                            return n.closeDetails.emit(n.lieuMediationNumerique)
                        }), e.qZA()()(), e.TgZ(26, "app-erreur-form-modal", 20, 21), e.NdJ("reportAnError", function () {
                            return n.reportAnError.emit()
                        }), e.qZA(), e.TgZ(28, "app-orientation-sheet-modal", 22, 23), e.NdJ("print", function (s) {
                            return n.print.emit(s)
                        }), e.ALo(30, "phone"), e.qZA(), e.TgZ(31, "app-send-by-email-modal", 24, 25), e.NdJ("sendEmailTo", function (s) {
                            return n.sendEmailTo.emit({email: s, lieu: n.lieuMediationNumerique})
                        }), e.qZA()
                    }
                    if (2 & t) {
                        let r, a;
                        e.xp6(1), e.Q6J("id", n.lieuMediationNumerique.id)("nom", n.lieuMediationNumerique.nom)("typologie", n.lieuMediationNumerique.typologies)("date", n.lieuMediationNumerique.date_maj)("status", n.lieuMediationNumerique.status)("source", n.lieuMediationNumerique.source), e.xp6(2), e.Q6J("siteWeb", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.site_web)("priseRdv", n.lieuMediationNumerique.prise_rdv), e.xp6(2), e.Q6J("ngIf", n.lieuMediationNumerique.localisation), e.xp6(3), e.Q6J("adresse", n.lieuMediationNumerique.adresse)("conditionsAcces", n.lieuMediationNumerique.conditions_acces)("accessibilite", n.lieuMediationNumerique.accessibilite)("courriel", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.courriel)("telephone", e.lcZ(9, 35, null !== (r = null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.telephone) && void 0 !== r ? r : ""))("distance", n.lieuMediationNumerique.distance)("status", n.lieuMediationNumerique.status), e.xp6(2), e.Q6J("ngIf", (null == n.lieuMediationNumerique.presentation ? null : n.lieuMediationNumerique.presentation.detail) || (null == n.lieuMediationNumerique.presentation ? null : n.lieuMediationNumerique.presentation.resume)), e.xp6(1), e.Q6J("ngIf", void 0 === n.lieuMediationNumerique.accessibilite), e.xp6(4), e.Q6J("horaires", n.lieuMediationNumerique.horaires), e.xp6(2), e.Q6J("services", n.lieuMediationNumerique.services), e.xp6(1), e.Q6J("ngIf", n.lieuMediationNumerique.aidants), e.xp6(1), e.Q6J("ngIf", null == n.lieuMediationNumerique.modalites_accompagnement ? null : n.lieuMediationNumerique.modalites_accompagnement.length), e.xp6(1), e.Q6J("ngIf", null == n.lieuMediationNumerique.publics_accueillis ? null : n.lieuMediationNumerique.publics_accueillis.length), e.xp6(1), e.Q6J("ngIf", (null == n.lieuMediationNumerique.labels_nationaux ? null : n.lieuMediationNumerique.labels_nationaux.length) || (null == n.lieuMediationNumerique.labels_autres ? null : n.lieuMediationNumerique.labels_autres.length)), e.xp6(2), e.Q6J("source", n.lieuMediationNumerique.source), e.xp6(3), e.Q6J("erreursReportFormGroup", n.erreursReportFormGroup), e.xp6(2), e.Q6J("id", n.lieuMediationNumerique.id)("nom", n.lieuMediationNumerique.nom)("labels_nationaux", n.lieuMediationNumerique.labels_nationaux)("adresse", n.lieuMediationNumerique.adresse)("courriel", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.courriel)("telephone", e.lcZ(30, 37, null !== (a = null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.telephone) && void 0 !== a ? a : ""))("siteWeb", null == n.lieuMediationNumerique.contact ? null : n.lieuMediationNumerique.contact.site_web)("localisation", n.lieuMediationNumerique.localisation)("filters", n.filters)
                    }
                },
                dependencies: [u.O5, C.Gd, qr, wr, Nr, qe, we, Ce, Ze, ea, ta, Te, la, da, R, xa, wa, Ca, Ta, O.E],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();

        function Ja(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 9), e._UZ(1, "app-lieux-mediation-numerique-details-print", 10), e.ALo(2, "async"), e.ALo(3, "async"), e.TgZ(4, "app-lieux-mediation-numerique-details", 11), e.NdJ("print", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onPrint(r))
                })("sendEmailTo", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onSendEmailTo(r))
                })("reportAnError", function () {
                    const a = e.CHM(t).ngIf, s = e.oxw();
                    return e.KtG(s.onReportAnError(a))
                })("closeDetails", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onCloseDetails(r))
                })("showLabel", function (r) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.onShowLabel(r))
                })("showLabelInvokingContext", function (r) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(15);
                    return e.KtG(a.control.toggle(r))
                }), e.ALo(5, "async"), e.qZA()()
            }
            if (2 & i) {
                const t = o.ngIf, n = e.oxw();
                let r, a, s;
                e.xp6(1), e.Q6J("lieuMediationNumerique", t)("filters", null !== (r = e.lcZ(2, 6, n.filters$)) && void 0 !== r ? r : void 0)("orientationSheetForm", null !== (a = e.lcZ(3, 8, n.orientationSheetForm$)) && void 0 !== a ? a : void 0), e.xp6(3), e.Q6J("lieuMediationNumerique", t)("erreursReportFormGroup", n.erreursReportFormGroup)("filters", null !== (s = e.lcZ(5, 10, n.filters$)) && void 0 !== s ? s : void 0)
            }
        }

        function Sa(i, o) {
            if (1 & i && e._UZ(0, "img", 27), 2 & i) {
                const t = e.oxw(2);
                e.Q6J("src", t.brandConfiguration.logo, e.LSH)
            }
        }

        function Ra(i, o) {
            if (1 & i && e._UZ(0, "img", 29), 2 & i) {
                const t = e.oxw(3);
                e.Q6J("src", t.brandConfiguration.logoAvecTexte, e.LSH)
            }
        }

        function Qa(i, o) {
            if (1 & i && e.YNc(0, Ra, 1, 1, "img", 28), 2 & i) {
                const t = e.oxw(2);
                e.Q6J("ngIf", t.brandConfiguration.logoAvecTexte)
            }
        }

        function Ha(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 12)(1, "div", 13)(2, "div", 14), e._UZ(3, "i", 15), e.TgZ(4, "div")(5, "p", 16), e._uU(6, "Erreur"), e.qZA(), e.TgZ(7, "h2", 17)(8, "b"), e._uU(9, "Lieu introuvable"), e.qZA()()()(), e.TgZ(10, "button", 18), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.onCloseNoLieuFound())
                }), e.qZA()(), e.TgZ(11, "div", 19), e.YNc(12, Sa, 1, 1, "img", 20), e.YNc(13, Qa, 1, 1, "ng-template", null, 21, e.W1O), e.TgZ(15, "h3", 22), e._uU(16, " Ce lieu "), e._UZ(17, "br"), e.TgZ(18, "span", 23), e._uU(19, "n\u2019est plus disponible"), e.qZA()(), e.TgZ(20, "div")(21, "p"), e._uU(22, "Nous sommes d\xe9sol\xe9s, ce lieu n'existe pas ou n'existe plus !"), e.qZA(), e.TgZ(23, "p"), e._uU(24, " Vous pouvez rechercher d'autres lieux en naviguant sur la carte "), e._UZ(25, "br"), e._uU(26, " ou revenir \xe0 la page d'accueil et effectuer un parcours d'orientation. "), e.qZA()()(), e.TgZ(27, "div", 24)(28, "a", 25), e._uU(29, " Revenir \xe0 la page d'accueil "), e._UZ(30, "i", 26), e.qZA()()()
            }
            if (2 & i) {
                const t = e.MAs(14), n = e.oxw();
                e.xp6(12), e.Q6J("ngIf", n.brandConfiguration.logo)("ngIfElse", t)
            }
        }

        let Le = (() => {
            class i {
                constructor(t, n, r, a, s, c, p, v, w) {
                    var b, q, Z, y;
                    this._zoomLevel = t, this.brandConfiguration = n, this.assetsConfiguration = r, this._lieuxMediationNumeriqueDetailsPresenter = a, this._markersPresenter = s, this._route = c, this._router = p, this.setTitle = v, this._matomoTracker = w, this.lieuMediationNumerique$ = this._lieuxMediationNumeriqueDetailsPresenter.lieuMediationNumeriqueFromParams$(this._route.paramMap, new Date, (0, D.of)((0, _.LE)((0, _.Ut)(this._route.snapshot.queryParams)))).pipe((0, k.b)(E => this.setTitle([E.nom, "Fiche du lieu"])), (0, k.b)(E => this.select(E))), this._orientationSheetForm$ = new N.x, this.orientationSheetForm$ = this._orientationSheetForm$.asObservable(), this.filters$ = this._route.queryParams.pipe((0, x.U)(_.Ut)), this._hasDepartementFilter = !0, this.erreursReportFormGroup = new m.cw({
                        selected: new m.NI([]),
                        precision: new m.NI("")
                    }), this._labelToDisplay$ = new N.x, this.labelToDisplay$ = this._labelToDisplay$.asObservable().pipe($(this._lieuxMediationNumeriqueDetailsPresenter.getAll$), (0, x.U)(([E, ns]) => Object.assign(Object.assign({}, E), {
                        lieuxCount: ns.filter(os => {
                            var W;
                            return null === (W = os.labels_nationaux) || void 0 === W ? void 0 : W.includes(E.ref)
                        }).length
                    }))), this._hasDepartementFilter = null === (y = null === (Z = null === (q = null === (b = this._router.getCurrentNavigation()) || void 0 === b ? void 0 : b.previousNavigation) || void 0 === q ? void 0 : q.finalUrl) || void 0 === Z ? void 0 : Z.toString().includes("/regions/")) || void 0 === y || y
                }

                onCtrlP(t) {
                    t.preventDefault(), this.onPrint()
                }

                onPrint(t) {
                    var n;
                    null === (n = this._matomoTracker) || void 0 === n || n.trackEvent("parcours d'orientation", "fin", "impression fiche " + (t ? "d'orientation" : "lieu")), this._orientationSheetForm$.next(t), setTimeout(() => {
                        window.print(), this._orientationSheetForm$.next(void 0)
                    })
                }

                onSendEmailTo(t) {
                    var n;
                    null === (n = this._matomoTracker) || void 0 === n || n.trackEvent("parcours d'orientation", "fin", "envoi par email"), document.location.href = `mailto:${t.email}?subject=[M\xe9diation num\xe9rique] Fiche lieu - ${t.lieu.nom}&body=${((i, o) => `Bonjour \u{1f44b},\n\nVoici les informations du lieu qui saura vous accueillir et vous proposer un accompagnement au num\xe9rique :\n\n${i.nom}\n\n${i.adresse}\n${(i => i ? `${(i => i ? `%0D%0A${i}` : "")(i.telephone)}${(i => i ? `%0D%0AC${i}` : "")(i.courriel)}%0D%0A` : "")(i.contact)}\nServices disponibles :\n- ${(i => `${i.join("%0D%0A- ")}`)(i.services)}\n\nRetrouvez toutes les informations de ce lieu sur le site web de la cartographie : ${o}\n\nNum\xe9riquement, \xe0 bient\xf4t !`.replace(/\n/gu, "%0D%0A"))(t.lieu, location.href)}`
                }

                onReportAnError(t) {
                    var n, r, a, s;
                    const p = null !== (r = null === (n = t.contact) || void 0 === n ? void 0 : n.courriel) && void 0 !== r ? r : "";
                    null === (a = this._matomoTracker) || void 0 === a || a.trackEvent("rapport d'erreurs", t.nom, `${this.erreursReportFormGroup.controls.selected.value.join(", ")} - ${null !== (s = this.erreursReportFormGroup.controls.precision.value) && void 0 !== s ? s : "Pas de pr\xe9cision"} `), document.location.href = `mailto:cartographie.sonum@anct.gouv.fr?cc=${p}&subject=Erreur sur la fiche du lieu : ${t.nom}&body=${((i, o, t) => `Bonjour \u{1f44b},\n  \nEn naviguant sur la cartographie nationale, j'ai rep\xe9r\xe9 une erreur sur votre fiche ${i}, concernant ${this.erreursReportFormGroup.controls.selected.value.map(n => `la section ${n}`).join(", ")} : \n\n${t}\n\nPour mettre \xe0 jour ces informations, suivez les instructions en bas de fiche "mettre \xe0 jour la fiche".\n\nMerci pour votre collaboration et \xe0 bient\xf4t !\n\nNum\xe9riquement.`.replace(/\n/gu, "%0D%0A"))(location.href, 0, this.erreursReportFormGroup.controls.precision.value)}`
                }

                onCloseDetails(t) {
                    var n, r;
                    this._router.navigate([this._hasDepartementFilter ? `../../regions/${null === (n = (0, _.In)(t)) || void 0 === n ? void 0 : n.nom}/${null === (r = (0, _.TE)(t)) || void 0 === r ? void 0 : r.nom}/${t.id}` : ".."], {
                        relativeTo: this._route,
                        queryParamsHandling: "preserve"
                    })
                }

                onShowLabel(t) {
                    const n = re.get(t);
                    n && this._labelToDisplay$.next(n)
                }

                select(t) {
                    t.localisation && this._markersPresenter.center(t.localisation, P(this._markersPresenter.getZoom()) ? void 0 : this._zoomLevel.userPosition), this._markersPresenter.select(t.id)
                }

                onCloseNoLieuFound() {
                    this._router.navigate(["../../regions"], {relativeTo: this._route, queryParamsHandling: "preserve"})
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(g.KN), e.Y36(g.hh), e.Y36(g.Pl), e.Y36(j), e.Y36(_.M), e.Y36(f.gz), e.Y36(f.F0), e.Y36(g.K3), e.Y36(Co, 8))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["ng-component"]],
                hostBindings: function (t, n) {
                    1 & t && e.NdJ("keydown.control.p", function (a) {
                        return n.onCtrlP(a)
                    }, !1, e.Jf7)
                },
                decls: 17,
                vars: 7,
                consts: [["fragment", "content"], ["fragment", "address"], ["fragment", "filter"], ["fragment", "help"], ["fragment", "footer"], ["tabindex", "-1", "class", "h-100 overflow-auto border-end", 4, "ngIf", "ngIfElse"], ["lieuNotFound", ""], [3, "label"], ["labelModal", ""], ["tabindex", "-1", 1, "h-100", "overflow-auto", "border-end"], [3, "lieuMediationNumerique", "filters", "orientationSheetForm"], [3, "lieuMediationNumerique", "erreursReportFormGroup", "filters", "print", "sendEmailTo", "reportAnError", "closeDetails", "showLabel", "showLabelInvokingContext"], [1, "d-flex", "flex-column", "justify-content-between", "h-100"], [1, "d-flex", "align-items-center", "bg-primary", "text-bg-dark", "p-3"], [1, "d-flex", "flex-grow-1", "p-3"], ["aria-hidden", "true", 1, "ri-4x", "ri-xl", "ri-close-circle-line", "me-3", "mt-1"], [1, "m-0"], [1, "bg-primary"], ["type", "button", "aria-label", "Revenir \xe0 la liste des r\xe9gions", 1, "btn-close", "btn-close-white", "opacity-100", "small", "mb-0", "me-2", 3, "click"], [1, "text-center", "p-3"], ["class", "mb-5 img-fluid", "alt", "", 3, "src", 4, "ngIf", "ngIfElse"], ["brandLogo", ""], [1, "mb-5", "fw-bold"], [1, "text-primary"], [1, "bg-light", "text-center", "py-5"], ["routerLink", "/orientation", "queryParamsHandling", "preserve", 1, "btn", "btn-secondary"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], ["alt", "", 1, "mb-5", "img-fluid", 3, "src"], ["class", "mb-5 w-50", "alt", "", 3, "src", 4, "ngIf"], ["alt", "", 1, "mb-5", "w-50", 3, "src"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "Rechercher une adresse"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Affiner ma recherche"), e.qZA(), e.TgZ(6, "app-skip-link", 3), e._uU(7, "Aide"), e.qZA(), e.TgZ(8, "app-skip-link", 4), e._uU(9, "Pied de page"), e.qZA(), e.YNc(10, Ja, 6, 12, "div", 5), e.ALo(11, "async"), e.YNc(12, Ha, 31, 2, "ng-template", null, 6, e.W1O), e._UZ(14, "app-label-modal", 7, 8), e.ALo(16, "async")), 2 & t) {
                        const r = e.MAs(13);
                        e.xp6(10), e.Q6J("ngIf", e.lcZ(11, 3, n.lieuMediationNumerique$))("ngIfElse", r), e.xp6(4), e.Q6J("label", e.lcZ(16, 5, n.labelToDisplay$))
                    }
                },
                dependencies: [u.O5, f.rH, V.a, pr, Da, be, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const Ya = function (i) {
            return ["./", i]
        };

        function $a(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "article", 8)(1, "a", 9), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.showLieux.emit(a))
                })("mouseover", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.enableHover.emit(a.code))
                })("mouseout", function () {
                    e.CHM(t);
                    const r = e.oxw(2);
                    return e.KtG(r.disableHover.emit())
                }), e.TgZ(2, "h2", 10), e._uU(3), e.TgZ(4, "b"), e._uU(5), e.qZA()(), e.TgZ(6, "div", 11), e._uU(7), e.qZA()()()
            }
            if (2 & i) {
                const t = o.$implicit, n = e.oxw(2);
                e.ekj("list-group-item-hover", n.hoverId === t.code), e.xp6(1), e.Q6J("routerLink", e.VKq(6, Ya, t.nom)), e.xp6(2), e.hij(" (", t.code, ") "), e.xp6(2), e.Oqu(t.nom), e.xp6(2), e.hij("", t.lieuxCount, " r\xe9sultats")
            }
        }

        function ja(i, o) {
            if (1 & i) {
                const t = e.EpF();
                e.TgZ(0, "div", 1)(1, "div", 2)(2, "h1", 3), e._uU(3, "R\xe9sultats par d\xe9partement"), e.qZA(), e.YNc(4, $a, 8, 8, "article", 4), e.qZA(), e.TgZ(5, "div", 5)(6, "button", 6), e.NdJ("click", function () {
                    e.CHM(t);
                    const r = e.oxw();
                    return e.KtG(r.cartographieLayout.toggleMapForSmallDevices())
                }), e._uU(7, " Afficher la carte "), e._UZ(8, "i", 7), e.qZA()()()
            }
            if (2 & i) {
                const t = e.oxw();
                e.xp6(4), e.Q6J("ngForOf", t.departements)
            }
        }

        let Ga = (() => {
            class i {
                constructor(t) {
                    this.cartographieLayout = t, this.departements = [], this.hoverId = null, this.showLieux = new e.vpe, this.enableHover = new e.vpe, this.disableHover = new e.vpe
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(I))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["app-departements-list"]],
                inputs: {departements: "departements", hoverId: "hoverId"},
                outputs: {showLieux: "showLieux", enableHover: "enableHover", disableHover: "disableHover"},
                decls: 1,
                vars: 1,
                consts: [["class", "h-100 d-flex flex-column border-end", 4, "ngIf"], [1, "h-100", "d-flex", "flex-column", "border-end"], ["tabindex", "-1", 1, "list-group", "list-group-flush", "flex-grow-1", "overflow-auto"], [1, "visually-hidden"], ["class", "list-group-item d-flex p-sm-2 p-0", 3, "list-group-item-hover", 4, "ngFor", "ngForOf"], [1, "bg-primary", "py-3", "px-4", "text-end", "d-block", "d-lg-none", "d-print-none"], [1, "btn", "btn-link", "link-light", "text-decoration-none", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [1, "list-group-item", "d-flex", "p-sm-2", "p-0"], ["queryParamsHandling", "preserve", 1, "list-group-item-action", "text-decoration-none", "flex-grow-1", "p-3", 3, "routerLink", "click", "mouseover", "mouseout"], [1, "h5", "mb-0"], [1, "text-muted"]],
                template: function (t, n) {
                    1 & t && e.YNc(0, ja, 9, 1, "div", 0), 2 & t && e.Q6J("ngIf", n.departements)
                },
                dependencies: [u.sg, u.O5, f.rH],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })();
        const Ba = function () {
            return []
        };
        let K = (() => {
            class i {
                constructor(t, n, r, a) {
                    this._cartographieLayout = t, this._route = n, this.markersPresenter = r, this.setTitle = a, this.departements$ = (0, F.a)([this._cartographieLayout.departements$, this._route.paramMap]).pipe((0, x.U)(([s, c]) => {
                        var p, v, w;
                        return ((i, o) => i.filter(t => 0 === o.length || o.includes(t.code)))(s.payload, null !== (w = null === (v = (0, _.RW)(null !== (p = c.get("nomRegion")) && void 0 !== p ? p : "")) || void 0 === v ? void 0 : v.departements) && void 0 !== w ? w : []).sort(_._q)
                    }))
                }

                ngOnInit() {
                    var t;
                    const n = (0, _.RW)(null !== (t = this._route.snapshot.paramMap.get("nomRegion")) && void 0 !== t ? t : "");
                    null != n && (this.setTitle([n.nom, "D\xe9partements"]), this.markersPresenter.center(n.localisation, n.zoom))
                }

                onPopstate() {
                    ["/cartographie", "/cartographie/regions"].includes(location.pathname) && this.markersPresenter.reset()
                }

                hover(t) {
                    this.markersPresenter.highlight(t ?? "")
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.Y36(I), e.Y36(f.gz), e.Y36(_.M), e.Y36(g.K3))
            }, i.\u0275cmp = e.Xpm({
                type: i,
                selectors: [["ng-component"]],
                hostBindings: function (t, n) {
                    1 & t && e.NdJ("popstate", function () {
                        return n.onPopstate()
                    }, !1, e.Jf7)
                },
                decls: 13,
                vars: 7,
                consts: [["fragment", "content"], ["fragment", "address"], ["fragment", "filter"], ["fragment", "help"], ["fragment", "footer"], [3, "departements", "hoverId", "enableHover", "disableHover", "showLieux"]],
                template: function (t, n) {
                    if (1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "Rechercher une adresse"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Affiner ma recherche"), e.qZA(), e.TgZ(6, "app-skip-link", 3), e._uU(7, "Aide"), e.qZA(), e.TgZ(8, "app-skip-link", 4), e._uU(9, "Pied de page"), e.qZA(), e.TgZ(10, "app-departements-list", 5), e.NdJ("enableHover", function (a) {
                        return n.hover(a)
                    })("disableHover", function () {
                        return n.hover()
                    })("showLieux", function (a) {
                        return n.markersPresenter.center(a.localisation, a.zoom)
                    }), e.ALo(11, "async"), e.ALo(12, "async"), e.qZA()), 2 & t) {
                        let r;
                        e.xp6(10), e.Q6J("departements", null !== (r = e.lcZ(11, 2, n.departements$)) && void 0 !== r ? r : e.DdM(6, Ba))("hoverId", e.lcZ(12, 4, n.markersPresenter.highlighted$))
                    }
                },
                dependencies: [V.a, Ga, u.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), i
        })(), Ne = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275mod = e.oAB({type: i}), i.\u0275inj = e.cJS({
                providers: [C.SM],
                imports: [u.ez, H.JF, f.Bz, m.UX, C.Nn, L.bO, Pe.Z, Oe.S, L.nB, Ie.f, Ee.G, Ue.b, Fe.z, Y.ap]
            }), i
        })();
        const ke = [{
            children: [{component: A, path: "regions/:nomRegion/:nomDepartement"}, {
                component: A,
                path: "regions/:nomRegion/:nomDepartement/:id"
            }, {component: K, path: "regions/:nomRegion"}, {component: A, path: "regions"}, {
                component: A,
                path: "departements/:nomDepartement"
            }, {component: K, path: "departements"}, {component: Le, path: ":id/details"}, {
                component: A,
                path: ":id"
            }, {component: A, path: ""}], component: I, path: ""
        }];
        let Va = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275mod = e.oAB({type: i}), i.\u0275inj = e.cJS({imports: [f.Bz.forChild(ke), f.Bz]}), i
        })(), Ka = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275mod = e.oAB({type: i}), i.\u0275inj = e.cJS({imports: [Ne, Va]}), i
        })();
        var Wa = d(2107), Xa = d(1481), es = d(6080);
        let ts = (() => {
            class i {
            }

            return i.\u0275fac = function (t) {
                return new (t || i)
            }, i.\u0275mod = e.oAB({type: i}), i.\u0275inj = e.cJS({imports: [f.Bz.forRoot(ke), f.Bz]}), i
        })();
        d(5864);
        let is = (() => {
            class i {
                constructor(t) {
                    this.injector = t, customElements.define("fr-mediation-numerique-cartographie", (0, Wa.iD)(rn, {injector: t}))
                }

                ngDoBootstrap() {
                }
            }

            return i.\u0275fac = function (t) {
                return new (t || i)(e.LFG(e.zs3))
            }, i.\u0275mod = e.oAB({type: i}), i.\u0275inj = e.cJS({
                providers: [...es.L, ...g.it, {
                    provide: g.Pl,
                    useValue: g.F$
                }], imports: [Xa.b2, Ne, ts, Y.ap.forRoot()]
            }), i
        })()
    }
}]);
"use strict";
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["projects_client-application_src_features_coordinateurs_index_ts"], {
    2642: (nn, N, s) => {
        s.r(N), s.d(N, {CoordinateursFeatureModule: () => Gt, CoordinateursWebComponentModule: () => en});
        var d = s(3215), a = s(6895), C = s(529), m = s(4006), p = s(4931), h = s(7945), J = s(5532), ee = s(5102),
            te = s(936), ne = s(5700), oe = s(5070), re = s(6114), x = s(4497), ie = s(8344), v = s(4928);

        class Z {
        }

        var g = s(4004), T = s(5);

        class b {
        }

        const ae = t => ({
            context: t.structurePorteuse.adresse,
            label: t.nom,
            localisation: (0, T.tf)({latitude: t.latitude, longitude: t.longitude}),
            payload: {type: "conseiller"}
        });

        class Q extends b {
            constructor(o) {
                super(), this.httpClient = o, this.getAll$ = () => this.httpClient.get(d.RD.conseillers)
            }

            search$(o, n = 5) {
                return this.getAll$().pipe((0, g.U)(r => {
                    return r.filter((t = o, o => o.nom.toLowerCase().includes(t.toLowerCase()))).slice(0, n).map(ae);
                    var t
                }))
            }
        }

        const E = [{provide: d.Pl, useValue: d.F$}, {provide: d.S7, useValue: d.X1}, {
            provide: d.KN,
            useValue: d.Rh
        }, {deps: [d.KN, d.S7], provide: v.M, useClass: v.M}, {
            deps: [C.eN], provide: Z, useClass: class le extends Z {
                constructor(o) {
                    super(), this.httpClient = o, this.getAll$ = () => this.httpClient.get(d.RD.coordinateurs)
                }
            }
        }, {deps: [C.eN], provide: b, useClass: Q}, {deps: [C.eN], provide: x.PA, useClass: x.t1}, {
            deps: [x.PA],
            provide: x.z_,
            useClass: x.kV,
            multi: !0
        }, {deps: [C.eN], provide: x.z_, useClass: Q, multi: !0}, {provide: C.TP, useClass: ie.x, multi: !0}];
        var e = s(4650);

        class y {
            constructor(o) {
                this._coordinateurs = o, this.coordinateurs$ = () => this._coordinateurs.getAll$()
            }
        }

        const ce = t => {
            var o, n;
            return (null !== (n = null === (o = t.coordinateurs) || void 0 === o ? void 0 : o.length) && void 0 !== n ? n : 0) > 0
        }, ue = t => {
            var o, n;
            return 0 === (null !== (n = null === (o = t.coordinateurs) || void 0 === o ? void 0 : o.length) && void 0 !== n ? n : 0)
        };

        class w {
            constructor(o) {
                this._conseillersRepository = o, this.conseillers$ = () => this._conseillersRepository.getAll$(), this.nombreConseillersNonCoordonnes$ = this.conseillers$().pipe((0, g.U)(n => n.filter(ue).length)), this.nombreConseillersCoordonnes$ = this.conseillers$().pipe((0, g.U)(n => n.filter(ce).length))
            }
        }

        var de = s(7188);

        function _e(t, o) {
            1 & t && e._uU(0, "conseiller num\xe9rique")
        }

        function pe(t, o) {
            1 & t && e._uU(0, "conseillers num\xe9riques")
        }

        const me = function (t) {
            return [0, t]
        }, F = function (t, o) {
            return [t, o]
        };

        function ge(t, o) {
            if (1 & t && (e.TgZ(0, "mgl-popup", 2)(1, "div", 3)(2, "b", 4), e._uU(3), e.qZA(), e._UZ(4, "br"), e.TgZ(5, "span", 5), e._uU(6, " Coordinateur "), e.TgZ(7, "span", 6), e._uU(8), e.qZA()(), e._UZ(9, "br"), e.TgZ(10, "i", 7), e._uU(11), e.ynx(12, 8), e.YNc(13, _e, 1, 0, "ng-template", 9), e.YNc(14, pe, 1, 0, "ng-template", 10), e.BQk(), e.qZA()()()), 2 & t) {
                const n = o.ngIf;
                e.Q6J("offset", e.VKq(12, me, -35))("lngLat", e.WLB(14, F, n.longitude, n.latitude))("closeButton", !1), e.xp6(3), e.AsE("", n.prenom, " ", n.nom, ""), e.xp6(2), e.ekj("text-primary", "D\xe9partemental" === n.perimetre || "R\xe9gional" === n.perimetre)("fw-bold", "R\xe9gional" === n.perimetre), e.xp6(3), e.Oqu(n.perimetre), e.xp6(3), e.hij(" ", n.nombreDePersonnesCoordonnees, " "), e.xp6(1), e.Q6J("ngPlural", n.nombreDePersonnesCoordonnees)
            }
        }

        function fe(t, o) {
            1 & t && (e.O4$(), e.TgZ(0, "svg", 16), e._UZ(1, "ellipse", 17), e.TgZ(2, "g", 18), e._UZ(3, "path", 19)(4, "path", 20)(5, "path", 21), e.qZA()())
        }

        function he(t, o) {
            1 & t && (e.O4$(), e.TgZ(0, "svg", 22), e._UZ(1, "ellipse", 23), e.TgZ(2, "g", 18), e._UZ(3, "path", 24)(4, "path", 25)(5, "path", 26), e.qZA()())
        }

        function xe(t, o) {
            1 & t && (e.O4$(), e.TgZ(0, "svg", 27), e._UZ(1, "ellipse", 28), e.TgZ(2, "g", 18), e._UZ(3, "path", 29)(4, "path", 30)(5, "path", 31), e.qZA()())
        }

        function Ce(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.ynx(0), e.TgZ(1, "mgl-marker", 11)(2, "button", 12), e.NdJ("mouseenter", function () {
                    const l = e.CHM(n).$implicit, u = e.oxw();
                    return e.KtG(u.highlight.emit(l))
                })("mouseleave", function () {
                    e.CHM(n);
                    const i = e.oxw();
                    return e.KtG(i.highlight.emit())
                })("click", function () {
                    const l = e.CHM(n).$implicit, u = e.oxw();
                    return e.KtG(u.showDetails.emit(l.id))
                }), e.YNc(3, fe, 6, 0, "svg", 13), e.YNc(4, he, 6, 0, "svg", 14), e.YNc(5, xe, 6, 0, "svg", 15), e.qZA()(), e.BQk()
            }
            if (2 & t) {
                const n = o.$implicit, r = e.oxw();
                e.xp6(1), e.Q6J("lngLat", e.WLB(6, F, n.longitude, n.latitude)), e.xp6(1), e.ekj("marker-hover", r.hoverId === n.id || r.selectedId === n.id), e.xp6(1), e.Q6J("ngIf", "R\xe9gional" === n.perimetre), e.xp6(1), e.Q6J("ngIf", "D\xe9partemental" === n.perimetre), e.xp6(1), e.Q6J("ngIf", "Bassin de vie" === n.perimetre)
            }
        }

        let ve = (() => {
            class t {
                constructor() {
                    this.coordinateurs = [], this.selectedId = "", this.hoverId = "", this.showDetails = new e.vpe, this.highlight = new e.vpe, this.trackByCoordinateurId = (n, r) => r.id
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["app-coordinateurs-markers"]],
                inputs: {coordinateurs: "coordinateurs", selectedId: "selectedId", hoverId: "hoverId"},
                outputs: {showDetails: "showDetails", highlight: "highlight"},
                decls: 3,
                vars: 5,
                consts: [["anchor", "bottom", 3, "offset", "lngLat", "closeButton", 4, "ngIf"], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["anchor", "bottom", 3, "offset", "lngLat", "closeButton"], [1, "text-center", "p-3", "border-bottom", "border-3", "text-wrap", "border-primary", "lh-sm"], [1, "fs-4"], [1, "fs-6"], [1, "text-lowercase"], [1, "text-muted"], [3, "ngPlural"], ["ngPluralCase", "1"], ["ngPluralCase", "other"], [3, "lngLat"], ["tabindex", "-1", 1, "btn", "z-index-over-all", 3, "mouseenter", "mouseleave", "click"], ["class", "marker-default", "width", "38", "height", "65", "viewBox", "0 0 38 65", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 4, "ngIf"], ["class", "marker-default", "width", "31", "height", "54", "viewBox", "0 0 31 39.273", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 4, "ngIf"], ["class", "marker-default", "width", "30", "height", "46", "viewBox", "0 0 30 46", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 4, "ngIf"], ["width", "38", "height", "65", "viewBox", "0 0 38 65", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 1, "marker-default"], ["cx", "19", "cy", "45", "rx", "11", "ry", "4", 1, "marker-base"], [1, "marker-body"], ["d", "M36.775 32.105v-20.21l-17.77-10.11-17.78 10.11v20.21l17.78 10.11 17.77-10.11Z", "fill", "#000091", "stroke", "#fff", "stroke-width", "1.42", "stroke-miterlimit", "10", 1, "marker-shape"], ["d", "M30.855 28.735v-13.48l-11.85-6.73-11.85 6.73v13.48l11.85-6.74 11.85 6.74Z", "fill", "#fff"], ["d", "M24.065 24.875v-5.75l-5.06-2.88-5.06 2.88v5.75l5.06 2.88 5.06-2.88Z", "fill", "#E1000F"], ["width", "31", "height", "54", "viewBox", "0 0 31 39.273", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 1, "marker-default"], ["cx", "15", "cy", "36.636", "rx", "11", "ry", "4", 1, "marker-base"], ["d", "m27.537 15.596-.174-13.48-11.857-6.732L3.65 2.117v13.479l11.347 17.933h1.085z", "fill", "#000091", "stroke", "#fff", "stroke-width", "1.3", "stroke-miterlimit", "10", 1, "marker-shape"], ["d", "M23.499 13.356V4.37L15.6-.122 7.687 4.371v8.986L15.6 8.864Z", "fill", "#fff"], ["d", "M18.966 10.781V6.944L15.6 5.027l-3.38 1.918v3.837l3.38 1.917z", "fill", "#e1000f"], ["width", "30", "height", "46", "viewBox", "0 0 30 46", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", 1, "marker-default"], ["cx", "15", "cy", "36", "rx", "10", "ry", "3", 1, "marker-base"], ["d", "m24.135 18.104-.138-10.268-9.247-5.272-9.26 5.272v10.268l8.86 14.242h.842z", "fill", "#000091", "stroke", "#fff", "stroke-width", ".98", "stroke-miterlimit", "10", 1, "marker-shape"], ["d", "m23.942 18.283.055-10.447-9.247-5.272-9.26 5.272v10.516l9.33-5.258z", "fill", "#fff"], ["d", "M17.455 14.584V11.59L14.82 10.1l-2.637 1.49v2.994l2.637 1.506z", "fill", "#e1000f"]],
                template: function (n, r) {
                    1 & n && (e.YNc(0, ge, 15, 17, "mgl-popup", 0), e.ALo(1, "async"), e.YNc(2, Ce, 6, 9, "ng-container", 1)), 2 & n && (e.Q6J("ngIf", e.lcZ(1, 3, r.highlight)), e.xp6(2), e.Q6J("ngForOf", r.coordinateurs)("ngForTrackBy", r.trackByCoordinateurId))
                },
                dependencies: [a.sg, a.O5, a.iq, a.zE, h.CI, h.RX, a.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();

        function Ze(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(1), e.Oqu(n.nom)
            }
        }

        function Te(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(1), e.hij(", ", n.nom, "")
            }
        }

        function be(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(1), e.hij(" et ", n.nom, "")
            }
        }

        function ke(t, o) {
            if (1 & t && (e.ynx(0), e.YNc(1, Ze, 2, 1, "ng-container", 12), e.YNc(2, Te, 2, 1, "ng-container", 12), e.YNc(3, be, 2, 1, "ng-container", 12), e.BQk()), 2 & t) {
                const n = o.first, r = o.last;
                e.xp6(1), e.Q6J("ngIf", n), e.xp6(1), e.Q6J("ngIf", !n && !r), e.xp6(1), e.Q6J("ngIf", !n && r)
            }
        }

        function ye(t, o) {
            if (1 & t && (e.TgZ(0, "b", 10), e._uU(1, " Coordonn\xe9 par "), e.YNc(2, ke, 4, 3, "ng-container", 11), e.qZA()), 2 & t) {
                const n = e.oxw().ngIf;
                e.xp6(2), e.Q6J("ngForOf", n.coordinateurs)
            }
        }

        function we(t, o) {
            1 & t && (e.TgZ(0, "b"), e._uU(1, "Non coordonn\xe9"), e.qZA())
        }

        const Ae = function (t) {
            return [0, t]
        }, $ = function (t, o) {
            return [t, o]
        };

        function Ue(t, o) {
            if (1 & t && (e.TgZ(0, "mgl-popup", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5), e._UZ(4, "i", 6), e._uU(5), e.qZA(), e.TgZ(6, "div", 7), e.YNc(7, ye, 3, 1, "b", 8), e.YNc(8, we, 2, 0, "ng-template", null, 9, e.W1O), e.qZA()()()()), 2 & t) {
                const n = o.ngIf, r = e.MAs(9);
                let i, l;
                e.Q6J("offset", e.VKq(8, Ae, -20))("lngLat", e.WLB(10, $, n.longitude, n.latitude))("closeButton", !1), e.xp6(4), e.ekj("text-muted", 0 === (null !== (i = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== i ? i : 0)), e.xp6(1), e.hij(" ", n.nom, " "), e.xp6(2), e.Q6J("ngIf", (null !== (l = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== l ? l : 0) > 0)("ngIfElse", r)
            }
        }

        function Me(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.TgZ(0, "button", 16), e.NdJ("mouseenter", function () {
                    e.CHM(n);
                    const i = e.oxw().$implicit, l = e.oxw();
                    return e.KtG(l.highlight.emit(i))
                })("mouseleave", function () {
                    e.CHM(n);
                    const i = e.oxw(2);
                    return e.KtG(i.highlight.emit())
                })("click", function (i) {
                    e.CHM(n);
                    const l = e.oxw().$implicit, u = e.oxw();
                    return u.showDetails.emit(l), e.KtG(u.showDetailsInvokingContext.emit(i))
                }), e._UZ(1, "div", 17)(2, "div", 18), e.qZA()
            }
            if (2 & t) {
                const n = e.oxw().$implicit;
                let r;
                e.xp6(2), e.Q6J("ngClass", (null !== (r = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== r ? r : 0) > 0 ? "bg-primary" : "bg-muted")
            }
        }

        function Pe(t, o) {
            if (1 & t && (e.TgZ(0, "div", 19), e._UZ(1, "div", 20), e.qZA()), 2 & t) {
                const n = e.oxw().$implicit;
                let r;
                e.xp6(1), e.Q6J("ngClass", (null !== (r = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== r ? r : 0) > 0 ? "bg-primary" : "bg-muted")
            }
        }

        function Le(t, o) {
            if (1 & t && (e.ynx(0), e.TgZ(1, "mgl-marker", 13), e.YNc(2, Me, 3, 1, "button", 14), e.YNc(3, Pe, 2, 1, "ng-template", null, 15, e.W1O), e.qZA(), e.BQk()), 2 & t) {
                const n = o.$implicit, r = e.MAs(4), i = e.oxw();
                e.xp6(1), e.Q6J("lngLat", e.WLB(3, $, n.longitude, n.latitude)), e.xp6(1), e.Q6J("ngIf", i.zoom > 8)("ngIfElse", r)
            }
        }

        let De = (() => {
            class t {
                constructor() {
                    this.conseillers = [], this.zoom = 0, this.highlight = new e.vpe, this.showDetails = new e.vpe, this.showDetailsInvokingContext = new e.vpe, this.trackByConseillerId = (n, r) => r.id
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["app-conseillers-markers"]],
                inputs: {conseillers: "conseillers", zoom: "zoom"},
                outputs: {
                    highlight: "highlight",
                    showDetails: "showDetails",
                    showDetailsInvokingContext: "showDetailsInvokingContext"
                },
                decls: 3,
                vars: 5,
                consts: [["anchor", "bottom", 3, "offset", "lngLat", "closeButton", 4, "ngIf"], [4, "ngFor", "ngForOf", "ngForTrackBy"], ["anchor", "bottom", 3, "offset", "lngLat", "closeButton"], [1, "text-center", "p-2", "border-bottom", "border-3", "text-wrap", "border-primary", "lh-sm", "fs-6"], [1, "bg-light", "p-2", "h-100", "d-flex", "flex-column"], [1, "mb-1"], ["aria-hidden", "true", 1, "ri-account-circle-fill", "ri-lg", "text-primary"], [1, "flex-grow-1"], ["class", "text-primary me-1", 4, "ngIf", "ngIfElse"], ["nonCoordonne", ""], [1, "text-primary", "me-1"], [4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "lngLat"], ["class", "btn marker-conseiller", 3, "mouseenter", "mouseleave", "click", 4, "ngIf", "ngIfElse"], ["markerSmall", ""], [1, "btn", "marker-conseiller", 3, "mouseenter", "mouseleave", "click"], [1, "marker-conseiller-bg", "rounded-circle", "bg-white"], [1, "marker-conseiller-fg", "rounded-circle", 3, "ngClass"], [1, "marker-conseiller"], [1, "rounded-circle", "square-xs", 3, "ngClass"]],
                template: function (n, r) {
                    1 & n && (e.YNc(0, Ue, 10, 13, "mgl-popup", 0), e.ALo(1, "async"), e.YNc(2, Le, 5, 6, "ng-container", 1)), 2 & n && (e.Q6J("ngIf", e.lcZ(1, 3, r.highlight)), e.xp6(2), e.Q6J("ngForOf", r.conseillers)("ngForTrackBy", r.trackByConseillerId))
                },
                dependencies: [a.mk, a.sg, a.O5, h.CI, h.RX, a.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        var O = s(9934), S = s(8842), Y = s(1978);
        const A = function (t) {
            return [t, "details"]
        };

        function Ie(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.ynx(0), e.TgZ(1, "a", 16), e.NdJ("click", function (i) {
                    e.CHM(n), e.oxw(5);
                    const l = e.MAs(1);
                    return e.KtG(l.toggle(i))
                }), e._uU(2), e.qZA(), e.BQk()
            }
            if (2 & t) {
                const n = e.oxw().$implicit, r = e.oxw(4);
                e.xp6(1), e.Q6J("routerLink", e.VKq(3, A, n.id))("relativeTo", r.route), e.xp6(1), e.hij(" ", n.nom, " ")
            }
        }

        function qe(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.ynx(0), e._uU(1, " , "), e.TgZ(2, "a", 16), e.NdJ("click", function (i) {
                    e.CHM(n), e.oxw(5);
                    const l = e.MAs(1);
                    return e.KtG(l.toggle(i))
                }), e._uU(3), e.qZA(), e.BQk()
            }
            if (2 & t) {
                const n = e.oxw().$implicit, r = e.oxw(4);
                e.xp6(2), e.Q6J("routerLink", e.VKq(3, A, n.id))("relativeTo", r.route), e.xp6(1), e.hij(" ", n.nom, " ")
            }
        }

        function Ne(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.ynx(0), e._uU(1, " et "), e.TgZ(2, "a", 16), e.NdJ("click", function (i) {
                    e.CHM(n), e.oxw(5);
                    const l = e.MAs(1);
                    return e.KtG(l.toggle(i))
                }), e._uU(3), e.qZA(), e.BQk()
            }
            if (2 & t) {
                const n = e.oxw().$implicit, r = e.oxw(4);
                e.xp6(2), e.Q6J("routerLink", e.VKq(3, A, n.id))("relativeTo", r.route), e.xp6(1), e.hij(" ", n.nom, " ")
            }
        }

        function Je(t, o) {
            if (1 & t && (e.ynx(0), e.YNc(1, Ie, 3, 5, "ng-container", 15), e.YNc(2, qe, 4, 5, "ng-container", 15), e.YNc(3, Ne, 4, 5, "ng-container", 15), e.BQk()), 2 & t) {
                const n = o.first, r = o.last, i = e.oxw(4);
                e.xp6(1), e.Q6J("ngIf", n && i.route), e.xp6(1), e.Q6J("ngIf", !n && !r && i.route), e.xp6(1), e.Q6J("ngIf", !n && r && i.route)
            }
        }

        function Qe(t, o) {
            if (1 & t && (e.TgZ(0, "i", 17), e._uU(1), e.ALo(2, "distance"), e.qZA()), 2 & t) {
                const n = e.oxw(4);
                e.xp6(1), e.hij("(", e.lcZ(2, 1, n.distance), ")")
            }
        }

        function Ee(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1, " Coordonn\xe9 par "), e.YNc(2, Je, 4, 3, "ng-container", 13), e._uU(3, " \xa0 "), e.YNc(4, Qe, 3, 3, "i", 14), e.BQk()), 2 & t) {
                const n = e.oxw(3);
                e.xp6(2), e.Q6J("ngForOf", n.conseiller.coordinateurs), e.xp6(2), e.Q6J("ngIf", n.distance)
            }
        }

        const Fe = function (t) {
            return ["../../", t, "details"]
        };

        function $e(t, o) {
            if (1 & t && (e.TgZ(0, "i", 17), e._uU(1), e.ALo(2, "distance"), e.TgZ(3, "a", 18), e._uU(4), e.qZA(), e._uU(5, " ) "), e.qZA()), 2 & t) {
                const n = e.oxw(4);
                e.xp6(1), e.hij(" (\xe0 ", e.lcZ(2, 3, n.distance), " de "), e.xp6(2), e.Q6J("routerLink", e.VKq(5, Fe, null == n.coordinateur ? null : n.coordinateur.id)), e.xp6(1), e.Oqu(null == n.coordinateur ? null : n.coordinateur.nom)
            }
        }

        function Oe(t, o) {
            if (1 & t && (e._uU(0, " Non coordonn\xe9 "), e.YNc(1, $e, 6, 7, "i", 14)), 2 & t) {
                const n = e.oxw(3);
                e.xp6(1), e.Q6J("ngIf", n.distance)
            }
        }

        function Se(t, o) {
            if (1 & t && (e.TgZ(0, "div", 6)(1, "div"), e._UZ(2, "i", 7), e.qZA(), e.TgZ(3, "div", 8)(4, "div", 9), e._uU(5), e.qZA(), e.TgZ(6, "div", 10), e.YNc(7, Ee, 5, 2, "ng-container", 11), e.YNc(8, Oe, 2, 1, "ng-template", null, 12, e.W1O), e.qZA()()()), 2 & t) {
                const n = e.MAs(9), r = e.oxw(2);
                let i, l;
                e.xp6(2), e.ekj("text-muted", 0 === (null !== (i = null == r.conseiller.coordinateurs ? null : r.conseiller.coordinateurs.length) && void 0 !== i ? i : 0)), e.xp6(3), e.Oqu(r.conseiller.nom), e.xp6(2), e.Q6J("ngIf", (null !== (l = null == r.conseiller.coordinateurs ? null : r.conseiller.coordinateurs.length) && void 0 !== l ? l : 0) > 0)("ngIfElse", n)
            }
        }

        function Ye(t, o) {
            if (1 & t && e.YNc(0, Se, 10, 5, "div", 5), 2 & t) {
                const n = e.oxw();
                e.Q6J("ngIf", n.conseiller)
            }
        }

        function Be(t, o) {
            if (1 & t && (e.TgZ(0, "div", 26)(1, "div", 27)(2, "div", 28), e._uU(3, "Lieu d'activit\xe9 principal"), e.qZA(), e.TgZ(4, "div", 29), e._UZ(5, "img", 30), e.TgZ(6, "div", 24)(7, "b"), e._uU(8), e.qZA(), e._UZ(9, "br"), e.TgZ(10, "span", 31), e._uU(11), e.qZA()()()()()), 2 & t) {
                const n = e.oxw(2);
                e.xp6(5), e.Q6J("src", n.assetsConfiguration.path + "/img/coordinateurs/CnFS.svg", e.LSH), e.xp6(3), e.Oqu(n.conseiller.lieuActivitePrincipal.nom), e.xp6(3), e.Oqu(n.conseiller.lieuActivitePrincipal.adresse)
            }
        }

        function Re(t, o) {
            1 & t && e._uU(0, "1 AUTRE LIEU")
        }

        function ze(t, o) {
            if (1 & t && e._uU(0), 2 & t) {
                const n = e.oxw().ngIf;
                e.hij("", n, " AUTRES LIEUX")
            }
        }

        function He(t, o) {
            if (1 & t && (e.TgZ(0, "li", 38)(1, "span", 39)(2, "b"), e._uU(3), e.qZA(), e._uU(4), e.qZA(), e.TgZ(5, "a", 40), e._uU(6, " Voir la fiche "), e.qZA()()), 2 & t) {
                const n = o.$implicit;
                e.xp6(3), e.Oqu(n.nom), e.xp6(1), e.AsE(" (", n.codePostal, " - ", n.commune, ") "), e.xp6(1), e.Q6J("href", "https://www.conseiller-numerique.gouv.fr/" + n.id + "/details", e.LSH)
            }
        }

        function je(t, o) {
            if (1 & t && (e.TgZ(0, "div", 32)(1, "div", 33), e._uU(2, " ACTIF DANS "), e.YNc(3, Re, 1, 0, "ng-template", 34), e.YNc(4, ze, 1, 1, "ng-template", 35), e.qZA(), e.TgZ(5, "ul", 36), e.YNc(6, He, 7, 4, "li", 37), e.qZA()()), 2 & t) {
                const n = o.ngIf, r = e.oxw(2);
                e.Q6J("ngPlural", n), e.xp6(6), e.Q6J("ngForOf", r.conseiller.lieuActivite)
            }
        }

        function Ke(t, o) {
            if (1 & t && (e.TgZ(0, "div", 19)(1, "div", 20), e.YNc(2, Be, 12, 3, "div", 21), e.TgZ(3, "div", 22)(4, "div", 23), e._uU(5, "STRUCTURE PORTEUSE"), e.qZA(), e.TgZ(6, "div", 24)(7, "b"), e._uU(8), e.qZA(), e._UZ(9, "br"), e._uU(10), e.qZA()()(), e.YNc(11, je, 7, 2, "div", 25), e.qZA()), 2 & t) {
                const n = e.oxw();
                e.xp6(1), e.Q6J("ngClass", null != n.conseiller.lieuActivite && n.conseiller.lieuActivite.length ? "col-auto" : "col-12"), e.xp6(1), e.Q6J("ngIf", n.conseiller.lieuActivitePrincipal.nom), e.xp6(6), e.Oqu(n.conseiller.structurePorteuse.nom), e.xp6(2), e.hij(" ", n.conseiller.structurePorteuse.adresse, " "), e.xp6(1), e.Q6J("ngIf", null == n.conseiller.lieuActivite ? null : n.conseiller.lieuActivite.length)
            }
        }

        function Ge(t, o) {
            if (1 & t && (e.TgZ(0, "a", 41), e._UZ(1, "i", 42), e._uU(2), e.ALo(3, "phone"), e.qZA()), 2 & t) {
                const n = o.ngIf;
                e.MGl("href", "tel://", n, "", e.LSH), e.xp6(2), e.hij(" ", e.lcZ(3, 2, n), " ")
            }
        }

        let B = (() => {
            class t {
                constructor(n) {
                    this.assetsConfiguration = n, this.route = null
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.Y36(d.Pl))
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["app-conseiller-details-modal"]],
                viewQuery: function (n, r) {
                    if (1 & n && e.Gf(O.z, 5), 2 & n) {
                        let i;
                        e.iGM(i = e.CRH()) && (r.control = i.first)
                    }
                },
                inputs: {coordinateur: "coordinateur", conseiller: "conseiller", distance: "distance", route: "route"},
                decls: 6,
                vars: 3,
                consts: [["heading", "conseiller modal", "closeLabel", "Retour \xe0 la carte", "bgTitle", "light", 3, "customHeading"], ["modal", ""], ["modalHeader", ""], ["class", "row", 4, "ngIf"], ["slot", "footer", "class", "text-decoration-none link-muted-dark", 3, "href", 4, "ngIf"], ["class", "text-primary d-flex align-items-center bg-light", 4, "ngIf"], [1, "text-primary", "d-flex", "align-items-center", "bg-light"], ["aria-hidden", "true", 1, "ri-xl", "ri-account-circle-fill", "me-3"], [1, "fw-bold"], [1, "fs-4"], [1, "fs-6", "text-body"], [4, "ngIf", "ngIfElse"], ["nonCoordonne", ""], [4, "ngFor", "ngForOf"], ["class", "fw-normal", 4, "ngIf"], [4, "ngIf"], [3, "routerLink", "relativeTo", "click"], [1, "fw-normal"], [3, "routerLink"], [1, "row"], [1, "d-flex", "flex-column", 3, "ngClass"], ["class", "flex-grow-1 mb-5", 4, "ngIf"], [1, "mt-auto"], [1, "text-muted", "mb-1"], [1, "small"], ["class", "col", 3, "ngPlural", 4, "ngIf"], [1, "flex-grow-1", "mb-5"], [1, "bg-light", "p-3"], [1, "text-muted-dark", "mb-1", "text-uppercase"], [1, "d-flex"], ["alt", "", 1, "me-2", 3, "src"], [1, "text-muted"], [1, "col", 3, "ngPlural"], [1, "text-muted", "mt-3", "mb-1"], ["ngPluralCase", "=1"], ["ngPluralCase", "other"], [1, "list-group", "list-group-flush"], ["class", "list-group-item small px-0 d-flex", 4, "ngFor", "ngForOf"], [1, "list-group-item", "small", "px-0", "d-flex"], [1, "flex-grow-1"], ["target", "_blank", "rel", "noopener noreferrer", 1, "fw-bold", "ms-auto", "link-muted-dark", 3, "href"], ["slot", "footer", 1, "text-decoration-none", "link-muted-dark", 3, "href"], [1, "me-1", "ri-phone-line"]],
                template: function (n, r) {
                    if (1 & n && (e.TgZ(0, "app-modal", 0, 1), e.YNc(2, Ye, 1, 1, "ng-template", null, 2, e.W1O), e.YNc(4, Ke, 12, 5, "div", 3), e.YNc(5, Ge, 4, 4, "a", 4), e.qZA()), 2 & n) {
                        const i = e.MAs(3);
                        e.Q6J("customHeading", i), e.xp6(4), e.Q6J("ngIf", r.conseiller), e.xp6(1), e.Q6J("ngIf", null == r.conseiller ? null : r.conseiller.telephone)
                    }
                },
                dependencies: [a.mk, a.sg, a.O5, a.iq, a.zE, p.rH, O.z, S.E, Y.w],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        const R = function (t, o) {
            return [t, o]
        };

        function We(t, o) {
            if (1 & t && (e.TgZ(0, "mgl-marker", 24), e.O4$(), e.TgZ(1, "svg", 25), e._UZ(2, "circle", 26)(3, "circle", 27), e.qZA()()), 2 & t) {
                const n = e.oxw(2);
                e.Q6J("lngLat", e.WLB(2, R, n.userLocalisation.longitude, n.userLocalisation.latitude))("draggable", !0)
            }
        }

        const Ve = function () {
            return {speed: 2}
        }, Xe = function (t) {
            return [t]
        }, z = function () {
            return []
        };

        function et(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.TgZ(0, "mgl-map", 20), e.NdJ("zoomEnd", function (i) {
                    e.CHM(n);
                    const l = e.oxw();
                    return e.KtG(l.currentZoom = i.target.getZoom())
                }), e.ALo(1, "async"), e.YNc(2, We, 4, 5, "mgl-marker", 21), e.TgZ(3, "app-conseillers-markers", 22), e.NdJ("showDetails", function (i) {
                    e.CHM(n);
                    const l = e.oxw();
                    return e.KtG(l.conseillerSelected = i)
                })("showDetailsInvokingContext", function (i) {
                    e.CHM(n), e.oxw();
                    const l = e.MAs(33);
                    return e.KtG(l.control.toggle(i))
                }), e.ALo(4, "async"), e.qZA(), e.TgZ(5, "app-coordinateurs-markers", 23), e.NdJ("highlight", function (i) {
                    e.CHM(n);
                    const l = e.oxw();
                    return e.KtG(l.onHighlight(null == i ? null : i.id))
                })("showDetails", function (i) {
                    e.CHM(n);
                    const l = e.oxw();
                    return e.KtG(l.onShowDetails(i))
                }), e.ALo(6, "async"), e.ALo(7, "async"), e.ALo(8, "async"), e.qZA()()
            }
            if (2 & t) {
                const n = o.ngIf, r = e.oxw();
                let i, l, u, _, c;
                e.Akn(r.assetsConfiguration.path + "/data/map-style.json"), e.Q6J("movingMethod", "flyTo")("movingOptions", e.DdM(22, Ve))("zoom", e.VKq(23, Xe, null !== (i = e.lcZ(1, 12, r.markersPresenter.zoom$)) && void 0 !== i ? i : 0))("center", e.WLB(25, R, n.longitude, n.latitude)), e.xp6(2), e.Q6J("ngIf", r.userLocalisation), e.xp6(1), e.Q6J("zoom", r.currentZoom)("conseillers", null !== (l = e.lcZ(4, 14, r.conseillers$)) && void 0 !== l ? l : e.DdM(28, z)), e.xp6(2), e.Q6J("coordinateurs", null !== (u = e.lcZ(6, 16, r.coordinateurs$)) && void 0 !== u ? u : e.DdM(29, z))("selectedId", null !== (_ = e.lcZ(7, 18, r.markersPresenter.selected$)) && void 0 !== _ ? _ : "")("hoverId", null !== (c = e.lcZ(8, 20, r.markersPresenter.highlighted$)) && void 0 !== c ? c : "")
            }
        }

        let H = (() => {
            class t {
                constructor(n, r, i, l, u, _) {
                    this.markersPresenter = n, this.router = r, this.route = i, this.assetsConfiguration = l, this._coordinateursOnMapPresenter = u, this._conseillersOnMapPresenter = _, this.coordinateurs$ = this._coordinateursOnMapPresenter.coordinateurs$(), this.conseillers$ = this._conseillersOnMapPresenter.conseillers$(), this.nombreConseillersNonCoordonnes$ = this._conseillersOnMapPresenter.nombreConseillersNonCoordonnes$, this.nombreConseillersCoordonnes$ = this._conseillersOnMapPresenter.nombreConseillersCoordonnes$, this.onHighlight = c => this.markersPresenter.highlight(c ?? ""), this.onShowDetails = c => {
                        "" != c && this.router.navigate([c, "details"], {relativeTo: this.route})
                    }, this.currentZoom = 0
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.Y36(v.M), e.Y36(p.F0), e.Y36(p.gz), e.Y36(d.Pl), e.Y36(y), e.Y36(w))
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["ng-component"]],
                features: [e._Bn([{deps: [Z], provide: y, useClass: y}, {deps: [b], provide: w, useClass: w}])],
                decls: 34,
                vars: 11,
                consts: [[1, "h-100", "d-flex", "flex-column"], ["aria-label", "coordination", 1, "navbar", "navbar-expand-lg", "bg-light", "shadow-sm", "z-index-elevated", "sticky-top"], [1, "container-fluid"], [1, "navbar-collapse"], ["placeholder", "Recherchez un Conum ou une adresse", 3, "resultFound"], [1, "flex-grow-1", "overflow-auto"], [1, "d-flex", "h-100"], ["id", "content", 1, "border-end", "col-12", "map-list", "h-100"], [1, "col", "overflow-auto", "position-relative"], ["aria-label", "\xe9tat de la coordination", 1, "position-absolute", "bottom-0", "end-0", "z-index-over-all", "mb-4", "me-2", "bg-white", "shadow-sm"], [1, "table", "m-0"], [1, "px-3", "align-middle"], [1, "bg-primary", "rounded-circle", "square-xs"], ["scope", "row"], [1, "small", "fst-italic"], [1, "bg-muted", "rounded-circle", "square-xs"], ["aria-hidden", "true", 1, "h-100"], ["tabindex", "-1", "class", "h-100 w-100 overflow-hidden", 3, "movingMethod", "movingOptions", "style", "zoom", "center", "zoomEnd", 4, "ngIf"], [3, "conseiller", "route"], ["conseillerDetailsModal", ""], ["tabindex", "-1", 1, "h-100", "w-100", "overflow-hidden", 3, "movingMethod", "movingOptions", "zoom", "center", "zoomEnd"], [3, "lngLat", "draggable", 4, "ngIf"], [3, "zoom", "conseillers", "showDetails", "showDetailsInvokingContext"], [3, "coordinateurs", "selectedId", "hoverId", "highlight", "showDetails"], [3, "lngLat", "draggable"], ["width", "28", "height", "28", "viewBox", "0 0 28 28", "xmlns", "http://www.w3.org/2000/svg"], ["cx", "14", "cy", "14", "r", "14", "fill-opacity", ".3"], ["cx", "14", "cy", "14", "r", "9", "fill-opacity", ".65", 1, "user-marker"]],
                template: function (n, r) {
                    1 & n && (e.TgZ(0, "div", 0)(1, "nav", 1)(2, "div", 2)(3, "div", 3)(4, "app-user-location", 4), e.NdJ("resultFound", function (l) {
                        return r.userLocalisation = l.localisation
                    }), e.qZA()()()(), e.TgZ(5, "div", 5)(6, "div", 6)(7, "main", 7), e._UZ(8, "router-outlet"), e.qZA(), e.TgZ(9, "div", 8)(10, "aside", 9)(11, "table", 10)(12, "tbody")(13, "tr")(14, "td", 11), e._UZ(15, "div", 12), e.qZA(), e.TgZ(16, "th", 13), e._uU(17, "Conseillers num\xe9riques coordonn\xe9s"), e.qZA(), e.TgZ(18, "td", 14), e._uU(19), e.ALo(20, "async"), e.qZA()(), e.TgZ(21, "tr")(22, "td", 11), e._UZ(23, "div", 15), e.qZA(), e.TgZ(24, "th", 13), e._uU(25, "Conseillers num\xe9riques non-coordonn\xe9s"), e.qZA(), e.TgZ(26, "td", 14), e._uU(27), e.ALo(28, "async"), e.qZA()()()()(), e.TgZ(29, "aside", 16), e.YNc(30, et, 9, 30, "mgl-map", 17), e.ALo(31, "async"), e.qZA()()()()(), e._UZ(32, "app-conseiller-details-modal", 18, 19)), 2 & n && (e.xp6(19), e.Oqu(e.lcZ(20, 5, r.nombreConseillersCoordonnes$)), e.xp6(8), e.Oqu(e.lcZ(28, 7, r.nombreConseillersNonCoordonnes$)), e.xp6(3), e.Q6J("ngIf", e.lcZ(31, 9, r.markersPresenter.localisation$)), e.xp6(2), e.Q6J("conseiller", r.conseillerSelected)("route", r.route))
                },
                dependencies: [a.O5, p.lC, h.Gd, h.CI, de.W, ve, De, B, a.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        var U = s(5527), M = s(3900), P = s(8505), j = s(9841);
        const tt = t => null == t ? void 0 : {
                id: t.id,
                nom: `${t.prenom} ${t.nom}`,
                adresse: t.adresse,
                commune: `${t.commune} (${t.codePostal})`,
                courriel: t.courriel,
                telephone: t.telephone,
                perimetre: t.perimetre,
                nombreDePersonnesCoordonnees: t.nombreDePersonnesCoordonnees,
                nombreDeStructuresAvecDesPersonnesCoordonnees: t.nombreDeStructuresAvecDesPersonnesCoordonnees,
                dispositif: t.dispositif,
                latitude: t.latitude,
                longitude: t.longitude
            }, ot = t => o => (0, v.Hl)((0, T.tf)({
                latitude: t.latitude,
                longitude: t.longitude
            }), (0, T.tf)({latitude: o.latitude, longitude: o.longitude})),
            K = t => o => Object.assign(Object.assign({}, o), {distance: ot(t)(o)}),
            it = (t, o) => o.distance - t.distance, st = t => t.distance < 1e3;

        class L {
            constructor(o, n) {
                this._conseillersRepository = o, this._coordinateursRepository = n, this.coordinateur$ = r => {
                    return this._coordinateursRepository.getAll$().pipe((0, g.U)((t = r, o => o.find(n => n.id === t))), (0, g.U)(tt));
                    var t
                }, this.conseillersCoordonnesPar$ = r => {
                    return this._conseillersRepository.getAll$().pipe((0, g.U)((t = r, o => o.filter((t => o => {
                        var n, r;
                        return null !== (r = null === (n = o.coordinateurs) || void 0 === n ? void 0 : n.some(({id: i}) => t.id === i)) && void 0 !== r && r
                    })(t)).map(K(t)))));
                    var t
                }, this.farthestConseillerDistance$ = r => this.conseillersCoordonnesPar$(r).pipe((0, g.U)(i => i.sort(it)[0].distance)), this.allConseillersInPerimeterOf$ = r => this._conseillersRepository.getAll$().pipe((0, g.U)(i => {
                    return i.filter((t = r, o => {
                        var n, r;
                        return null === (r = null === (n = o.coordinateurs) || void 0 === n ? void 0 : n.every(({id: i}) => t.id !== i)) || void 0 === r || r
                    })).map(K(r)).filter(st);
                    var t
                }))
            }
        }

        var G = s(8976);

        function ut(t, o) {
            1 & t && e._uU(0, "conseiller num\xe9rique")
        }

        function dt(t, o) {
            1 & t && e._uU(0, "conseillers num\xe9riques")
        }

        function _t(t, o) {
            1 & t && e._uU(0, "lieu")
        }

        function pt(t, o) {
            1 & t && e._uU(0, "lieux")
        }

        function mt(t, o) {
            if (1 & t && (e.TgZ(0, "a", 33), e.NdJ("click", function (r) {
                return r.stopPropagation()
            }), e._UZ(1, "i", 34), e.TgZ(2, "span"), e._uU(3, "Contacter par mail"), e.qZA()()), 2 & t) {
                const n = e.oxw().ngIf;
                e.MGl("href", "mailto:", n.courriel, "", e.LSH)
            }
        }

        function gt(t, o) {
            if (1 & t && (e.TgZ(0, "a", 35), e.NdJ("click", function (r) {
                return r.stopPropagation()
            }), e._UZ(1, "i", 36), e.TgZ(2, "span", 37), e._uU(3), e.ALo(4, "phone"), e.qZA(), e.TgZ(5, "span", 38), e._uU(6, "Contacter par t\xe9l\xe9phone"), e.qZA()()), 2 & t) {
                const n = e.oxw().ngIf;
                e.MGl("href", "tel://", n.telephone, "", e.LSH), e.xp6(3), e.Oqu(e.lcZ(4, 2, n.telephone))
            }
        }

        const D = function (t) {
            return ["../../", t, "details"]
        };

        function ft(t, o) {
            if (1 & t && (e.ynx(0), e.TgZ(1, "a", 49), e._uU(2), e.qZA(), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(1), e.Q6J("routerLink", e.VKq(2, D, n.id)), e.xp6(1), e.Oqu(n.nom)
            }
        }

        function ht(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1, " , "), e.TgZ(2, "a", 49), e._uU(3), e.qZA(), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(2), e.Q6J("routerLink", e.VKq(2, D, n.id)), e.xp6(1), e.Oqu(n.nom)
            }
        }

        function xt(t, o) {
            if (1 & t && (e.ynx(0), e._uU(1, " et "), e.TgZ(2, "a", 49), e._uU(3), e.qZA(), e.BQk()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(2), e.Q6J("routerLink", e.VKq(2, D, n.id)), e.xp6(1), e.Oqu(n.nom)
            }
        }

        function Ct(t, o) {
            if (1 & t && (e.ynx(0), e.YNc(1, ft, 3, 4, "ng-container", 3), e.YNc(2, ht, 4, 4, "ng-container", 3), e.YNc(3, xt, 4, 4, "ng-container", 3), e.BQk()), 2 & t) {
                const n = o.first, r = o.last;
                e.xp6(1), e.Q6J("ngIf", n), e.xp6(1), e.Q6J("ngIf", !n && !r), e.xp6(1), e.Q6J("ngIf", !n && r)
            }
        }

        function vt(t, o) {
            if (1 & t && (e.TgZ(0, "small")(1, "b", 47), e._uU(2, " Coordonn\xe9 par "), e.YNc(3, Ct, 4, 3, "ng-container", 48), e.qZA(), e.TgZ(4, "i"), e._uU(5), e.ALo(6, "distance"), e.qZA()()), 2 & t) {
                const n = e.oxw().$implicit;
                e.xp6(3), e.Q6J("ngForOf", n.coordinateurs), e.xp6(2), e.hij("(", e.lcZ(6, 2, n.distance), ")")
            }
        }

        function Zt(t, o) {
            if (1 & t && (e.TgZ(0, "b"), e._uU(1, "Non coordonn\xe9"), e.qZA(), e._UZ(2, "br"), e.TgZ(3, "i", 50), e._uU(4), e.ALo(5, "distance"), e.qZA()), 2 & t) {
                const n = e.oxw().$implicit, r = e.oxw().ngIf;
                e.xp6(4), e.AsE("\xe0 ", e.lcZ(5, 2, n.distance), " de ", r.nom, "")
            }
        }

        function Tt(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.TgZ(0, "article", 39)(1, "div", 40)(2, "div", 41), e._UZ(3, "i", 42), e._uU(4), e.qZA(), e.TgZ(5, "div", 43), e.YNc(6, vt, 7, 4, "small", 44), e.YNc(7, Zt, 6, 4, "ng-template", null, 45, e.W1O), e.qZA(), e.TgZ(9, "div")(10, "button", 46), e.NdJ("click", function (i) {
                    const u = e.CHM(n).$implicit;
                    e.oxw();
                    const _ = e.MAs(49), c = e.oxw();
                    return _.control.toggle(i), e.KtG(c.conseillerSelected = u)
                }), e._uU(11, " En savoir plus... "), e.qZA()()()()
            }
            if (2 & t) {
                const n = o.$implicit, r = e.MAs(8);
                let i, l;
                e.xp6(3), e.ekj("text-muted", 0 === (null !== (i = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== i ? i : 0)), e.xp6(1), e.hij(" ", n.nom, " "), e.xp6(2), e.Q6J("ngIf", (null !== (l = null == n.coordinateurs ? null : n.coordinateurs.length) && void 0 !== l ? l : 0) > 0)("ngIfElse", r)
            }
        }

        function bt(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.ynx(0), e.TgZ(1, "div", 4)(2, "div", 5)(3, "div", 6)(4, "div", 7), e._UZ(5, "img", 8), e.TgZ(6, "div", 9)(7, "h1", 10), e._uU(8), e.qZA(), e.TgZ(9, "small", 11)(10, "b"), e._uU(11, " Coordinateur "), e.TgZ(12, "span", 12), e._uU(13), e.qZA()(), e._uU(14, " \xa0-\xa0 "), e.TgZ(15, "i"), e._uU(16), e.qZA()()(), e.TgZ(17, "div", 13)(18, "div", 14)(19, "button", 15), e.NdJ("click", function () {
                    e.CHM(n);
                    const i = e.oxw();
                    return e.KtG(i.closeDetails())
                }), e.qZA()()()()(), e.TgZ(20, "div", 16)(21, "div", 17)(22, "div", 18)(23, "div", 19), e._UZ(24, "img", 20), e._uU(25, " Coordonne "), e.TgZ(26, "b"), e._uU(27), e.ynx(28, 21), e.YNc(29, ut, 1, 0, "ng-template", 22), e.YNc(30, dt, 1, 0, "ng-template", 23), e.BQk(), e.qZA(), e._uU(31, " r\xe9partis sur "), e.TgZ(32, "b"), e._uU(33), e.TgZ(34, "span", 21), e.YNc(35, _t, 1, 0, "ng-template", 22), e.YNc(36, pt, 1, 0, "ng-template", 23), e.qZA()()(), e._uU(37), e._UZ(38, "br"), e.qZA(), e.TgZ(39, "div", 24), e.YNc(40, mt, 4, 1, "a", 25), e.YNc(41, gt, 7, 4, "a", 26), e.qZA()()()(), e.TgZ(42, "div", 27)(43, "h2", 28), e._uU(44, "Conseillers num\xe9riques \xe0 proximit\xe9"), e.qZA(), e.TgZ(45, "div", 29), e.YNc(46, Tt, 12, 5, "article", 30), e.ALo(47, "async"), e.qZA()()(), e._UZ(48, "app-conseiller-details-modal", 31, 32), e.BQk()
            }
            if (2 & t) {
                const n = o.ngIf, r = e.oxw();
                let i;
                e.xp6(5), e.Q6J("src", r.assetsConfiguration.path + "/img/coordinateurs/" + n.perimetre + ".svg", e.LSH), e.xp6(3), e.Oqu(n.nom), e.xp6(5), e.Oqu(n.perimetre), e.xp6(3), e.Oqu(n.commune), e.xp6(8), e.Q6J("src", r.assetsConfiguration.path + "/img/coordinateurs/" + n.dispositif + ".svg", e.LSH), e.xp6(3), e.hij(" ", n.nombreDePersonnesCoordonnees, " "), e.xp6(1), e.Q6J("ngPlural", n.nombreDePersonnesCoordonnees), e.xp6(5), e.hij(" ", n.nombreDeStructuresAvecDesPersonnesCoordonnees, " "), e.xp6(1), e.Q6J("ngPlural", n.nombreDeStructuresAvecDesPersonnesCoordonnees), e.xp6(3), e.hij(" ", n.adresse, " "), e.xp6(3), e.Q6J("ngIf", n.courriel), e.xp6(1), e.Q6J("ngIf", n.telephone), e.xp6(5), e.Q6J("ngForOf", e.lcZ(47, 17, r.conseillers$)), e.xp6(2), e.Q6J("distance", null !== (i = null == r.conseillerSelected ? null : r.conseillerSelected.distance) && void 0 !== i ? i : void 0)("coordinateur", n)("conseiller", r.conseillerSelected)("route", r.route.parent)
            }
        }

        const yt = (t, o) => t.distance - o.distance;
        let W = (() => {
            class t {
                constructor(n, r, i, l, u, _) {
                    this.assetsConfiguration = n, this.setTitle = r, this.route = i, this._coordinateurDetailsPresenter = l, this._markersPresenter = u, this._router = _, this.coordinateur$ = this.route.paramMap.pipe((0, U.g)(0), (0, M.w)(c => {
                        var f;
                        return this._coordinateurDetailsPresenter.coordinateur$(null !== (f = c.get("id")) && void 0 !== f ? f : "")
                    }), (0, P.b)(c => {
                        c && (this.setTitle([c.nom, "Fiche coordinateur"]), this._markersPresenter.center((0, T.tf)({
                            latitude: c.latitude,
                            longitude: c.longitude
                        }), 7), this._markersPresenter.select(c.id))
                    })), this.conseillers$ = this.route.paramMap.pipe((0, M.w)(c => {
                        var f;
                        return this._coordinateurDetailsPresenter.coordinateur$(null !== (f = c.get("id")) && void 0 !== f ? f : "")
                    }), (0, M.w)(c => c ? (0, j.a)([this._coordinateurDetailsPresenter.conseillersCoordonnesPar$(c), this._coordinateurDetailsPresenter.allConseillersInPerimeterOf$(c)]).pipe((0, g.U)(([f, tn]) => f.concat(tn).sort(yt))) : []))
                }

                closeDetails() {
                    this._router.navigate([".."], {
                        relativeTo: this.route,
                        queryParamsHandling: "preserve"
                    }), this._markersPresenter.reset()
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.Y36(d.Pl), e.Y36(d.K3), e.Y36(p.gz), e.Y36(L), e.Y36(v.M), e.Y36(p.F0))
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["ng-component"]],
                features: [e._Bn([{deps: [b, Z], provide: L, useClass: L}])],
                decls: 8,
                vars: 3,
                consts: [["fragment", "content"], ["fragment", "address"], ["fragment", "footer"], [4, "ngIf"], [1, "d-flex", "flex-column", "h-100"], [1, "shadow-sm", "z-index-over"], [1, "p-4", "bg-primary", "text-white", "d-block"], [1, "d-flex"], ["alt", "", 1, "me-3", "my-auto", 2, "height", "56px", 3, "src"], [1, "flex-grow-1", "align-self-center"], [1, "h2", "fw-bold", "mb-0"], [1, "d-flex", "align-items-center"], [1, "text-lowercase"], [1, "d-flex", "flex-column"], [1, "flex-grow-1", "text-end"], ["type", "button", "tabindex", "0", "aria-label", "Revenir \xe0 la liste", 1, "btn", "btn-close", "btn-close-white", "opacity-100", 3, "click"], [1, "p-4", "bg-light"], [1, "row"], [1, "col"], [1, "text-primary", "mb-2"], ["alt", "", 1, "me-1", 2, "height", "24px", 3, "src"], [3, "ngPlural"], ["ngPluralCase", "1"], ["ngPluralCase", "other"], [1, "col-auto"], ["class", "btn btn-sm btn-secondary d-block mb-2", 3, "href", "click", 4, "ngIf"], ["class", "text-decoration-none d-block mb-2", 3, "href", "click", 4, "ngIf"], [1, "h-100", "overflow-scroll", "p-4"], [1, "h5", "text-muted", "text-uppercase"], [1, "row", "g-3", "mt-2"], ["class", "position-relative col-6", 4, "ngFor", "ngForOf"], [3, "distance", "coordinateur", "conseiller", "route"], ["conseillerDetailsModal", ""], [1, "btn", "btn-sm", "btn-secondary", "d-block", "mb-2", 3, "href", "click"], ["aria-hidden", "true", 1, "ri-mail-line", "me-2", "text-right"], [1, "text-decoration-none", "d-block", "mb-2", 3, "href", "click"], ["aria-hidden", "true", 1, "me-2", "ri-phone-line"], ["aria-hidden", "true"], [1, "visually-hidden"], [1, "position-relative", "col-6"], [1, "bg-light", "p-3", "h-100", "d-flex", "flex-column"], [1, "mb-1"], ["aria-hidden", "true", 1, "ri-account-circle-fill", "ri-lg", "text-primary"], [1, "flex-grow-1"], [4, "ngIf", "ngIfElse"], ["nonCoordonne", ""], ["type", "button", 1, "btn", "btn-link", "link-muted-dark", "p-0", "fw-bold", "stretched-link", 3, "click"], [1, "text-primary", "me-1"], [4, "ngFor", "ngForOf"], [3, "routerLink"], [1, "small"]],
                template: function (n, r) {
                    1 & n && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "Rechercher une adresse"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.YNc(6, bt, 50, 19, "ng-container", 3), e.ALo(7, "async")), 2 & n && (e.xp6(6), e.Q6J("ngIf", e.lcZ(7, 1, r.coordinateur$)))
                },
                dependencies: [a.sg, a.O5, a.iq, a.zE, p.rH, G.a, B, a.Ov, S.E, Y.w],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        var wt = s(1135);
        const k = {by: "nom", direction: "asc"};
        var At = s(9646);
        const Ut = {
            nom: (t, o) => t.nom.localeCompare(o.nom),
            codePostal: (t, o) => t.codePostal.localeCompare(o.codePostal),
            nombreCnfs: (t, o) => t.nombreDePersonnesCoordonnees - o.nombreDePersonnesCoordonnees
        }, Lt = ([t, o]) => t.sort((t => (o, n) => Ut[t.by](o, n) * (t => "asc" === t.direction ? 1 : -1)(t))(o));

        class I {
            constructor(o) {
                this._coordinateurs = o, this.coordinateurs$ = (n = (0, At.of)(k)) => (0, j.a)([this._coordinateurs.getAll$(), n]).pipe((0, g.U)(Lt))
            }
        }

        var Dt = s(4394);

        function It(t, o) {
            1 & t && (e.ynx(0), e.TgZ(1, "span", 24), e._uU(2, "A-Z"), e.qZA(), e.TgZ(3, "span", 25), e._uU(4, "Ordre croissant"), e.qZA(), e.BQk())
        }

        function qt(t, o) {
            1 & t && (e.TgZ(0, "span", 24), e._uU(1, "Z-A"), e.qZA(), e.TgZ(2, "span", 25), e._uU(3, "Ordre d\xe9croissant"), e.qZA())
        }

        function Nt(t, o) {
            1 & t && (e.ynx(0), e._uU(1, "Trier par nom"), e.BQk())
        }

        function Jt(t, o) {
            1 & t && (e.ynx(0), e._uU(1, "Trier par code postal"), e.BQk())
        }

        function Qt(t, o) {
            1 & t && (e.ynx(0), e._uU(1, "Trier par nombre de conseillers num\xe9riques"), e.BQk())
        }

        let Et = (() => {
            class t {
                constructor() {
                    this.sortChange = new e.vpe, this.sortForm = new m.cw({by: new m.NI(k.by), direction: new m.NI(!0)})
                }

                onSortUpdated() {
                    var n;
                    this.sortChange.emit({
                        direction: this.sortForm.value.direction ? "asc" : "desc",
                        by: null !== (n = this.sortForm.value.by) && void 0 !== n ? n : k.by
                    })
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["app-sort"]],
                outputs: {sortChange: "sortChange"},
                decls: 38,
                vars: 28,
                consts: [["id", "sort", 1, "accordion-item", "border-bottom", 3, "formGroup"], [1, "d-flex"], ["type", "checkbox", "id", "btn-check", "autocomplete", "off", "formControlName", "direction", 1, "btn-check", 3, "change"], ["for", "btn-check", 1, "btn", "btn-link", "text-decoration-none", "border-0", "rounded-0", "border-end", "text-primary", "px-3", "pt-4", "pb-2", "fw-normal", "d-flex", "flex-column"], ["aria-hidden", "true", 1, "ri-arrow-left-right-line", "ri-lg", "pb-1"], [1, "text-xxs"], [4, "ngIf", "ngIfElse"], ["asc", ""], ["type", "button", "aria-controls", "collapseSort", 1, "btn", "btn-link", "link-dark", "text-decoration-none", "px-3", "align-items-center", "w-100", "text-start", "d-flex", 3, "click"], ["collapseSortControl", ""], [1, "fw-bold", "flex-grow-1", 3, "ngSwitch"], [4, "ngSwitchCase"], ["aria-hidden", "true", 1, "ri-lg", 3, "ngClass"], [3, "control"], ["collapseSort", ""], [1, "list-group", "list-group-flush", "accordion-body", "border-top", "ps-1"], [1, "list-group-item", "bg-transparent"], [1, "form-check"], ["type", "radio", "id", "byNom", "name", "by", "formControlName", "by", "value", "nom", 1, "form-check-input", 3, "change"], ["for", "byNom", 1, "form-check-label", "fw-bold", "ms-2", "w-100"], ["type", "radio", "id", "byCodePostal", "name", "by", "formControlName", "by", "value", "codePostal", 1, "form-check-input", 3, "change"], ["for", "byCodePostal", 1, "form-check-label", "fw-bold", "ms-2", "w-100"], ["type", "radio", "id", "byNombreCnfs", "name", "by", "formControlName", "by", "value", "nombreCnfs", 1, "form-check-input", 3, "change"], ["for", "byNombreCnfs", 1, "form-check-label", "fw-bold", "ms-2", "w-100"], ["aria-hidden", "true"], [1, "visually-hidden"]],
                template: function (n, r) {
                    if (1 & n) {
                        const i = e.EpF();
                        e.TgZ(0, "form", 0), e.ALo(1, "async"), e.TgZ(2, "div", 1)(3, "input", 2), e.NdJ("change", function () {
                            return r.onSortUpdated()
                        }), e.qZA(), e.TgZ(4, "label", 3), e._UZ(5, "i", 4), e.TgZ(6, "i", 5), e.YNc(7, It, 5, 0, "ng-container", 6), e.YNc(8, qt, 4, 0, "ng-template", null, 7, e.W1O), e.qZA()(), e.TgZ(10, "button", 8, 9), e.NdJ("click", function () {
                            e.CHM(i);
                            const u = e.MAs(21);
                            return e.KtG(u.toggle())
                        }), e.ALo(12, "async"), e.ALo(13, "async"), e.TgZ(14, "span", 10), e.YNc(15, Nt, 2, 0, "ng-container", 11), e.YNc(16, Jt, 2, 0, "ng-container", 11), e.YNc(17, Qt, 2, 0, "ng-container", 11), e.qZA(), e._UZ(18, "i", 12), e.ALo(19, "async"), e.qZA()(), e.TgZ(20, "app-collapse", 13, 14)(22, "ul", 15)(23, "li", 16)(24, "div", 17)(25, "input", 18), e.NdJ("change", function () {
                            return r.onSortUpdated()
                        }), e.qZA(), e.TgZ(26, "label", 19), e._uU(27, " Trier par nom "), e.qZA()()(), e.TgZ(28, "li", 16)(29, "div", 17)(30, "input", 20), e.NdJ("change", function () {
                            return r.onSortUpdated()
                        }), e.qZA(), e.TgZ(31, "label", 21), e._uU(32, " Trier par code postal "), e.qZA()()(), e.TgZ(33, "li", 16)(34, "div", 17)(35, "input", 22), e.NdJ("change", function () {
                            return r.onSortUpdated()
                        }), e.qZA(), e.TgZ(36, "label", 23), e._uU(37, " Trier par nombre de conseillers num\xe9riques "), e.qZA()()()()()()
                    }
                    if (2 & n) {
                        const i = e.MAs(9), l = e.MAs(11), u = e.MAs(21);
                        e.ekj("bg-light", e.lcZ(1, 20, u.isExpanded$)), e.Q6J("formGroup", r.sortForm), e.xp6(7), e.Q6J("ngIf", r.sortForm.controls.direction.value)("ngIfElse", i), e.xp6(3), e.ekj("collapsed", e.lcZ(12, 22, u.isCollapsed$)), e.uIk("aria-expanded", e.lcZ(13, 24, u.isExpanded$)), e.xp6(4), e.Q6J("ngSwitch", r.sortForm.controls.by.value), e.xp6(1), e.Q6J("ngSwitchCase", "nom"), e.xp6(1), e.Q6J("ngSwitchCase", "codePostal"), e.xp6(1), e.Q6J("ngSwitchCase", "nombreCnfs"), e.xp6(1), e.Q6J("ngClass", e.lcZ(19, 26, u.isCollapsed$) ? "ri-arrow-down-s-line" : "ri-close-line"), e.xp6(2), e.Q6J("control", l), e.xp6(6), e.ekj("text-muted-dark", "nom" !== r.sortForm.controls.by.value), e.xp6(5), e.ekj("text-muted-dark", "codePostal" !== r.sortForm.controls.by.value), e.xp6(5), e.ekj("text-muted-dark", "nombreCnfs" !== r.sortForm.controls.by.value)
                    }
                },
                dependencies: [a.mk, a.O5, a.RF, a.n9, m._Y, m.Fj, m.Wl, m._, m.JJ, m.JL, m.sg, m.u, Dt.W, a.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        const Ft = ["container"], $t = ["coordinateurLink"];

        function Ot(t, o) {
            1 & t && e._uU(0, "conseiller num\xe9rique")
        }

        function St(t, o) {
            1 & t && e._uU(0, "conseillers num\xe9riques")
        }

        const Yt = function (t) {
            return [t, "details"]
        };

        function Bt(t, o) {
            if (1 & t) {
                const n = e.EpF();
                e.TgZ(0, "article", 12), e.ALo(1, "async"), e.TgZ(2, "a", 13, 14), e.NdJ("mouseover", function () {
                    const l = e.CHM(n).$implicit, u = e.oxw(3);
                    return e.KtG(u.markersPresenter.highlight(l.id))
                })("mouseout", function () {
                    e.CHM(n);
                    const i = e.oxw(3);
                    return e.KtG(i.markersPresenter.highlight(""))
                }), e.ALo(4, "async"), e.TgZ(5, "div", 15)(6, "div", 16), e._UZ(7, "img", 17), e.qZA(), e.TgZ(8, "div", 18)(9, "b", 19), e._uU(10, " Coordinateur "), e.TgZ(11, "span", 20), e._uU(12), e.qZA()(), e.TgZ(13, "h2", 21), e._uU(14), e.qZA()(), e.TgZ(15, "div", 22)(16, "small"), e._uU(17), e.ynx(18, 23), e.YNc(19, Ot, 1, 0, "ng-template", 24), e.YNc(20, St, 1, 0, "ng-template", 25), e.BQk(), e.qZA(), e._UZ(21, "br"), e.TgZ(22, "small"), e._uU(23), e.qZA()()()()()
            }
            if (2 & t) {
                const n = o.$implicit, r = e.oxw(3);
                e.ekj("list-group-item-hover", e.lcZ(1, 15, r.markersPresenter.highlighted$) === n.id), e.xp6(2), e.ekj("active", e.lcZ(4, 17, r.coordinateurSelected$) === n.id), e.Q6J("routerLink", e.VKq(19, Yt, n.id))("relativeTo", r.route.parent), e.uIk("id", n.id), e.xp6(5), e.Q6J("src", r.assetsConfiguration.path + "/img/coordinateurs/" + n.perimetre + ".svg", e.LSH), e.xp6(5), e.Oqu(n.perimetre), e.xp6(2), e.AsE("", n.prenom, " ", n.nom, ""), e.xp6(3), e.hij(" ", n.nombreDePersonnesCoordonnees, " "), e.xp6(1), e.Q6J("ngPlural", n.nombreDePersonnesCoordonnees), e.xp6(5), e.AsE("", n.commune, " (", n.codePostal, ")")
            }
        }

        function Rt(t, o) {
            if (1 & t && (e.TgZ(0, "div", 8, 9)(2, "h1", 10), e._uU(3, "Liste des coordinateurs"), e.qZA(), e.YNc(4, Bt, 24, 21, "article", 11), e.qZA()), 2 & t) {
                const n = e.oxw().ngIf, r = e.oxw();
                e.xp6(4), e.Q6J("ngForOf", n)("ngForTrackBy", r.trackByCoordinateurId)
            }
        }

        function zt(t, o) {
            if (1 & t && (e.ynx(0), e.YNc(1, Rt, 5, 2, "div", 7), e.BQk()), 2 & t) {
                const n = o.ngIf;
                e.xp6(1), e.Q6J("ngIf", n.length)
            }
        }

        let q = (() => {
            class t {
                constructor(n, r, i, l, u) {
                    this.assetsConfiguration = n, this.setTitle = r, this.markersPresenter = i, this.route = l, this._coordinateursListPresenter = u, this._coordinateursSort$ = new wt.X(k), this.coordinateurs$ = this._coordinateursListPresenter.coordinateurs$(this._coordinateursSort$.asObservable()), this.coordinateurLinks = new e.n_E, this.coordinateurSelected$ = this.route.paramMap.pipe((0, U.g)(0), (0, g.U)(_ => this.findElementMatchingId(_.get("id"))), (0, P.b)(this.scrollTo.bind(this)), (0, U.g)(200), (0, P.b)(this.focus.bind(this)), (0, g.U)(_ => {
                        var c;
                        return null !== (c = _?.nativeElement.id) && void 0 !== c ? c : ""
                    })), this.trackByCoordinateurId = (_, c) => c.id, this.onSortChange = _ => {
                        this._coordinateursSort$.next(_)
                    }, r(["Liste des coordinateurs"])
                }

                findElementMatchingId(n) {
                    return this.coordinateurLinks.find(r => r.nativeElement.id === n)
                }

                scrollTo(n) {
                    n && this.container.nativeElement.scrollTo({
                        top: n.nativeElement.getBoundingClientRect().y - this.container.nativeElement.getBoundingClientRect().y,
                        behavior: "smooth"
                    })
                }

                focus(n) {
                    var r;
                    return null != n && (null === (r = this.coordinateurLinks.find(i => i.nativeElement.id === n.nativeElement.id)) || void 0 === r ? void 0 : r.nativeElement.focus())
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.Y36(d.Pl), e.Y36(d.K3), e.Y36(v.M), e.Y36(p.gz), e.Y36(I))
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["ng-component"]],
                viewQuery: function (n, r) {
                    if (1 & n && (e.Gf(Ft, 5), e.Gf($t, 5)), 2 & n) {
                        let i;
                        e.iGM(i = e.CRH()) && (r.container = i.first), e.iGM(i = e.CRH()) && (r.coordinateurLinks = i)
                    }
                },
                features: [e._Bn([{deps: [Z], provide: I, useClass: I}])],
                decls: 12,
                vars: 3,
                consts: [["fragment", "coordinateurs"], ["fragment", "sort"], ["fragment", "address"], ["fragment", "footer"], [1, "h-100", "d-flex", "flex-column"], [3, "sortChange"], [4, "ngIf"], ["class", "list-group list-group-flush flex-grow-1 overflow-auto", "tabindex", "-1", 4, "ngIf"], ["tabindex", "-1", 1, "list-group", "list-group-flush", "flex-grow-1", "overflow-auto"], ["container", ""], ["id", "coordinateurs", 1, "visually-hidden"], ["class", "list-group-item p-1", 3, "list-group-item-hover", 4, "ngFor", "ngForOf", "ngForTrackBy"], [1, "list-group-item", "p-1"], [1, "link-dark", "text-decoration-none", "d-block", "py-4", "px-3", 3, "routerLink", "relativeTo", "mouseover", "mouseout"], ["coordinateurLink", ""], [1, "row"], [1, "col-auto", "p-0", "m-auto", "text-center", 2, "width", "38px"], ["alt", "", 3, "src"], [1, "col"], [1, "text-primary"], [1, "text-lowercase"], [1, "h5", "mb-0", "fw-bold"], [1, "col-auto", "text-end", "fst-italic"], [3, "ngPlural"], ["ngPluralCase", "1"], ["ngPluralCase", "other"]],
                template: function (n, r) {
                    1 & n && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "Trier les coordinateurs"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Rechercher une adresse"), e.qZA(), e.TgZ(6, "app-skip-link", 3), e._uU(7, "Pied de page"), e.qZA(), e.TgZ(8, "div", 4)(9, "app-sort", 5), e.NdJ("sortChange", function (l) {
                        return r.onSortChange(l)
                    }), e.qZA(), e.YNc(10, zt, 2, 1, "ng-container", 6), e.ALo(11, "async"), e.qZA()), 2 & n && (e.xp6(10), e.Q6J("ngIf", e.lcZ(11, 1, r.coordinateurs$)))
                },
                dependencies: [a.sg, a.O5, a.iq, a.zE, p.rH, G.a, Et, a.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })(), V = (() => {
            class t {
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275mod = e.oAB({type: t}), t.\u0275inj = e.cJS({
                providers: [h.SM, ...E],
                imports: [a.ez, C.JF, p.Bz, m.UX, h.Nn, oe.Z, x.nB, ee.b, te.f, re.S, ne.z, J.ap]
            }), t
        })(), jt = (() => {
            class t {
                set latitude(n) {
                    d.X1.latitude = parseFloat(n)
                }

                set longitude(n) {
                    d.X1.longitude = parseFloat(n)
                }

                set zoom(n) {
                    d.Rh.regular = parseInt(n)
                }

                set conseillersSource(n) {
                    d.RD.conseillers = n
                }

                set coordinateursSource(n) {
                    d.RD.coordinateurs = n
                }

                constructor(n) {
                    this.router = n
                }

                ngOnInit() {
                    this.router.initialNavigation()
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.Y36(p.F0))
            }, t.\u0275cmp = e.Xpm({
                type: t,
                selectors: [["ng-component"]],
                inputs: {
                    latitude: "latitude",
                    longitude: "longitude",
                    zoom: "zoom",
                    conseillersSource: "conseillersSource",
                    coordinateursSource: "coordinateursSource"
                },
                decls: 1,
                vars: 0,
                template: function (n, r) {
                    1 & n && e._UZ(0, "router-outlet")
                },
                dependencies: [p.lC],
                encapsulation: 2,
                changeDetection: 0
            }), t
        })();
        const X = [{
            children: [{component: W, path: ":id/details"}, {component: q, path: ":id"}, {
                component: q,
                path: ""
            }], component: H, path: "coordination-territoriale"
        }];
        let Kt = (() => {
            class t {
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275mod = e.oAB({type: t}), t.\u0275inj = e.cJS({imports: [p.Bz.forChild(X), p.Bz]}), t
        })(), Gt = (() => {
            class t {
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275mod = e.oAB({type: t}), t.\u0275inj = e.cJS({
                providers: [{provide: d.Pl, useValue: d.ZV}],
                imports: [V, Kt]
            }), t
        })();
        var Wt = s(8746), Vt = s(2107);
        let Xt = (() => {
            class t {
            }

            return t.\u0275fac = function (n) {
                return new (n || t)
            }, t.\u0275mod = e.oAB({type: t}), t.\u0275inj = e.cJS({imports: [p.Bz.forRoot(X), p.Bz]}), t
        })();
        s(5864);
        let en = (() => {
            class t {
                constructor(n) {
                    this.injector = n, customElements.define("fr-mediation-numerique-coordinateurs", (0, Vt.iD)(jt, {injector: n}))
                }

                ngDoBootstrap() {
                }
            }

            return t.\u0275fac = function (n) {
                return new (n || t)(e.LFG(e.zs3))
            }, t.\u0275mod = e.oAB({type: t}), t.\u0275inj = e.cJS({
                providers: [...E, {provide: d.Pl, useValue: d.F$}],
                imports: [Wt.PW, V, Xt, J.ap.forRoot()]
            }), t
        })()
    }
}]);
"use strict";
(self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || []).push([["projects_client-application_src_features_orientation_index_ts"], {
    4394: (w, Z, l) => {
        l.d(Z, {W: () => C});
        var c = l(7340), v = l(1135), _ = l(4004), e = l(4650), b = l(6895);
        const y = ["control", ""], A = ["*"];
        let C = (() => {
            class x {
                constructor() {
                    this._state$ = new v.X("collapsed"), this.state$ = this._state$.asObservable(), this.isCollapsed$ = this.state$.pipe((0, _.U)(f => "collapsed" === f)), this.isExpanded$ = this.state$.pipe((0, _.U)(f => "expanded" === f))
                }

                set state(f) {
                    this._state$.next(f)
                }

                toggle() {
                    this._state$.next("expanded" === this._state$.value ? "collapsed" : "expanded")
                }
            }

            return x.\u0275fac = function (f) {
                return new (f || x)
            }, x.\u0275cmp = e.Xpm({
                type: x,
                selectors: [["app-collapse", "control", ""]],
                inputs: {state: "state", control: "control"},
                attrs: y,
                ngContentSelectors: A,
                decls: 3,
                vars: 4,
                consts: [[3, "id"]],
                template: function (f, u) {
                    1 & f && (e.F$t(), e.TgZ(0, "div", 0), e.ALo(1, "async"), e.Hsn(2), e.qZA()), 2 & f && e.Q6J("@collapse", e.lcZ(1, 2, u.state$))("id", u.control.getAttribute("aria-controls"))
                },
                dependencies: [b.Ov],
                encapsulation: 2,
                data: {
                    animation: [(0, c.X$)("collapse", [(0, c.SB)("collapsed", (0, c.oB)({
                        height: "0px",
                        overflow: "hidden",
                        visibility: "hidden"
                    })), (0, c.SB)("expanded", (0, c.oB)({height: "*"})), (0, c.eR)("collapsed <=> expanded", (0, c.jt)(".2s ease-in"))])]
                },
                changeDetection: 0
            }), x
        })()
    }, 5102: (w, Z, l) => {
        l.d(Z, {b: () => _});
        var c = l(6895), v = l(4650);
        let _ = (() => {
            class e {
            }

            return e.\u0275fac = function (y) {
                return new (y || e)
            }, e.\u0275mod = v.oAB({type: e}), e.\u0275inj = v.cJS({imports: [c.ez]}), e
        })()
    }, 8976: (w, Z, l) => {
        l.d(Z, {a: () => C});
        var c = l(4650), v = l(4931), _ = l(7116);
        const e = ["content"], b = ["fragment", ""];

        function y(x, h) {
            1 & x && c.Hsn(0)
        }

        const A = ["*"];
        let C = (() => {
            class x {
                constructor(f, u) {
                    this._route = f, this._skipLinkPresenter = u
                }

                ngAfterViewInit() {
                    this._skipLinkPresenter.set(this, {
                        fragment: this.fragment,
                        content: this.content,
                        route: this._route
                    })
                }

                ngOnDestroy() {
                    this._skipLinkPresenter.delete(this)
                }
            }

            return x.\u0275fac = function (f) {
                return new (f || x)(c.Y36(v.gz), c.Y36(_.L))
            }, x.\u0275cmp = c.Xpm({
                type: x,
                selectors: [["app-skip-link", "fragment", ""]],
                viewQuery: function (f, u) {
                    if (1 & f && c.Gf(e, 5), 2 & f) {
                        let U;
                        c.iGM(U = c.CRH()) && (u.content = U.first)
                    }
                },
                inputs: {fragment: "fragment"},
                attrs: b,
                ngContentSelectors: A,
                decls: 2,
                vars: 0,
                consts: [["content", ""]],
                template: function (f, u) {
                    1 & f && (c.F$t(), c.YNc(0, y, 1, 0, "ng-template", null, 0, c.W1O))
                },
                encapsulation: 2,
                changeDetection: 0
            }), x
        })()
    }, 591: (w, Z, l) => {
        l.r(Z), l.d(Z, {OrientationFeatureModule: () => Fn, OrientationWebComponentModule: () => Mn});
        var c = l(4931), v = l(529), _ = l(3215), e = l(4650), b = l(1135), y = l(8675), A = l(5527), C = l(8505),
            x = l(4004), h = l(4928), f = l(3986), u = l(7340);
        const U = n => (0, u.X$)("routeAnimations", n.flatMap(([r, t]) => [(0, u.eR)(`${r} => ${t}`, [(0, u.oB)({position: "relative"}), (0, u.IO)(":enter, :leave", [(0, u.oB)({
            position: "absolute",
            top: 0,
            left: 0,
            width: "100%",
            height: "100%"
        })]), (0, u.IO)(":enter", [(0, u.oB)({left: "100%"})]), (0, u.ru)([(0, u.IO)(":leave", [(0, u.jt)("300ms ease-out", (0, u.oB)({left: "-100%"}))]), (0, u.IO)(":enter", [(0, u.jt)("300ms ease-out", (0, u.oB)({left: "0%"}))])])]), (0, u.eR)(`${t} => ${r}`, [(0, u.oB)({position: "relative"}), (0, u.IO)(":enter, :leave", [(0, u.oB)({
            position: "absolute",
            top: 0,
            left: 0,
            width: "100%",
            height: "100%"
        })]), (0, u.IO)(":enter", [(0, u.oB)({left: "-100%"})]), (0, u.ru)([(0, u.IO)(":leave", [(0, u.jt)("300ms ease-out", (0, u.oB)({left: "100%"}))]), (0, u.IO)(":enter", [(0, u.jt)("300ms ease-out", (0, u.oB)({left: "0%"}))])])])]));
        var m = l(6895);

        function re(n, r) {
            if (1 & n && (e.TgZ(0, "small", 7), e._uU(1), e.TgZ(2, "span", 3), e._uU(3, "\xe9l\xe9ments filtr\xe9s)"), e.qZA()()), 2 & n) {
                const t = e.oxw(2);
                e.xp6(1), e.hij(" ", t.filtersCount, " ")
            }
        }

        function ae(n, r) {
            1 & n && (e.TgZ(0, "span", 3), e._uU(1, "\xa0un \xe9l\xe9ment filtr\xe9)"), e.qZA())
        }

        function se(n, r) {
            1 & n && e._UZ(0, "i", 8)
        }

        function le(n, r) {
            if (1 & n && (e.TgZ(0, "span", 2)(1, "span", 3), e._uU(2, "(contient"), e.qZA(), e.YNc(3, re, 4, 1, "small", 4), e.YNc(4, ae, 2, 0, "ng-template", null, 5, e.W1O), e.YNc(6, se, 1, 0, "i", 6), e.qZA()), 2 & n) {
                const t = e.MAs(5), i = e.oxw();
                e.ekj("ms-1", "sm" === i.size)("square-sm", "sm" === i.size)("square", "auto" === i.size), e.xp6(3), e.Q6J("ngIf", i.filtersCount)("ngIfElse", t), e.xp6(3), e.Q6J("ngIf", i.filtersCheck)
            }
        }

        const ce = ["*"];
        let ue = (() => {
            class n {
                constructor() {
                    this.filtersCount = 0, this.filtersCheck = 0, this.link = [], this.size = "auto"
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-nav-link"]],
                inputs: {filtersCount: "filtersCount", filtersCheck: "filtersCheck", link: "link", size: "size"},
                ngContentSelectors: ce,
                decls: 3,
                vars: 3,
                consts: [["queryParamsHandling", "preserve", "routerLinkActive", "active active-primary", "ariaCurrentWhenActive", "page", 1, "mx-sm-2", "mx-2", "px-sm-3", "px-0", "py-0", "py-sm-1", "position-relative", 3, "ngClass", "routerLink"], ["class", "position-absolute top-0 start-100 translate-middle bg-primary rounded-circle text-white text-center", 3, "ms-1", "square-sm", "square", 4, "ngIf"], [1, "position-absolute", "top-0", "start-100", "translate-middle", "bg-primary", "rounded-circle", "text-white", "text-center"], [1, "visually-hidden"], ["class", "d-block", 4, "ngIf", "ngIfElse"], ["noFiltersCount", ""], ["class", "d-block ri-check-line", "aria-hidden", "true", 4, "ngIf"], [1, "d-block"], ["aria-hidden", "true", 1, "d-block", "ri-check-line"]],
                template: function (t, i) {
                    1 & t && (e.F$t(), e.TgZ(0, "a", 0), e.Hsn(1), e.YNc(2, le, 7, 9, "span", 1), e.qZA()), 2 & t && (e.Q6J("ngClass", "sm" === i.size ? "nav-link" : "btn btn-secondary")("routerLink", i.link), e.xp6(2), e.Q6J("ngIf", i.filtersCount || i.filtersCheck))
                },
                dependencies: [m.mk, m.O5, c.rH, c.Od],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const pe = function () {
            return ["besoin"]
        }, de = function () {
            return ["localisation"]
        }, me = function () {
            return ["accessibilite"]
        }, _e = function () {
            return ["disponibilite"]
        };

        function ge(n, r) {
            if (1 & n && (e.TgZ(0, "ul", 1)(1, "li", 2)(2, "app-nav-link", 3), e._uU(3, "Besoin"), e.qZA()(), e.TgZ(4, "li", 2)(5, "app-nav-link", 3), e._uU(6, "Localisation"), e.qZA()(), e.TgZ(7, "li", 2)(8, "app-nav-link", 4), e._uU(9, " Accessibilit\xe9 "), e.qZA()(), e.TgZ(10, "li", 2)(11, "app-nav-link", 4), e._uU(12, " Disponibilit\xe9 "), e.qZA()()()), 2 & n) {
                const t = e.oxw();
                let i, o;
                e.xp6(2), e.Q6J("size", t.size)("link", e.DdM(12, pe))("filtersCheck", t.filter.service ? 1 : 0), e.xp6(3), e.Q6J("size", t.size)("link", e.DdM(13, de))("filtersCheck", t.filter.distance ? 1 : 0), e.xp6(3), e.Q6J("size", t.size)("link", e.DdM(14, me))("filtersCount", (null !== (i = null == t.filter.conditions_acces ? null : t.filter.conditions_acces.length) && void 0 !== i ? i : 0) + (null !== (i = null == t.filter.publics_accueillis ? null : t.filter.publics_accueillis.length) && void 0 !== i ? i : 0) + (null !== (i = null == t.filter.modalites_accompagnement ? null : t.filter.modalites_accompagnement.length) && void 0 !== i ? i : 0)), e.xp6(3), e.Q6J("size", t.size)("link", e.DdM(15, _e))("filtersCount", null !== (o = null == t.filter.horaires_ouverture ? null : t.filter.horaires_ouverture.length) && void 0 !== o ? o : 0)
            }
        }

        let fe = (() => {
            class n {
                constructor() {
                    this.size = "auto"
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-nav"]],
                inputs: {filter: "filter", size: "size"},
                decls: 1,
                vars: 1,
                consts: [["class", "nav justify-content-center pb-3", 4, "ngIf"], [1, "nav", "justify-content-center", "pb-3"], [1, "nav-item"], [3, "size", "link", "filtersCheck"], [3, "size", "link", "filtersCount"]],
                template: function (t, i) {
                    1 & t && e.YNc(0, ge, 13, 16, "ul", 0), 2 & t && e.Q6J("ngIf", i.filter)
                },
                dependencies: [m.O5, ue],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const M = JSON.parse('[{"label":"Gratuit sans conditions","value":"Gratuit : Je peux acc\xe9der gratuitement au lieu et \xe0 ses services"},{"label":"Gratuit sous conditions sociales","value":"Gratuit sous condition : La gratuit\xe9 est conditionn\xe9e \xe0 des crit\xe8res (situation familiale, convention avec un organisme social...)"},{"label":"Gratuit avec adh\xe9sion","value":"Adh\xe9sion : L\'acc\xe8s au lieu et/ou \xe0 ses services n\xe9cessite d\'y adh\xe9rer"},{"label":"Gratuit avec le Pass Num\xe9rique","value":"Accepte le Pass num\xe9rique : Il est possible d\'utiliser un Pass num\xe9rique pour acc\xe9der au lieu"},{"label":"Payant","value":"Payant : L\'acc\xe8s au lieu et/ou \xe0 ses services est payant"}]'),
            Q = JSON.parse('[{"label":"Illettrisme","value":"Personnes en situation d\'illettrisme"},{"label":"Non francophone","value":"Public langues \xe9trang\xe8res"},{"label":"Handicap psychique","value":"Handicaps psychiques : troubles psychiatriques donnant lieu \xe0 des atteintes comportementales"},{"label":"Handicap mental","value":"Handicaps mentaux : d\xe9ficiences limitant les activit\xe9s d\'une personne"},{"label":"D\xe9ficience visuelle","value":"D\xe9ficience visuelle"},{"label":"Surdit\xe9","value":"Surdit\xe9"}]');
        var g = l(5);

        function he(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.service, "service"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij(" \xd7 ", t.service, " ")
            }
        }

        function xe(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.address, "address"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij(" \xd7 ", t.address, " ")
            }
        }

        function ve(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.distance, "distance"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = e.oxw().ngIf;
                e.xp6(1), e.hij(" \xd7 Moins de ", t.distance / 1e3, " km ")
            }
        }

        function be(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.resetForm(a, "publics_accueillis"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = r.$implicit, i = e.oxw(2);
                e.xp6(1), e.hij(" \xd7 ", i.getLabelFromValue(t), " ")
            }
        }

        function Ze(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.resetForm(a, "conditions_acces"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = r.$implicit, i = e.oxw(2);
                e.xp6(1), e.hij(" \xd7 ", i.getLabelFromValue(t), " ")
            }
        }

        function ye(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.resetForm(a, "modalites_accompagnement"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = r.$implicit, i = e.oxw(2);
                e.xp6(1), e.hij(" \xd7 ", i.getLabelFromValue(t), " ")
            }
        }

        function Ce(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.resetForm(a, "labels_nationaux"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = r.$implicit, i = e.oxw(2);
                let o;
                e.xp6(1), e.hij(" \xd7 ", null !== (o = i.labelMap.get(t)) && void 0 !== o ? o : t, " ")
            }
        }

        function Te(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw(2);
                    return e.KtG(s.resetForm(a, "labels_autres"))
                }), e._uU(1), e.qZA()
            }
            if (2 & n) {
                const t = r.$implicit;
                e.xp6(1), e.hij(" \xd7 ", t, " ")
            }
        }

        function Ae(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.prise_rdv, "prise_rdv"))
                }), e._uU(1, " \xd7 Prise de RDV "), e.qZA()
            }
        }

        function ke(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.accessibilite, "accessibilite"))
                }), e._uU(1, " \xd7 Accessibilite "), e.qZA()
            }
        }

        function qe(n, r) {
            1 & n && e._uU(0, "horaire d'ouverture")
        }

        function Ie(n, r) {
            1 & n && e._uU(0, "horaires d'ouverture")
        }

        function Oe(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "button", 3), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw().ngIf, a = e.oxw();
                    return e.KtG(a.resetForm(o.horaires_ouverture, "horaires_ouverture"))
                }), e._uU(1, " \xd7 "), e.ynx(2, 4), e._uU(3), e.YNc(4, qe, 1, 0, "ng-template", 5), e.YNc(5, Ie, 1, 0, "ng-template", 6), e.BQk(), e.qZA()
            }
            if (2 & n) {
                const t = e.oxw().ngIf;
                e.xp6(2), e.Q6J("ngPlural", t.horaires_ouverture.length), e.xp6(1), e.hij(" ", t.horaires_ouverture.length, " ")
            }
        }

        function Fe(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, he, 2, 1, "button", 1), e.YNc(2, xe, 2, 1, "button", 1), e.YNc(3, ve, 2, 1, "button", 1), e.YNc(4, be, 2, 1, "button", 2), e.YNc(5, Ze, 2, 1, "button", 2), e.YNc(6, ye, 2, 1, "button", 2), e.YNc(7, Ce, 2, 1, "button", 2), e.YNc(8, Te, 2, 1, "button", 2), e.YNc(9, Ae, 2, 0, "button", 1), e.YNc(10, ke, 2, 0, "button", 1), e.YNc(11, Oe, 6, 2, "button", 1), e.BQk()), 2 & n) {
                const t = r.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.service), e.xp6(1), e.Q6J("ngIf", t.address), e.xp6(1), e.Q6J("ngIf", t.distance), e.xp6(1), e.Q6J("ngForOf", t.publics_accueillis), e.xp6(1), e.Q6J("ngForOf", t.conditions_acces), e.xp6(1), e.Q6J("ngForOf", t.modalites_accompagnement), e.xp6(1), e.Q6J("ngForOf", t.labels_nationaux), e.xp6(1), e.Q6J("ngForOf", t.labels_autres), e.xp6(1), e.Q6J("ngIf", t.prise_rdv), e.xp6(1), e.Q6J("ngIf", t.accessibilite), e.xp6(1), e.Q6J("ngIf", t.horaires_ouverture)
            }
        }

        let Ue = (() => {
            class n {
                constructor() {
                    this.filterPresentation = null, this.labelMap = new Map([[g.PV.CNFS, "Conseillers Num\xe9riques"]])
                }

                resetForm(t, i) {
                    var o, a, s, p, O, F, J, S, D;
                    if ("service" === i) null === (o = this.filterForm.get("service")) || void 0 === o || o.setValue(void 0); else if ("address" === i || "distance" === i) null === (a = this.filterForm.get("address")) || void 0 === a || a.setValue(void 0), null === (s = this.filterForm.get("distance")) || void 0 === s || s.setValue(void 0), null === (p = this.filterForm.get("latitude")) || void 0 === p || p.setValue(void 0), null === (O = this.filterForm.get("longitude")) || void 0 === O || O.setValue(void 0); else if ("horaires_ouverture" === i) null === (F = this.filterForm.get("horaires_ouverture")) || void 0 === F || F.setValue(void 0); else if ("prise_rdv" === i) null === (J = this.filterForm.get("prise_rdv")) || void 0 === J || J.setValue(!1); else if ("accessibilite" === i) null === (S = this.filterForm.get("accessibilite")) || void 0 === S || S.setValue(!1); else {
                        const H = [...this.filterForm.value[i]], oe = H.indexOf(t);
                        oe > -1 && H.splice(oe, 1), null === (D = this.filterForm.get(i)) || void 0 === D || D.setValue([...H])
                    }
                }

                getLabelFromValue(t) {
                    var i, o;
                    return null !== (o = null === (i = [...M, ...Q].find(a => a.value === t)) || void 0 === i ? void 0 : i.label) && void 0 !== o ? o : ""
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-selected-filters"]],
                inputs: {filterPresentation: "filterPresentation", filterForm: "filterForm"},
                decls: 1,
                vars: 1,
                consts: [[4, "ngIf"], ["class", "btn btn-chip btn-chip-trim btn-sm btn-tertiary text-primary me-2 mb-2", 3, "click", 4, "ngIf"], ["class", "btn btn-chip btn-chip-trim btn-sm btn-tertiary text-primary me-2 mb-2", 3, "click", 4, "ngFor", "ngForOf"], [1, "btn", "btn-chip", "btn-chip-trim", "btn-sm", "btn-tertiary", "text-primary", "me-2", "mb-2", 3, "click"], [3, "ngPlural"], ["ngPluralCase", "1"], ["ngPluralCase", "other"]],
                template: function (t, i) {
                    1 & t && e.YNc(0, Fe, 12, 11, "ng-container", 0), 2 & t && e.Q6J("ngIf", i.filterPresentation)
                },
                dependencies: [m.sg, m.O5, m.iq, m.zE],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();

        function Pe(n, r) {
            1 & n && (e.Hsn(0), e._UZ(1, "i", 2))
        }

        function Le(n, r) {
            1 & n && e.GkF(0)
        }

        const we = function () {
            return ["/", "cartographie"]
        };

        function Me(n, r) {
            if (1 & n && (e.TgZ(0, "a", 5), e.YNc(1, Le, 1, 0, "ng-container", 6), e.qZA()), 2 & n) {
                const t = e.oxw(2), i = e.MAs(1);
                e.ekj("disabled", 0 === t.lieuxMediationNumeriqueCount), e.Q6J("ngClass", "btn-" + t.buttonStyle)("routerLink", e.DdM(5, we)), e.xp6(1), e.Q6J("ngTemplateOutlet", i)
            }
        }

        function Ne(n, r) {
            1 & n && e.GkF(0)
        }

        function Ee(n, r) {
            if (1 & n && (e.TgZ(0, "a", 7), e.YNc(1, Ne, 1, 0, "ng-container", 6), e.qZA()), 2 & n) {
                const t = e.oxw(2), i = e.MAs(1);
                e.ekj("disabled", 0 === t.lieuxMediationNumeriqueCount), e.Q6J("ngClass", "btn-" + t.buttonStyle)("href", t.cartographieFeature.url + "?" + t.toQueryString(t.queryParams), e.LSH), e.xp6(1), e.Q6J("ngTemplateOutlet", i)
            }
        }

        function Je(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, Me, 2, 6, "a", 3), e.YNc(2, Ee, 2, 5, "a", 4), e.BQk()), 2 & n) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", t.cartographieFeature.active), e.xp6(1), e.Q6J("ngIf", !t.cartographieFeature.active && t.cartographieFeature.url)
            }
        }

        const Se = ["*"];
        let B = (() => {
            class n {
                constructor() {
                    this.lieuxMediationNumeriqueCount = 0, this.queryParams = {}, this.buttonStyle = "secondary"
                }

                toQueryString(t = {}) {
                    return new v.LE({fromObject: t}).toString()
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-display-on-map-link"]],
                inputs: {
                    cartographieFeature: "cartographieFeature",
                    lieuxMediationNumeriqueCount: "lieuxMediationNumeriqueCount",
                    queryParams: "queryParams",
                    buttonStyle: "buttonStyle"
                },
                ngContentSelectors: Se,
                decls: 3,
                vars: 1,
                consts: [["contentTemplate", ""], [4, "ngIf"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], ["class", "btn", "queryParamsHandling", "preserve", 3, "ngClass", "disabled", "routerLink", 4, "ngIf"], ["class", "btn", "rel", "keep-params", 3, "ngClass", "disabled", "href", 4, "ngIf"], ["queryParamsHandling", "preserve", 1, "btn", 3, "ngClass", "routerLink"], [4, "ngTemplateOutlet"], ["rel", "keep-params", 1, "btn", 3, "ngClass", "href"]],
                template: function (t, i) {
                    1 & t && (e.F$t(), e.YNc(0, Pe, 2, 0, "ng-template", null, 0, e.W1O), e.YNc(2, Je, 3, 2, "ng-container", 1)), 2 & t && (e.xp6(2), e.Q6J("ngIf", i.cartographieFeature))
                },
                dependencies: [m.mk, m.O5, m.tP, c.rH],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })(), De = (() => {
            class n {
                constructor() {
                    this.total = 0, this.found = 0
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-filter-result-count"]],
                inputs: {total: "total", found: "found"},
                decls: 9,
                vars: 3,
                consts: [[1, "position-relative", "px-xl-6", "px-5"], ["viewBox", "0 0 100 100", "fill", "none", "xmlns", "http://www.w3.org/2000/svg", "aria-hidden", "true"], ["cx", "-50", "cy", "50", "stroke", "#fff", "stroke-width", ".5", "r", "48", "transform", "rotate(-90)"], ["opacity", ".3", "d", "M49.734 17.287c18.243 0 32.979 14.675 32.979 32.713S67.977 82.713 49.734 82.713c-18.242 0-32.979-14.675-32.979-32.713s14.737-32.713 32.979-32.713z", "stroke", "#fff", "stroke-width", "8"], ["d", "M49.734 17.287c18.243 0 32.979 14.675 32.979 32.713S67.977 82.713 49.734 82.713c-18.242 0-32.979-14.675-32.979-32.713s14.737-32.713 32.979-32.713z", "stroke", "#fff", "stroke-width", "8", 2, "transition", "all 0.2s ease"], [1, "position-absolute", "translate-middle", "top-50", "start-50", "fs-2"], [1, "visually-hidden"]],
                template: function (t, i) {
                    1 & t && (e.TgZ(0, "div", 0), e.O4$(), e.TgZ(1, "svg", 1), e._UZ(2, "circle", 2)(3, "path", 3)(4, "path", 4), e.qZA(), e.kcU(), e.TgZ(5, "div", 5), e._uU(6), e.TgZ(7, "span", 6), e._uU(8), e.qZA()()()), 2 & t && (e.xp6(4), e.uIk("stroke-dasharray", i.found / i.total * 208 + "," + 208 * (1 - i.found / i.total)), e.xp6(2), e.hij(" ", i.found, " "), e.xp6(2), e.hij("sur ", i.total, " lieux trouv\xe9es sur le territoire"))
                },
                encapsulation: 2,
                changeDetection: 0
            }), n
        })(), Qe = (() => {
            class n {
                constructor(t) {
                    this._elementRef = t, this.reachEnd = new e.vpe
                }

                ngDoCheck() {
                    setTimeout(() => this.reachEnd.emit((n => n.scrollTop + n.offsetHeight >= n.scrollHeight - 1)(this._elementRef.nativeElement)))
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(e.SBq))
            }, n.\u0275dir = e.lG2({type: n, selectors: [["", "appScroll", ""]], outputs: {reachEnd: "reachEnd"}}), n
        })();

        function Be(n, r) {
            if (1 & n && (e.TgZ(0, "nav", 22), e._UZ(1, "app-nav", 23)(2, "app-nav", 24), e.qZA()), 2 & n) {
                const t = r.ngIf;
                e.xp6(1), e.Q6J("filter", t), e.xp6(1), e.Q6J("filter", t)
            }
        }

        function Ye(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, Be, 3, 2, "nav", 21), e.ALo(2, "async"), e.BQk()), 2 & n) {
                const t = e.oxw(3);
                e.xp6(1), e.Q6J("ngIf", e.lcZ(2, 1, t.filterPresentation$))
            }
        }

        function $e(n, r) {
            if (1 & n && (e.ynx(0), e.TgZ(1, "h2", 25), e._uU(2, "Filtres activ\xe9s"), e.qZA(), e._UZ(3, "app-selected-filters", 26)(4, "div", 27), e.BQk()), 2 & n) {
                const t = e.oxw().ngIf, i = e.oxw(3);
                e.xp6(3), e.Q6J("filterForm", i.filterForm)("filterPresentation", t)
            }
        }

        function Ge(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, $e, 5, 2, "ng-container", 2), e.BQk()), 2 & n) {
                const t = r.ngIf, i = e.oxw(3);
                e.xp6(1), e.Q6J("ngIf", i.hasActiveFilter(t))
            }
        }

        function je(n, r) {
            if (1 & n && (e.TgZ(0, "div")(1, "app-display-on-map-link", 28), e._uU(2, " Afficher la carte "), e.qZA()()), 2 & n) {
                const t = e.oxw(3);
                e.xp6(1), e.Q6J("cartographieFeature", t.features.get("cartographie"))("lieuxMediationNumeriqueCount", 1)("queryParams", t.route.queryParams)
            }
        }

        function Ve(n, r) {
            if (1 & n && (e.TgZ(0, "div")(1, "app-display-on-map-link", 29), e._uU(2, " Afficher la carte "), e.qZA()()), 2 & n) {
                const t = e.oxw(3);
                e.xp6(1), e.Q6J("cartographieFeature", t.features.get("cartographie"))("lieuxMediationNumeriqueCount", 1)("queryParams", t.route.queryParams)
            }
        }

        function ze(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "div", 3)(2, "div", 4), e.NdJ("reachEnd", function (o) {
                    e.CHM(t);
                    const a = e.oxw(2);
                    return e.KtG(a.hideArrow = o)
                }), e.YNc(3, Ye, 3, 3, "ng-container", 2), e.TgZ(4, "main", 5), e._UZ(5, "router-outlet"), e.qZA(), e.TgZ(6, "div", 6), e._UZ(7, "i", 7), e.qZA()(), e.TgZ(8, "aside", 8)(9, "div", 9), e.YNc(10, Ge, 2, 1, "ng-container", 2), e.ALo(11, "async"), e.TgZ(12, "div", 10)(13, "div", 11)(14, "h2", 12), e._uU(15, " Nombre de lieux "), e._UZ(16, "br"), e._uU(17), e.qZA()(), e.TgZ(18, "div", 13), e._UZ(19, "img", 14), e.TgZ(20, "div", 15)(21, "div"), e._UZ(22, "app-filter-result-count", 16), e.qZA()()(), e.YNc(23, je, 3, 3, "div", 2), e.qZA()()()(), e.TgZ(24, "div", 17), e._UZ(25, "hr", 18), e.TgZ(26, "div", 19)(27, "div", 20)(28, "b"), e._uU(29), e._UZ(30, "br"), e._uU(31, " Lieux trouv\xe9es sur le territoire "), e.qZA()(), e.YNc(32, Ve, 3, 3, "div", 2), e.qZA()(), e.BQk()
            }
            if (2 & n) {
                const t = r.ngIf, i = e.oxw().ngIf, o = e.oxw();
                e.xp6(3), e.Q6J("ngIf", "/orientation" !== o.router.url), e.xp6(1), e.Q6J("@routeAnimations", o.getRouteAnimationData()), e.xp6(2), e.ekj("invisible", o.hideArrow), e.xp6(4), e.Q6J("ngIf", "/orientation" !== o.router.url && e.lcZ(11, 13, o.filterPresentation$)), e.xp6(7), e.hij(" ", "/orientation" === o.router.url ? "r\xe9f\xe9renc\xe9s sur la carte" : "correspondant \xe0 ma recherche", " "), e.xp6(2), e.Q6J("src", o.assetsConfiguration.path + "/img/orientation/" + o.brandConfiguration.illustration, e.LSH), e.xp6(3), e.Q6J("total", t.length)("found", i.length), e.xp6(1), e.Q6J("ngIf", "/orientation" !== o.router.url), e.xp6(6), e.AsE(" ", i.length, " / ", t.length, " "), e.xp6(3), e.Q6J("ngIf", "/orientation" !== o.router.url)
            }
        }

        function Re(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, ze, 33, 15, "ng-container", 2), e.ALo(2, "async"), e.BQk()), 2 & n) {
                const t = e.oxw();
                e.xp6(1), e.Q6J("ngIf", e.lcZ(2, 1, t.lieuxMediationNumeriqueTotal$))
            }
        }

        const Ke = n => n.filter(h.PY);
        let T = (() => {
            class n {
                constructor(t, i, o, a, s, p, O) {
                    this.features = t, this.assetsConfiguration = i, this.brandConfiguration = o, this._lieuxMediationNumeriqueListPresenter = a, this._contexts = s, this.route = p, this.router = O, this._lieuxMediationNumeriqueCount$ = new b.X(0), this.lieuxMediationNumeriqueCount$ = this._lieuxMediationNumeriqueCount$.asObservable(), this.hideArrow = !1, this.filterForm = (0, h.MO)((0, h.Ut)(this.route.snapshot.queryParams)), this.filterPresentation$ = this.filterForm.valueChanges.pipe((0, y.O)((0, h.Ut)(this.route.snapshot.queryParams))), this._localisation$ = this.filterPresentation$.pipe((0, x.U)(h.LE)), this._filter$ = this.filterPresentation$.pipe((0, A.g)(0), (0, C.b)(this.setFilterToQueryString())), this.lieuxMediationNumerique$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumeriqueByDistance$(this._localisation$, this._filter$).pipe((0, C.b)(F => this._lieuxMediationNumeriqueCount$.next(F.length))), this.lieuxMediationNumeriqueTotal$ = this._lieuxMediationNumeriqueListPresenter.lieuxMediationNumerique$.pipe((0, x.U)(Ke)), this.hasActiveFilter = h.FN
                }

                getRouteAnimationData() {
                    var t, i, o;
                    return null === (o = null === (i = null === (t = this._contexts.getContext("primary")) || void 0 === t ? void 0 : t.route) || void 0 === i ? void 0 : i.snapshot.data) || void 0 === o ? void 0 : o.animation
                }

                setFilterToQueryString() {
                    return t => this.router.navigate([], {queryParams: Object.assign(Object.assign({}, t), t.horaires_ouverture ? {horaires_ouverture: JSON.stringify(t.horaires_ouverture)} : {})})
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(_.RS), e.Y36(_.Pl), e.Y36(_.hh), e.Y36(h.yF), e.Y36(c.y6), e.Y36(c.gz), e.Y36(c.F0))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                features: [e._Bn([{deps: [f.y], provide: h.yF, useClass: h.yF}])],
                decls: 4,
                vars: 3,
                consts: [[1, "bg-light", "h-100", "py-lg-5", "p-3"], [1, "container-lg", "p-0", "h-100", "shadow", "bg-white"], [4, "ngIf"], [1, "row", "gx-0", "h-100", "overflow-auto", "flex-lg-row", "flex-column", "flex-nowrap"], ["tabindex", "-1", "appScroll", "", 1, "col-lg", "col-12", "d-flex", "flex-column", "flex-grow-1", "overflow-auto", 3, "reachEnd"], ["id", "content", 1, "px-3", "flex-grow-1"], [1, "d-flex", "justify-content-center", "shadow-white-top", "z-index-over", "bg-white", "sticky-bottom"], ["aria-hidden", "true", 1, "ri-arrow-down-s-line", "ri-xl", "py-2", "text-primary"], ["id", "results", "aria-label", "\xe9tat de l'orientation", 1, "col-lg-4", "col-12", "bg-primary", "text-white", "text-center", "d-lg-block"], [1, "d-flex", "flex-column", "px-4", "h-100", "overflow-auto"], [1, "d-lg-flex", "flex-column", "d-none", "h-100"], [1, "mt-auto"], [1, "h5", "text-center", "text-secondary", "fw-bold", "my-3", "mt-auto"], [1, "w-100", "mb-auto", "position-relative"], ["alt", "", 1, "d-lg-block", "d-none", 3, "src"], [1, "d-lg-block", "d-none", "position-absolute", "w-100", 2, "top", "17%"], [1, "my-auto", 3, "total", "found"], [1, "w-100", "bg-primary", "text-white", "text-center", "d-lg-none", "position-sticky", "z-index-elevated", 2, "transform", "translateY(-100%)"], [1, "m-0"], [1, "p-3"], [1, "mb-3"], ["aria-label", "\xe9tapes de l'orientation", "style", "height: 0", "class", "sticky-lg-top nav-underline", 4, "ngIf"], ["aria-label", "\xe9tapes de l'orientation", 1, "sticky-lg-top", "nav-underline", 2, "height", "0"], [1, "d-sm-block", "d-none", "pt-3", "bg-white", 3, "filter"], ["size", "sm", 1, "d-sm-none", "pt-3", "d-block", 3, "filter"], [1, "h6", "text-center", "text-secondary", "fw-bold", "mt-4", "mb-3"], [1, "flex-grow-1", "my-lg-1", "mb-3", 3, "filterForm", "filterPresentation"], [1, "d-lg-none", "d-block", 2, "height", "130px"], [1, "d-block", "mb-4", 3, "cartographieFeature", "lieuxMediationNumeriqueCount", "queryParams"], [3, "cartographieFeature", "lieuxMediationNumeriqueCount", "queryParams"]],
                template: function (t, i) {
                    1 & t && (e.TgZ(0, "div", 0)(1, "div", 1), e.YNc(2, Re, 3, 3, "ng-container", 2), e.ALo(3, "async"), e.qZA()()), 2 & t && (e.xp6(2), e.Q6J("ngIf", e.lcZ(3, 1, i.lieuxMediationNumerique$)))
                },
                dependencies: [m.O5, c.lC, fe, Ue, B, De, Qe, m.Ov],
                encapsulation: 2,
                data: {animation: [U([["DemarrerPage", "BesoinPage"], ["DemarrerPage", "LocalisationPage"], ["DemarrerPage", "AccessibilitePage"], ["DemarrerPage", "DisponibilitePage"], ["BesoinPage", "LocalisationPage"], ["BesoinPage", "AccessibilitePage"], ["BesoinPage", "DisponibilitePage"], ["LocalisationPage", "AccessibilitePage"], ["LocalisationPage", "DisponibilitePage"], ["AccessibilitePage", "DisponibilitePage"]])]},
                changeDetection: 0
            }), n
        })(), We = (() => {
            class n {
                set logo(t) {
                    _.$f.logo = t
                }

                set logoAvecText(t) {
                    _.$f.logoAvecTexte = t
                }

                set illustration(t) {
                    _.$f.illustration = `svg-${t}.svg`
                }

                set titre(t) {
                    _.$f.name = t
                }

                set sousTitre(t) {
                    _.$f.sousTitre = t
                }

                set source(t) {
                    _.o$.lieuxDeMediationNumerique = t
                }

                set lienCartographie(t) {
                    this._features.set("cartographie", {active: !1, url: t})
                }

                constructor(t, i) {
                    this._features = t, this.router = i, t.set("cartographie", {active: !1})
                }

                ngOnInit() {
                    this.router.initialNavigation()
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(_.RS), e.Y36(c.F0))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                inputs: {
                    logo: "logo",
                    logoAvecText: "logoAvecText",
                    illustration: "illustration",
                    titre: "titre",
                    sousTitre: "sousTitre",
                    source: "source",
                    lienCartographie: "lienCartographie"
                },
                decls: 1,
                vars: 0,
                template: function (t, i) {
                    1 & t && e._UZ(0, "router-outlet")
                },
                dependencies: [c.lC],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        var d = l(4006), Xe = l(4394), k = l(8976), Y = l(9934);

        function et(n, r) {
            if (1 & n && (e.TgZ(0, "div", 8), e._uU(1), e.qZA()), 2 & n) {
                const t = e.oxw(2);
                e.xp6(1), e.Oqu(t.orientationInformation.label)
            }
        }

        function tt(n, r) {
            if (1 & n && (e.TgZ(0, "i", 9), e._uU(1), e.qZA()), 2 & n) {
                const t = r.$implicit;
                e.xp6(1), e.hij(" ", t, " ")
            }
        }

        function nt(n, r) {
            if (1 & n && (e.TgZ(0, "div", 3)(1, "h3", 4), e._uU(2), e.qZA(), e._UZ(3, "p", 5), e.YNc(4, et, 2, 1, "div", 6), e.YNc(5, tt, 2, 1, "i", 7), e.qZA()), 2 & n) {
                const t = e.oxw();
                e.xp6(2), e.Oqu(t.orientationInformation.titre), e.xp6(1), e.Q6J("innerHTML", t.orientationInformation.description, e.oJD), e.xp6(1), e.Q6J("ngIf", t.orientationInformation.label), e.xp6(1), e.Q6J("ngForOf", t.orientationInformation.elements)
            }
        }

        const it = ["*"];
        let P = (() => {
            class n {
                constructor() {
                    this.orientationInformation = null
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-information-orientation-modal"]],
                viewQuery: function (t, i) {
                    if (1 & t && e.Gf(Y.z, 5), 2 & t) {
                        let o;
                        e.iGM(o = e.CRH()) && (i.control = o.first)
                    }
                },
                inputs: {orientationInformation: "orientationInformation"},
                ngContentSelectors: it,
                decls: 4,
                vars: 1,
                consts: [["heading", "Informations orientation", "icon", "ri-information-line", "closeLabel", "Retour \xe0 l'orientation"], ["class", "text-center m-lg-5 m-0", 4, "ngIf"], ["slot", "footer"], [1, "text-center", "m-lg-5", "m-0"], [1, "text-primary", "fw-bold", "mb-4"], [3, "innerHTML"], ["class", "text-muted small mb-2", 4, "ngIf"], ["style", "font-size: 0.85em; white-space: normal", "class", "badge rounded-pill text-bg-light fw-normal me-2 my-1 ng-star-inserted", 4, "ngFor", "ngForOf"], [1, "text-muted", "small", "mb-2"], [1, "badge", "rounded-pill", "text-bg-light", "fw-normal", "me-2", "my-1", "ng-star-inserted", 2, "font-size", "0.85em", "white-space", "normal"]],
                template: function (t, i) {
                    1 & t && (e.F$t(), e.TgZ(0, "app-modal", 0), e.YNc(1, nt, 6, 4, "div", 1), e.ynx(2, 2), e.Hsn(3), e.BQk(), e.qZA()), 2 & t && (e.xp6(1), e.Q6J("ngIf", i.orientationInformation))
                },
                dependencies: [m.sg, m.O5, Y.z],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const ot = ["*"];
        let $ = (() => {
            class n {
                constructor() {
                    this.color = "block", this.background = "white"
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-text-separator"]],
                hostVars: 2,
                hostBindings: function (t, i) {
                    2 & t && e.Udp("display", i.color)
                },
                inputs: {background: "background"},
                ngContentSelectors: ot,
                decls: 4,
                vars: 1,
                consts: [[1, "translate-middle-y", 2, "margin-top", "-7px"], [1, "text-muted-dark", "position-relative", "px-2", "d-inline-block", "translate-middle-x", "start-50", 3, "ngClass"], [1, "border", "border-1", "border-muted", "opacity-100", 2, "margin-top", "-12px"]],
                template: function (t, i) {
                    1 & t && (e.F$t(), e.TgZ(0, "div", 0)(1, "span", 1), e.Hsn(2), e.qZA(), e._UZ(3, "hr", 2), e.qZA()), 2 & t && (e.xp6(1), e.Q6J("ngClass", "bg-" + i.background))
                },
                dependencies: [m.mk],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const pt = n => (n => (n => "now" === n.day)(n) || (n => "" !== n.day && "all" === n.period)(n) || (n => "" !== n.day && "hours" === n.period && (n => null != n.start && null != n.end && "" != n.start && "" != n.end)(n) && (n => {
            var r, t;
            return (null !== (r = n?.start) && void 0 !== r ? r : 0) < (null !== (t = n?.end) && void 0 !== t ? t : 0)
        })(n))(n))(n.value) ? null : {invalidOpeningHours: {value: n.value}};

        function dt(n, r) {
            1 & n && (e.TgZ(0, "app-text-separator", 23), e._uU(1, "OU"), e.qZA())
        }

        function mt(n, r) {
            1 & n && (e.TgZ(0, "span"), e._uU(1, "(valide)"), e.qZA())
        }

        function _t(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "label", 8), e._uU(2, "Plage horaire"), e.qZA(), e.TgZ(3, "select", 25), e.NdJ("change", function () {
                    e.CHM(t);
                    const o = e.oxw(2).index, a = e.oxw();
                    return e.KtG(a.onOpeningHourChanges(o))
                }), e.TgZ(4, "option", 10), e._uU(5, "Choisir les horaires"), e.qZA(), e.TgZ(6, "option", 12), e._uU(7, "Toute la journ\xe9e"), e.qZA(), e.TgZ(8, "option", 26), e._uU(9, "Choisir une heure..."), e.qZA()(), e.BQk()
            }
            if (2 & n) {
                const t = e.oxw(2), i = t.index, o = t.$implicit;
                e.xp6(1), e.Q6J("for", "plage-horaire-" + i), e.xp6(2), e.Q6J("id", "plage-horaire-" + i)("formControl", o.controls.period)
            }
        }

        function gt(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "label", 8), e._uU(2, "Heure de d\xe9but"), e.qZA(), e.TgZ(3, "input", 27), e.NdJ("change", function () {
                    e.CHM(t);
                    const o = e.oxw(2).index, a = e.oxw();
                    return e.KtG(a.onOpeningHourChanges(o))
                }), e.qZA(), e.BQk()
            }
            if (2 & n) {
                const t = e.oxw(2), i = t.index, o = t.$implicit;
                e.xp6(1), e.Q6J("for", "debut-" + i), e.xp6(2), e.Q6J("id", "debut-" + i)("formControl", o.controls.start)
            }
        }

        function ft(n, r) {
            if (1 & n && (e.TgZ(0, "div", 24), e.YNc(1, _t, 10, 3, "ng-container", 3), e.YNc(2, gt, 4, 3, "ng-container", 3), e.qZA()), 2 & n) {
                const t = e.oxw().$implicit;
                e.xp6(1), e.Q6J("ngIf", "hours" !== t.controls.period.value), e.xp6(1), e.Q6J("ngIf", "hours" === t.controls.period.value)
            }
        }

        function ht(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "div", 24)(1, "label", 8), e._uU(2, "Heure de fin"), e.qZA(), e.TgZ(3, "input", 28), e.NdJ("change", function () {
                    e.CHM(t);
                    const o = e.oxw().index, a = e.oxw();
                    return e.KtG(a.onOpeningHourChanges(o))
                }), e.qZA()()
            }
            if (2 & n) {
                const t = e.oxw(), i = t.index, o = t.$implicit;
                e.xp6(1), e.Q6J("for", "fin-" + i), e.xp6(2), e.Q6J("id", "fin-" + i)("formControl", o.controls.end)
            }
        }

        function xt(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.ynx(0), e.YNc(1, dt, 2, 0, "app-text-separator", 1), e.TgZ(2, "fieldset")(3, "legend", 2), e._uU(4), e.YNc(5, mt, 2, 0, "span", 3), e.qZA(), e.TgZ(6, "div", 4), e._UZ(7, "i", 5), e.TgZ(8, "div", 6)(9, "div", 7)(10, "label", 8), e._uU(11, "Choix du jour d'ouverture"), e.qZA(), e.TgZ(12, "select", 9), e.NdJ("change", function () {
                    const o = e.CHM(t), a = o.$implicit, s = o.index, p = e.oxw();
                    return p.onDaySelect(a), e.KtG(p.onOpeningHourChanges(s))
                }), e.TgZ(13, "option", 10), e._uU(14, "Choisir un jour"), e.qZA(), e.TgZ(15, "option", 11), e._uU(16, "Ouvert Maintenant"), e.qZA(), e.TgZ(17, "option", 12), e._uU(18, "Tous les jours"), e.qZA(), e.TgZ(19, "option", 13), e._uU(20, "Lundi"), e.qZA(), e.TgZ(21, "option", 14), e._uU(22, "Mardi"), e.qZA(), e.TgZ(23, "option", 15), e._uU(24, "Mercredi"), e.qZA(), e.TgZ(25, "option", 16), e._uU(26, "Jeudi"), e.qZA(), e.TgZ(27, "option", 17), e._uU(28, "Vendredi"), e.qZA(), e.TgZ(29, "option", 18), e._uU(30, "Samedi"), e.qZA(), e.TgZ(31, "option", 19), e._uU(32, "Dimanche"), e.qZA()()(), e.YNc(33, ft, 3, 2, "div", 20), e.YNc(34, ht, 4, 3, "div", 20), e.qZA(), e.TgZ(35, "button", 21), e.NdJ("click", function () {
                    const a = e.CHM(t).index, s = e.oxw();
                    return e.KtG(s.removeOpeningHours(a))
                }), e._UZ(36, "i", 22), e.TgZ(37, "span", 2), e._uU(38), e.qZA()()()(), e.BQk()
            }
            if (2 & n) {
                const t = r.$implicit, i = r.index, o = r.first;
                e.xp6(1), e.Q6J("ngIf", !o), e.xp6(3), e.hij(" Filtre horaire num\xe9ro ", i + 1, " "), e.xp6(1), e.Q6J("ngIf", t.valid), e.xp6(2), e.ekj("invisible", t.invalid), e.xp6(3), e.Q6J("for", "jour-ouverture-" + i), e.xp6(2), e.Q6J("id", "jour-ouverture-" + i)("formControl", t.controls.day), e.xp6(21), e.Q6J("ngIf", t.controls.day.value && "now" !== t.controls.day.value), e.xp6(1), e.Q6J("ngIf", "hours" === t.controls.period.value), e.xp6(1), e.ekj("invisible", "" === t.controls.day.value), e.xp6(3), e.hij("Supprimer le filtre horaire num\xe9ro ", i, "")
            }
        }

        const vt = function () {
            return []
        }, N = {day: "", period: "", start: void 0, end: void 0}, q = (n = N) => new d.cw({
            day: new d.NI(n.day),
            period: new d.NI(n.period),
            start: new d.NI(n.start),
            end: new d.NI(n.end)
        }, [pt]), Zt = n => n.valid, yt = n => {
            var r, t, i, o;
            return Object.assign(Object.assign(Object.assign({day: null === (r = n.value) || void 0 === r ? void 0 : r.day}, null !== (t = n.value) && void 0 !== t && t.period ? {period: n.value.period} : {}), null !== (i = n.value) && void 0 !== i && i.start ? {start: n.value.start} : {}), null !== (o = n.value) && void 0 !== o && o.end ? {end: n.value.end} : {})
        };
        let Ct = (() => {
            class n {
                constructor() {
                    this.selectOpeningHours = new e.vpe, this.openingHoursForm = new d.Oe([q()]), this.isValidOpeningHoursGroupAt = t => {
                        var i, o;
                        return null !== (o = null === (i = this.openingHoursForm.controls.at(t)) || void 0 === i ? void 0 : i.valid) && void 0 !== o && o
                    }, this.isLastOpeningHoursGroup = t => t === this.openingHoursForm.length - 1, this.appendOpeningHoursFieldFor = t => this.isLastOpeningHoursGroup(t) && this.isValidOpeningHoursGroupAt(t), this.updateFilters = () => this.selectOpeningHours.emit(this.openingHoursForm.controls.filter(Zt).map(yt))
                }

                set openingHours(t) {
                    this.openingHoursForm.controls.length > 1 || (this.openingHoursForm = new d.Oe((t ?? []).map(i => q(Object.assign(Object.assign({}, N), i)))), this.openingHoursForm.controls.push(q()))
                }

                removeOpeningHours(t) {
                    this.openingHoursForm.controls = this.openingHoursForm.controls.filter((n => (r, t) => n !== t)(t)), this.updateFilters()
                }

                onDaySelect(t) {
                    "now" === t.controls.day.value && t.reset(Object.assign(Object.assign({}, N), {day: "now"}))
                }

                onOpeningHourChanges(t) {
                    this.appendOpeningHoursFieldFor(t) && this.openingHoursForm.controls.push(q()), this.isValidOpeningHoursGroupAt(t) && this.updateFilters()
                }

                onResetOpeningHoursForm() {
                    this.openingHoursForm.controls = [], this.openingHoursForm.controls.push(q()), this.selectOpeningHours.emit()
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-opening-hours-form"]],
                inputs: {openingHours: "openingHours"},
                outputs: {selectOpeningHours: "selectOpeningHours"},
                decls: 1,
                vars: 2,
                consts: [[4, "ngFor", "ngForOf"], ["class", "mt-4", "background", "light", 4, "ngIf"], [1, "visually-hidden"], [4, "ngIf"], [1, "d-flex"], ["aria-hidden", "true", 1, "text-primary", "my-auto", "ri-check-line"], [1, "row", "g-2", "px-2", "flex-grow-1"], [1, "col-sm", "col-12"], [1, "visually-hidden", 3, "for"], ["aria-label", "Jour d'ouverture", 1, "form-select", 3, "id", "formControl", "change"], ["value", "", "disabled", "", "selected", ""], ["value", "now"], ["value", "all"], ["value", "mo"], ["value", "tu"], ["value", "we"], ["value", "th"], ["value", "fr"], ["value", "sa"], ["value", "su"], ["class", "col", 4, "ngIf"], ["type", "button", "title", "Supprimer cette ligne", 1, "btn", "btn-link", "link-dark", "opacity-75", "text-decoration-none", "p-0", 3, "click"], ["aria-hidden", "true", 1, "ri-close-line"], ["background", "light", 1, "mt-4"], [1, "col"], ["aria-label", "Heures d'ouvertures", 1, "form-select", 3, "id", "formControl", "change"], ["value", "hours"], ["type", "time", "name", "start", 1, "form-control", 3, "id", "formControl", "change"], ["type", "time", "name", "end", 1, "form-control", 3, "id", "formControl", "change"]],
                template: function (t, i) {
                    if (1 & t && e.YNc(0, xt, 39, 13, "ng-container", 0), 2 & t) {
                        let o;
                        e.Q6J("ngForOf", null !== (o = i.openingHoursForm.controls) && void 0 !== o ? o : e.DdM(1, vt))
                    }
                },
                dependencies: [m.sg, m.O5, d.YN, d.Kr, d.Fj, d.EJ, d.JJ, d.oH, $],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();

        function Tt(n, r) {
            1 & n && e._UZ(0, "i", 35)
        }

        function At(n, r) {
            1 & n && e._UZ(0, "i", 36)
        }

        const kt = function () {
            return ["/", "cartographie"]
        };

        function qt(n, r) {
            if (1 & n && (e.TgZ(0, "a", 40), e.ALo(1, "async"), e.TgZ(2, "span", 41), e._UZ(3, "i", 42), e.qZA(), e.TgZ(4, "span", 16), e._uU(5, "J\u2019affiche tous les lieux correspondant \xe0 ma recherche"), e.qZA(), e.TgZ(6, "span", 43), e._UZ(7, "i", 44), e.qZA()()), 2 & n) {
                const t = e.oxw(3);
                let i;
                e.ekj("disabled", 0 === (null !== (i = e.lcZ(1, 3, t.orientationLayout.lieuxMediationNumeriqueCount$)) && void 0 !== i ? i : 0)), e.Q6J("routerLink", e.DdM(5, kt))
            }
        }

        function It(n, r) {
            if (1 & n && (e.TgZ(0, "a", 45), e.ALo(1, "async"), e.ALo(2, "async"), e.TgZ(3, "span", 46), e._UZ(4, "i", 42), e.qZA(), e.TgZ(5, "span", 16), e._uU(6, "J\u2019affiche tous les lieux correspondant \xe0 ma recherche"), e.qZA(), e.TgZ(7, "span", 43), e._UZ(8, "i", 47), e.qZA()()), 2 & n) {
                const t = e.oxw().ngIf, i = e.oxw(2);
                let o;
                e.ekj("disabled", 0 === (null !== (o = e.lcZ(1, 3, i.orientationLayout.lieuxMediationNumeriqueCount$)) && void 0 !== o ? o : 0)), e.Q6J("href", t.url + "?" + i.toQueryString(e.lcZ(2, 5, i.route.queryParams)), e.LSH)
            }
        }

        function Ot(n, r) {
            if (1 & n && (e.ynx(0), e.YNc(1, qt, 8, 6, "a", 38), e.YNc(2, It, 9, 7, "a", 39), e.BQk()), 2 & n) {
                const t = r.ngIf;
                e.xp6(1), e.Q6J("ngIf", t.active), e.xp6(1), e.Q6J("ngIf", !t.active && t.url)
            }
        }

        function Ft(n, r) {
            if (1 & n && (e.ynx(0), e.TgZ(1, "app-text-separator"), e._uU(2, "OU"), e.qZA(), e.TgZ(3, "div", 37), e.YNc(4, Ot, 3, 2, "ng-container", 32), e.qZA(), e.BQk()), 2 & n) {
                const t = e.oxw();
                e.xp6(4), e.Q6J("ngIf", t.features.get("cartographie"))
            }
        }

        let G = (() => {
            class n {
                constructor(t, i, o, a) {
                    var s;
                    this.features = t, this.route = i, this.orientationLayout = o, this.setTitle = a, this.selectedOrientationInformation = {
                        titre: "Recherche de lieux ouverts \xe0 des horaires pr\xe9cis",
                        description: "Vous pouvez ici choisir de filtrer la cartographie selon les jours et horaires d'ouverture des lieux."
                    }, this.hasOpeningsHours = (null === (s = this.orientationLayout.filterForm.controls.horaires_ouverture.value) || void 0 === s ? void 0 : s.length) > 0, a(["Disponibilit\xe9", "Orientation"])
                }

                onSelectOpeningHours(t) {
                    var i;
                    null === (i = this.orientationLayout.filterForm.get("horaires_ouverture")) || void 0 === i || i.setValue(t)
                }

                toQueryString(t = {}) {
                    return new v.LE({fromObject: t}).toString()
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(_.RS), e.Y36(c.gz), e.Y36(T), e.Y36(_.K3))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                decls: 54,
                vars: 24,
                consts: [["fragment", "content"], ["fragment", "results"], ["fragment", "footer"], [1, "h-100", "d-flex", "pt-5"], [1, "w-100", "my-auto"], [1, "h2", "text-center", "fw-bold", "mt-sm-5", "mt-3"], [1, "text-primary"], [1, "text-center", "fw-bold", "mb-sm-5", "mb-4", "text-muted"], [3, "formGroup"], ["id", "accordionDisponibilite", 1, "accordion"], [1, "accordion-item", "mb-3"], ["id", "headingDatePrecise", 1, "accordion-header"], ["type", "button", "aria-controls", "collapseDatePrecise", 1, "btn", "orientation-btn", "bg-light", "mb-3", "px-lg-3", "px-2", "py-0", "rounded-0", "d-flex", "position-relative", "w-100", 3, "click"], ["collapseDatePreciseControl", ""], [1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3", "my-auto", "d-sm-block", "d-none"], ["aria-hidden", "true", 1, "ri-calendar-todo-line"], [1, "orientation-btn-label", "my-auto", "text-start"], [1, "ms-auto", "end-0", "d-flex", "flex-column"], ["class", "ri-add-line ri-2x text-muted", "aria-hidden", "true", 4, "ngIf", "ngIfElse"], ["expanded", ""], [1, "btn", "p-0", "border-0", 3, "click"], [1, "visually-hidden"], ["aria-hidden", "true", 1, "ri-information-line", "fw-normal", "text-muted-dark", "ri-2x", "text-opacity-50"], ["aria-labelledby", "headingDatePrecise", 3, "control", "state"], ["collapseDatePrecise", ""], [1, "accordion-body", "bg-light", "px-3", "py-4"], [3, "openingHours", "selectOpeningHours"], ["openingHoursForm", ""], [1, "text-center", "mt-4"], ["type", "button", 1, "btn", "my-3", "me-3", "btn-secondary", 3, "click"], ["aria-hidden", "true", 1, "ri-close-line"], ["buttonStyle", "primary", 3, "cartographieFeature", "lieuxMediationNumeriqueCount", "queryParams"], [4, "ngIf"], [3, "orientationInformation"], ["informationOrientationModal", ""], ["aria-hidden", "true", 1, "ri-add-line", "ri-2x", "text-muted"], ["aria-hidden", "true", 1, "ri-subtract-line", "ri-2x", "text-muted"], [1, "text-center"], ["class", "btn orientation-btn bg-light mb-3 p-lg-3 p-2 rounded-0 d-flex position-relative", "queryParamsHandling", "preserve", 3, "disabled", "routerLink", 4, "ngIf"], ["class", "btn orientation-btn bg-light mb-3 p-lg-3 p-2 rounded-0 d-flex position-relative", "rel", "keep-params", 3, "disabled", "href", 4, "ngIf"], ["queryParamsHandling", "preserve", 1, "btn", "orientation-btn", "bg-light", "mb-3", "p-lg-3", "p-2", "rounded-0", "d-flex", "position-relative", 3, "routerLink"], [1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3", "d-sm-block", "d-none"], ["aria-hidden", "true", 1, "ri-road-map-line"], [1, "ms-auto", "me-3", "end-0", "d-flex"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line", "ri-2x", "text-muted", "my-auto"], ["rel", "keep-params", 1, "btn", "orientation-btn", "bg-light", "mb-3", "p-lg-3", "p-2", "rounded-0", "d-flex", "position-relative", 3, "href"], [1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line", "ri-2x", "text-muted"]],
                template: function (t, i) {
                    if (1 & t) {
                        const o = e.EpF();
                        e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "R\xe9sultat"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.TgZ(6, "div", 3)(7, "div", 4)(8, "h1", 5), e._uU(9, " Quelles sont vos "), e.TgZ(10, "span", 6), e._uU(11, "disponibilit\xe9s"), e.qZA(), e._uU(12, " \xa0? "), e.qZA(), e.TgZ(13, "p", 7), e._uU(14, " Indiquez quel(s) jour(s) et \xe0 quelle(s) heure(s) vous serez disponible "), e.qZA(), e.TgZ(15, "form", 8)(16, "div", 9)(17, "div", 10)(18, "h2", 11)(19, "button", 12, 13), e.NdJ("click", function () {
                            e.CHM(o);
                            const s = e.MAs(37);
                            return e.KtG(s.toggle())
                        }), e.ALo(21, "async"), e.ALo(22, "async"), e.TgZ(23, "span", 14), e._UZ(24, "i", 15), e.qZA(), e.TgZ(25, "span", 16), e._uU(26, "Je cherche des lieux ouverts \xe0 une date pr\xe9cise"), e.qZA(), e.TgZ(27, "span", 17), e.YNc(28, Tt, 1, 0, "i", 18), e.ALo(29, "async"), e.YNc(30, At, 1, 0, "ng-template", null, 19, e.W1O), e.TgZ(32, "button", 20), e.NdJ("click", function (s) {
                            return e.CHM(o), e.MAs(53).control.toggle(s), s.stopPropagation(), e.KtG(s.preventDefault())
                        }), e.TgZ(33, "span", 21), e._uU(34, "Info"), e.qZA(), e._UZ(35, "i", 22), e.qZA()()()(), e.TgZ(36, "app-collapse", 23, 24)(38, "fieldset", 25)(39, "legend", 21), e._uU(40, "Filtres pour les horaires"), e.qZA(), e.TgZ(41, "app-opening-hours-form", 26, 27), e.NdJ("selectOpeningHours", function (s) {
                            return i.onSelectOpeningHours(s)
                        }), e.qZA(), e.TgZ(43, "div", 28)(44, "button", 29), e.NdJ("click", function () {
                            e.CHM(o);
                            const s = e.MAs(42), p = e.MAs(37);
                            return s.onResetOpeningHoursForm(), e.KtG(p.toggle())
                        }), e._uU(45, " Annuler "), e._UZ(46, "i", 30), e.qZA(), e.TgZ(47, "app-display-on-map-link", 31), e.ALo(48, "async"), e._uU(49, " Afficher les r\xe9sultats "), e.qZA()()()()()()(), e.YNc(50, Ft, 5, 1, "ng-container", 32), e.ALo(51, "async"), e.qZA()(), e._UZ(52, "app-information-orientation-modal", 33, 34)
                    }
                    if (2 & t) {
                        const o = e.MAs(20), a = e.MAs(31), s = e.MAs(37);
                        let p;
                        e.xp6(15), e.Q6J("formGroup", i.orientationLayout.filterForm), e.xp6(4), e.ekj("bg-white", !1 === e.lcZ(21, 14, s.isCollapsed$)), e.uIk("aria-expanded", e.lcZ(22, 16, s.isExpanded$)), e.xp6(9), e.Q6J("ngIf", e.lcZ(29, 18, s.isCollapsed$))("ngIfElse", a), e.xp6(8), e.Q6J("control", o)("state", i.hasOpeningsHours ? "expanded" : "collapsed"), e.xp6(5), e.Q6J("openingHours", i.orientationLayout.filterForm.controls.horaires_ouverture.value), e.xp6(6), e.Q6J("cartographieFeature", i.features.get("cartographie"))("lieuxMediationNumeriqueCount", null !== (p = e.lcZ(48, 20, i.orientationLayout.lieuxMediationNumeriqueCount$)) && void 0 !== p ? p : 0)("queryParams", i.route.queryParams), e.xp6(3), e.Q6J("ngIf", e.lcZ(51, 22, s.isCollapsed$)), e.xp6(2), e.Q6J("orientationInformation", i.selectedOrientationInformation)
                    }
                },
                dependencies: [m.O5, d._Y, d.JL, d.sg, c.rH, Xe.W, k.a, B, P, $, Ct, m.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();

        function Ut(n, r) {
            if (1 & n && e._UZ(0, "img", 9), 2 & n) {
                const t = e.oxw();
                e.Q6J("src", t.brandConfiguration.logo, e.LSH)
            }
        }

        function Pt(n, r) {
            if (1 & n && e._UZ(0, "img", 11), 2 & n) {
                const t = e.oxw(2);
                e.Q6J("src", t.brandConfiguration.logoAvecTexte, e.LSH)
            }
        }

        function Lt(n, r) {
            if (1 & n && e.YNc(0, Pt, 1, 1, "img", 10), 2 & n) {
                const t = e.oxw();
                e.Q6J("ngIf", t.brandConfiguration.logoAvecTexte)
            }
        }

        function wt(n, r) {
            if (1 & n && (e.ynx(0), e._UZ(1, "br"), e.TgZ(2, "span", 27), e._uU(3), e.qZA(), e.BQk()), 2 & n) {
                const t = e.oxw(2);
                e.xp6(3), e.Oqu(t.brandConfiguration.sousTitre)
            }
        }

        const E = function () {
            return ["besoin"]
        }, Mt = function () {
            return ["/", "cartographie"]
        };

        function Nt(n, r) {
            if (1 & n && (e.ynx(0), e.TgZ(1, "h1", 12), e._uU(2, " Bienvenue sur "), e._UZ(3, "br"), e.TgZ(4, "span", 13), e._uU(5), e.qZA(), e.YNc(6, wt, 4, 1, "ng-container", 14), e.qZA(), e.TgZ(7, "div", 15)(8, "p"), e._uU(9, " Vous rencontrez un probl\xe8me li\xe9 au num\xe9rique\xa0? "), e._UZ(10, "br"), e._uU(11, " Vous souhaitez accompagner une personne en difficult\xe9 avec le num\xe9rique\xa0? "), e.qZA(), e.TgZ(12, "p"), e._uU(13, " Vous pourrez facilement filtrer les lieux en fonction de votre besoin ou de ceux du b\xe9n\xe9ficiaire "), e.TgZ(14, "b"), e._uU(15, "en utilisant notre outil d'orientation."), e.qZA()()(), e.TgZ(16, "div", 16)(17, "a", 17)(18, "span", 18), e._UZ(19, "i", 19), e.qZA(), e.TgZ(20, "span", 20), e._uU(21, " D\xe9marrer une orientation "), e._UZ(22, "br"), e.TgZ(23, "i", 21), e._uU(24, "Gr\xe2ce \xe0 notre questionnaire en 4 \xe9tapes"), e.qZA()(), e.TgZ(25, "span", 22), e._UZ(26, "i", 23), e.qZA()()(), e.TgZ(27, "div", 24), e._uU(28, "ou"), e.qZA(), e.TgZ(29, "div", 16)(30, "a", 25), e._uU(31, " Acc\xe9der directement \xe0 la carte "), e._UZ(32, "i", 26), e.qZA()(), e.BQk()), 2 & n) {
                const t = e.oxw();
                e.xp6(5), e.hij("la Cartographie ", t.brandConfiguration.name, ""), e.xp6(1), e.Q6J("ngIf", t.brandConfiguration.sousTitre), e.xp6(11), e.Q6J("routerLink", e.DdM(4, E)), e.xp6(13), e.Q6J("routerLink", e.DdM(5, Mt))
            }
        }

        function Et(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "h1", 28), e._uU(1, " Souhaitez-vous "), e.TgZ(2, "span", 13), e._uU(3, "red\xe9marrer l'orientation ?"), e.qZA()(), e.TgZ(4, "div", 29)(5, "a", 30), e._UZ(6, "i", 31), e._uU(7, " Reprendre l'orientation "), e.qZA(), e.TgZ(8, "a", 32), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw();
                    return e.KtG(o.orientationLayout.filterForm.reset())
                }), e._uU(9, " Nouvelle orientation "), e._UZ(10, "i", 23), e.qZA()()
            }
            2 & n && (e.xp6(5), e.Q6J("routerLink", e.DdM(2, E)), e.xp6(3), e.Q6J("routerLink", e.DdM(3, E)))
        }

        let j = (() => {
            class n {
                constructor(t, i, o, a) {
                    this.brandConfiguration = t, this.setTitle = i, this._route = o, this.orientationLayout = a, this.hasActiveFilter = (0, h.FN)((0, h.Ut)(this._route.snapshot.queryParams)), i(["Accueil", "Orientation"])
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(_.hh), e.Y36(_.K3), e.Y36(c.gz), e.Y36(T))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                decls: 14,
                vars: 4,
                consts: [["fragment", "content"], ["fragment", "results"], ["fragment", "footer"], [1, "h-100", "d-flex", "pt-5"], [1, "w-100", "my-auto", "text-center"], ["class", "my-3", "style", "max-width: 100%; max-height: 100px", "alt", "", 3, "src", 4, "ngIf", "ngIfElse"], ["brandLogo", ""], [4, "ngIf", "ngIfElse"], ["restart", ""], ["alt", "", 1, "my-3", 2, "max-width", "100%", "max-height", "100px", 3, "src"], ["class", "my-5", "style", "max-width: 100%; max-height: 100px", "alt", "", 3, "src", 4, "ngIf"], ["alt", "", 1, "my-5", 2, "max-width", "100%", "max-height", "100px", 3, "src"], [1, "h2", "fw-bold"], [1, "text-primary"], [4, "ngIf"], [1, "my-5", "mx-lg-5", "mx-2", "fs-5"], [1, "my-4"], ["queryParamsHandling", "preserve", 1, "btn", "orientation-btn", "bg-light", "mb-3", "p-3", "rounded-0", "d-flex", "position-relative", 3, "routerLink"], [1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3", "d-sm-inline", "d-none"], ["aria-hidden", "true", 1, "ri-compass-3-line"], [1, "orientation-btn-label", "my-auto", "text-start"], [1, "small", "text-muted-dark"], [1, "ri-2x", "text-muted", "ms-auto", "me-3", "end-0"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [1, "mt-5", "mb-4", "text-muted"], ["queryParamsHandling", "preserve", 1, "text-muted", "text-decoration-none", "border-bottom", "border-muted", "pb-1", "m-2", 3, "routerLink"], ["aria-hidden", "true", 1, "ri-skip-forward-line"], [1, "h5", "text-primary"], [1, "h2", "text-center", "fw-bold", "mb-4"], [1, "my-5"], ["queryParamsHandling", "preserve", 1, "btn", "btn-primary", "m-2", 3, "routerLink"], ["aria-hidden", "true", 1, "ri-arrow-left-s-line"], [1, "btn", "btn-secondary", "m-2", 3, "routerLink", "click"]],
                template: function (t, i) {
                    if (1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "R\xe9sultat"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.TgZ(6, "div", 3)(7, "div", 4), e.YNc(8, Ut, 1, 1, "img", 5), e.YNc(9, Lt, 1, 1, "ng-template", null, 6, e.W1O), e.YNc(11, Nt, 33, 6, "ng-container", 7), e.YNc(12, Et, 11, 4, "ng-template", null, 8, e.W1O), e.qZA()()), 2 & t) {
                        const o = e.MAs(10), a = e.MAs(13);
                        e.xp6(8), e.Q6J("ngIf", i.brandConfiguration.logo)("ngIfElse", o), e.xp6(3), e.Q6J("ngIf", !i.hasActiveFilter)("ngIfElse", a)
                    }
                },
                dependencies: [m.O5, c.rH, k.a],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        var V = l(7579), Jt = l(9300), St = l(8372), Dt = l(1884), z = l(3900), Ht = l(9646), Qt = l(4482),
            Bt = l(5797), Yt = l(8189), R = l(3269), $t = l(2076);
        var I = l(4497), Vt = l(6286), Rt = l(177);

        function Kt(n, r) {
            1 & n && (e.TgZ(0, "div"), e._UZ(1, "span", 22), e.TgZ(2, "span", 6), e._uU(3, "Chargement..."), e.qZA()())
        }

        function Wt(n, r) {
            1 & n && (e.TgZ(0, "span"), e._UZ(1, "i", 23), e._uU(2, " Me g\xe9olocaliser "), e.qZA())
        }

        function Xt(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "div", 24)(1, "div", 25)(2, "span", 26)(3, "i")(4, "span", 27), e._uU(5, "Distance minimale :"), e.qZA(), e._uU(6, " 5 "), e.TgZ(7, "span", 27), e._uU(8, "km"), e.qZA()()(), e._UZ(9, "input", 28), e.TgZ(10, "span", 29)(11, "i")(12, "span", 27), e._uU(13, "Distance maximale :"), e.qZA(), e._uU(14, " 100 "), e.TgZ(15, "span", 27), e._uU(16, "km"), e.qZA()()(), e.TgZ(17, "div", 30)(18, "div", 31)(19, "label", 32), e._uU(20, " Rayon : "), e.TgZ(21, "b", 6), e._uU(22), e.qZA()(), e.TgZ(23, "button", 33), e.NdJ("click", function (o) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(33);
                    return e.KtG(a.control.toggle(o))
                }), e.TgZ(24, "span", 27), e._uU(25, "Info"), e.qZA(), e._UZ(26, "i", 34), e.qZA()()()()()
            }
            if (2 & n) {
                const t = e.oxw();
                let i, o, a;
                e.xp6(2), e.Q6J("ngClass", (null == (i = t.orientationLayout.filterForm.get("distance")) ? null : i.value) / 1e3 == 5 ? "bg-primary text-white" : "bg-white"), e.xp6(8), e.Q6J("ngClass", (null == (o = t.orientationLayout.filterForm.get("distance")) ? null : o.value) / 1e3 == 100 ? "bg-primary text-white" : "bg-white"), e.xp6(12), e.Oqu((null == (a = t.orientationLayout.filterForm.get("distance")) ? null : a.value) / 1e3 + " km")
            }
        }

        const en = function () {
            return []
        }, tn = function () {
            return ["..", "accessibilite"]
        }, on = function () {
            return {
                titre: "Rayon Maximum",
                description: "Vous pouvez modifier le rayon de votre recherche gr\xe2ce au petit cercle d\xe9pla\xe7able sous le champ adresse. Plus votre rayon sera petit, plus l\u2019outil vous proposera des lieux d'inclusion num\xe9rique proches du lieu renseign\xe9"
            }
        };
        let K = (() => {
            class n {
                constructor(t, i, o, a) {
                    this._addressPresenter = t, this._route = i, this.orientationLayout = o, this.setTitle = a, this._searchTerm$ = new V.x, this.addressesFound$ = this._searchTerm$.pipe((0, x.U)(s => s.trim()), (0, Jt.h)(s => s.length >= 3), (0, St.b)(300), (0, Dt.x)(), (0, z.w)(s => this._addressPresenter.search$(s))), this.addressNotFound$ = (0, Ht.of)(!1), this._localisation$ = new b.X(((n, r) => null == n || null == r ? Vt.nL : (0, g.tf)({
                        latitude: +n,
                        longitude: +r
                    }))(this._route.snapshot.queryParams.latitude, this._route.snapshot.queryParams.longitude)), this._geoLocation$ = new V.x, this._loadingState$ = new b.X(!1), this.loadingState$ = this._loadingState$.pipe(function jt(...n) {
                        return function Gt(...n) {
                            const r = (0, R.yG)(n), t = (0, R._6)(n, 1 / 0);
                            return n = (0, Bt.k)(n), (0, Qt.e)((i, o) => {
                                (0, Yt.J)(t)((0, $t.D)([i, ...n], r)).subscribe(o)
                            })
                        }(...n)
                    }(this._geoLocation$.pipe((0, z.w)(s => this._addressPresenter.reverse$(s)), (0, x.U)(s => {
                        var p;
                        return null === (p = this.orientationLayout.filterForm.get("address")) || void 0 === p || p.setValue(s[0].label), !1
                    })))), a(["Localisation", "Orientation"])
                }

                onSelectAddress(t) {
                    var i, o, a, s;
                    null === (i = this.orientationLayout.filterForm.get("address")) || void 0 === i || i.setValue(t.label), null === (o = this.orientationLayout.filterForm.get("latitude")) || void 0 === o || o.setValue(t.localisation.latitude), null === (a = this.orientationLayout.filterForm.get("longitude")) || void 0 === a || a.setValue(t.localisation.longitude), null === (s = this.orientationLayout.filterForm.get("distance")) || void 0 === s || s.setValue(3e4), this._localisation$.next(t.localisation)
                }

                onResetAddress() {
                    var t, i, o, a;
                    null === (t = this.orientationLayout.filterForm.get("address")) || void 0 === t || t.reset(), null === (i = this.orientationLayout.filterForm.get("latitude")) || void 0 === i || i.reset(), null === (o = this.orientationLayout.filterForm.get("longitude")) || void 0 === o || o.reset(), null === (a = this.orientationLayout.filterForm.get("distance")) || void 0 === a || a.reset()
                }

                onGeoLocate() {
                    this._loadingState$.next(!0), window.navigator.geolocation.getCurrentPosition(t => {
                        var i, o, a, s;
                        null === (i = this.orientationLayout.filterForm.get("latitude")) || void 0 === i || i.setValue(t.coords.latitude), null === (o = this.orientationLayout.filterForm.get("longitude")) || void 0 === o || o.setValue(t.coords.longitude), null === (a = this.orientationLayout.filterForm.get("distance")) || void 0 === a || a.setValue(3e4), null === (s = this.orientationLayout.filterForm.get("address")) || void 0 === s || s.setValue(null), this._geoLocation$.next((0, g.tf)({
                            latitude: t.coords.latitude,
                            longitude: t.coords.longitude
                        })), this._localisation$.next((0, g.tf)({
                            latitude: t.coords.latitude,
                            longitude: t.coords.longitude
                        }))
                    })
                }

                onSearchAddress(t) {
                    this._searchTerm$.next(t)
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(I.kV), e.Y36(c.gz), e.Y36(T), e.Y36(_.K3))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                features: [e._Bn([{deps: [I.PA], provide: I.kV, useClass: I.kV}])],
                decls: 34,
                vars: 21,
                consts: [["fragment", "content"], ["fragment", "results"], ["fragment", "footer"], [1, "h-100", "d-flex", "pt-5"], [1, "w-100", "my-auto"], [1, "h2", "text-center", "fw-bold", "mt-sm-5", "mt-3"], [1, "text-primary"], [1, "text-center", "fw-bold", "mb-sm-5", "mb-4", "text-muted"], [1, "bg-light", "py-5", 3, "formGroup"], [1, "row", "gx-0", "justify-content-center"], [1, "col-md-9", "col-11"], [1, "row", "g-4"], [1, "col-sm"], [3, "displayReset", "suggestions", "isNotFound", "defaultValue", "selected", "resetSearch", "search"], [1, "btn", "btn-secondary", "text-nowrap", "col-auto", "mx-auto", 3, "click"], [4, "ngIf"], ["class", "row justify-content-center", 4, "ngIf"], [1, "text-center", "mt-4"], ["queryParamsHandling", "preserve", 1, "btn", "btn-primary", "mx-3", 3, "routerLink"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [3, "orientationInformation"], ["informationOrientationModal", ""], ["role", "status", "aria-hidden", "true", 1, "spinner-border", "spinner-border-sm", "text-primary", "me-1"], ["aria-hidden", "true", 1, "ri-map-pin-2-line"], [1, "row", "justify-content-center"], [1, "col-9", "mt-5", "position-relative"], [1, "pe-none", "position-absolute", "translate-middle", "rounded-circle", "text-center", "square-range-thumb", 2, "left", "24px", "top", "16px", 3, "ngClass"], [1, "visually-hidden"], ["type", "range", "id", "distance-range", "name", "distance", "min", "5000", "max", "100000", "step", "5000", "formControlName", "distance", 1, "form-range", "distance-range"], [1, "pe-none", "position-absolute", "translate-middle", "rounded-circle", "text-center", "square-range-thumb", 2, "top", "16px", "right", "0", 3, "ngClass"], [1, "d-flex", "mt-4"], [1, "mx-auto", "d-flex", "align-items-center"], ["for", "distance-range", 1, "bg-white", "py-1", "px-5", "border-bottom", "border-2", "rounded-top"], [1, "btn", "btn-link", "text-decoration-none", "p-0", "border-0", "ms-2", 3, "click"], ["aria-hidden", "true", 1, "ri-information-line", "fw-normal", "text-muted", "ri-2x"]],
                template: function (t, i) {
                    if (1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "R\xe9sultat"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.TgZ(6, "div", 3)(7, "div", 4)(8, "h1", 5)(9, "span", 6), e._uU(10, "O\xf9"), e.qZA(), e._uU(11, " r\xe9sidez-vous \xa0? "), e.qZA(), e.TgZ(12, "p", 7), e._uU(13, " Renseignez votre adresse puis d\xe9finissez la distance maximale jusqu'\xe0 laquelle vous pouvez vous d\xe9placer "), e.qZA(), e.TgZ(14, "form", 8)(15, "div", 9)(16, "div", 10)(17, "div", 11)(18, "div", 12)(19, "app-search-field", 13), e.NdJ("selected", function (a) {
                        return i.onSelectAddress(a)
                    })("resetSearch", function () {
                        return i.onResetAddress()
                    })("search", function (a) {
                        return i.onSearchAddress(a)
                    }), e.ALo(20, "async"), e.ALo(21, "async"), e.qZA()(), e.TgZ(22, "button", 14), e.NdJ("click", function () {
                        return i.onGeoLocate()
                    }), e.YNc(23, Kt, 4, 0, "div", 15), e.ALo(24, "async"), e.YNc(25, Wt, 3, 0, "span", 15), e.ALo(26, "async"), e.qZA()()()(), e.YNc(27, Xt, 27, 3, "div", 16), e.qZA(), e.TgZ(28, "div", 17)(29, "a", 18), e._uU(30, " Valider "), e._UZ(31, "i", 19), e.qZA()()()(), e._UZ(32, "app-information-orientation-modal", 20, 21)), 2 & t) {
                        let o, a, s, p;
                        e.xp6(14), e.Q6J("formGroup", i.orientationLayout.filterForm), e.xp6(5), e.Q6J("displayReset", !0)("suggestions", null !== (o = e.lcZ(20, 10, i.addressesFound$)) && void 0 !== o ? o : e.DdM(18, en))("isNotFound", null !== (a = e.lcZ(21, 12, i.addressNotFound$)) && void 0 !== a && a)("defaultValue", null == (s = i.orientationLayout.filterForm.get("address")) ? null : s.value), e.xp6(4), e.Q6J("ngIf", e.lcZ(24, 14, i.loadingState$)), e.xp6(2), e.Q6J("ngIf", !1 === e.lcZ(26, 16, i.loadingState$)), e.xp6(2), e.Q6J("ngIf", (null == (p = i.orientationLayout.filterForm.get("latitude")) ? null : p.value) && (null == (p = i.orientationLayout.filterForm.get("longitude")) ? null : p.value)), e.xp6(2), e.Q6J("routerLink", e.DdM(19, tn)), e.xp6(3), e.Q6J("orientationInformation", e.DdM(20, on))
                    }
                },
                dependencies: [m.mk, m.O5, d._Y, d.Fj, d.eT, d.JJ, d.JL, d.sg, d.u, c.rH, Rt.r, k.a, P, m.Ov],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const sn = {
                participation: {
                    titre: "Participation",
                    description: "La participation est le tarif pouvant conditionner l'acc\xe8s \xe0 un lieu ou un service de m\xe9diation num\xe9rique. Si vous s\xe9lectionnez certaines de ces options, vous restreindrez votre recherche aux lieux demandant ces participations",
                    elements: ["Gratuit : acc\xe8s gratuit au lieu et \xe0 ses services", "Gratuit sous condition : acc\xe8s gratuit selon une situation familiale, convention avec un organisme social, etc.", "Payant : l\u2019acc\xe8s au lieu et/ou \xe0 ses services est payant", "Adh\xe9sion : l\u2019acc\xe8s au lieu et/ou \xe0 ses services n\xe9cessite d\u2019y adh\xe9rer", "Pass num\xe9rique : il est possible d\u2019utiliser un Pass num\xe9rique pour acc\xe9der au lieu"],
                    label: "D\xe9tails des diff\xe9rentes options"
                },
                "accueil-specifique": {
                    titre: "Accueil adapt\xe9",
                    description: 'Si vous s\xe9lectionnez certaines de ces options, vous restreindrez votre recherche aux lieux en capacit\xe9 d\'accueillir certains types de publics. Pour toute information concernant les d\xe9placements des personnes en situation de handicap, rendez-vous sur <a href="https://acceslibre.beta.gouv.fr/" target="_blank" rel="noopener noreferrer">Acc\xe8s libre</a>',
                    elements: ["Handicap psychique : trouble psychiatrique donnant lieu \xe0 des atteintes comportementales", "Handicap mental : d\xe9ficience limitant les activit\xe9s d\u2019une personne"],
                    label: "D\xe9tails de certaines options"
                }
            }, ln = [g.aw.Adhesion, g.aw.GratuitSousCondition, g.aw.AccepteLePassNumerique], W = n => ln.includes(n),
            cn = n => !W(n), X = n => n === g.aw.Gratuit, un = n => !X(n);
        var dn = l(9022);

        function mn(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "div", 20)(1, "input", 21), e.NdJ("change", function () {
                    const a = e.CHM(t).index, s = e.oxw();
                    return e.KtG(s.selectParticipation(a))
                }), e.qZA(), e.TgZ(2, "label", 22)(3, "b"), e._uU(4), e.qZA()()()
            }
            if (2 & n) {
                const t = r.$implicit, i = r.index;
                e.xp6(1), e.Q6J("value", t.value), e.uIk("id", "conditionFinancieresLabelChip" + i), e.xp6(1), e.uIk("for", "conditionFinancieresLabelChip" + i), e.xp6(2), e.Oqu(t.label)
            }
        }

        function _n(n, r) {
            if (1 & n && (e.TgZ(0, "div", 20), e._UZ(1, "input", 23), e.TgZ(2, "label", 22)(3, "b"), e._uU(4), e.qZA()()()), 2 & n) {
                const t = r.$implicit, i = r.index;
                e.xp6(1), e.Q6J("value", t.value), e.uIk("id", "accueilSpecifiqueLabelChip" + i), e.xp6(1), e.uIk("for", "accueilSpecifiqueLabelChip" + i), e.xp6(2), e.Oqu(t.label)
            }
        }

        const gn = function () {
            return ["..", "disponibilite"]
        };
        let ee = (() => {
            class n {
                constructor(t, i) {
                    this.orientationLayout = t, this.setTitle = i, this.selectedOrientationInformation = null, this.conditionAccesOptions = M, this.publicSpecifiqueAcceuilliOptions = Q, this.orientationInformations = sn, this.conditionAccessField = this.orientationLayout.filterForm.get("conditions_acces"), i(["Accessibilit\xe9", "Orientation"])
                }

                selectParticipation(t) {
                    var i;
                    null != (null === (i = this.conditionAccessField) || void 0 === i ? void 0 : i.value) && this.conditionAccessField.setValue(((n, r) => X(n) ? r.filter(cn) : W(n) ? r.filter(un) : r)(M[t].value, this.conditionAccessField.value))
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.Y36(T), e.Y36(_.K3))
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["ng-component"]],
                decls: 42,
                vars: 6,
                consts: [["fragment", "content"], ["fragment", "results"], ["fragment", "footer"], [1, "h-100", "d-flex", "pt-5"], [1, "w-100", "my-auto"], [1, "h2", "text-center", "fw-bold", "mt-sm-5", "mt-3"], [1, "text-primary"], [1, "text-center", "fw-bold", "mb-sm-5", "mb-4", "text-muted"], [3, "formGroup"], [1, "visually-hidden"], [1, "d-flex", "flex-row", "mb-3", "mt-4"], ["aria-hidden", "true", 1, "text-muted", "h6", "fw-bold", "mb-0", "w-auto", "text-uppercase"], ["type", "button", 1, "btn", "btn-link", "link-muted-dark", "p-0", "ms-auto", "fst-italic", 3, "click"], [1, "bg-light", "px-3", "py-2"], ["class", "form-check form-check-inline form-chip my-2", 4, "ngFor", "ngForOf"], [1, "text-center", "mt-4"], ["queryParamsHandling", "preserve", 1, "btn", "btn-primary", "mx-3", 3, "routerLink"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line"], [3, "orientationInformation"], ["informationOrientationModal", ""], [1, "form-check", "form-check-inline", "form-chip", "my-2"], ["type", "checkbox", "name", "conditions_acces", "appCheckboxArray", "", "formControlName", "conditions_acces", 1, "form-check-input", 3, "value", "change"], [1, "form-check-label", "bg-white"], ["type", "checkbox", "name", "publics_accueillis", "appCheckboxArray", "", "formControlName", "publics_accueillis", 1, "form-check-input", 3, "value"]],
                template: function (t, i) {
                    if (1 & t) {
                        const o = e.EpF();
                        e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "R\xe9sultat"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.TgZ(6, "div", 3)(7, "div", 4)(8, "h1", 5), e._uU(9, " Quel "), e.TgZ(10, "span", 6), e._uU(11, "type d'accompagnement"), e.qZA(), e._uU(12, " recherchez-vous\xa0? "), e.qZA(), e.TgZ(13, "p", 7), e._uU(14, " Affinez votre recherche en s\xe9lectionnant des crit\xe8res sp\xe9cifiques d'accompagnement "), e.qZA(), e.TgZ(15, "form", 8)(16, "fieldset")(17, "legend", 9), e._uU(18, "Participation"), e.qZA(), e.TgZ(19, "div", 10)(20, "span", 11), e._uU(21, "Participation"), e.qZA(), e.TgZ(22, "button", 12), e.NdJ("click", function (s) {
                            e.CHM(o);
                            const p = e.MAs(41);
                            return i.selectedOrientationInformation = i.orientationInformations.participation, e.KtG(p.control.toggle(s))
                        }), e._uU(23, " plus d'infos "), e.qZA()(), e.TgZ(24, "div", 13), e.YNc(25, mn, 5, 4, "div", 14), e.qZA()(), e.TgZ(26, "fieldset")(27, "legend", 9), e._uU(28, "Accueil adapt\xe9"), e.qZA(), e.TgZ(29, "div", 10)(30, "span", 11), e._uU(31, "Accueil adapt\xe9"), e.qZA(), e.TgZ(32, "button", 12), e.NdJ("click", function (s) {
                            e.CHM(o);
                            const p = e.MAs(41);
                            return i.selectedOrientationInformation = i.orientationInformations["accueil-specifique"], e.KtG(p.control.toggle(s))
                        }), e._uU(33, " plus d'infos "), e.qZA()(), e.TgZ(34, "div", 13), e.YNc(35, _n, 5, 4, "div", 14), e.qZA()()(), e.TgZ(36, "div", 15)(37, "a", 16), e._uU(38, " Valider "), e._UZ(39, "i", 17), e.qZA()()()(), e._UZ(40, "app-information-orientation-modal", 18, 19)
                    }
                    2 & t && (e.xp6(15), e.Q6J("formGroup", i.orientationLayout.filterForm), e.xp6(10), e.Q6J("ngForOf", i.conditionAccesOptions), e.xp6(10), e.Q6J("ngForOf", i.publicSpecifiqueAcceuilliOptions), e.xp6(2), e.Q6J("routerLink", e.DdM(5, gn)), e.xp6(3), e.Q6J("orientationInformation", i.selectedOrientationInformation))
                },
                dependencies: [m.sg, d._Y, d.Wl, d.JJ, d.JL, d.sg, d.u, c.rH, dn.A, k.a, P],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();
        const hn = JSON.parse('[{"label":"\xcatre aid\xe9(e) ponctuellement pour r\xe9aliser mes d\xe9marches en ligne","description":"Demande CAF, CPAM, P\xf4le emploi\u2026","icon":"ri-user-line","value":"R\xe9aliser des d\xe9marches administratives avec un accompagnement"},{"label":"\xcatre form\xe9(e) pour r\xe9aliser mes d\xe9marches en ligne","description":"Ateliers collectifs de prise en main des sites et applications\u2026","icon":"ri-user-star-line","value":"Devenir autonome dans les d\xe9marches administratives"},{"label":"Cr\xe9er et d\xe9velopper son entreprise","description":"Immatriculation, modification, cessation d\'entreprise\u2026","icon":"ri-slideshow-line","value":"Cr\xe9er et d\xe9velopper mon entreprise"},{"label":"Etre aid\xe9(e) dans ses d\xe9marches de sant\xe9","description":"Mon espace sant\xe9, Ameli\u2026","icon":"ri-stethoscope-line","value":"Accompagner les d\xe9marches de sant\xe9"},{"label":"Favoriser son insertion professionnelle","description":"CV, recherche d\u2019emploi ou de formation\u2026","icon":"ri-contacts-line","value":"Favoriser mon insertion professionnelle"}]'),
            xn = JSON.parse('[{"label":"Prendre en main un smartphone ou une tablette","description":"Utilisation du tactile, installation d\u2019applications\u2026","icon":"ri-smartphone-line","value":"Prendre en main un smartphone ou une tablette"},{"label":"Prendre en main un ordinateur","description":"Utilisation du clavier, de la souris\u2026","icon":"ri-mouse-line","value":"Prendre en main un ordinateur"},{"label":"Utiliser le num\xe9rique au quotidien","description":"Mails, r\xe9seaux sociaux, achats et prise de rdv en ligne\u2026","icon":"ri-calendar-check-line","value":"Utiliser le num\xe9rique au quotidien"}]'),
            vn = JSON.parse('[{"label":"Approfondir sa culture num\xe9rique","description":"S\xe9curit\xe9, fake news, gestion des donn\xe9es\u2026","icon":"ri-image-2-line","value":"Approfondir ma culture num\xe9rique"},{"label":"Promouvoir la citoyennet\xe9 num\xe9rique","description":"Aider \xe0 la navigation dans nos environnements num\xe9riques de mani\xe8re s\xe9curitaire et responsable","icon":"ri-medal-line","value":"Promouvoir la citoyennet\xe9 num\xe9rique"},{"label":"Cr\xe9er avec le num\xe9rique","description":"Montage photo, vid\xe9o, fablab\u2026","icon":"ri-pen-nib-line","value":"Cr\xe9er avec le num\xe9rique"},{"label":"Soutenir la parentalit\xe9 et l\u2019\xe9ducation avec le num\xe9rique","description":"\xcatre parent \xe0 l\u2019\xe8re num\xe9rique, utiliser des applications \xe9ducatives, scolaires\u2026","icon":"ri-parent-line","value":"Soutenir la parentalit\xe9 et l\'\xe9ducation avec le num\xe9rique"}]'),
            bn = JSON.parse('[{"label":"Acc\xe9der \xe0 une connexion internet","description":"Wifi, clef 4G\u2026","icon":"ri-wifi-line","value":"Acc\xe9der \xe0 une connexion internet"},{"label":"Acc\xe9der \xe0 du mat\xe9riel num\xe9rique en libre service","description":"Ordinateur, imprimante, scanner\u2026","icon":"ri-settings-5-line","value":"Acc\xe9der \xe0 du mat\xe9riel"},{"label":"Acheter du mat\xe9riel num\xe9rique \xe0 tarif solidaire","description":"Ordinateur, smartphone, cl\xe9 4G, forfait internet\u2026","icon":"ri-shopping-cart-line","value":"S\'\xe9quiper en mat\xe9riel informatique"}]'),
            Zn = {
                apprentissage: {
                    titre: "Apprentissages de base",
                    description: "Les apprentissages de bases sont souvent dispens\xe9s / propos\xe9s sous formes d'ateliers collectifs et destin\xe9s aux personnes souhaitant s'initier \xe0 l'utilisation d'un appareil num\xe9rique.",
                    elements: ["Prendre en main un smartphone ou une tablette", "Prendre en main un ordinateur", "Utiliser le num\xe9rique au quotidien"],
                    label: "Liste des apprentissages de base"
                },
                [g.t6.PrendreEnMainUnSmartphoneOuUneTablette]: {
                    titre: "Prendre en main un smartphone ou une tablette",
                    description: "Un accompagnement collectif ou individuel pour initier les usagers \xe0 la prise en main de smartphones ou de tablettes.",
                    elements: ["Apprendre \xe0 me servir d'un \xe9cran tactile", "Utiliser mon smartphone pour la premi\xe8re fois", "Configurer mon smartphone", "Conna\xeetre les outils de base pr\xe9sents sur mon smartphone"],
                    label: "Exemples"
                },
                [g.t6.PrendreEnMainUnOrdinateur]: {
                    titre: "Prendre en main un ordinateur",
                    description: "Un accompagnement collectif ou individuel pour initier les usagers \xe0 la prise en main d'un ordinateur fixe ou portable.",
                    elements: ["Apprendre \xe0 me servir d'un clavier et d'une souris", "Utiliser mon ordinateur pour la premi\xe8re fois", "Configurer mon ordinateur", "Conna\xeetre les outils de base pr\xe9sents sur mon ordinateur"],
                    label: "Exemples"
                },
                [g.t6.UtiliserLeNumerique]: {
                    titre: "Utiliser le num\xe9rique au quotidien",
                    description: "Faire d\xe9couvrir aux usagers les fonctionnalit\xe9s propres aux appareils num\xe9riques et les opportunit\xe9s de la navigation web.",
                    elements: ["Utiliser des p\xe9riph\xe9riques", "Utiliser les outils de Google", "Utiliser un tableur, un traitement de texte, etc."],
                    label: "Exemples"
                },
                d\u00e9marches: {
                    titre: "Aide aux d\xe9marches",
                    description: "Un accompagnement individuel pour aider les usagers \xe0  r\xe9aliser leurs d\xe9marches du quotidien (administratives, juridiques, sociales, scolaires, etc.)",
                    elements: ["\xcatre aid\xe9(e) ponctuellement pour r\xe9aliser mes d\xe9marches en ligne", "\xcatre form\xe9(e) pour r\xe9aliser mes d\xe9marches en ligne", "Cr\xe9er et d\xe9velopper son entreprise", "Etre aid\xe9(e) dans ses d\xe9marches de sant\xe9", "Favoriser son insertion professionnelle"],
                    label: "Liste des apprentissages de base"
                },
                [g.t6.RealiserDesDemarchesAdministratives]: {
                    titre: "\xcatre aid\xe9(e) ponctuellement pour r\xe9aliser mes d\xe9marches en ligne",
                    description: "Pour certaines d\xe9marches, des professionnels sont disponibles pour aider les usagers \xe0 r\xe9aliser certaines d\xe9marches en ligne, voire \xe0 les faire \xe0 leur place.",
                    elements: ["CAF", "CPAM", "P\xf4le emploi", "Imp\xf4ts", "Juridique"],
                    label: "Exemples"
                },
                [g.t6.DevenirAutonomeDansLesDemarchesAdministratives]: {
                    titre: "\xcatre form\xe9(e) pour r\xe9aliser mes d\xe9marches en ligne",
                    description: "Certains lieux proposent des ateliers permettant aux usagers d\u2019apprendre \xe0 r\xe9aliser des d\xe9marches administratives en ligne en toute autonomie.",
                    elements: ["CAF", "CPAM", "Pole emploi", "Imp\xf4ts", "Juridique"],
                    label: "Exemples"
                },
                [g.t6.CreerEtDevelopperMonEntreprise]: {
                    titre: "Cr\xe9er et d\xe9velopper son entreprise",
                    description: "Certains lieux sp\xe9cialis\xe9s pour accompagner les usagers dans leurs d\xe9marches de cr\xe9ation d'entreprise.",
                    elements: ["Cr\xe9er mon auto-entreprise", "Conna\xeetre les sites internet permettant de g\xe9rer mon entreprise", "Fermer mon entreprise"],
                    label: "Exemples"
                },
                [g.t6.AccompagnerLesDemarchesDeSante]: {
                    titre: "Etre aid\xe9(e) dans ses d\xe9marches de sant\xe9",
                    description: "Vos d\xe9marches de sant\xe9 son nombreuses, vous pouvez trouver certains lieux adapt\xe9s pour vous accompagner dans celles-ci.",
                    elements: ["Utiliser ameli.fr", "Trouver un m\xe9decin traitant", "Trouver un rendez-vous chez une sp\xe9cialiste", "Apprendre \xe0 utiliser Doctolib ou Qare", "Dossier Affection de longue dur\xe9e", "Arr\xeat maladie - accident de travail - RQTH"],
                    label: "Exemples"
                },
                [g.t6.FavoriserMonInsertionProfessionnelle]: {
                    titre: "Favoriser son insertion professionnelle",
                    description: "Des aidants professionnels disponibles pour accompagner les usagers dans leur parcours d'insertion professionnelle.",
                    elements: ["Utiliser le site de P\xf4le emploi", "Comment faire un CV ?", "Utiliser les outils de recherche d'emploi", "Utiliser Linkedin", "Postuler en ligne", "Formation et reconversion professionnelle", "CPF : g\xe9rer son compte et trouver sa formation"],
                    label: "Exemples"
                },
                "culture-num\xe9rique": {
                    titre: "Culture num\xe9rique",
                    description: "Permettre aux utilisateurs confirm\xe9s d\u2019approfondir leur culture num\xe9rique ou de ma\xeetriser des techniques num\xe9riques sp\xe9cifiques.",
                    elements: ["Approfondir sa culture num\xe9rique", "Promouvoir la citoyennet\xe9 num\xe9rique", "Cr\xe9er avec le num\xe9rique", "Soutenir la parentalit\xe9 et l'\xe9ducation avec le num\xe9rique"],
                    label: "Liste des apprentissages de base"
                },
                [g.t6.ApprofondirMaCultureNumerique]: {
                    titre: "Approfondir sa culture num\xe9rique",
                    description: "Certains lieux proposent des ateliers de perfectionnement ou des formations avanc\xe9es sur des th\xe9matiques sp\xe9cifiques.",
                    elements: ["Utiliser mon mat\xe9riel de mani\xe8re s\xe9curis\xe9e", "Rep\xe9rer les fake news", "Comment g\xe9rer mes donn\xe9es", "Comprendre et g\xe9rer ses r\xe9seaux sociaux"],
                    label: "Exemples"
                },
                [g.t6.PromouvoirLaCitoyenneteNumerique]: {
                    titre: "Promouvoir la citoyennet\xe9 num\xe9rique",
                    description: "Certains lieux aident les usagers \xe0 utiliser leurs outils num\xe9riques de mani\xe8re saine, responsable et s\xe9curis\xe9e.",
                    elements: ["Les droits et les interdits sur internet", "Naviguer de mani\xe8re responsable", "Les comportements \xe0 risque"],
                    label: "Exemples"
                },
                [g.t6.CreerAvecLeNumerique]: {
                    titre: "Cr\xe9er avec le num\xe9rique",
                    description: "Certains lieux accompagnent les usagers \xe0 la r\xe9alisation de leurs projets num\xe9riques et leurs donnent acc\xe8s \xe0 des outils de cr\xe9ation sp\xe9cifiques.",
                    elements: ["Cr\xe9er un site vitrine ou marchand", "Faire de la retouche photo", "Faire du montage vid\xe9o", "Fablabs et imprimantes 3D"],
                    label: "Exemples"
                },
                [g.t6.SoutenirLaParentalite]: {
                    titre: "Soutenir la parentalit\xe9 et l'\xe9ducation num\xe9rique",
                    description: "Certains lieux conseillent les parents et leurs enfants sur les outils et techniques pour utiliser le num\xe9rique en toute s\xe9curit\xe9.",
                    elements: ["Les dangers pour mon enfant", "Le harc\xe8lement sur les r\xe9seaux sociaux", "ParcourSup", "Jeux en ligne : jeux vid\xe9o, paris sportifs, etc.", "Sites et logiciels \xe9ducatifs"],
                    label: "Exemples"
                },
                mat\u00e9riel: {
                    titre: "\xc9quipement num\xe9rique",
                    description: "Certains lieux proposent du mat\xe9riel en acc\xe8s libre, en location ou \xe0 l'achat \xe0 des tarifs solidaires.",
                    elements: ["Acc\xe9der \xe0 une connexion internet", "Acc\xe9der \xe0 du mat\xe9riel num\xe9rique en libre service", "Acheter du mat\xe9riel num\xe9rique \xe0 tarif solidaire"],
                    label: "Liste des apprentissages de base"
                },
                [g.t6.AccederAUneConnexionInternet]: {
                    titre: "Acc\xe9der \xe0 une connexion internet",
                    description: "Certains lieux proposent gratuitement ou sous conditions l'acc\xe8s \xe0 une connexion internet.",
                    elements: ["Acc\xe9der \xe0 du wifi en libre service", "Acc\xe9der \xe0 du wifi pour mes d\xe9marches administratives", "Obtenir une cl\xe9 4G"],
                    label: "Exemples"
                },
                [g.t6.AccederADuMateriel]: {
                    titre: "Acc\xe9der \xe0 du mat\xe9riel en libre service",
                    description: "Certains lieux proposent gratuitement ou sous conditions l'acc\xe8s \xe0 du mat\xe9riel num\xe9rique en libre service.",
                    elements: ["Imprimer gratuitement ou \xe0 bas prix", "Acc\xe9der \xe0 un ordinateur"],
                    label: "Exemples"
                },
                [g.t6.EquiperEnMaterielInformatique]: {
                    titre: "Acheter ou louer du mat\xe9riel \xe0 tarif solidaire",
                    description: "Certains lieux proposent en location ou \xe0 l'achat du mat\xe9riel  \xe0 tarif solidaire.",
                    elements: ["Don de mat\xe9riel", "Louer/se faire pr\xeater", "Acheter ou louer \xe0 bas prix", "Avoir un ordinateur, une imprimante \xe0 la maison, etc."],
                    label: "Exemples"
                }
            };

        function yn(n, r) {
            1 & n && (e.TgZ(0, "span", 13)(1, "span", 11), e._uU(2, "Service s\xe9lectionn\xe9"), e.qZA(), e._UZ(3, "i", 14), e.qZA())
        }

        const Cn = function (n) {
            return {service: n}
        };

        function Tn(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "a", 1), e.NdJ("click", function () {
                    const a = e.CHM(t).$implicit, s = e.oxw();
                    return e.KtG(s.selectServiceValue.emit(a.value))
                }), e.YNc(1, yn, 4, 0, "span", 2), e.TgZ(2, "span", 3), e._UZ(3, "i", 4), e.qZA(), e.TgZ(4, "span", 5)(5, "span", 6), e._uU(6), e.qZA(), e._UZ(7, "br"), e.TgZ(8, "i", 7), e._uU(9), e.qZA()(), e.TgZ(10, "span", 8), e._UZ(11, "i", 9), e.TgZ(12, "button", 10), e.NdJ("click", function (o) {
                    const s = e.CHM(t).$implicit, p = e.oxw();
                    return p.displayInformations.emit(s.value), p.displayInformationsInvokingContext.emit(o), o.stopPropagation(), e.KtG(o.preventDefault())
                }), e.TgZ(13, "span", 11), e._uU(14, "Info"), e.qZA(), e._UZ(15, "i", 12), e.qZA()()()
            }
            if (2 & n) {
                const t = r.$implicit, i = e.oxw();
                e.Q6J("queryParams", e.VKq(5, Cn, t.value)), e.xp6(1), e.Q6J("ngIf", t.value === i.selectedServiceItem), e.xp6(2), e.Q6J("ngClass", t.icon), e.xp6(3), e.Oqu(t.label), e.xp6(3), e.Oqu(t.description)
            }
        }

        let An = (() => {
            class n {
                constructor() {
                    this.selectServiceValue = new e.vpe, this.displayInformations = new e.vpe, this.displayInformationsInvokingContext = new e.vpe
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275cmp = e.Xpm({
                type: n,
                selectors: [["app-besoin-link"]],
                inputs: {serviceItems: "serviceItems", selectedServiceItem: "selectedServiceItem"},
                outputs: {
                    selectServiceValue: "selectServiceValue",
                    displayInformations: "displayInformations",
                    displayInformationsInvokingContext: "displayInformationsInvokingContext"
                },
                decls: 1,
                vars: 1,
                consts: [["routerLink", "../localisation", "queryParamsHandling", "merge", "class", "btn orientation-btn bg-light mb-3 px-lg-3 px-2 py-0 rounded-0 d-flex position-relative", 3, "queryParams", "click", 4, "ngFor", "ngForOf"], ["routerLink", "../localisation", "queryParamsHandling", "merge", 1, "btn", "orientation-btn", "bg-light", "mb-3", "px-lg-3", "px-2", "py-0", "rounded-0", "d-flex", "position-relative", 3, "queryParams", "click"], ["class", "position-absolute top-0 start-0 z-index-over-base ms-lg-4 mt-sm-4 ms-sm-3 mt-1 ms-1 translate-middle square d-flex text-center small bg-secondary text-primary border border-primary rounded-circle", 4, "ngIf"], [1, "ri-circled", "bg-primary", "text-light", "fw-normal", "me-3", "mt-3", "d-sm-block", "d-none"], ["aria-hidden", "true", 3, "ngClass"], [1, "text-start", "py-lg-3", "py-2"], [1, "orientation-btn-label"], [1, "small", "text-muted-dark"], [1, "ms-auto", "d-flex", "flex-column"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line", "text-muted-dark", "ri-2x", "mb-auto"], [1, "btn", "btn-link", "p-0", "text-decoration-none", 3, "click"], [1, "visually-hidden"], ["aria-hidden", "true", 1, "ri-information-line", "fw-normal", "text-muted-dark", "ri-2x", "text-opacity-50"], [1, "position-absolute", "top-0", "start-0", "z-index-over-base", "ms-lg-4", "mt-sm-4", "ms-sm-3", "mt-1", "ms-1", "translate-middle", "square", "d-flex", "text-center", "small", "bg-secondary", "text-primary", "border", "border-primary", "rounded-circle"], ["aria-hidden", "true", 1, "ri-check-line", "m-auto"]],
                template: function (t, i) {
                    1 & t && e.YNc(0, Tn, 16, 7, "a", 0), 2 & t && e.Q6J("ngForOf", i.serviceItems)
                },
                dependencies: [m.mk, m.sg, m.O5, c.rH],
                encapsulation: 2,
                changeDetection: 0
            }), n
        })();

        function kn(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.ynx(0), e.TgZ(1, "section", 16)(2, "div", 17)(3, "h2", 18), e._uU(4, "Apprentissage de base"), e.qZA(), e.TgZ(5, "button", 19), e.NdJ("click", function (o) {
                    e.CHM(t);
                    const a = e.oxw(), s = e.MAs(23);
                    return a.selectedOrientationInformation = a.orientationInformations.apprentissage, a.selectedOrientationInformationType = null, e.KtG(s.control.toggle(o))
                }), e._uU(6, " plus d'infos "), e.qZA()(), e.TgZ(7, "app-besoin-link", 20), e.NdJ("selectServiceValue", function (o) {
                    const s = e.CHM(t).ngIf;
                    return e.KtG(s.setValue(o))
                })("displayInformations", function (o) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.selectOrientationInformation(o))
                })("displayInformationsInvokingContext", function (o) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(23);
                    return e.KtG(a.control.toggle(o))
                }), e.qZA()(), e.TgZ(8, "section", 21)(9, "div", 17)(10, "h2", 18), e._uU(11, "D\xe9marches"), e.qZA(), e.TgZ(12, "button", 19), e.NdJ("click", function (o) {
                    e.CHM(t);
                    const a = e.oxw(), s = e.MAs(23);
                    return a.selectedOrientationInformation = a.orientationInformations.d\u00e9marches, a.selectedOrientationInformationType = null, e.KtG(s.control.toggle(o))
                }), e._uU(13, " plus d'infos "), e.qZA()(), e.TgZ(14, "app-besoin-link", 20), e.NdJ("selectServiceValue", function (o) {
                    const s = e.CHM(t).ngIf;
                    return e.KtG(s.setValue(o))
                })("displayInformations", function (o) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.selectOrientationInformation(o))
                })("displayInformationsInvokingContext", function (o) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(23);
                    return e.KtG(a.control.toggle(o))
                }), e.qZA()(), e.TgZ(15, "section", 22)(16, "div", 17)(17, "h2", 18), e._uU(18, "Culture num\xe9rique"), e.qZA(), e.TgZ(19, "button", 19), e.NdJ("click", function (o) {
                    e.CHM(t);
                    const a = e.oxw(), s = e.MAs(23);
                    return a.selectedOrientationInformation = a.orientationInformations["culture-num\xe9rique"], a.selectedOrientationInformationType = null, e.KtG(s.control.toggle(o))
                }), e._uU(20, " plus d'infos "), e.qZA()(), e.TgZ(21, "app-besoin-link", 20), e.NdJ("selectServiceValue", function (o) {
                    const s = e.CHM(t).ngIf;
                    return e.KtG(s.setValue(o))
                })("displayInformations", function (o) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.selectOrientationInformation(o))
                })("displayInformationsInvokingContext", function (o) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(23);
                    return e.KtG(a.control.toggle(o))
                }), e.qZA()(), e.TgZ(22, "section", 23)(23, "div", 17)(24, "h2", 18), e._uU(25, "Manque de mat\xe9riel"), e.qZA(), e.TgZ(26, "button", 19), e.NdJ("click", function (o) {
                    e.CHM(t);
                    const a = e.oxw(), s = e.MAs(23);
                    return a.selectedOrientationInformation = a.orientationInformations.mat\u00e9riel, a.selectedOrientationInformationType = null, e.KtG(s.control.toggle(o))
                }), e._uU(27, " plus d'infos "), e.qZA()(), e.TgZ(28, "app-besoin-link", 20), e.NdJ("selectServiceValue", function (o) {
                    const s = e.CHM(t).ngIf;
                    return e.KtG(s.setValue(o))
                })("displayInformations", function (o) {
                    e.CHM(t);
                    const a = e.oxw();
                    return e.KtG(a.selectOrientationInformation(o))
                })("displayInformationsInvokingContext", function (o) {
                    e.CHM(t), e.oxw();
                    const a = e.MAs(23);
                    return e.KtG(a.control.toggle(o))
                }), e.qZA()(), e.BQk()
            }
            if (2 & n) {
                const t = r.ngIf, i = e.oxw();
                e.xp6(7), e.Q6J("serviceItems", i.apprentissageDeBaseOrientationItems)("selectedServiceItem", t.value), e.xp6(7), e.Q6J("serviceItems", i.demarchesOrientationItems)("selectedServiceItem", t.value), e.xp6(7), e.Q6J("serviceItems", i.cultureNumeriqueOrientationItems)("selectedServiceItem", t.value), e.xp6(7), e.Q6J("serviceItems", i.manqueDeMaterielOrientationItems)("selectedServiceItem", t.value)
            }
        }

        function qn(n, r) {
            if (1 & n) {
                const t = e.EpF();
                e.TgZ(0, "a", 24), e.NdJ("click", function () {
                    e.CHM(t);
                    const o = e.oxw(), a = e.MAs(23);
                    return null == o.serviceControl || o.serviceControl.setValue(o.selectedOrientationInformationType), e.KtG(a.control.close())
                }), e._uU(1, " Choisir cette option "), e._UZ(2, "i", 25), e.qZA()
            }
        }

        const ne = [{
            children: [{
                component: (() => {
                    class n {
                        constructor(t, i) {
                            this.orientationLayout = t, this.setTitle = i, this.orientationInformations = Zn, this.demarchesOrientationItems = hn, this.cultureNumeriqueOrientationItems = vn, this.apprentissageDeBaseOrientationItems = xn, this.manqueDeMaterielOrientationItems = bn, this.serviceControl = this.orientationLayout.filterForm.get("service"), this.selectedOrientationInformation = null, this.selectedOrientationInformationType = null, i(["Besoin", "Orientation"])
                        }

                        onFilterNotFound() {
                            document.location.href = `mailto:cartographie.sonum@anct.gouv.fr?subject=[Orientation] Je ne trouve pas mon besoin&body=${"Bonjour \u{1f44b},\n\nJe ne trouve pas mon besoin dans la liste de vos besoins sur le parcours d'orientation de la cartographie nationale.\nJ'aimerai pouvoir filtrer les lieux selon :\n\n\n\nNum\xe9riquement, \xe0 bient\xf4t !".replace(/\n/gu, "%0D%0A")}`
                        }

                        selectOrientationInformation(t) {
                            this.selectedOrientationInformationType = t, this.selectedOrientationInformation = this.orientationInformations[t]
                        }
                    }

                    return n.\u0275fac = function (t) {
                        return new (t || n)(e.Y36(T), e.Y36(_.K3))
                    }, n.\u0275cmp = e.Xpm({
                        type: n,
                        selectors: [["ng-component"]],
                        decls: 25,
                        vars: 3,
                        consts: [["fragment", "content"], ["fragment", "results"], ["fragment", "footer"], [1, "h-100", "d-flex", "pt-5"], [1, "w-100", "my-auto"], [1, "h2", "text-center", "fw-bold", "mt-sm-5", "mt-3"], [1, "text-primary"], [1, "text-center", "fw-bold", "mb-sm-5", "mb-4", "text-muted"], [4, "ngIf"], [1, "text-center", "mt-4"], [1, "text-muted", "mb-2"], [1, "btn", "btn-sm", "btn-secondary", "d-inline-block", "mb-2", 3, "click"], ["aria-hidden", "true", 1, "ri-mail-line", "me-2", "text-right"], [3, "orientationInformation"], ["informationOrientationModal", ""], ["routerLink", "../localisation", "queryParamsHandling", "preserve", "class", "btn btn-primary", 3, "click", 4, "ngIf"], ["aria-label", "Apprentissage de base"], [1, "d-flex", "flex-row", "mb-3", "mt-4"], [1, "text-muted", "h6", "fw-bold", "mb-0", "text-uppercase"], ["type", "button", 1, "btn", "btn-link", "link-muted-dark", "p-0", "ms-auto", "fst-italic", 3, "click"], [3, "serviceItems", "selectedServiceItem", "selectServiceValue", "displayInformations", "displayInformationsInvokingContext"], ["aria-label", "D\xe9marches"], ["aria-label", "Culture num\xe9rique"], ["aria-label", "Manque de mat\xe9riel"], ["routerLink", "../localisation", "queryParamsHandling", "preserve", 1, "btn", "btn-primary", 3, "click"], ["aria-hidden", "true", 1, "ri-arrow-right-s-line", "d-lg-inline-block", "d-none"]],
                        template: function (t, i) {
                            1 & t && (e.TgZ(0, "app-skip-link", 0), e._uU(1, "Contenu"), e.qZA(), e.TgZ(2, "app-skip-link", 1), e._uU(3, "R\xe9sultat"), e.qZA(), e.TgZ(4, "app-skip-link", 2), e._uU(5, "Pied de page"), e.qZA(), e.TgZ(6, "div", 3)(7, "div", 4)(8, "h1", 5), e._uU(9, " Quel est "), e.TgZ(10, "span", 6), e._uU(11, "votre besoin\xa0?"), e.qZA()(), e.TgZ(12, "p", 7), e._uU(13, "S\xe9lectionnez une th\xe9matique parmi la liste ci-dessous"), e.qZA(), e.YNc(14, kn, 29, 8, "ng-container", 8), e.TgZ(15, "div", 9)(16, "div", 10), e._uU(17, "Vous ne trouvez pas votre besoin ?"), e.qZA(), e.TgZ(18, "button", 11), e.NdJ("click", function () {
                                return i.onFilterNotFound()
                            }), e._UZ(19, "i", 12), e.TgZ(20, "b"), e._uU(21, "Contactez-nous !"), e.qZA()()()()(), e.TgZ(22, "app-information-orientation-modal", 13, 14), e.YNc(24, qn, 3, 0, "a", 15), e.qZA()), 2 & t && (e.xp6(14), e.Q6J("ngIf", i.serviceControl), e.xp6(8), e.Q6J("orientationInformation", i.selectedOrientationInformation), e.xp6(2), e.Q6J("ngIf", i.selectedOrientationInformationType))
                        },
                        dependencies: [m.O5, c.rH, k.a, An, P],
                        encapsulation: 2,
                        changeDetection: 0
                    }), n
                })(), path: "besoin", data: {animation: "BesoinPage"}
            }, {component: G, path: "disponibilite", data: {animation: "DisponibilitePage"}}, {
                component: K,
                path: "localisation",
                data: {animation: "LocalisationPage"}
            }, {component: ee, path: "accessibilite", data: {animation: "AccessibilitePage"}}, {
                component: j,
                path: "",
                data: {animation: "DemarrerPage"}
            }], component: T, path: ""
        }];
        let In = (() => {
            class n {
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275mod = e.oAB({type: n}), n.\u0275inj = e.cJS({imports: [c.Bz.forChild(ne), c.Bz]}), n
        })();
        var L = l(5532), On = l(5102);
        let ie = (() => {
            class n {
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275mod = e.oAB({type: n}), n.\u0275inj = e.cJS({imports: [m.ez, v.JF, d.UX, c.Bz, I.bO, On.b, L.fw, L.zk, L.ap]}), n
        })(), Fn = (() => {
            class n {
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275mod = e.oAB({type: n}), n.\u0275inj = e.cJS({imports: [ie, In]}), n
        })();
        var Un = l(2107), Pn = l(8746), Ln = l(3925);
        let wn = (() => {
            class n {
            }

            return n.\u0275fac = function (t) {
                return new (t || n)
            }, n.\u0275mod = e.oAB({type: n}), n.\u0275inj = e.cJS({imports: [c.Bz.forRoot(ne), c.Bz]}), n
        })();
        l(5864);
        let Mn = (() => {
            class n {
                constructor(t) {
                    this.injector = t, customElements.define("fr-mediation-numerique-orientation", (0, Un.iD)(We, {injector: t}))
                }

                ngDoBootstrap() {
                }
            }

            return n.\u0275fac = function (t) {
                return new (t || n)(e.LFG(e.zs3))
            }, n.\u0275mod = e.oAB({type: n}), n.\u0275inj = e.cJS({
                providers: [...Ln.P, ..._.it, {
                    provide: _.Pl,
                    useValue: _.F$
                }], imports: [Pn.PW, ie, wn, L.ap.forRoot()]
            }), n
        })()
    }
}]);
(() => {
    "use strict";
    var e, v = {}, b = {};

    function r(e) {
        var n = b[e];
        if (void 0 !== n) return n.exports;
        var t = b[e] = {exports: {}};
        return v[e].call(t.exports, t, t.exports, r), t.exports
    }

    r.m = v, e = [], r.O = (n, t, u, o) => {
        if (!t) {
            var a = 1 / 0;
            for (i = 0; i < e.length; i++) {
                for (var [t, u, o] = e[i], s = !0, f = 0; f < t.length; f++) (!1 & o || a >= o) && Object.keys(r.O).every(m => r.O[m](t[f])) ? t.splice(f--, 1) : (s = !1, o < a && (a = o));
                if (s) {
                    e.splice(i--, 1);
                    var d = u();
                    void 0 !== d && (n = d)
                }
            }
            return n
        }
        o = o || 0;
        for (var i = e.length; i > 0 && e[i - 1][2] > o; i--) e[i] = e[i - 1];
        e[i] = [t, u, o]
    }, r.n = e => {
        var n = e && e.__esModule ? () => e.default : () => e;
        return r.d(n, {a: n}), n
    }, r.d = (e, n) => {
        for (var t in n) r.o(n, t) && !r.o(e, t) && Object.defineProperty(e, t, {enumerable: !0, get: n[t]})
    }, r.f = {}, r.e = e => Promise.all(Object.keys(r.f).reduce((n, t) => (r.f[t](e, n), n), [])), r.u = e => e + ".js", r.miniCssF = e => {
    }, r.o = (e, n) => Object.prototype.hasOwnProperty.call(e, n), (() => {
        var e = {}, n = "mediation-numerique:";
        r.l = (t, u, o, i) => {
            if (e[t]) e[t].push(u); else {
                var a, s;
                if (void 0 !== o) for (var f = document.getElementsByTagName("script"), d = 0; d < f.length; d++) {
                    var l = f[d];
                    if (l.getAttribute("src") == t || l.getAttribute("data-webpack") == n + o) {
                        a = l;
                        break
                    }
                }
                a || (s = !0, (a = document.createElement("script")).type = "module", a.charset = "utf-8", a.timeout = 120, r.nc && a.setAttribute("nonce", r.nc), a.setAttribute("data-webpack", n + o), a.src = r.tu(t)), e[t] = [u];
                var c = (g, m) => {
                    a.onerror = a.onload = null, clearTimeout(p);
                    var _ = e[t];
                    if (delete e[t], a.parentNode && a.parentNode.removeChild(a), _ && _.forEach(h => h(m)), g) return g(m)
                }, p = setTimeout(c.bind(null, void 0, {type: "timeout", target: a}), 12e4);
                a.onerror = c.bind(null, a.onerror), a.onload = c.bind(null, a.onload), s && document.head.appendChild(a)
            }
        }
    })(), r.r = e => {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(e, "__esModule", {value: !0})
    }, (() => {
        var e;
        r.tt = () => (void 0 === e && (e = {createScriptURL: n => n}, typeof trustedTypes < "u" && trustedTypes.createPolicy && (e = trustedTypes.createPolicy("angular#bundler", e))), e)
    })(), r.tu = e => r.tt().createScriptURL(e), r.p = "", (() => {
        var e = {runtime: 0};
        r.f.j = (u, o) => {
            var i = r.o(e, u) ? e[u] : void 0;
            if (0 !== i) if (i) o.push(i[2]); else if ("runtime" != u) {
                var a = new Promise((l, c) => i = e[u] = [l, c]);
                o.push(i[2] = a);
                var s = r.p + r.u(u), f = new Error;
                r.l(s, l => {
                    if (r.o(e, u) && (0 !== (i = e[u]) && (e[u] = void 0), i)) {
                        var c = l && ("load" === l.type ? "missing" : l.type), p = l && l.target && l.target.src;
                        f.message = "Loading chunk " + u + " failed.\n(" + c + ": " + p + ")", f.name = "ChunkLoadError", f.type = c, f.request = p, i[1](f)
                    }
                }, "chunk-" + u, u)
            } else e[u] = 0
        }, r.O.j = u => 0 === e[u];
        var n = (u, o) => {
            var f, d, [i, a, s] = o, l = 0;
            if (i.some(p => 0 !== e[p])) {
                for (f in a) r.o(a, f) && (r.m[f] = a[f]);
                if (s) var c = s(r)
            }
            for (u && u(o); l < i.length; l++) r.o(e, d = i[l]) && e[d] && e[d][0](), e[d] = 0;
            return r.O(c)
        }, t = self.webpackChunkmediation_numerique = self.webpackChunkmediation_numerique || [];
        t.forEach(n.bind(null, 0)), t.push = n.bind(null, t.push.bind(t))
    })()
})();