{# templates/reset_password/reset_password.email.html.twig #}

{#
Astuce Twig : Pour une meilleure maintenabilité, vous devriez idéalement étendre
un template d'e-mail de base (ex: {% extends 'emails/base.html.twig' %})
pour gérer tout le HTML, le head et le footer.
Ici, je fournis un fichier autonome nettoyé.
#}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Réinitialisation de votre mot de passe</title>
    <style type="text/css">
        /* Styles de base pour l'e-mail */
        body { margin: 0; padding: 0; background-color: #F2F2F2; font-family: Arial, sans-serif; }
        a { color: #150878; text-decoration: none; }
        .content { background-color: #FFFFFF; padding: 20px; border-radius: 5px; }
        .button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 15px;
            background-color: #150878;
            color: #ffffff !important; /* Force le blanc */
            border-radius: 5px;
            font-weight: bold;
            text-decoration: none;
        }
    </style>
</head>
<body style="background-color:#F2F2F2;">

<div style="background-color:#F2F2F2; margin: 0 auto; padding: 20px 0;">

    {# Conteneur principal #}
    <table align="center" border="0" cellpadding="0" cellspacing="0" width="600" style="max-width:600px; background-color: #FFFFFF; border-radius: 5px;">

        {# En-tête (Logo) #}
        <tr>
            <td align="center" style="padding: 20px;">
                <img src="https://potinsnumeriques.fr/htmlboard/img/logopotins.png" alt="Logo" style="height: 100px; width: auto; max-width: 100px; border: 0;">
            </td>
        </tr>

        {# Corps du message #}
        <tr>
            <td style="padding: 20px 40px;">
                <h1 style="font-size: 24px; font-weight: 500; color: #000000;">Bonjour,</h1>

                <p style="font-size: 16px; line-height: 1.5; color: #000000;">
                    Vous avez demandé la réinitialisation du mot de passe pour l'adresse **{{ user.emailcanonical }}**.
                </p>

                {# Lien de Réinitialisation (CORRECTIF IMPORTANT) #}
                <p style="font-size: 16px; line-height: 1.5; color: #000000;">
                    Veuillez cliquer sur le bouton ci-dessous pour choisir un nouveau mot de passe :
                </p>

                <p align="center">
                    <a href="{{ url('app_reset_password', { token: resetToken.token }) }}"
                       class="button"
                       style="color:#ffffff !important;text-decoration:none;">
                        Réinitialiser mon mot de passe
                    </a>
                </p>

                {# Message d'expiration #}
                <p style="font-size: 14px; color: #9B9B9B; line-height: 1.5; margin-top: 20px;">
                    Ce lien expirera dans **{{ resetToken.expirationMessageKey|trans(resetToken.expirationMessageData, 'ResetPasswordBundle') }}**. Si vous n'avez pas demandé cette réinitialisation, veuillez ignorer cet e-mail.
                </p>

                <p style="font-size: 16px; line-height: 1.5; color: #000000; margin-top: 30px;">
                    L'équipe à votre service
                </p>

            </td>
        </tr>

        {# Pied de page #}
        <tr>
            <td align="center" style="padding: 10px 40px 20px 40px;">
                <p style="font-size: 11px; color: #9B9B9B;">
                    <a href="https://potinsnumeriques.fr/" style="color: #9B9B9B; text-decoration:none;">Made by Cnfs-marc</a>
                </p>
            </td>
        </tr>
    </table>

</div>
</body>
</html>
